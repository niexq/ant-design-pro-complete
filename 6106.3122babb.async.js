(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6106],{981:function(Zt,A,x){"use strict";var s=x(51070),d=x(32526),y=x(90452),p=x(59301),n=x(92691),a=x.n(n),u=x(24877),i=x(84893),r=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],o=p.forwardRef(function(c,h){var v=c.className,f=c.component,m=c.viewBox,b=c.spin,M=c.rotate,O=c.tabIndex,E=c.onClick,C=c.children,j=(0,y.Z)(c,r);(0,i.Kp)(Boolean(f||C),"Should have `component` prop or `children`."),(0,i.C3)();var B=p.useContext(u.Z),N=B.prefixCls,I=N===void 0?"anticon":N,F=a()(I,v),G=a()((0,d.Z)({},"".concat(I,"-spin"),!!b)),U=M?{msTransform:"rotate(".concat(M,"deg)"),transform:"rotate(".concat(M,"deg)")}:void 0,H=(0,s.Z)((0,s.Z)({},i.vD),{},{className:G,style:U,viewBox:m});m||delete H.viewBox;var Q=function(){return f?p.createElement(f,(0,s.Z)({},H),C):C?((0,i.Kp)(Boolean(m)||p.Children.count(C)===1&&p.isValidElement(C)&&p.Children.only(C).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),p.createElement("svg",(0,s.Z)((0,s.Z)({},H),{},{viewBox:m}),C)):null},at=O;return at===void 0&&E&&(at=-1),p.createElement("span",(0,s.Z)((0,s.Z)({role:"img"},j),{},{ref:h,tabIndex:at,onClick:E,className:F}),Q())});o.displayName="AntdIcon",A.Z=o},99165:function(Zt,A,x){"use strict";x.d(A,{Z:function(){return r}});var s=x(51070),d=x(90452),y=x(59301),p=x(981),n=["type","children"],a=new Set;function u(o){return Boolean(typeof o=="string"&&o.length&&!a.has(o))}function i(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=o[c];if(u(h)){var v=document.createElement("script");v.setAttribute("src",h),v.setAttribute("data-namespace",h),o.length>c+1&&(v.onload=function(){i(o,c+1)},v.onerror=function(){i(o,c+1)}),a.add(h),document.body.appendChild(v)}}function r(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=o.scriptUrl,h=o.extraCommonProps,v=h===void 0?{}:h;c&&typeof document!="undefined"&&typeof window!="undefined"&&typeof document.createElement=="function"&&(Array.isArray(c)?i(c.reverse()):i([c]));var f=y.forwardRef(function(m,b){var M=m.type,O=m.children,E=(0,d.Z)(m,n),C=null;return m.type&&(C=y.createElement("use",{xlinkHref:"#".concat(M)})),O&&(C=O),y.createElement(p.Z,(0,s.Z)((0,s.Z)((0,s.Z)({},v),E),{},{ref:b}),C)});return f.displayName="Iconfont",f}},59424:function(Zt,A,x){"use strict";x.d(A,{Z:function(){return y}});var s=x(78473);function d(p,n){for(;!Object.prototype.hasOwnProperty.call(p,n)&&(p=(0,s.Z)(p),p!==null););return p}function y(){return typeof Reflect!="undefined"&&Reflect.get?y=Reflect.get:y=function(n,a,u){var i=d(n,a);if(!!i){var r=Object.getOwnPropertyDescriptor(i,a);return r.get?r.get.call(arguments.length<3?n:u):r.value}},y.apply(this,arguments)}},66338:function(){},23638:function(){},49346:function(Zt){(function(A,x){Zt.exports=x()})(window,function(){return function(A){var x={};function s(d){if(x[d])return x[d].exports;var y=x[d]={i:d,l:!1,exports:{}};return A[d].call(y.exports,y,y.exports,s),y.l=!0,y.exports}return s.m=A,s.c=x,s.d=function(d,y,p){s.o(d,y)||Object.defineProperty(d,y,{enumerable:!0,get:p})},s.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},s.t=function(d,y){if(1&y&&(d=s(d)),8&y||4&y&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(s.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&y&&typeof d!="string")for(var n in d)s.d(p,n,function(a){return d[a]}.bind(null,n));return p},s.n=function(d){var y=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(y,"a",y),y},s.o=function(d,y){return Object.prototype.hasOwnProperty.call(d,y)},s.p="",s(s.s=820)}([,function(A,x,s){"use strict";var d=function(Ct,Ht,Xt){Ct.prototype=Ht.prototype=Xt,Xt.constructor=Ct};function y(Pt,Ct){var Ht=Object.create(Pt.prototype);for(var Xt in Ct)Ht[Xt]=Ct[Xt];return Ht}function p(){}var n="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3})$/,r=/^#([0-9a-f]{6})$/,o=new RegExp("^rgb\\("+[n,n,n]+"\\)$"),c=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),h=new RegExp("^rgba\\("+[n,n,n,a]+"\\)$"),v=new RegExp("^rgba\\("+[u,u,u,a]+"\\)$"),f=new RegExp("^hsl\\("+[a,u,u]+"\\)$"),m=new RegExp("^hsla\\("+[a,u,u,a]+"\\)$"),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function M(Pt){var Ct;return Pt=(Pt+"").trim().toLowerCase(),(Ct=i.exec(Pt))?new B((Ct=parseInt(Ct[1],16))>>8&15|Ct>>4&240,Ct>>4&15|240&Ct,(15&Ct)<<4|15&Ct,1):(Ct=r.exec(Pt))?O(parseInt(Ct[1],16)):(Ct=o.exec(Pt))?new B(Ct[1],Ct[2],Ct[3],1):(Ct=c.exec(Pt))?new B(255*Ct[1]/100,255*Ct[2]/100,255*Ct[3]/100,1):(Ct=h.exec(Pt))?E(Ct[1],Ct[2],Ct[3],Ct[4]):(Ct=v.exec(Pt))?E(255*Ct[1]/100,255*Ct[2]/100,255*Ct[3]/100,Ct[4]):(Ct=f.exec(Pt))?I(Ct[1],Ct[2]/100,Ct[3]/100,1):(Ct=m.exec(Pt))?I(Ct[1],Ct[2]/100,Ct[3]/100,Ct[4]):b.hasOwnProperty(Pt)?O(b[Pt]):Pt==="transparent"?new B(NaN,NaN,NaN,0):null}function O(Pt){return new B(Pt>>16&255,Pt>>8&255,255&Pt,1)}function E(Pt,Ct,Ht,Xt){return Xt<=0&&(Pt=Ct=Ht=NaN),new B(Pt,Ct,Ht,Xt)}function C(Pt){return Pt instanceof p||(Pt=M(Pt)),Pt?new B((Pt=Pt.rgb()).r,Pt.g,Pt.b,Pt.opacity):new B}function j(Pt,Ct,Ht,Xt){return arguments.length===1?C(Pt):new B(Pt,Ct,Ht,Xt==null?1:Xt)}function B(Pt,Ct,Ht,Xt){this.r=+Pt,this.g=+Ct,this.b=+Ht,this.opacity=+Xt}function N(Pt){return((Pt=Math.max(0,Math.min(255,Math.round(Pt)||0)))<16?"0":"")+Pt.toString(16)}function I(Pt,Ct,Ht,Xt){return Xt<=0?Pt=Ct=Ht=NaN:Ht<=0||Ht>=1?Pt=Ct=NaN:Ct<=0&&(Pt=NaN),new G(Pt,Ct,Ht,Xt)}function F(Pt,Ct,Ht,Xt){return arguments.length===1?function(ut){if(ut instanceof G)return new G(ut.h,ut.s,ut.l,ut.opacity);if(ut instanceof p||(ut=M(ut)),!ut)return new G;if(ut instanceof G)return ut;var re=(ut=ut.rgb()).r/255,pe=ut.g/255,de=ut.b/255,we=Math.min(re,pe,de),fe=Math.max(re,pe,de),ue=NaN,ye=fe-we,ve=(fe+we)/2;return ye?(ue=re===fe?(pe-de)/ye+6*(pe<de):pe===fe?(de-re)/ye+2:(re-pe)/ye+4,ye/=ve<.5?fe+we:2-fe-we,ue*=60):ye=ve>0&&ve<1?0:ue,new G(ue,ye,ve,ut.opacity)}(Pt):new G(Pt,Ct,Ht,Xt==null?1:Xt)}function G(Pt,Ct,Ht,Xt){this.h=+Pt,this.s=+Ct,this.l=+Ht,this.opacity=+Xt}function U(Pt,Ct,Ht){return 255*(Pt<60?Ct+(Ht-Ct)*Pt/60:Pt<180?Ht:Pt<240?Ct+(Ht-Ct)*(240-Pt)/60:Ct)}d(p,M,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),d(B,j,y(p,{brighter:function(Ct){return Ct=Ct==null?1/.7:Math.pow(1/.7,Ct),new B(this.r*Ct,this.g*Ct,this.b*Ct,this.opacity)},darker:function(Ct){return Ct=Ct==null?.7:Math.pow(.7,Ct),new B(this.r*Ct,this.g*Ct,this.b*Ct,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+N(this.r)+N(this.g)+N(this.b)},toString:function(){var Ct=this.opacity;return((Ct=isNaN(Ct)?1:Math.max(0,Math.min(1,Ct)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(Ct===1?")":", "+Ct+")")}})),d(G,F,y(p,{brighter:function(Ct){return Ct=Ct==null?1/.7:Math.pow(1/.7,Ct),new G(this.h,this.s,this.l*Ct,this.opacity)},darker:function(Ct){return Ct=Ct==null?.7:Math.pow(.7,Ct),new G(this.h,this.s,this.l*Ct,this.opacity)},rgb:function(){var Ct=this.h%360+360*(this.h<0),Ht=isNaN(Ct)||isNaN(this.s)?0:this.s,Xt=this.l,ut=Xt+(Xt<.5?Xt:1-Xt)*Ht,re=2*Xt-ut;return new B(U(Ct>=240?Ct-240:Ct+120,re,ut),U(Ct,re,ut),U(Ct<120?Ct+240:Ct-120,re,ut),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var H=Math.PI/180,Q=180/Math.PI,at=.96422,$=1,K=.82521,ot=4/29,it=6/29,ht=3*it*it,St=it*it*it;function gt(Pt){if(Pt instanceof vt)return new vt(Pt.l,Pt.a,Pt.b,Pt.opacity);if(Pt instanceof Z){if(isNaN(Pt.h))return new vt(Pt.l,0,0,Pt.opacity);var Ct=Pt.h*H;return new vt(Pt.l,Math.cos(Ct)*Pt.c,Math.sin(Ct)*Pt.c,Pt.opacity)}Pt instanceof B||(Pt=C(Pt));var Ht,Xt,ut=It(Pt.r),re=It(Pt.g),pe=It(Pt.b),de=_t((.2225045*ut+.7168786*re+.0606169*pe)/$);return ut===re&&re===pe?Ht=Xt=de:(Ht=_t((.4360747*ut+.3850649*re+.1430804*pe)/at),Xt=_t((.0139322*ut+.0971045*re+.7141733*pe)/K)),new vt(116*de-16,500*(Ht-de),200*(de-Xt),Pt.opacity)}function bt(Pt,Ct){return new vt(Pt,0,0,Ct==null?1:Ct)}function mt(Pt,Ct,Ht,Xt){return arguments.length===1?gt(Pt):new vt(Pt,Ct,Ht,Xt==null?1:Xt)}function vt(Pt,Ct,Ht,Xt){this.l=+Pt,this.a=+Ct,this.b=+Ht,this.opacity=+Xt}function _t(Pt){return Pt>St?Math.pow(Pt,1/3):Pt/ht+ot}function Nt(Pt){return Pt>it?Pt*Pt*Pt:ht*(Pt-ot)}function At(Pt){return 255*(Pt<=.0031308?12.92*Pt:1.055*Math.pow(Pt,1/2.4)-.055)}function It(Pt){return(Pt/=255)<=.04045?Pt/12.92:Math.pow((Pt+.055)/1.055,2.4)}function dt(Pt){if(Pt instanceof Z)return new Z(Pt.h,Pt.c,Pt.l,Pt.opacity);if(Pt instanceof vt||(Pt=gt(Pt)),Pt.a===0&&Pt.b===0)return new Z(NaN,0,Pt.l,Pt.opacity);var Ct=Math.atan2(Pt.b,Pt.a)*Q;return new Z(Ct<0?Ct+360:Ct,Math.sqrt(Pt.a*Pt.a+Pt.b*Pt.b),Pt.l,Pt.opacity)}function X(Pt,Ct,Ht,Xt){return arguments.length===1?dt(Pt):new Z(Ht,Ct,Pt,Xt==null?1:Xt)}function V(Pt,Ct,Ht,Xt){return arguments.length===1?dt(Pt):new Z(Pt,Ct,Ht,Xt==null?1:Xt)}function Z(Pt,Ct,Ht,Xt){this.h=+Pt,this.c=+Ct,this.l=+Ht,this.opacity=+Xt}d(vt,mt,y(p,{brighter:function(Ct){return new vt(this.l+18*(Ct==null?1:Ct),this.a,this.b,this.opacity)},darker:function(Ct){return new vt(this.l-18*(Ct==null?1:Ct),this.a,this.b,this.opacity)},rgb:function(){var Ct=(this.l+16)/116,Ht=isNaN(this.a)?Ct:Ct+this.a/500,Xt=isNaN(this.b)?Ct:Ct-this.b/200;return new B(At(3.1338561*(Ht=at*Nt(Ht))-1.6168667*(Ct=$*Nt(Ct))-.4906146*(Xt=K*Nt(Xt))),At(-.9787684*Ht+1.9161415*Ct+.033454*Xt),At(.0719453*Ht-.2289914*Ct+1.4052427*Xt),this.opacity)}})),d(Z,V,y(p,{brighter:function(Ct){return new Z(this.h,this.c,this.l+18*(Ct==null?1:Ct),this.opacity)},darker:function(Ct){return new Z(this.h,this.c,this.l-18*(Ct==null?1:Ct),this.opacity)},rgb:function(){return gt(this).rgb()}}));var W=-.14861,rt=1.78277,J=-.29227,tt=-.90649,ft=1.97294,kt=ft*tt,jt=ft*rt,Bt=rt*J-tt*W;function Rt(Pt,Ct,Ht,Xt){return arguments.length===1?function(ut){if(ut instanceof Lt)return new Lt(ut.h,ut.s,ut.l,ut.opacity);ut instanceof B||(ut=C(ut));var re=ut.r/255,pe=ut.g/255,de=ut.b/255,we=(Bt*de+kt*re-jt*pe)/(Bt+kt-jt),fe=de-we,ue=(ft*(pe-we)-J*fe)/tt,ye=Math.sqrt(ue*ue+fe*fe)/(ft*we*(1-we)),ve=ye?Math.atan2(ue,fe)*Q-120:NaN;return new Lt(ve<0?ve+360:ve,ye,we,ut.opacity)}(Pt):new Lt(Pt,Ct,Ht,Xt==null?1:Xt)}function Lt(Pt,Ct,Ht,Xt){this.h=+Pt,this.s=+Ct,this.l=+Ht,this.opacity=+Xt}d(Lt,Rt,y(p,{brighter:function(Ct){return Ct=Ct==null?1/.7:Math.pow(1/.7,Ct),new Lt(this.h,this.s,this.l*Ct,this.opacity)},darker:function(Ct){return Ct=Ct==null?.7:Math.pow(.7,Ct),new Lt(this.h,this.s,this.l*Ct,this.opacity)},rgb:function(){var Ct=isNaN(this.h)?0:(this.h+120)*H,Ht=+this.l,Xt=isNaN(this.s)?0:this.s*Ht*(1-Ht),ut=Math.cos(Ct),re=Math.sin(Ct);return new B(255*(Ht+Xt*(W*ut+rt*re)),255*(Ht+Xt*(J*ut+tt*re)),255*(Ht+Xt*(ft*ut)),this.opacity)}})),s.d(x,"a",function(){return M}),s.d(x,"h",function(){return j}),s.d(x,"e",function(){return F}),s.d(x,"f",function(){return mt}),s.d(x,"d",function(){return V}),s.d(x,"g",function(){return X}),s.d(x,"c",function(){return bt}),s.d(x,"b",function(){return Rt})},,,,,,,,,,,,,,,function(A,x){A.exports=function(s){var d=typeof s;return s!=null&&(d=="object"||d=="function")}},function(A,x,s){"use strict";s.r(x);var d,y,p=0,n=0,a=0,u=1e3,i=0,r=0,o=0,c=typeof performance=="object"&&performance.now?performance:Date,h=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(N){setTimeout(N,17)};function v(){return r||(h(f),r=c.now()+o)}function f(){r=0}function m(){this._call=this._time=this._next=null}function b(N,I,F){var G=new m;return G.restart(N,I,F),G}function M(){v(),++p;for(var N,I=d;I;)(N=r-I._time)>=0&&I._call.call(null,N),I=I._next;--p}function O(){r=(i=c.now())+o,p=n=0;try{M()}finally{p=0,function(){for(var N,I,F=d,G=1/0;F;)F._call?(G>F._time&&(G=F._time),N=F,F=F._next):(I=F._next,F._next=null,F=N?N._next=I:d=I);y=N,C(G)}(),r=0}}function E(){var N=c.now(),I=N-i;I>u&&(o-=I,i=N)}function C(N){p||(n&&(n=clearTimeout(n)),N-r>24?(N<1/0&&(n=setTimeout(O,N-c.now()-o)),a&&(a=clearInterval(a))):(a||(i=c.now(),a=setInterval(E,u)),p=1,h(O)))}m.prototype=b.prototype={constructor:m,restart:function(I,F,G){if(typeof I!="function")throw new TypeError("callback is not a function");G=(G==null?v():+G)+(F==null?0:+F),this._next||y===this||(y?y._next=this:d=this,y=this),this._call=I,this._time=G,C()},stop:function(){this._call&&(this._call=null,this._time=1/0,C())}};var j=function(I,F,G){var U=new m;return F=F==null?0:+F,U.restart(function(H){U.stop(),I(H+F)},F,G),U},B=function(I,F,G){var U=new m,H=F;return F==null?(U.restart(I,F,G),U):(F=+F,G=G==null?v():+G,U.restart(function Q(at){at+=H,U.restart(Q,H+=F,G),I(at)},F,G),U)};s.d(x,"now",function(){return v}),s.d(x,"timer",function(){return b}),s.d(x,"timerFlush",function(){return M}),s.d(x,"timeout",function(){return j}),s.d(x,"interval",function(){return B})},,function(A,x,s){var d=s(644),y={};d.merge(y,d,{mixin:function(n,a){var u=n.CFG?"CFG":"ATTRS";if(n&&a){n._mixins=a,n[u]=n[u]||{};var i={};y.each(a,function(r){y.augment(n,r);var o=r[u];o&&y.merge(i,o)}),n[u]=y.merge(i,n[u])}}}),A.exports=y},function(A,x,s){var d=s(117),y=typeof self=="object"&&self&&self.Object===Object&&self,p=d||y||Function("return this")();A.exports=p},,,function(A,x){A.exports=function(s){return s!=null&&typeof s=="object"}},,,function(A,x,s){var d={},y=s(682),p=s(748),n=s(257),a=s(727),u=s(726),i=s(725);n.mix(d,n,u,i,a,p,y),A.exports=d},,,,,,,,function(A,x,s){var d=s(38),y=s(250),p=s(249),n="[object Null]",a="[object Undefined]",u=d?d.toStringTag:void 0;A.exports=function(i){return i==null?i===void 0?a:n:u&&u in Object(i)?y(i):p(i)}},,,,function(A,x,s){var d=s(20).Symbol;A.exports=d},function(A,x,s){var d=s(34),y=s(23),p="[object Symbol]";A.exports=function(n){return typeof n=="symbol"||y(n)&&d(n)==p}},,,,,function(A,x,s){"use strict";function d(At){return+At}function y(At){return At*At}function p(At){return At*(2-At)}function n(At){return((At*=2)<=1?At*At:--At*(2-At)+1)/2}function a(At){return At*At*At}function u(At){return--At*At*At+1}function i(At){return((At*=2)<=1?At*At*At:(At-=2)*At*At+2)/2}s.r(x);var r=function At(It){function dt(X){return Math.pow(X,It)}return It=+It,dt.exponent=At,dt}(3),o=function At(It){function dt(X){return 1-Math.pow(1-X,It)}return It=+It,dt.exponent=At,dt}(3),c=function At(It){function dt(X){return((X*=2)<=1?Math.pow(X,It):2-Math.pow(2-X,It))/2}return It=+It,dt.exponent=At,dt}(3),h=Math.PI,v=h/2;function f(At){return 1-Math.cos(At*v)}function m(At){return Math.sin(At*v)}function b(At){return(1-Math.cos(h*At))/2}function M(At){return Math.pow(2,10*At-10)}function O(At){return 1-Math.pow(2,-10*At)}function E(At){return((At*=2)<=1?Math.pow(2,10*At-10):2-Math.pow(2,10-10*At))/2}function C(At){return 1-Math.sqrt(1-At*At)}function j(At){return Math.sqrt(1- --At*At)}function B(At){return((At*=2)<=1?1-Math.sqrt(1-At*At):Math.sqrt(1-(At-=2)*At)+1)/2}var N=4/11,I=6/11,F=8/11,G=.75,U=9/11,H=10/11,Q=.9375,at=21/22,$=63/64,K=1/N/N;function ot(At){return 1-it(1-At)}function it(At){return(At=+At)<N?K*At*At:At<F?K*(At-=I)*At+G:At<H?K*(At-=U)*At+Q:K*(At-=at)*At+$}function ht(At){return((At*=2)<=1?1-it(1-At):it(At-1)+1)/2}var St=function At(It){function dt(X){return X*X*((It+1)*X-It)}return It=+It,dt.overshoot=At,dt}(1.70158),gt=function At(It){function dt(X){return--X*X*((It+1)*X+It)+1}return It=+It,dt.overshoot=At,dt}(1.70158),bt=function At(It){function dt(X){return((X*=2)<1?X*X*((It+1)*X-It):(X-=2)*X*((It+1)*X+It)+2)/2}return It=+It,dt.overshoot=At,dt}(1.70158),mt=2*Math.PI,vt=function At(It,dt){var X=Math.asin(1/(It=Math.max(1,It)))*(dt/=mt);function V(Z){return It*Math.pow(2,10*--Z)*Math.sin((X-Z)/dt)}return V.amplitude=function(Z){return At(Z,dt*mt)},V.period=function(Z){return At(It,Z)},V}(1,.3),_t=function At(It,dt){var X=Math.asin(1/(It=Math.max(1,It)))*(dt/=mt);function V(Z){return 1-It*Math.pow(2,-10*(Z=+Z))*Math.sin((Z+X)/dt)}return V.amplitude=function(Z){return At(Z,dt*mt)},V.period=function(Z){return At(It,Z)},V}(1,.3),Nt=function At(It,dt){var X=Math.asin(1/(It=Math.max(1,It)))*(dt/=mt);function V(Z){return((Z=2*Z-1)<0?It*Math.pow(2,10*Z)*Math.sin((X-Z)/dt):2-It*Math.pow(2,-10*Z)*Math.sin((X+Z)/dt))/2}return V.amplitude=function(Z){return At(Z,dt*mt)},V.period=function(Z){return At(It,Z)},V}(1,.3);s.d(x,"easeLinear",function(){return d}),s.d(x,"easeQuad",function(){return n}),s.d(x,"easeQuadIn",function(){return y}),s.d(x,"easeQuadOut",function(){return p}),s.d(x,"easeQuadInOut",function(){return n}),s.d(x,"easeCubic",function(){return i}),s.d(x,"easeCubicIn",function(){return a}),s.d(x,"easeCubicOut",function(){return u}),s.d(x,"easeCubicInOut",function(){return i}),s.d(x,"easePoly",function(){return c}),s.d(x,"easePolyIn",function(){return r}),s.d(x,"easePolyOut",function(){return o}),s.d(x,"easePolyInOut",function(){return c}),s.d(x,"easeSin",function(){return b}),s.d(x,"easeSinIn",function(){return f}),s.d(x,"easeSinOut",function(){return m}),s.d(x,"easeSinInOut",function(){return b}),s.d(x,"easeExp",function(){return E}),s.d(x,"easeExpIn",function(){return M}),s.d(x,"easeExpOut",function(){return O}),s.d(x,"easeExpInOut",function(){return E}),s.d(x,"easeCircle",function(){return B}),s.d(x,"easeCircleIn",function(){return C}),s.d(x,"easeCircleOut",function(){return j}),s.d(x,"easeCircleInOut",function(){return B}),s.d(x,"easeBounce",function(){return it}),s.d(x,"easeBounceIn",function(){return ot}),s.d(x,"easeBounceOut",function(){return it}),s.d(x,"easeBounceInOut",function(){return ht}),s.d(x,"easeBack",function(){return bt}),s.d(x,"easeBackIn",function(){return St}),s.d(x,"easeBackOut",function(){return gt}),s.d(x,"easeBackInOut",function(){return bt}),s.d(x,"easeElastic",function(){return _t}),s.d(x,"easeElasticIn",function(){return vt}),s.d(x,"easeElasticOut",function(){return _t}),s.d(x,"easeElasticInOut",function(){return Nt})},function(A,x,s){var d=s(115),y=Array.isArray?Array.isArray:function(p){return d(p,"Array")};A.exports=y},function(A,x,s){var d=s(621),y=s(45);A.exports=function(p,n){if(p){if(y(p))for(var a=0,u=p.length;a<u&&n(p[a],a)!==!1;a++);else if(d(p)){for(var i in p)if(p.hasOwnProperty(i)&&n(p[i],i)===!1)break}}}},,,,,,,,,,,,function(A,x,s){var d=s(19),y=s(742),p=s(641),n=s(613),a=function i(r){i.superclass.constructor.call(this,r)};a.ATTRS={},d.extend(a,p);var u={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};d.augment(a,y,{isShape:!0,drawInner:function(r){var o=this._attrs;this.createPath(r);var c=r.globalAlpha;if(this.hasFill()){var h=o.fillOpacity;d.isNil(h)||h===1?r.fill():(r.globalAlpha=h,r.fill(),r.globalAlpha=c)}if(this.hasStroke()&&this._attrs.lineWidth>0){var v=o.strokeOpacity;d.isNil(v)||v===1||(r.globalAlpha=v),r.stroke()}this.afterPath(r)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(r,o){var c=[r,o,1];if(this.invert(c),this.isHitBox()){var h=this.getBBox();if(h&&!n.box(h.minX,h.maxX,h.minY,h.maxY,c[0],c[1]))return!1}var v=this._attrs.clip;return v?(v.invert(c,this.get("canvas")),!!v.isPointInPath(c[0],c[1])&&this.isPointInPath(c[0],c[1])):this.isPointInPath(c[0],c[1])},calculateBox:function(){return null},getHitLineWidth:function(){var r=this._attrs,o=r.lineAppendWidth||0;return(r.lineWidth||0)+o},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var r=this._cfg.box;return r||((r=this.calculateBox())&&(r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY),this._cfg.box=r),r},clone:function(){var r=null,o=this._attrs,c={};return d.each(o,function(h,v){u[v]&&d.isArray(o[v])?c[v]=function(f){for(var m=[],b=0;b<f.length;b++)d.isArray(f[b])?m.push([].concat(f[b])):m.push(f[b]);return m}(o[v]):c[v]=o[v]}),r=new this.constructor({attrs:c}),r._cfg.zIndex=this._cfg.zIndex,r}}),A.exports=a},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.setMatrixArrayType=function(p){x.ARRAY_TYPE=p},x.toRadian=function(p){return p*y},x.equals=function(p,n){return Math.abs(p-n)<=d*Math.max(1,Math.abs(p),Math.abs(n))};var d=x.EPSILON=1e-6;x.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,x.RANDOM=Math.random;var y=Math.PI/180},,,,,,,,,,,,,,,,,,,,,,,,,function(A,x,s){var d=s(115);A.exports=function(y){return d(y,"Function")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(A,x){var s={}.toString;A.exports=function(d,y){return s.call(d)==="[object "+y+"]"}},function(A,x,s){var d;/*!
 * EventEmitter v5.1.0 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */(function(y){"use strict";function p(){}var n=p.prototype,a=y.EventEmitter;function u(r,o){for(var c=r.length;c--;)if(r[c].listener===o)return c;return-1}function i(r){return function(){return this[r].apply(this,arguments)}}n.getListeners=function(r){var o,c,h=this._getEvents();if(r instanceof RegExp)for(c in o={},h)h.hasOwnProperty(c)&&r.test(c)&&(o[c]=h[c]);else o=h[r]||(h[r]=[]);return o},n.flattenListeners=function(r){var o,c=[];for(o=0;o<r.length;o+=1)c.push(r[o].listener);return c},n.getListenersAsObject=function(r){var o,c=this.getListeners(r);return c instanceof Array&&((o={})[r]=c),o||c},n.addListener=function(r,o){if(!function f(m){return typeof m=="function"||m instanceof RegExp||!(!m||typeof m!="object")&&f(m.listener)}(o))throw new TypeError("listener must be a function");var c,h=this.getListenersAsObject(r),v=typeof o=="object";for(c in h)h.hasOwnProperty(c)&&u(h[c],o)===-1&&h[c].push(v?o:{listener:o,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(r,o){return this.addListener(r,{listener:o,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(r){return this.getListeners(r),this},n.defineEvents=function(r){for(var o=0;o<r.length;o+=1)this.defineEvent(r[o]);return this},n.removeListener=function(r,o){var c,h,v=this.getListenersAsObject(r);for(h in v)v.hasOwnProperty(h)&&(c=u(v[h],o))!==-1&&v[h].splice(c,1);return this},n.off=i("removeListener"),n.addListeners=function(r,o){return this.manipulateListeners(!1,r,o)},n.removeListeners=function(r,o){return this.manipulateListeners(!0,r,o)},n.manipulateListeners=function(r,o,c){var h,v,f=r?this.removeListener:this.addListener,m=r?this.removeListeners:this.addListeners;if(typeof o!="object"||o instanceof RegExp)for(h=c.length;h--;)f.call(this,o,c[h]);else for(h in o)o.hasOwnProperty(h)&&(v=o[h])&&(typeof v=="function"?f.call(this,h,v):m.call(this,h,v));return this},n.removeEvent=function(r){var o,c=typeof r,h=this._getEvents();if(c==="string")delete h[r];else if(r instanceof RegExp)for(o in h)h.hasOwnProperty(o)&&r.test(o)&&delete h[o];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(r,o){var c,h,v,f,m=this.getListenersAsObject(r);for(f in m)if(m.hasOwnProperty(f))for(c=m[f].slice(0),v=0;v<c.length;v++)(h=c[v]).once===!0&&this.removeListener(r,h.listener),h.listener.apply(this,o||[])===this._getOnceReturnValue()&&this.removeListener(r,h.listener);return this},n.trigger=i("emitEvent"),n.emit=function(r){var o=Array.prototype.slice.call(arguments,1);return this.emitEvent(r,o)},n.setOnceReturnValue=function(r){return this._onceReturnValue=r,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},p.noConflict=function(){return y.EventEmitter=a,p},(d=function(){return p}.call(y,s,y,A))===void 0||(A.exports=d)})(this||{})},function(A,x,s){(function(d){var y=typeof d=="object"&&d&&d.Object===Object&&d;A.exports=y}).call(this,s(252))},function(A,x){A.exports=function(s){return s!==null&&typeof s!="function"&&isFinite(s.length)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(A,x,s){var d=s(115);A.exports=function(y){return d(y,"Number")}},function(A,x){A.exports=function(s){return s==null}},function(A,x,s){"use strict";s.r(x);var d=s(1);function y(Z,W,rt,J,tt){var ft=Z*Z,kt=ft*Z;return((1-3*Z+3*ft-kt)*W+(4-6*ft+3*kt)*rt+(1+3*Z+3*ft-3*kt)*J+kt*tt)/6}var p=function(W){var rt=W.length-1;return function(J){var tt=J<=0?J=0:J>=1?(J=1,rt-1):Math.floor(J*rt),ft=W[tt],kt=W[tt+1],jt=tt>0?W[tt-1]:2*ft-kt,Bt=tt<rt-1?W[tt+2]:2*kt-ft;return y((J-tt/rt)*rt,jt,ft,kt,Bt)}},n=function(W){var rt=W.length;return function(J){var tt=Math.floor(((J%=1)<0?++J:J)*rt),ft=W[(tt+rt-1)%rt],kt=W[tt%rt],jt=W[(tt+1)%rt],Bt=W[(tt+2)%rt];return y((J-tt/rt)*rt,ft,kt,jt,Bt)}},a=function(W){return function(){return W}};function u(Z,W){return function(rt){return Z+rt*W}}function i(Z,W){var rt=W-Z;return rt?u(Z,rt>180||rt<-180?rt-360*Math.round(rt/360):rt):a(isNaN(Z)?W:Z)}function r(Z){return(Z=+Z)==1?o:function(W,rt){return rt-W?function(J,tt,ft){return J=Math.pow(J,ft),tt=Math.pow(tt,ft)-J,ft=1/ft,function(kt){return Math.pow(J+kt*tt,ft)}}(W,rt,Z):a(isNaN(W)?rt:W)}}function o(Z,W){var rt=W-Z;return rt?u(Z,rt):a(isNaN(Z)?W:Z)}var c=function Z(W){var rt=r(W);function J(tt,ft){var kt=rt((tt=Object(d.h)(tt)).r,(ft=Object(d.h)(ft)).r),jt=rt(tt.g,ft.g),Bt=rt(tt.b,ft.b),Rt=o(tt.opacity,ft.opacity);return function(Lt){return tt.r=kt(Lt),tt.g=jt(Lt),tt.b=Bt(Lt),tt.opacity=Rt(Lt),tt+""}}return J.gamma=Z,J}(1);function h(Z){return function(W){var rt,J,tt=W.length,ft=new Array(tt),kt=new Array(tt),jt=new Array(tt);for(rt=0;rt<tt;++rt)J=Object(d.h)(W[rt]),ft[rt]=J.r||0,kt[rt]=J.g||0,jt[rt]=J.b||0;return ft=Z(ft),kt=Z(kt),jt=Z(jt),J.opacity=1,function(Bt){return J.r=ft(Bt),J.g=kt(Bt),J.b=jt(Bt),J+""}}}var v=h(p),f=h(n),m=function(W,rt){var J,tt=rt?rt.length:0,ft=W?Math.min(tt,W.length):0,kt=new Array(ft),jt=new Array(tt);for(J=0;J<ft;++J)kt[J]=G(W[J],rt[J]);for(;J<tt;++J)jt[J]=rt[J];return function(Bt){for(J=0;J<ft;++J)jt[J]=kt[J](Bt);return jt}},b=function(W,rt){var J=new Date;return rt-=W=+W,function(tt){return J.setTime(W+rt*tt),J}},M=function(W,rt){return rt-=W=+W,function(J){return W+rt*J}},O=function(W,rt){var J,tt={},ft={};for(J in W!==null&&typeof W=="object"||(W={}),rt!==null&&typeof rt=="object"||(rt={}),rt)J in W?tt[J]=G(W[J],rt[J]):ft[J]=rt[J];return function(kt){for(J in tt)ft[J]=tt[J](kt);return ft}},E=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C=new RegExp(E.source,"g"),j,B,N,I,F=function(W,rt){var J,tt,ft,kt=E.lastIndex=C.lastIndex=0,jt=-1,Bt=[],Rt=[];for(W+="",rt+="";(J=E.exec(W))&&(tt=C.exec(rt));)(ft=tt.index)>kt&&(ft=rt.slice(kt,ft),Bt[jt]?Bt[jt]+=ft:Bt[++jt]=ft),(J=J[0])===(tt=tt[0])?Bt[jt]?Bt[jt]+=tt:Bt[++jt]=tt:(Bt[++jt]=null,Rt.push({i:jt,x:M(J,tt)})),kt=C.lastIndex;return kt<rt.length&&(ft=rt.slice(kt),Bt[jt]?Bt[jt]+=ft:Bt[++jt]=ft),Bt.length<2?Rt[0]?function(Lt){return function(Pt){return Lt(Pt)+""}}(Rt[0].x):function(Lt){return function(){return Lt}}(rt):(rt=Rt.length,function(Lt){for(var Pt,Ct=0;Ct<rt;++Ct)Bt[(Pt=Rt[Ct]).i]=Pt.x(Lt);return Bt.join("")})},G=function(W,rt){var J,tt=typeof rt;return rt==null||tt==="boolean"?a(rt):(tt==="number"?M:tt==="string"?(J=Object(d.a)(rt))?(rt=J,c):F:rt instanceof d.a?c:rt instanceof Date?b:Array.isArray(rt)?m:typeof rt.valueOf!="function"&&typeof rt.toString!="function"||isNaN(rt)?O:M)(W,rt)},U=function(W,rt){return rt-=W=+W,function(J){return Math.round(W+rt*J)}},H=180/Math.PI,Q={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},at=function(W,rt,J,tt,ft,kt){var jt,Bt,Rt;return(jt=Math.sqrt(W*W+rt*rt))&&(W/=jt,rt/=jt),(Rt=W*J+rt*tt)&&(J-=W*Rt,tt-=rt*Rt),(Bt=Math.sqrt(J*J+tt*tt))&&(J/=Bt,tt/=Bt,Rt/=Bt),W*tt<rt*J&&(W=-W,rt=-rt,Rt=-Rt,jt=-jt),{translateX:ft,translateY:kt,rotate:Math.atan2(rt,W)*H,skewX:Math.atan(Rt)*H,scaleX:jt,scaleY:Bt}};function $(Z,W,rt,J){function tt(ft){return ft.length?ft.pop()+" ":""}return function(ft,kt){var jt=[],Bt=[];return ft=Z(ft),kt=Z(kt),function(Rt,Lt,Pt,Ct,Ht,Xt){if(Rt!==Pt||Lt!==Ct){var ut=Ht.push("translate(",null,W,null,rt);Xt.push({i:ut-4,x:M(Rt,Pt)},{i:ut-2,x:M(Lt,Ct)})}else(Pt||Ct)&&Ht.push("translate("+Pt+W+Ct+rt)}(ft.translateX,ft.translateY,kt.translateX,kt.translateY,jt,Bt),function(Rt,Lt,Pt,Ct){Rt!==Lt?(Rt-Lt>180?Lt+=360:Lt-Rt>180&&(Rt+=360),Ct.push({i:Pt.push(tt(Pt)+"rotate(",null,J)-2,x:M(Rt,Lt)})):Lt&&Pt.push(tt(Pt)+"rotate("+Lt+J)}(ft.rotate,kt.rotate,jt,Bt),function(Rt,Lt,Pt,Ct){Rt!==Lt?Ct.push({i:Pt.push(tt(Pt)+"skewX(",null,J)-2,x:M(Rt,Lt)}):Lt&&Pt.push(tt(Pt)+"skewX("+Lt+J)}(ft.skewX,kt.skewX,jt,Bt),function(Rt,Lt,Pt,Ct,Ht,Xt){if(Rt!==Pt||Lt!==Ct){var ut=Ht.push(tt(Ht)+"scale(",null,",",null,")");Xt.push({i:ut-4,x:M(Rt,Pt)},{i:ut-2,x:M(Lt,Ct)})}else Pt===1&&Ct===1||Ht.push(tt(Ht)+"scale("+Pt+","+Ct+")")}(ft.scaleX,ft.scaleY,kt.scaleX,kt.scaleY,jt,Bt),ft=kt=null,function(Rt){for(var Lt,Pt=-1,Ct=Bt.length;++Pt<Ct;)jt[(Lt=Bt[Pt]).i]=Lt.x(Rt);return jt.join("")}}}var K=$(function(Z){return Z==="none"?Q:(j||(j=document.createElement("DIV"),B=document.documentElement,N=document.defaultView),j.style.transform=Z,Z=N.getComputedStyle(B.appendChild(j),null).getPropertyValue("transform"),B.removeChild(j),Z=Z.slice(7,-1).split(","),at(+Z[0],+Z[1],+Z[2],+Z[3],+Z[4],+Z[5]))},"px, ","px)","deg)"),ot=$(function(Z){return Z==null?Q:(I||(I=document.createElementNS("http://www.w3.org/2000/svg","g")),I.setAttribute("transform",Z),(Z=I.transform.baseVal.consolidate())?(Z=Z.matrix,at(Z.a,Z.b,Z.c,Z.d,Z.e,Z.f)):Q)},", ",")",")"),it=Math.SQRT2;function ht(Z){return((Z=Math.exp(Z))+1/Z)/2}var St=function(W,rt){var J,tt,ft=W[0],kt=W[1],jt=W[2],Bt=rt[0],Rt=rt[1],Lt=rt[2],Pt=Bt-ft,Ct=Rt-kt,Ht=Pt*Pt+Ct*Ct;if(Ht<1e-12)tt=Math.log(Lt/jt)/it,J=function(fe){return[ft+fe*Pt,kt+fe*Ct,jt*Math.exp(it*fe*tt)]};else{var Xt=Math.sqrt(Ht),ut=(Lt*Lt-jt*jt+4*Ht)/(2*jt*2*Xt),re=(Lt*Lt-jt*jt-4*Ht)/(2*Lt*2*Xt),pe=Math.log(Math.sqrt(ut*ut+1)-ut),de=Math.log(Math.sqrt(re*re+1)-re);tt=(de-pe)/it,J=function(fe){var ue=fe*tt,ye=ht(pe),ve=jt/(2*Xt)*(ye*function(xe){return((xe=Math.exp(2*xe))-1)/(xe+1)}(it*ue+pe)-function(xe){return((xe=Math.exp(xe))-1/xe)/2}(pe));return[ft+ve*Pt,kt+ve*Ct,jt*ye/ht(it*ue+pe)]}}return J.duration=1e3*tt,J};function gt(Z){return function(W,rt){var J=Z((W=Object(d.e)(W)).h,(rt=Object(d.e)(rt)).h),tt=o(W.s,rt.s),ft=o(W.l,rt.l),kt=o(W.opacity,rt.opacity);return function(jt){return W.h=J(jt),W.s=tt(jt),W.l=ft(jt),W.opacity=kt(jt),W+""}}}var bt=gt(i),mt=gt(o);function vt(Z,W){var rt=o((Z=Object(d.f)(Z)).l,(W=Object(d.f)(W)).l),J=o(Z.a,W.a),tt=o(Z.b,W.b),ft=o(Z.opacity,W.opacity);return function(kt){return Z.l=rt(kt),Z.a=J(kt),Z.b=tt(kt),Z.opacity=ft(kt),Z+""}}function _t(Z){return function(W,rt){var J=Z((W=Object(d.d)(W)).h,(rt=Object(d.d)(rt)).h),tt=o(W.c,rt.c),ft=o(W.l,rt.l),kt=o(W.opacity,rt.opacity);return function(jt){return W.h=J(jt),W.c=tt(jt),W.l=ft(jt),W.opacity=kt(jt),W+""}}}var Nt=_t(i),At=_t(o);function It(Z){return function W(rt){function J(tt,ft){var kt=Z((tt=Object(d.b)(tt)).h,(ft=Object(d.b)(ft)).h),jt=o(tt.s,ft.s),Bt=o(tt.l,ft.l),Rt=o(tt.opacity,ft.opacity);return function(Lt){return tt.h=kt(Lt),tt.s=jt(Lt),tt.l=Bt(Math.pow(Lt,rt)),tt.opacity=Rt(Lt),tt+""}}return rt=+rt,J.gamma=W,J}(1)}var dt=It(i),X=It(o),V=function(W,rt){for(var J=new Array(rt),tt=0;tt<rt;++tt)J[tt]=W(tt/(rt-1));return J};s.d(x,"interpolate",function(){return G}),s.d(x,"interpolateArray",function(){return m}),s.d(x,"interpolateBasis",function(){return p}),s.d(x,"interpolateBasisClosed",function(){return n}),s.d(x,"interpolateDate",function(){return b}),s.d(x,"interpolateNumber",function(){return M}),s.d(x,"interpolateObject",function(){return O}),s.d(x,"interpolateRound",function(){return U}),s.d(x,"interpolateString",function(){return F}),s.d(x,"interpolateTransformCss",function(){return K}),s.d(x,"interpolateTransformSvg",function(){return ot}),s.d(x,"interpolateZoom",function(){return St}),s.d(x,"interpolateRgb",function(){return c}),s.d(x,"interpolateRgbBasis",function(){return v}),s.d(x,"interpolateRgbBasisClosed",function(){return f}),s.d(x,"interpolateHsl",function(){return bt}),s.d(x,"interpolateHslLong",function(){return mt}),s.d(x,"interpolateLab",function(){return vt}),s.d(x,"interpolateHcl",function(){return Nt}),s.d(x,"interpolateHclLong",function(){return At}),s.d(x,"interpolateCubehelix",function(){return dt}),s.d(x,"interpolateCubehelixLong",function(){return X}),s.d(x,"quantize",function(){return V})},,,,,,,,,function(A,x,s){var d=s(609);A.exports={track:!1,defaultNodeSize:40,labelStyle:{fill:"#595959",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",fill:"#F2F4F5",radius:2},groupBackgroundPadding:[40,10,10,10],updateDuration:450,enterDuration:450,leaveDuration:450,updateEasing:"easeQuadOut",enterEasing:"easeQuadOut",leaveEasing:"easeQuadOut",version:d}},function(A,x,s){A.exports={Canvas:s(747),Group:s(642),Shape:s(58),Arc:s(638),Circle:s(637),Dom:s(636),Ellipse:s(635),Fan:s(634),Image:s(633),Line:s(632),Marker:s(611),Path:s(631),Polygon:s(630),Polyline:s(629),Rect:s(628),Text:s(627),PathSegment:s(600),PathUtil:s(610),Event:s(643),version:"3.3.5"}},function(A,x){var s=Object.prototype.toString;A.exports=function(d){return s.call(d)}},function(A,x,s){var d=s(38),y=Object.prototype,p=y.hasOwnProperty,n=y.toString,a=d?d.toStringTag:void 0;A.exports=function(u){var i=p.call(u,a),r=u[a];try{u[a]=void 0;var o=!0}catch(h){}var c=n.call(u);return o&&(i?u[a]=r:delete u[a]),c}},function(A,x,s){var d=s(16),y=s(39),p=NaN,n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,i=/^0o[0-7]+$/i,r=parseInt;A.exports=function(o){if(typeof o=="number")return o;if(y(o))return p;if(d(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=d(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=o.replace(n,"");var h=u.test(o);return h||i.test(o)?r(o.slice(2),h?2:8):a.test(o)?p:+o}},function(A,x){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch(d){typeof window=="object"&&(s=window)}A.exports=s},function(A,x,s){var d=s(20);A.exports=function(){return d.Date.now()}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.len=x.sqrDist=x.dist=x.div=x.mul=x.sub=void 0,x.create=y,x.clone=function(f){var m=new d.ARRAY_TYPE(3);return m[0]=f[0],m[1]=f[1],m[2]=f[2],m},x.length=p,x.fromValues=n,x.copy=function(f,m){return f[0]=m[0],f[1]=m[1],f[2]=m[2],f},x.set=function(f,m,b,M){return f[0]=m,f[1]=b,f[2]=M,f},x.add=function(f,m,b){return f[0]=m[0]+b[0],f[1]=m[1]+b[1],f[2]=m[2]+b[2],f},x.subtract=a,x.multiply=u,x.divide=i,x.ceil=function(f,m){return f[0]=Math.ceil(m[0]),f[1]=Math.ceil(m[1]),f[2]=Math.ceil(m[2]),f},x.floor=function(f,m){return f[0]=Math.floor(m[0]),f[1]=Math.floor(m[1]),f[2]=Math.floor(m[2]),f},x.min=function(f,m,b){return f[0]=Math.min(m[0],b[0]),f[1]=Math.min(m[1],b[1]),f[2]=Math.min(m[2],b[2]),f},x.max=function(f,m,b){return f[0]=Math.max(m[0],b[0]),f[1]=Math.max(m[1],b[1]),f[2]=Math.max(m[2],b[2]),f},x.round=function(f,m){return f[0]=Math.round(m[0]),f[1]=Math.round(m[1]),f[2]=Math.round(m[2]),f},x.scale=function(f,m,b){return f[0]=m[0]*b,f[1]=m[1]*b,f[2]=m[2]*b,f},x.scaleAndAdd=function(f,m,b,M){return f[0]=m[0]+b[0]*M,f[1]=m[1]+b[1]*M,f[2]=m[2]+b[2]*M,f},x.distance=r,x.squaredDistance=o,x.squaredLength=c,x.negate=function(f,m){return f[0]=-m[0],f[1]=-m[1],f[2]=-m[2],f},x.inverse=function(f,m){return f[0]=1/m[0],f[1]=1/m[1],f[2]=1/m[2],f},x.normalize=h,x.dot=v,x.cross=function(f,m,b){var M=m[0],O=m[1],E=m[2],C=b[0],j=b[1],B=b[2];return f[0]=O*B-E*j,f[1]=E*C-M*B,f[2]=M*j-O*C,f},x.lerp=function(f,m,b,M){var O=m[0],E=m[1],C=m[2];return f[0]=O+M*(b[0]-O),f[1]=E+M*(b[1]-E),f[2]=C+M*(b[2]-C),f},x.hermite=function(f,m,b,M,O,E){var C=E*E,j=C*(2*E-3)+1,B=C*(E-2)+E,N=C*(E-1),I=C*(3-2*E);return f[0]=m[0]*j+b[0]*B+M[0]*N+O[0]*I,f[1]=m[1]*j+b[1]*B+M[1]*N+O[1]*I,f[2]=m[2]*j+b[2]*B+M[2]*N+O[2]*I,f},x.bezier=function(f,m,b,M,O,E){var C=1-E,j=C*C,B=E*E,N=j*C,I=3*E*j,F=3*B*C,G=B*E;return f[0]=m[0]*N+b[0]*I+M[0]*F+O[0]*G,f[1]=m[1]*N+b[1]*I+M[1]*F+O[1]*G,f[2]=m[2]*N+b[2]*I+M[2]*F+O[2]*G,f},x.random=function(f,m){m=m||1;var b=2*d.RANDOM()*Math.PI,M=2*d.RANDOM()-1,O=Math.sqrt(1-M*M)*m;return f[0]=Math.cos(b)*O,f[1]=Math.sin(b)*O,f[2]=M*m,f},x.transformMat4=function(f,m,b){var M=m[0],O=m[1],E=m[2],C=b[3]*M+b[7]*O+b[11]*E+b[15];return C=C||1,f[0]=(b[0]*M+b[4]*O+b[8]*E+b[12])/C,f[1]=(b[1]*M+b[5]*O+b[9]*E+b[13])/C,f[2]=(b[2]*M+b[6]*O+b[10]*E+b[14])/C,f},x.transformMat3=function(f,m,b){var M=m[0],O=m[1],E=m[2];return f[0]=M*b[0]+O*b[3]+E*b[6],f[1]=M*b[1]+O*b[4]+E*b[7],f[2]=M*b[2]+O*b[5]+E*b[8],f},x.transformQuat=function(f,m,b){var M=b[0],O=b[1],E=b[2],C=b[3],j=m[0],B=m[1],N=m[2],I=O*N-E*B,F=E*j-M*N,G=M*B-O*j,U=O*G-E*F,H=E*I-M*G,Q=M*F-O*I,at=2*C;return I*=at,F*=at,G*=at,U*=2,H*=2,Q*=2,f[0]=j+I+U,f[1]=B+F+H,f[2]=N+G+Q,f},x.rotateX=function(f,m,b,M){var O=[],E=[];return O[0]=m[0]-b[0],O[1]=m[1]-b[1],O[2]=m[2]-b[2],E[0]=O[0],E[1]=O[1]*Math.cos(M)-O[2]*Math.sin(M),E[2]=O[1]*Math.sin(M)+O[2]*Math.cos(M),f[0]=E[0]+b[0],f[1]=E[1]+b[1],f[2]=E[2]+b[2],f},x.rotateY=function(f,m,b,M){var O=[],E=[];return O[0]=m[0]-b[0],O[1]=m[1]-b[1],O[2]=m[2]-b[2],E[0]=O[2]*Math.sin(M)+O[0]*Math.cos(M),E[1]=O[1],E[2]=O[2]*Math.cos(M)-O[0]*Math.sin(M),f[0]=E[0]+b[0],f[1]=E[1]+b[1],f[2]=E[2]+b[2],f},x.rotateZ=function(f,m,b,M){var O=[],E=[];return O[0]=m[0]-b[0],O[1]=m[1]-b[1],O[2]=m[2]-b[2],E[0]=O[0]*Math.cos(M)-O[1]*Math.sin(M),E[1]=O[0]*Math.sin(M)+O[1]*Math.cos(M),E[2]=O[2],f[0]=E[0]+b[0],f[1]=E[1]+b[1],f[2]=E[2]+b[2],f},x.angle=function(f,m){var b=n(f[0],f[1],f[2]),M=n(m[0],m[1],m[2]);h(b,b),h(M,M);var O=v(b,M);return O>1?0:O<-1?Math.PI:Math.acos(O)},x.str=function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},x.exactEquals=function(f,m){return f[0]===m[0]&&f[1]===m[1]&&f[2]===m[2]},x.equals=function(f,m){var b=f[0],M=f[1],O=f[2],E=m[0],C=m[1],j=m[2];return Math.abs(b-E)<=d.EPSILON*Math.max(1,Math.abs(b),Math.abs(E))&&Math.abs(M-C)<=d.EPSILON*Math.max(1,Math.abs(M),Math.abs(C))&&Math.abs(O-j)<=d.EPSILON*Math.max(1,Math.abs(O),Math.abs(j))};var d=function(f){if(f&&f.__esModule)return f;var m={};if(f!=null)for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(m[b]=f[b]);return m.default=f,m}(s(59));function y(){var f=new d.ARRAY_TYPE(3);return d.ARRAY_TYPE!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f}function p(f){var m=f[0],b=f[1],M=f[2];return Math.sqrt(m*m+b*b+M*M)}function n(f,m,b){var M=new d.ARRAY_TYPE(3);return M[0]=f,M[1]=m,M[2]=b,M}function a(f,m,b){return f[0]=m[0]-b[0],f[1]=m[1]-b[1],f[2]=m[2]-b[2],f}function u(f,m,b){return f[0]=m[0]*b[0],f[1]=m[1]*b[1],f[2]=m[2]*b[2],f}function i(f,m,b){return f[0]=m[0]/b[0],f[1]=m[1]/b[1],f[2]=m[2]/b[2],f}function r(f,m){var b=m[0]-f[0],M=m[1]-f[1],O=m[2]-f[2];return Math.sqrt(b*b+M*M+O*O)}function o(f,m){var b=m[0]-f[0],M=m[1]-f[1],O=m[2]-f[2];return b*b+M*M+O*O}function c(f){var m=f[0],b=f[1],M=f[2];return m*m+b*b+M*M}function h(f,m){var b=m[0],M=m[1],O=m[2],E=b*b+M*M+O*O;return E>0&&(E=1/Math.sqrt(E),f[0]=m[0]*E,f[1]=m[1]*E,f[2]=m[2]*E),f}function v(f,m){return f[0]*m[0]+f[1]*m[1]+f[2]*m[2]}x.sub=a,x.mul=u,x.div=i,x.dist=r,x.sqrDist=o,x.len=p,x.sqrLen=c,x.forEach=function(){var f=y();return function(m,b,M,O,E,C){var j=void 0,B=void 0;for(b||(b=3),M||(M=0),B=O?Math.min(O*b+M,m.length):m.length,j=M;j<B;j+=b)f[0]=m[j],f[1]=m[j+1],f[2]=m[j+2],E(f,f,C),m[j]=f[0],m[j+1]=f[1],m[j+2]=f[2];return m}}()},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.sqrDist=x.dist=x.div=x.mul=x.sub=x.len=void 0,x.create=y,x.clone=function(c){var h=new d.ARRAY_TYPE(2);return h[0]=c[0],h[1]=c[1],h},x.fromValues=function(c,h){var v=new d.ARRAY_TYPE(2);return v[0]=c,v[1]=h,v},x.copy=function(c,h){return c[0]=h[0],c[1]=h[1],c},x.set=function(c,h,v){return c[0]=h,c[1]=v,c},x.add=function(c,h,v){return c[0]=h[0]+v[0],c[1]=h[1]+v[1],c},x.subtract=p,x.multiply=n,x.divide=a,x.ceil=function(c,h){return c[0]=Math.ceil(h[0]),c[1]=Math.ceil(h[1]),c},x.floor=function(c,h){return c[0]=Math.floor(h[0]),c[1]=Math.floor(h[1]),c},x.min=function(c,h,v){return c[0]=Math.min(h[0],v[0]),c[1]=Math.min(h[1],v[1]),c},x.max=function(c,h,v){return c[0]=Math.max(h[0],v[0]),c[1]=Math.max(h[1],v[1]),c},x.round=function(c,h){return c[0]=Math.round(h[0]),c[1]=Math.round(h[1]),c},x.scale=function(c,h,v){return c[0]=h[0]*v,c[1]=h[1]*v,c},x.scaleAndAdd=function(c,h,v,f){return c[0]=h[0]+v[0]*f,c[1]=h[1]+v[1]*f,c},x.distance=u,x.squaredDistance=i,x.length=r,x.squaredLength=o,x.negate=function(c,h){return c[0]=-h[0],c[1]=-h[1],c},x.inverse=function(c,h){return c[0]=1/h[0],c[1]=1/h[1],c},x.normalize=function(c,h){var v=h[0],f=h[1],m=v*v+f*f;return m>0&&(m=1/Math.sqrt(m),c[0]=h[0]*m,c[1]=h[1]*m),c},x.dot=function(c,h){return c[0]*h[0]+c[1]*h[1]},x.cross=function(c,h,v){var f=h[0]*v[1]-h[1]*v[0];return c[0]=c[1]=0,c[2]=f,c},x.lerp=function(c,h,v,f){var m=h[0],b=h[1];return c[0]=m+f*(v[0]-m),c[1]=b+f*(v[1]-b),c},x.random=function(c,h){h=h||1;var v=2*d.RANDOM()*Math.PI;return c[0]=Math.cos(v)*h,c[1]=Math.sin(v)*h,c},x.transformMat2=function(c,h,v){var f=h[0],m=h[1];return c[0]=v[0]*f+v[2]*m,c[1]=v[1]*f+v[3]*m,c},x.transformMat2d=function(c,h,v){var f=h[0],m=h[1];return c[0]=v[0]*f+v[2]*m+v[4],c[1]=v[1]*f+v[3]*m+v[5],c},x.transformMat3=function(c,h,v){var f=h[0],m=h[1];return c[0]=v[0]*f+v[3]*m+v[6],c[1]=v[1]*f+v[4]*m+v[7],c},x.transformMat4=function(c,h,v){var f=h[0],m=h[1];return c[0]=v[0]*f+v[4]*m+v[12],c[1]=v[1]*f+v[5]*m+v[13],c},x.rotate=function(c,h,v,f){var m=h[0]-v[0],b=h[1]-v[1],M=Math.sin(f),O=Math.cos(f);return c[0]=m*O-b*M+v[0],c[1]=m*M+b*O+v[1],c},x.angle=function(c,h){var v=c[0],f=c[1],m=h[0],b=h[1],M=v*v+f*f;M>0&&(M=1/Math.sqrt(M));var O=m*m+b*b;O>0&&(O=1/Math.sqrt(O));var E=(v*m+f*b)*M*O;return E>1?0:E<-1?Math.PI:Math.acos(E)},x.str=function(c){return"vec2("+c[0]+", "+c[1]+")"},x.exactEquals=function(c,h){return c[0]===h[0]&&c[1]===h[1]},x.equals=function(c,h){var v=c[0],f=c[1],m=h[0],b=h[1];return Math.abs(v-m)<=d.EPSILON*Math.max(1,Math.abs(v),Math.abs(m))&&Math.abs(f-b)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))};var d=function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(h[v]=c[v]);return h.default=c,h}(s(59));function y(){var c=new d.ARRAY_TYPE(2);return d.ARRAY_TYPE!=Float32Array&&(c[0]=0,c[1]=0),c}function p(c,h,v){return c[0]=h[0]-v[0],c[1]=h[1]-v[1],c}function n(c,h,v){return c[0]=h[0]*v[0],c[1]=h[1]*v[1],c}function a(c,h,v){return c[0]=h[0]/v[0],c[1]=h[1]/v[1],c}function u(c,h){var v=h[0]-c[0],f=h[1]-c[1];return Math.sqrt(v*v+f*f)}function i(c,h){var v=h[0]-c[0],f=h[1]-c[1];return v*v+f*f}function r(c){var h=c[0],v=c[1];return Math.sqrt(h*h+v*v)}function o(c){var h=c[0],v=c[1];return h*h+v*v}x.len=r,x.sub=p,x.mul=n,x.div=a,x.dist=u,x.sqrDist=i,x.sqrLen=o,x.forEach=function(){var c=y();return function(h,v,f,m,b,M){var O=void 0,E=void 0;for(v||(v=2),f||(f=0),E=m?Math.min(m*v+f,h.length):h.length,O=f;O<E;O+=v)c[0]=h[O],c[1]=h[O+1],b(c,c,M),h[O]=c[0],h[O+1]=c[1];return h}}()},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.sub=x.mul=void 0,x.create=function(){var n=new d.ARRAY_TYPE(9);return d.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n},x.fromMat4=function(n,a){return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[4],n[4]=a[5],n[5]=a[6],n[6]=a[8],n[7]=a[9],n[8]=a[10],n},x.clone=function(n){var a=new d.ARRAY_TYPE(9);return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],a},x.copy=function(n,a){return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n},x.fromValues=function(n,a,u,i,r,o,c,h,v){var f=new d.ARRAY_TYPE(9);return f[0]=n,f[1]=a,f[2]=u,f[3]=i,f[4]=r,f[5]=o,f[6]=c,f[7]=h,f[8]=v,f},x.set=function(n,a,u,i,r,o,c,h,v,f){return n[0]=a,n[1]=u,n[2]=i,n[3]=r,n[4]=o,n[5]=c,n[6]=h,n[7]=v,n[8]=f,n},x.identity=function(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.transpose=function(n,a){if(n===a){var u=a[1],i=a[2],r=a[5];n[1]=a[3],n[2]=a[6],n[3]=u,n[5]=a[7],n[6]=i,n[7]=r}else n[0]=a[0],n[1]=a[3],n[2]=a[6],n[3]=a[1],n[4]=a[4],n[5]=a[7],n[6]=a[2],n[7]=a[5],n[8]=a[8];return n},x.invert=function(n,a){var u=a[0],i=a[1],r=a[2],o=a[3],c=a[4],h=a[5],v=a[6],f=a[7],m=a[8],b=m*c-h*f,M=-m*o+h*v,O=f*o-c*v,E=u*b+i*M+r*O;return E?(E=1/E,n[0]=b*E,n[1]=(-m*i+r*f)*E,n[2]=(h*i-r*c)*E,n[3]=M*E,n[4]=(m*u-r*v)*E,n[5]=(-h*u+r*o)*E,n[6]=O*E,n[7]=(-f*u+i*v)*E,n[8]=(c*u-i*o)*E,n):null},x.adjoint=function(n,a){var u=a[0],i=a[1],r=a[2],o=a[3],c=a[4],h=a[5],v=a[6],f=a[7],m=a[8];return n[0]=c*m-h*f,n[1]=r*f-i*m,n[2]=i*h-r*c,n[3]=h*v-o*m,n[4]=u*m-r*v,n[5]=r*o-u*h,n[6]=o*f-c*v,n[7]=i*v-u*f,n[8]=u*c-i*o,n},x.determinant=function(n){var a=n[0],u=n[1],i=n[2],r=n[3],o=n[4],c=n[5],h=n[6],v=n[7],f=n[8];return a*(f*o-c*v)+u*(-f*r+c*h)+i*(v*r-o*h)},x.multiply=y,x.translate=function(n,a,u){var i=a[0],r=a[1],o=a[2],c=a[3],h=a[4],v=a[5],f=a[6],m=a[7],b=a[8],M=u[0],O=u[1];return n[0]=i,n[1]=r,n[2]=o,n[3]=c,n[4]=h,n[5]=v,n[6]=M*i+O*c+f,n[7]=M*r+O*h+m,n[8]=M*o+O*v+b,n},x.rotate=function(n,a,u){var i=a[0],r=a[1],o=a[2],c=a[3],h=a[4],v=a[5],f=a[6],m=a[7],b=a[8],M=Math.sin(u),O=Math.cos(u);return n[0]=O*i+M*c,n[1]=O*r+M*h,n[2]=O*o+M*v,n[3]=O*c-M*i,n[4]=O*h-M*r,n[5]=O*v-M*o,n[6]=f,n[7]=m,n[8]=b,n},x.scale=function(n,a,u){var i=u[0],r=u[1];return n[0]=i*a[0],n[1]=i*a[1],n[2]=i*a[2],n[3]=r*a[3],n[4]=r*a[4],n[5]=r*a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n},x.fromTranslation=function(n,a){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=a[0],n[7]=a[1],n[8]=1,n},x.fromRotation=function(n,a){var u=Math.sin(a),i=Math.cos(a);return n[0]=i,n[1]=u,n[2]=0,n[3]=-u,n[4]=i,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.fromScaling=function(n,a){return n[0]=a[0],n[1]=0,n[2]=0,n[3]=0,n[4]=a[1],n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.fromMat2d=function(n,a){return n[0]=a[0],n[1]=a[1],n[2]=0,n[3]=a[2],n[4]=a[3],n[5]=0,n[6]=a[4],n[7]=a[5],n[8]=1,n},x.fromQuat=function(n,a){var u=a[0],i=a[1],r=a[2],o=a[3],c=u+u,h=i+i,v=r+r,f=u*c,m=i*c,b=i*h,M=r*c,O=r*h,E=r*v,C=o*c,j=o*h,B=o*v;return n[0]=1-b-E,n[3]=m-B,n[6]=M+j,n[1]=m+B,n[4]=1-f-E,n[7]=O-C,n[2]=M-j,n[5]=O+C,n[8]=1-f-b,n},x.normalFromMat4=function(n,a){var u=a[0],i=a[1],r=a[2],o=a[3],c=a[4],h=a[5],v=a[6],f=a[7],m=a[8],b=a[9],M=a[10],O=a[11],E=a[12],C=a[13],j=a[14],B=a[15],N=u*h-i*c,I=u*v-r*c,F=u*f-o*c,G=i*v-r*h,U=i*f-o*h,H=r*f-o*v,Q=m*C-b*E,at=m*j-M*E,$=m*B-O*E,K=b*j-M*C,ot=b*B-O*C,it=M*B-O*j,ht=N*it-I*ot+F*K+G*$-U*at+H*Q;return ht?(ht=1/ht,n[0]=(h*it-v*ot+f*K)*ht,n[1]=(v*$-c*it-f*at)*ht,n[2]=(c*ot-h*$+f*Q)*ht,n[3]=(r*ot-i*it-o*K)*ht,n[4]=(u*it-r*$+o*at)*ht,n[5]=(i*$-u*ot-o*Q)*ht,n[6]=(C*H-j*U+B*G)*ht,n[7]=(j*F-E*H-B*I)*ht,n[8]=(E*U-C*F+B*N)*ht,n):null},x.projection=function(n,a,u){return n[0]=2/a,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/u,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n},x.str=function(n){return"mat3("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+")"},x.frob=function(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)+Math.pow(n[3],2)+Math.pow(n[4],2)+Math.pow(n[5],2)+Math.pow(n[6],2)+Math.pow(n[7],2)+Math.pow(n[8],2))},x.add=function(n,a,u){return n[0]=a[0]+u[0],n[1]=a[1]+u[1],n[2]=a[2]+u[2],n[3]=a[3]+u[3],n[4]=a[4]+u[4],n[5]=a[5]+u[5],n[6]=a[6]+u[6],n[7]=a[7]+u[7],n[8]=a[8]+u[8],n},x.subtract=p,x.multiplyScalar=function(n,a,u){return n[0]=a[0]*u,n[1]=a[1]*u,n[2]=a[2]*u,n[3]=a[3]*u,n[4]=a[4]*u,n[5]=a[5]*u,n[6]=a[6]*u,n[7]=a[7]*u,n[8]=a[8]*u,n},x.multiplyScalarAndAdd=function(n,a,u,i){return n[0]=a[0]+u[0]*i,n[1]=a[1]+u[1]*i,n[2]=a[2]+u[2]*i,n[3]=a[3]+u[3]*i,n[4]=a[4]+u[4]*i,n[5]=a[5]+u[5]*i,n[6]=a[6]+u[6]*i,n[7]=a[7]+u[7]*i,n[8]=a[8]+u[8]*i,n},x.exactEquals=function(n,a){return n[0]===a[0]&&n[1]===a[1]&&n[2]===a[2]&&n[3]===a[3]&&n[4]===a[4]&&n[5]===a[5]&&n[6]===a[6]&&n[7]===a[7]&&n[8]===a[8]},x.equals=function(n,a){var u=n[0],i=n[1],r=n[2],o=n[3],c=n[4],h=n[5],v=n[6],f=n[7],m=n[8],b=a[0],M=a[1],O=a[2],E=a[3],C=a[4],j=a[5],B=a[6],N=a[7],I=a[8];return Math.abs(u-b)<=d.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(i-M)<=d.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(r-O)<=d.EPSILON*Math.max(1,Math.abs(r),Math.abs(O))&&Math.abs(o-E)<=d.EPSILON*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(c-C)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(h-j)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(v-B)<=d.EPSILON*Math.max(1,Math.abs(v),Math.abs(B))&&Math.abs(f-N)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(N))&&Math.abs(m-I)<=d.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))};var d=function(n){if(n&&n.__esModule)return n;var a={};if(n!=null)for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u]);return a.default=n,a}(s(59));function y(n,a,u){var i=a[0],r=a[1],o=a[2],c=a[3],h=a[4],v=a[5],f=a[6],m=a[7],b=a[8],M=u[0],O=u[1],E=u[2],C=u[3],j=u[4],B=u[5],N=u[6],I=u[7],F=u[8];return n[0]=M*i+O*c+E*f,n[1]=M*r+O*h+E*m,n[2]=M*o+O*v+E*b,n[3]=C*i+j*c+B*f,n[4]=C*r+j*h+B*m,n[5]=C*o+j*v+B*b,n[6]=N*i+I*c+F*f,n[7]=N*r+I*h+F*m,n[8]=N*o+I*v+F*b,n}function p(n,a,u){return n[0]=a[0]-u[0],n[1]=a[1]-u[1],n[2]=a[2]-u[2],n[3]=a[3]-u[3],n[4]=a[4]-u[4],n[5]=a[5]-u[5],n[6]=a[6]-u[6],n[7]=a[7]-u[7],n[8]=a[8]-u[8],n}x.mul=y,x.sub=p},function(A,x,s){function d(u,i,r){return i in u?Object.defineProperty(u,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[i]=r,u}var y=5,p=s(819);Math.sign=function(u){return(u=+u)==0||isNaN(u)?u:u>0?1:-1};var n=function(u){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable}))),o.forEach(function(c){d(u,c,r[c])})}return u}({},p,{throttle:s(749),debounce:s(645),omit:function(i,r){var o={};return p.each(i,function(c,h){r.indexOf(h)===-1&&(o[h]=c)}),o},traverseTree:function(i,r,o,c){c===void 0&&(c=!1);var h=o(i);c&&r(i,null,null),h&&n.each(h,function(v,f){r(v,i,f),n.traverseTree(v,r,o)})},toAllPadding:function(i){var r=0,o=0,c=0,h=0;return n.isNumber(i)||n.isString(i)?r=o=c=h=i:n.isArray(i)&&(r=i[0],c=n.isNil(i[1])?i[0]:i[1],h=n.isNil(i[2])?i[0]:i[2],o=n.isNil(i[3])?c:i[3]),[r,c,h,o]},guid:function(){return"xxxxxxxx".replace(/[xy]/g,function(i){var r=16*Math.random()|0;return(i==="x"?r:3&r|8).toString(16)})},mix:function(){var i,r,o=n.toArray(arguments),c=o[0];if(c===!0)for(c=o[1],r=2;r<o.length;r++)a(c,i=o[r]);else for(r=1;r<o.length;r++)for(var h in i=o[r])i.hasOwnProperty(h)&&h!=="constructor"&&(c[h]=i[h]);return c},mixin:function(i,r){i&&r&&(i._mixins=r,i.ATTRS=i.ATTRS||{},n.each(r,function(o){n.augment(i,o)}),i.ATTRS=n.mix({},i.ATTRS))}});function a(u,i,r){for(var o in r=r||0,i)if(i.hasOwnProperty(o)){var c=i[o];c!==null&&n.isPlainObject(c)?(n.isPlainObject(u[o])||(u[o]={}),r<y?a(u[o],i[o],r+1):u[o]=i[o]):n.isArray(c)?(u[o]=[],u[o]=u[o].concat(c)):c!==void 0&&(u[o]=i[o])}}n.Array={remove:function(i,r){var o=n.indexOf(i,r);o!==-1&&i.splice(o,1)}},A.exports=n},function(A,x,s){var d=s(26),y={},p={draw:function(){}},n={defaultShapeType:null,getShape:function(u,i){return this[u]||this[i]||this[this.defaultShapeType]||p},getExtendShape:function(u,i){var r=this;if(d.isArray(u)){var o={};return u.forEach(function(c){r[c]&&(o=d.mix({},o,r.getShape(c,i)))}),o}return this.getShape(u,i)}};y.registerShapeManager=function(a,u){var i=d.mix({},n,u),r=d.upperFirst(a);return y[r]=i,y["register"+r]=function(o,c,h,v){d.isNil(h)&&d.isNil(v)&&(h=o);var f=i.getExtendShape(h,v),m=d.mix(!0,{},f,c);return m.type=o,i[o]=m,m},i},A.exports=y},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(A,x,s){var d=s(19),y=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,p=/[^\s\,]+/gi;A.exports={parseRadius:function(a){var u=0,i=0,r=0,o=0;return d.isArray(a)?a.length===1?u=i=r=o=a[0]:a.length===2?(u=r=a[0],i=o=a[1]):a.length===3?(u=a[0],i=o=a[1],r=a[2]):(u=a[0],i=a[1],r=a[2],o=a[3]):u=i=r=o=a,{r1:u,r2:i,r3:r,r4:o}},parsePath:function(a){return a=a||[],d.isArray(a)?a:d.isString(a)?(a=a.match(y),d.each(a,function(u,i){if((u=u.match(p))[0].length>1){var r=u[0].charAt(0);u.splice(1,0,u[0].substr(1)),u[0]=r}d.each(u,function(o,c){isNaN(o)||(u[c]=+o)}),a[i]=u}),a):void 0}}},function(A,x,s){var d=s(237);A.exports=function(y){return d(y)?"":y.toString()}},function(A,x,s){var d=s(115);A.exports=function(y){return d(y,"String")}},function(A,x,s){var d=s(619),y=s(115);A.exports=function(p){if(!d(p)||!y(p,"Object"))return!1;if(Object.getPrototypeOf(p)===null)return!0;for(var n=p;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(p)===n}},function(A,x,s){var d=function(y){function p(n){var a;return(a=y.call(this)||this).options=n,a}return function(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a}(p,y),p.prototype.execute=function(){var n=this,a=this.options;this.roots.forEach(function(u){n.layout(u,a).eachNode(function(i){i.data.x=i.x+i.data.width/2+i.hgap,i.data.y=i.y+i.data.height/2+i.vgap})})},p}(s(622));A.exports=d},function(A,x,s){(function(d,y){A.exports=y()})(typeof self!="undefined"&&self,function(){return function(d){var y={};function p(n){if(y[n])return y[n].exports;var a=y[n]={i:n,l:!1,exports:{}};return d[n].call(a.exports,a,a.exports,p),a.l=!0,a.exports}return p.m=d,p.c=y,p.d=function(n,a,u){p.o(n,a)||Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:u})},p.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return p.d(a,"a",a),a},p.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},p.p="",p(p.s=5)}([function(d,y,p){var n=p(7);d.exports={assign:n}},function(d,y,p){var n=p(3),a=function(){function u(i,r){r===void 0&&(r={}),this.options=r,this.rootNode=n(i,r)}return u.prototype.execute=function(){throw new Error("please override this method")},u}();d.exports=a},function(d,y,p){var n=p(4),a=["LR","RL","TB","BT","H","V"],u=["LR","RL","H"],i=a[0];d.exports=function(r,o,c){var h=o.direction||i;if(o.isHorizontal=function(M){return u.indexOf(M)>-1}(h),h&&a.indexOf(h)===-1)throw new TypeError("Invalid direction: "+h);if(h===a[0])c(r,o);else if(h===a[1])c(r,o),r.right2left();else if(h===a[2])c(r,o);else if(h===a[3])c(r,o),r.bottom2top();else if(h===a[4]||h===a[5]){var v=n(r,o),f=v.left,m=v.right;c(f,o),c(m,o),o.isHorizontal?f.right2left():f.bottom2top(),m.translate(f.x-m.x,f.y-m.y),r.x=f.x,r.y=m.y;var b=r.getBoundingBox();o.isHorizontal?b.top<0&&r.translate(0,-b.top):b.left<0&&r.translate(-b.left,0)}return r.translate(-(r.x+r.width/2+r.hgap),-(r.y+r.height/2+r.vgap)),r}},function(d,y,p){var n=p(0),a={getId:function(r){return r.id||r.name},getHGap:function(r){return r.hgap||18},getVGap:function(r){return r.vgap||18},getChildren:function(r){return r.children},getHeight:function(r){return r.height||36},getWidth:function(r){var o=r.name||" ";return r.width||18*o.split("").length}};function u(i,r){var o=this;if(o.vgap=o.hgap=0,i instanceof u)return i;o.data=i;var c=r.getHGap(i),h=r.getVGap(i);return o.width=r.getWidth(i),o.height=r.getHeight(i),o.id=r.getId(i),o.x=o.y=0,o.depth=0,o.children||(o.children=[]),o.addGap(c,h),o}n.assign(u.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(r,o){this.hgap+=r,this.vgap+=o,this.width+=2*r,this.height+=2*o},eachNode:function(r){for(var o,c=[this];o=c.pop();)r(o),c=c.concat(o.children)},DFTraverse:function(r){this.eachNode(r)},BFTraverse:function(r){for(var o,c=[this];o=c.shift();)r(o),c=c.concat(o.children)},getBoundingBox:function(){var r={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(o){r.left=Math.min(r.left,o.x),r.top=Math.min(r.top,o.y),r.width=Math.max(r.width,o.x+o.width),r.height=Math.max(r.height,o.y+o.height)}),r},translate:function(r,o){r===void 0&&(r=0),o===void 0&&(o=0),this.eachNode(function(c){c.x+=r,c.y+=o})},right2left:function(){var r=this.getBoundingBox();this.eachNode(function(o){o.x=o.x-2*(o.x-r.left)-o.width}),this.translate(r.width,0)},bottom2top:function(){var r=this.getBoundingBox();this.eachNode(function(o){o.y=o.y-2*(o.y-r.top)-o.height}),this.translate(0,r.height)}}),d.exports=function(i,r,o){r===void 0&&(r={});var c,h=new u(i,r=n.assign({},a,r)),v=[h];if(!o&&!i.collapsed){for(;c=v.pop();)if(!c.data.collapsed){var f=r.getChildren(c.data),m=f?f.length:0;if(c.children=new Array(m),f&&m)for(var b=0;b<m;b++){var M=new u(f[b],r);c.children[b]=M,v.push(M),M.parent=c,M.depth=c.depth+1}}}return h}},function(d,y,p){var n=p(3);d.exports=function(a,u){for(var i=n(a.data,u,!0),r=n(a.data,u,!0),o=a.children.length,c=Math.round(o/2),h=u.getSide||function(m,b){return b<c?"right":"left"},v=0;v<o;v++){var f=a.children[v];h(f,v)==="right"?r.children.push(f):i.children.push(f)}return i.eachNode(function(m){m.isRoot()||(m.side="left")}),r.eachNode(function(m){m.isRoot()||(m.side="right")}),{left:i,right:r}}},function(d,y,p){var n={compactBox:p(6),dendrogram:p(9),indented:p(11),mindmap:p(13)};d.exports=n},function(d,y,p){var n=p(1),a=p(8),u=p(2),i=p(0),r=function(c){function h(){return c.apply(this,arguments)||this}return function(v,f){v.prototype=Object.create(f.prototype),v.prototype.constructor=v,v.__proto__=f}(h,c),h.prototype.execute=function(){return u(this.rootNode,this.options,a)},h}(n),o={};d.exports=function(c,h){return h=i.assign({},o,h),new r(c,h).execute()}},function(d,y){function p(n,a){for(var u in a)a.hasOwnProperty(u)&&u!=="constructor"&&a[u]!==void 0&&(n[u]=a[u])}d.exports=function(n,a,u,i){return a&&p(n,a),u&&p(n,u),i&&p(n,i),n}},function(d,y){function p(a,u,i,r){r===void 0&&(r=[]);var o=this;o.w=a||0,o.h=u||0,o.y=i||0,o.x=0,o.c=r||[],o.cs=r.length,o.prelim=0,o.mod=0,o.shift=0,o.change=0,o.tl=null,o.tr=null,o.el=null,o.er=null,o.msel=0,o.mser=0}function n(a,u){(function i(r,o,c){c?r.y+=o:r.x+=o,r.children.forEach(function(h){i(h,o,c)})})(a,-function i(r,o){var c=o?r.y:r.x;return r.children.forEach(function(h){c=Math.min(i(h,o),c)}),c}(a,u),u)}p.fromNode=function(a,u){if(!a)return null;var i=[];return a.children.forEach(function(r){i.push(p.fromNode(r,u))}),u?new p(a.height,a.width,a.x,i):new p(a.width,a.height,a.y,i)},d.exports=function(a,u){u===void 0&&(u={});var i=u.isHorizontal;function r(M){M.cs===0?(M.el=M,M.er=M,M.msel=M.mser=0):(M.el=M.c[0].el,M.msel=M.c[0].msel,M.er=M.c[M.cs-1].er,M.mser=M.c[M.cs-1].mser)}function o(M,O,E){for(var C=M.c[O-1],j=C.mod,B=M.c[O],N=B.mod;C!==null&&B!==null;){f(C)>E.low&&(E=E.nxt);var I=j+C.prelim+C.w-(N+B.prelim);I>0&&(N+=I,c(M,O,E.index,I));var F=f(C),G=f(B);F<=G&&(C=v(C))!==null&&(j+=C.mod),F>=G&&(B=h(B))!==null&&(N+=B.mod)}!C&&B?function(U,H,Q,at){var $=U.c[0].el;$.tl=Q;var K=at-Q.mod-U.c[0].msel;$.mod+=K,$.prelim-=K,U.c[0].el=U.c[H].el,U.c[0].msel=U.c[H].msel}(M,O,B,N):C&&!B&&function(U,H,Q,at){var $=U.c[H].er;$.tr=Q;var K=at-Q.mod-U.c[H].mser;$.mod+=K,$.prelim-=K,U.c[H].er=U.c[H-1].er,U.c[H].mser=U.c[H-1].mser}(M,O,C,j)}function c(M,O,E,C){M.c[O].mod+=C,M.c[O].msel+=C,M.c[O].mser+=C,function(j,B,N,I){if(N!==B-1){var F=B-N;j.c[N+1].shift+=I/F,j.c[B].shift-=I/F,j.c[B].change-=I-I/F}}(M,O,E,C)}function h(M){return M.cs===0?M.tl:M.c[0]}function v(M){return M.cs===0?M.tr:M.c[M.cs-1]}function f(M){return M.y+M.h}function m(M,O,E){for(;E!==null&&M>=E.low;)E=E.nxt;return{low:M,index:O,nxt:E}}(function M(O,E,C){C===void 0&&(C=0),E?(O.x=C,C+=O.width):(O.y=C,C+=O.height),O.children.forEach(function(j){M(j,E,C)})})(a,i);var b=p.fromNode(a,i);return function M(O){if(O.cs!==0){M(O.c[0]);for(var E=m(f(O.c[0].el),0,null),C=1;C<O.cs;++C){M(O.c[C]);var j=f(O.c[C].er);o(O,C,E),E=m(j,C,E)}(function(B){B.prelim=(B.c[0].prelim+B.c[0].mod+B.c[B.cs-1].mod+B.c[B.cs-1].prelim+B.c[B.cs-1].w)/2-B.w/2})(O),r(O)}else r(O)}(b),function M(O,E){E+=O.mod,O.x=O.prelim+E,function(j){for(var B=0,N=0,I=0;I<j.cs;I++)B+=j.c[I].shift,N+=B+j.c[I].change,j.c[I].mod+=N}(O);for(var C=0;C<O.cs;C++)M(O.c[C],E)}(b,0),function M(O,E,C){C?E.y=O.x:E.x=O.x,O.c.forEach(function(j,B){M(j,E.children[B],C)})}(b,a,i),n(a,i),a}},function(d,y,p){var n=p(1),a=p(10),u=p(2),i=p(0),r=function(c){function h(){return c.apply(this,arguments)||this}return function(v,f){v.prototype=Object.create(f.prototype),v.prototype.constructor=v,v.__proto__=f}(h,c),h.prototype.execute=function(){return this.rootNode.width=0,u(this.rootNode,this.options,a)},h}(n),o={};d.exports=function(c,h){return h=i.assign({},o,h),new r(c,h).execute()}},function(d,y,p){var n=p(0),a={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};d.exports=function(u,i){i===void 0&&(i={}),i=n.assign({},a,i);var r,o=0,c=function h(v){if(!v)return null;v.width=0,v.depth&&v.depth>o&&(o=v.depth);var f=v.children,m=f.length,b=new function(M,O){M===void 0&&(M=0),O===void 0&&(O=[]);var E=this;E.x=E.y=0,E.leftChild=E.rightChild=null,E.height=0,E.children=O}(v.height,[]);return f.forEach(function(M,O){var E=h(M);b.children.push(E),O===0&&(b.leftChild=E),O===m-1&&(b.rightChild=E)}),b.originNode=v,b.isLeaf=v.isLeaf(),b}(u);return function h(v){if(v.isLeaf||v.children.length===0)v.drawingDepth=o;else{var f=v.children.map(function(b){return h(b)}),m=Math.min.apply(null,f);v.drawingDepth=m-1}return v.drawingDepth}(c),function h(v){v.x=v.drawingDepth*i.rankSep,v.isLeaf?(v.y=0,r&&(v.y=r.y+r.height+i.nodeSep,v.originNode.parent!==r.originNode.parent&&(v.y+=i.subTreeSep)),r=v):(v.children.forEach(function(f){h(f)}),v.y=(v.leftChild.y+v.rightChild.y)/2)}(c),function h(v,f,m){m?(f.x=v.x,f.y=v.y):(f.x=v.y,f.y=v.x),v.children.forEach(function(b,M){h(b,f.children[M],m)})}(c,u,i.isHorizontal),u}},function(d,y,p){var n=p(1),a=p(12),u=p(4),i=p(0),r=["LR","RL","H"],o=r[0],c=function(v){function f(){return v.apply(this,arguments)||this}return function(m,b){m.prototype=Object.create(b.prototype),m.prototype.constructor=m,m.__proto__=b}(f,v),f.prototype.execute=function(){var m=this.options,b=this.rootNode;m.isHorizontal=!0;var M=m.indent,O=m.direction||o;if(O&&r.indexOf(O)===-1)throw new TypeError("Invalid direction: "+O);if(O===r[0])a(b,M);else if(O===r[1])a(b,M),b.right2left();else if(O===r[2]){var E=u(b,m),C=E.left,j=E.right;a(C,M),C.right2left(),a(j,M);var B=C.getBoundingBox();j.translate(B.width,0),b.x=j.x-b.width/2}return b},f}(n),h={};d.exports=function(v,f){return f=i.assign({},h,f),new c(v,f).execute()}},function(d,y){d.exports=function(p,n){n===void 0&&(n=20);var a=null;p.eachNode(function(u){(function(i,r,o){i.x+=o*i.depth,i.y=r?r.y+r.height:0})(u,a,n),a=u})}},function(d,y,p){var n=p(1),a=p(14),u=p(2),i=p(0),r=function(c){function h(){return c.apply(this,arguments)||this}return function(v,f){v.prototype=Object.create(f.prototype),v.prototype.constructor=v,v.__proto__=f}(h,c),h.prototype.execute=function(){return u(this.rootNode,this.options,a)},h}(n),o={};d.exports=function(c,h){return h=i.assign({},o,h),new r(c,h).execute()}},function(d,y,p){var n=p(0),a={getSubTreeSep:function(){return 0}};d.exports=function(u,i){i===void 0&&(i={}),i=n.assign({},a,i),u.parent={x:0,width:0,height:0,y:0},u.BFTraverse(function(r){r.x=r.parent.x+r.parent.width}),u.parent=null,function r(o,c){var h=0;return o.children.length?o.children.forEach(function(v){h+=r(v,c)}):h=o.height,o._subTreeSep=c.getSubTreeSep(o.data),o.totalHeight=Math.max(o.height,h)+2*o._subTreeSep,o.totalHeight}(u,i),u.startY=0,u.y=u.totalHeight/2-u.height/2,u.eachNode(function(r){var o=r.children,c=o.length;if(c){var h=o[0];if(h.startY=r.startY+r._subTreeSep,c===1)h.y=r.y+r.height/2-h.height/2;else{h.y=h.startY+h.totalHeight/2-h.height/2;for(var v=1;v<c;v++){var f=o[v];f.startY=o[v-1].startY+o[v-1].totalHeight,f.y=f.startY+f.totalHeight/2-f.height/2}}}}),function r(o){var c=o.children,h=c.length;if(h){c.forEach(function(O){r(O)});var v=c[0],f=c[h-1],m=f.y-v.y+f.height,b=0;if(c.forEach(function(O){b+=O.totalHeight}),m>o.height)o.y=v.y+m/2-o.height/2;else if(c.length!==1||o.height>b){var M=o.y+(o.height-m)/2-v.y;c.forEach(function(O){O.translate(0,M)})}else o.y=(v.y+v.height/2+f.y+f.height/2)/2-o.height/2}}(u)}}])})},function(A,x,s){var d=s(26),y=function(){var p=n.prototype;function n(a){var u=this.getDefaultCfg();d.mix(this,u,a),this._init()}return p.getDefaultCfg=function(){return{}},p._init=function(){},p.destroy=function(){},n}();A.exports=y},function(A,x,s){var d=s(19),y=s(613),p=s(612),n=s(640),a=s(639),u=d.vec3,i=d.mat3,r=["m","l","c","a","q","h","v","t","s","z"];function o(b,M,O){return{x:O.x+b,y:O.y+M}}function c(b,M){return{x:M.x+(M.x-b.x),y:M.y+(M.y-b.y)}}function h(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])}function v(b,M){return(b[0]*M[0]+b[1]*M[1])/(h(b)*h(M))}function f(b,M){return(b[0]*M[1]<b[1]*M[0]?-1:1)*Math.acos(v(b,M))}var m=function(M,O,E){this.preSegment=O,this.isLast=E,this.init(M,O)};d.augment(m,{init:function(M,O){var E=M[0];O=O||{endPoint:{x:0,y:0}};var C,j,B,N,I=r.indexOf(E)>=0,F=I?E.toUpperCase():E,G=M,U=O.endPoint,H=G[1],Q=G[2];switch(F){default:break;case"M":N=I?o(H,Q,U):{x:H,y:Q},this.command="M",this.params=[U,N],this.subStart=N,this.endPoint=N;break;case"L":N=I?o(H,Q,U):{x:H,y:Q},this.command="L",this.params=[U,N],this.subStart=O.subStart,this.endPoint=N,this.endTangent=function(){return[N.x-U.x,N.y-U.y]},this.startTangent=function(){return[U.x-N.x,U.y-N.y]};break;case"H":N=I?o(H,0,U):{x:H,y:U.y},this.command="L",this.params=[U,N],this.subStart=O.subStart,this.endPoint=N,this.endTangent=function(){return[N.x-U.x,N.y-U.y]},this.startTangent=function(){return[U.x-N.x,U.y-N.y]};break;case"V":N=I?o(0,H,U):{x:U.x,y:H},this.command="L",this.params=[U,N],this.subStart=O.subStart,this.endPoint=N,this.endTangent=function(){return[N.x-U.x,N.y-U.y]},this.startTangent=function(){return[U.x-N.x,U.y-N.y]};break;case"Q":I?(C=o(H,Q,U),j=o(G[3],G[4],U)):(C={x:H,y:Q},j={x:G[3],y:G[4]}),this.command="Q",this.params=[U,C,j],this.subStart=O.subStart,this.endPoint=j,this.endTangent=function(){return[j.x-C.x,j.y-C.y]},this.startTangent=function(){return[U.x-C.x,U.y-C.y]};break;case"T":j=I?o(H,Q,U):{x:H,y:Q},O.command==="Q"?(C=c(O.params[1],U),this.command="Q",this.params=[U,C,j],this.subStart=O.subStart,this.endPoint=j,this.endTangent=function(){return[j.x-C.x,j.y-C.y]},this.startTangent=function(){return[U.x-C.x,U.y-C.y]}):(this.command="TL",this.params=[U,j],this.subStart=O.subStart,this.endPoint=j,this.endTangent=function(){return[j.x-U.x,j.y-U.y]},this.startTangent=function(){return[U.x-j.x,U.y-j.y]});break;case"C":I?(C=o(H,Q,U),j=o(G[3],G[4],U),B=o(G[5],G[6],U)):(C={x:H,y:Q},j={x:G[3],y:G[4]},B={x:G[5],y:G[6]}),this.command="C",this.params=[U,C,j,B],this.subStart=O.subStart,this.endPoint=B,this.endTangent=function(){return[B.x-j.x,B.y-j.y]},this.startTangent=function(){return[U.x-C.x,U.y-C.y]};break;case"S":I?(j=o(H,Q,U),B=o(G[3],G[4],U)):(j={x:H,y:Q},B={x:G[3],y:G[4]}),O.command==="C"?(C=c(O.params[2],U),this.command="C",this.params=[U,C,j,B],this.subStart=O.subStart,this.endPoint=B,this.endTangent=function(){return[B.x-j.x,B.y-j.y]},this.startTangent=function(){return[U.x-C.x,U.y-C.y]}):(this.command="SQ",this.params=[U,j,B],this.subStart=O.subStart,this.endPoint=B,this.endTangent=function(){return[B.x-j.x,B.y-j.y]},this.startTangent=function(){return[U.x-j.x,U.y-j.y]});break;case"A":var at=H,$=Q,K=G[3],ot=G[4],it=G[5];N=I?o(G[6],G[7],U):{x:G[6],y:G[7]},this.command="A";var ht=function(vt,_t,Nt,At,It,dt,X){var V=d.mod(d.toRadian(X),2*Math.PI),Z=vt.x,W=vt.y,rt=_t.x,J=_t.y,tt=Math.cos(V)*(Z-rt)/2+Math.sin(V)*(W-J)/2,ft=-1*Math.sin(V)*(Z-rt)/2+Math.cos(V)*(W-J)/2,kt=tt*tt/(It*It)+ft*ft/(dt*dt);kt>1&&(It*=Math.sqrt(kt),dt*=Math.sqrt(kt));var jt=It*It*(ft*ft)+dt*dt*(tt*tt),Bt=Math.sqrt((It*It*(dt*dt)-jt)/jt);Nt===At&&(Bt*=-1),isNaN(Bt)&&(Bt=0);var Rt=Bt*It*ft/dt,Lt=Bt*-dt*tt/It,Pt=(Z+rt)/2+Math.cos(V)*Rt-Math.sin(V)*Lt,Ct=(W+J)/2+Math.sin(V)*Rt+Math.cos(V)*Lt,Ht=f([1,0],[(tt-Rt)/It,(ft-Lt)/dt]),Xt=[(tt-Rt)/It,(ft-Lt)/dt],ut=[(-1*tt-Rt)/It,(-1*ft-Lt)/dt],re=f(Xt,ut);return v(Xt,ut)<=-1&&(re=Math.PI),v(Xt,ut)>=1&&(re=0),At===0&&re>0&&(re-=2*Math.PI),At===1&&re<0&&(re+=2*Math.PI),[vt,Pt,Ct,It,dt,Ht,re,V,At]}(U,N,ot,it,at,$,K);this.params=ht;var St=O.subStart;this.subStart=St,this.endPoint=N;var gt=ht[5]%(2*Math.PI);d.isNumberEqual(gt,2*Math.PI)&&(gt=0);var bt=ht[6]%(2*Math.PI);d.isNumberEqual(bt,2*Math.PI)&&(bt=0);var mt=.001;this.startTangent=function(){it===0&&(mt*=-1);var vt=ht[3]*Math.cos(gt-mt)+ht[1],_t=ht[4]*Math.sin(gt-mt)+ht[2];return[vt-St.x,_t-St.y]},this.endTangent=function(){var vt=ht[6];vt-2*Math.PI<1e-4&&(vt=0);var _t=ht[3]*Math.cos(gt+vt+mt)+ht[1],Nt=ht[4]*Math.sin(gt+vt-mt)+ht[2];return[U.x-_t,U.y-Nt]};break;case"Z":this.command="Z",this.params=[U,O.subStart],this.subStart=O.subStart,this.endPoint=O.subStart}},isInside:function(M,O,E){var C=this.command,j=this.params,B=this.box;if(B&&!y.box(B.minX,B.maxX,B.minY,B.maxY,M,O))return!1;switch(C){default:break;case"M":return!1;case"TL":case"L":case"Z":return y.line(j[0].x,j[0].y,j[1].x,j[1].y,E,M,O);case"SQ":case"Q":return y.quadraticline(j[0].x,j[0].y,j[1].x,j[1].y,j[2].x,j[2].y,E,M,O);case"C":return y.cubicline(j[0].x,j[0].y,j[1].x,j[1].y,j[2].x,j[2].y,j[3].x,j[3].y,E,M,O);case"A":var N=j,I=N[1],F=N[2],G=N[3],U=N[4],H=N[5],Q=N[6],at=N[7],$=N[8],K=G>U?G:U,ot=G>U?1:G/U,it=G>U?U/G:1;N=[M,O,1];var ht=[1,0,0,0,1,0,0,0,1];return i.translate(ht,ht,[-I,-F]),i.rotate(ht,ht,-at),i.scale(ht,ht,[1/ot,1/it]),u.transformMat3(N,N,ht),y.arcline(0,0,K,H,H+Q,1-$,E,N[0],N[1])}return!1},draw:function(M){var O,E,C,j=this.command,B=this.params;switch(j){default:break;case"M":M.moveTo(B[1].x,B[1].y);break;case"TL":case"L":M.lineTo(B[1].x,B[1].y);break;case"SQ":case"Q":O=B[1],E=B[2],M.quadraticCurveTo(O.x,O.y,E.x,E.y);break;case"C":O=B[1],E=B[2],C=B[3],M.bezierCurveTo(O.x,O.y,E.x,E.y,C.x,C.y);break;case"A":var N=B,I=N[1],F=N[2],G=N[3],U=N[4],H=N[5],Q=N[6],at=N[7],$=N[8],K=G>U?G:U,ot=G>U?1:G/U,it=G>U?U/G:1;M.translate(I,F),M.rotate(at),M.scale(ot,it),M.arc(0,0,K,H,H+Q,1-$),M.scale(1/ot,1/it),M.rotate(-at),M.translate(-I,-F);break;case"Z":M.closePath()}},getBBox:function(M){var O,E,C,j,B=M/2,N=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(N[0].x,N[1].x)-B,maxX:Math.max(N[0].x,N[1].x)+B,minY:Math.min(N[0].y,N[1].y)-B,maxY:Math.max(N[0].y,N[1].y)+B};break;case"SQ":case"Q":for(C=0,j=(E=n.extrema(N[0].x,N[1].x,N[2].x)).length;C<j;C++)E[C]=n.at(N[0].x,N[1].x,N[2].x,E[C]);for(E.push(N[0].x,N[2].x),C=0,j=(O=n.extrema(N[0].y,N[1].y,N[2].y)).length;C<j;C++)O[C]=n.at(N[0].y,N[1].y,N[2].y,O);O.push(N[0].y,N[2].y),this.box={minX:Math.min.apply(Math,E)-B,maxX:Math.max.apply(Math,E)+B,minY:Math.min.apply(Math,O)-B,maxY:Math.max.apply(Math,O)+B};break;case"C":for(C=0,j=(E=p.extrema(N[0].x,N[1].x,N[2].x,N[3].x)).length;C<j;C++)E[C]=p.at(N[0].x,N[1].x,N[2].x,N[3].x,E[C]);for(C=0,j=(O=p.extrema(N[0].y,N[1].y,N[2].y,N[3].y)).length;C<j;C++)O[C]=p.at(N[0].y,N[1].y,N[2].y,N[3].y,O[C]);E.push(N[0].x,N[3].x),O.push(N[0].y,N[3].y),this.box={minX:Math.min.apply(Math,E)-B,maxX:Math.max.apply(Math,E)+B,minY:Math.min.apply(Math,O)-B,maxY:Math.max.apply(Math,O)+B};break;case"A":var I=N,F=I[1],G=I[2],U=I[3],H=I[4],Q=I[5],at=I[6],$=I[7],K=I[8],ot=Q,it=Q+at,ht=a.xExtrema($,U,H),St=1/0,gt=-1/0,bt=[ot,it];for(C=2*-Math.PI;C<=2*Math.PI;C+=Math.PI){var mt=ht+C;K===1?ot<mt&&mt<it&&bt.push(mt):it<mt&&mt<ot&&bt.push(mt)}for(C=0,j=bt.length;C<j;C++){var vt=a.xAt($,U,H,F,bt[C]);vt<St&&(St=vt),vt>gt&&(gt=vt)}var _t=a.yExtrema($,U,H),Nt=1/0,At=-1/0,It=[ot,it];for(C=2*-Math.PI;C<=2*Math.PI;C+=Math.PI){var dt=_t+C;K===1?ot<dt&&dt<it&&It.push(dt):it<dt&&dt<ot&&It.push(dt)}for(C=0,j=It.length;C<j;C++){var X=a.yAt($,U,H,G,It[C]);X<Nt&&(Nt=X),X>At&&(At=X)}this.box={minX:St-B,maxX:gt+B,minY:Nt-B,maxY:At+B}}}}),A.exports=m},function(A,x,s){var d=s(593),y=s(600),p=Math.PI,n=Math.sin,a=Math.cos,u=Math.atan2,i=10,r=p/3;function o(h,v,f,m,b,M,O){var E,C,j,B,N,I,F;if(!v.fill){var G=v.arrowLength||i,U=v.arrowAngle?v.arrowAngle*p/180:r;F=u(m-M,f-b),N=Math.abs(v.lineWidth*a(F))/2,I=Math.abs(v.lineWidth*n(F))/2,O&&(N=-N,I=-I),E=b+G*a(F+U/2),C=M+G*n(F+U/2),j=b+G*a(F-U/2),B=M+G*n(F-U/2),h.beginPath(),h.moveTo(E-N,C-I),h.lineTo(b-N,M-I),h.lineTo(j-N,B-I),h.moveTo(b-N,M-I),h.lineTo(b+N,M+I),h.moveTo(b,M),h.stroke()}}function c(h,v,f,m,b,M,O){var E=O?v.startArrow:v.endArrow,C=E.d,j=0,B=b-f,N=M-m,I=Math.atan(B/N);N===0&&B<0?j=Math.PI:B>0&&N>0?j=Math.PI/2-I:B<0&&N<0?j=-Math.PI/2-I:B>=0&&N<0?j=-I-Math.PI/2:B<=0&&N>0&&(j=Math.PI/2-I);var F=function(U){var H,Q=[],at=d.parsePath(U.path);if(!Array.isArray(at)||at.length===0||at[0][0]!=="M"&&at[0][0]!=="m")return!1;for(var $=at.length,K=0;K<at.length;K++){var ot=at[K];H=new y(ot,H,K===$-1),Q.push(H)}return Q}(E);if(F){C&&(O?(b+=Math.sin(Math.abs(I))*C,M=M+Math.cos(Math.abs(I))*C-.5*h.lineWidth):(b-=Math.sin(Math.abs(I))*C,M=M-Math.cos(Math.abs(I))*C+.5*h.lineWidth)),h.save(),h.beginPath(),h.translate(b,M),h.rotate(j);for(var G=0;G<F.length;G++)F[G].draw(h);h.setTransform(1,0,0,1,0,0),h.fillStyle=h.strokeStyle,h.fill(),h.restore()}}A.exports={addStartArrow:function(v,f,m,b,M,O){typeof f.startArrow=="object"?c(v,f,m,b,M,O,!0):f.startArrow&&o(v,f,m,b,M,O,!0)},addEndArrow:function(v,f,m,b,M,O){typeof f.endArrow=="object"?c(v,f,m,b,M,O,!1):f.endArrow&&o(v,f,m,b,M,O,!1)}}},function(A,x,s){var d=s(19);function y(u,i,r,o){return{x:Math.cos(o)*r+u,y:Math.sin(o)*r+i}}function p(u,i,r,o){var c,h;return o?u<i?(c=i-u,h=2*Math.PI-r+u):u>r&&(c=2*Math.PI-u+i,h=u-r):(c=u-i,h=r-u),c>h?r:i}function n(u,i,r,o){var c=0;return r-i>=2*Math.PI&&(c=2*Math.PI),i=d.mod(i,2*Math.PI),r=d.mod(r,2*Math.PI)+c,u=d.mod(u,2*Math.PI),o?i>=r?u>r&&u<i?u:p(u,r,i,!0):u<i||u>r?u:p(u,i,r):i<=r?i<u&&u<r?u:p(u,i,r,!0):u>i||u<r?u:p(u,r,i)}function a(u,i,r,o,c,h,v,f,m){var b=[v,f],M=[u,i],O=d.vec2.subtract([],b,M),E=d.vec2.angleTo([1,0],O);E=n(E,o,c,h);var C=[r*Math.cos(E)+u,r*Math.sin(E)+i];return m&&(m.x=C[0],m.y=C[1]),d.vec2.distance(C,b)}A.exports={nearAngle:n,projectPoint:function(i,r,o,c,h,v,f,m){var b={};return a(i,r,o,c,h,v,f,m,b),b},pointDistance:a,box:function(i,r,o,c,h,v){var f=Math.PI/2,m=Math.PI,b=3*Math.PI/2,M=[],O=n(0,c,h,v);O===0&&M.push(y(i,r,o,0)),(O=n(f,c,h,v))===f&&M.push(y(i,r,o,f)),(O=n(m,c,h,v))===m&&M.push(y(i,r,o,m)),(O=n(b,c,h,v))===b&&M.push(y(i,r,o,b)),M.push(y(i,r,o,c)),M.push(y(i,r,o,h));var E=1/0,C=-1/0,j=1/0,B=-1/0;return d.each(M,function(N){E>N.x&&(E=N.x),C<N.x&&(C=N.x),j>N.y&&(j=N.y),B<N.y&&(B=N.y)}),{minX:E,minY:j,maxX:C,maxY:B}}}},function(A,x,s){var d=s(19).vec2;A.exports={at:function(p,n,a){return(n-p)*a+p},pointDistance:function(p,n,a,u,i,r){var o=[a-p,u-n];if(d.exactEquals(o,[0,0]))return NaN;var c=[-o[1],o[0]];d.normalize(c,c);var h=[i-p,r-n];return Math.abs(d.dot(h,c))},box:function(p,n,a,u,i){var r=i/2,o=Math.min(p,a),c=Math.max(p,a);return{minX:o-r,minY:Math.min(n,u)-r,maxX:c+r,maxY:Math.max(n,u)+r}},len:function(p,n,a,u){return Math.sqrt((a-p)*(a-p)+(u-n)*(u-n))}}},function(A,x,s){var d=s(118);A.exports=function(y){return d(y)?Array.prototype.slice.call(y):[]}},function(A,x,s){var d=s(118),y=Array.prototype.indexOf;A.exports=function(p,n){return!!d(p)&&y.call(p,n)>-1}},function(A,x){function s(d,y){for(var p in y)y.hasOwnProperty(p)&&p!=="constructor"&&y[p]!==void 0&&(d[p]=y[p])}A.exports=function(d,y,p,n){return y&&s(d,y),p&&s(d,p),n&&s(d,n),d}},,function(A,x,s){var d=s(26),y=function(){function p(a){d.mix(this,{id:"",type:null,model:{},group:null,animate:!1,modelCache:{},isItem:!0,visible:!0},a),this._init()}var n=p.prototype;return n._init=function(){this._initGroup(),this.draw()},n._mapping=function(){var a=this.mapper,u=this.model;a.mapping(u)},n._initGroup=function(){var a=this.group,u=this.model,i=this.type;a.isItemContainer=!0,a.id=u.id,a.itemType=i,a.model=u,a.item=this},n._calculateBBox=function(){var a=this.keyShape,u=this.group,i=d.getBBox(a,u);return i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2,i},n.getLabel=function(){return this.group.findByClass("label")[0]},n.getGraph=function(){return this.graph},n._setShapeObj=function(){var a=this.graph,u=this.type,i=this.getModel();this.shapeObj=a.getShapeObj(u,i)},n._afterDraw=function(){var a=this.graph;this._setGId(),this._cacheModel(),a.emit("afteritemdraw",{item:this})},n._cacheModel=function(){this.modelCache=d.mix({},this.model)},n._setGId=function(){var a=this.group,u=this.id,i=this.type;a.gid=u,a.deepEach(function(r,o,c){var h=o.gid;if(r.id=u,r.eventPreFix=i,r.gid=h+"-"+c,r.isShape){var v=r.get("type");r.gid+="-"+v}})},n._beforeDraw=function(){var a=this.graph,u=this.group;a.emit("beforeitemdraw",{item:this}),u.resetMatrix(),this.updateCollapsedParent()},n._shouldDraw=function(){return!0},n._getDiff=function(){var a=[],u=this.model,i=this.modelCache;return d.each(u,function(r,o){d.isEqual(r,i[o])||a.push(o)}),a.length!==0&&a},n._drawInner=function(){var a=this.animate;this.group.clear(!a),this._mapping(),this._setShapeObj();var u=this.shapeObj,i=u.draw(this);i&&(i.isKeyShape=!0,this.keyShape=i),u.afterDraw&&u.afterDraw(this)},n.deepEach=function(a,u){d.traverseTree(this,a,u||function(i){return i.getChildren()})},n.getShapeObj=function(){return this.shapeObj},n.updateCollapsedParent=function(){var a=this.dataMap;this.collapsedParent=function u(i,r){var o=r[i.parent];if(!o)return!1;if(o){var c=u(o,r);if(c)return c}return o.collapsed?o:void 0}(this.model,a)},n.isVisible=function(){return this.visible},n.hide=function(){var a=this.group,u=this.graph;u.emit("beforeitemhide",{item:this}),a.hide(),this.visible=!1,u.emit("afteritemhide",{item:this})},n.show=function(){var a=this.group,u=this.graph;u.emit("beforeitemshow",{item:this}),a.show(),this.visible=!0,u.emit("afteritemshow",{item:this})},n.draw=function(){this._beforeDraw(),this._shouldDraw()&&this._drawInner(),this._afterDraw()},n.forceUpdate=function(){this._beforeDraw(),this._drawInner(),this._afterDraw()},n.getCenter=function(){var a=this.getBBox();return{x:a.centerX,y:a.centerY}},n.getBBox=function(){return this.bbox||this._calculateBBox()},n.layoutUpdate=function(){this.isVisible()&&this.draw()},n.update=function(){this.draw()},n.getModel=function(){return this.model},n.getKeyShape=function(){return this.keyShape},n.getGraphicGroup=function(){return this.group},n.getHierarchy=function(){return this.graph.getHierarchy(this)},n.getParent=function(){var a=this.model;return this.itemMap[a.parent]},n.getAllParents=function(){for(var a=this.model,u=this.itemMap,i=[],r=a.parent;r&&u[r];){var o=u[r],c=o.getModel();i.push(o),r=c.parent}return i},n.getAllChildren=function(){var a=[];return this.deepEach(function(u){a.push(u)}),a},n.getChildren=function(){var a=this.id;return this.graph.getItems().filter(function(u){return u.model.parent===a})},n.toFront=function(){this.group.toFront()},n.toBack=function(){this.group.toBack()},n.destroy=function(){if(!this.destroyed){var a=this.animate,u=this.graph;u.emit("beforeitemdestroy",{item:this}),this.group.remove(!a),this.destroyed=!0,u.emit("afteritemdestroy",{item:this})}},p}();A.exports=y},function(A,x){A.exports="2.2.6"},function(A,x,s){var d=s(644),y=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,p=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),n=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig"),a=function($){if(!$)return null;if(typeof $==typeof[])return $;var K={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ot=[];return String($).replace(p,function(it,ht,St){var gt=[],bt=ht.toLowerCase();if(St.replace(n,function(mt,vt){vt&&gt.push(+vt)}),bt==="m"&&gt.length>2&&(ot.push([ht].concat(gt.splice(0,2))),bt="l",ht=ht==="m"?"l":"L"),bt==="o"&&gt.length===1&&ot.push([ht,gt[0]]),bt==="r")ot.push([ht].concat(gt));else for(;gt.length>=K[bt]&&(ot.push([ht].concat(gt.splice(0,K[bt]))),K[bt]););}),ot},u=function($,K){for(var ot=[],it=0,ht=$.length;ht-2*!K>it;it+=2){var St=[{x:+$[it-2],y:+$[it-1]},{x:+$[it],y:+$[it+1]},{x:+$[it+2],y:+$[it+3]},{x:+$[it+4],y:+$[it+5]}];K?it?ht-4===it?St[3]={x:+$[0],y:+$[1]}:ht-2===it&&(St[2]={x:+$[0],y:+$[1]},St[3]={x:+$[2],y:+$[3]}):St[0]={x:+$[ht-2],y:+$[ht-1]}:ht-4===it?St[3]=St[2]:it||(St[0]={x:+$[it],y:+$[it+1]}),ot.push(["C",(-St[0].x+6*St[1].x+St[2].x)/6,(-St[0].y+6*St[1].y+St[2].y)/6,(St[1].x+6*St[2].x-St[3].x)/6,(St[1].y+6*St[2].y-St[3].y)/6,St[2].x,St[2].y])}return ot},i=function($,K,ot,it,ht){var St=[];if(ht===null&&it===null&&(it=ot),$=+$,K=+K,ot=+ot,it=+it,ht!==null){var gt=Math.PI/180,bt=$+ot*Math.cos(-it*gt),mt=$+ot*Math.cos(-ht*gt);St=[["M",bt,K+ot*Math.sin(-it*gt)],["A",ot,ot,0,+(ht-it>180),0,mt,K+ot*Math.sin(-ht*gt)]]}else St=[["M",$,K],["m",0,-it],["a",ot,it,0,1,1,0,2*it],["a",ot,it,0,1,1,0,-2*it],["z"]];return St},r=function($){if(!($=a($))||!$.length)return[["M",0,0]];var K,ot,it=[],ht=0,St=0,gt=0,bt=0,mt=0;$[0][0]==="M"&&(gt=ht=+$[0][1],bt=St=+$[0][2],mt++,it[0]=["M",ht,St]);for(var vt,_t,Nt=$.length===3&&$[0][0]==="M"&&$[1][0].toUpperCase()==="R"&&$[2][0].toUpperCase()==="Z",At=mt,It=$.length;At<It;At++){if(it.push(vt=[]),(K=(_t=$[At])[0])!==K.toUpperCase())switch(vt[0]=K.toUpperCase(),vt[0]){case"A":vt[1]=_t[1],vt[2]=_t[2],vt[3]=_t[3],vt[4]=_t[4],vt[5]=_t[5],vt[6]=+_t[6]+ht,vt[7]=+_t[7]+St;break;case"V":vt[1]=+_t[1]+St;break;case"H":vt[1]=+_t[1]+ht;break;case"R":for(var dt=2,X=(ot=[ht,St].concat(_t.slice(1))).length;dt<X;dt++)ot[dt]=+ot[dt]+ht,ot[++dt]=+ot[dt]+St;it.pop(),it=it.concat(u(ot,Nt));break;case"O":it.pop(),(ot=i(ht,St,_t[1],_t[2])).push(ot[0]),it=it.concat(ot);break;case"U":it.pop(),it=it.concat(i(ht,St,_t[1],_t[2],_t[3])),vt=["U"].concat(it[it.length-1].slice(-2));break;case"M":gt=+_t[1]+ht,bt=+_t[2]+St;break;default:for(var V=1,Z=_t.length;V<Z;V++)vt[V]=+_t[V]+(V%2?ht:St)}else if(K==="R")ot=[ht,St].concat(_t.slice(1)),it.pop(),it=it.concat(u(ot,Nt)),vt=["R"].concat(_t.slice(-2));else if(K==="O")it.pop(),(ot=i(ht,St,_t[1],_t[2])).push(ot[0]),it=it.concat(ot);else if(K==="U")it.pop(),it=it.concat(i(ht,St,_t[1],_t[2],_t[3])),vt=["U"].concat(it[it.length-1].slice(-2));else for(var W=0,rt=_t.length;W<rt;W++)vt[W]=_t[W];if((K=K.toUpperCase())!=="O")switch(vt[0]){case"Z":ht=+gt,St=+bt;break;case"H":ht=vt[1];break;case"V":St=vt[1];break;case"M":gt=vt[vt.length-2],bt=vt[vt.length-1];break;default:ht=vt[vt.length-2],St=vt[vt.length-1]}}return it},o=function($,K,ot,it){return[$,K,ot,it,ot,it]},c=function($,K,ot,it,ht,St){return[1/3*$+2/3*ot,1/3*K+2/3*it,1/3*ht+2/3*ot,1/3*St+2/3*it,ht,St]},h=function($,K){var ot,it=r($),ht=K&&r(K),St={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},gt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},bt=[],mt=[],vt="",_t="",Nt=function(J,tt,ft){var kt,jt;if(!J)return["C",tt.x,tt.y,tt.x,tt.y,tt.x,tt.y];switch(!(J[0]in{T:1,Q:1})&&(tt.qx=tt.qy=null),J[0]){case"M":tt.X=J[1],tt.Y=J[2];break;case"A":J=["C"].concat(function Bt(Rt,Lt,Pt,Ct,Ht,Xt,ut,re,pe,de){Pt===Ct&&(Pt+=1);var we,fe,ue,ye,ve,xe=120*Math.PI/180,Ge=Math.PI/180*(+Ht||0),je=[],Ne=function(gn,Ze,hn){return{x:gn*Math.cos(hn)-Ze*Math.sin(hn),y:gn*Math.sin(hn)+Ze*Math.cos(hn)}};if(de)fe=de[0],ue=de[1],ye=de[2],ve=de[3];else{Rt=(we=Ne(Rt,Lt,-Ge)).x,Lt=we.y,re=(we=Ne(re,pe,-Ge)).x,pe=we.y,Rt===re&&Lt===pe&&(re+=1,pe+=1);var Me=(Rt-re)/2,De=(Lt-pe)/2,Xe=Me*Me/(Pt*Pt)+De*De/(Ct*Ct);Xe>1&&(Pt*=Xe=Math.sqrt(Xe),Ct*=Xe);var We=Pt*Pt,Be=Ct*Ct,an=(Xt===ut?-1:1)*Math.sqrt(Math.abs((We*Be-We*De*De-Be*Me*Me)/(We*De*De+Be*Me*Me)));ye=an*Pt*De/Ct+(Rt+re)/2,ve=an*-Ct*Me/Pt+(Lt+pe)/2,fe=Math.asin(((Lt-ve)/Ct).toFixed(9)),ue=Math.asin(((pe-ve)/Ct).toFixed(9)),fe=Rt<ye?Math.PI-fe:fe,ue=re<ye?Math.PI-ue:ue,fe<0&&(fe=2*Math.PI+fe),ue<0&&(ue=2*Math.PI+ue),ut&&fe>ue&&(fe-=2*Math.PI),!ut&&ue>fe&&(ue-=2*Math.PI)}var tn=ue-fe;if(Math.abs(tn)>xe){var Ve=ue,Tn=re,Nn=pe;ue=fe+xe*(ut&&ue>fe?1:-1),je=Bt(re=ye+Pt*Math.cos(ue),pe=ve+Ct*Math.sin(ue),Pt,Ct,Ht,0,ut,Tn,Nn,[ue,Ve,ye,ve])}tn=ue-fe;var He=Math.cos(fe),en=Math.sin(fe),kn=Math.cos(ue),nn=Math.sin(ue),Pn=Math.tan(tn/4),bn=4/3*Pt*Pn,xn=4/3*Ct*Pn,rn=[Rt,Lt],qe=[Rt+bn*en,Lt-xn*He],sn=[re+bn*nn,pe-xn*kn],on=[re,pe];if(qe[0]=2*rn[0]-qe[0],qe[1]=2*rn[1]-qe[1],de)return[qe,sn,on].concat(je);for(var un=[],Re=0,pn=(je=[qe,sn,on].concat(je).join().split(",")).length;Re<pn;Re++)un[Re]=Re%2?Ne(je[Re-1],je[Re],Ge).y:Ne(je[Re],je[Re+1],Ge).x;return un}.apply(0,[tt.x,tt.y].concat(J.slice(1))));break;case"S":ft==="C"||ft==="S"?(kt=2*tt.x-tt.bx,jt=2*tt.y-tt.by):(kt=tt.x,jt=tt.y),J=["C",kt,jt].concat(J.slice(1));break;case"T":ft==="Q"||ft==="T"?(tt.qx=2*tt.x-tt.qx,tt.qy=2*tt.y-tt.qy):(tt.qx=tt.x,tt.qy=tt.y),J=["C"].concat(c(tt.x,tt.y,tt.qx,tt.qy,J[1],J[2]));break;case"Q":tt.qx=J[1],tt.qy=J[2],J=["C"].concat(c(tt.x,tt.y,J[1],J[2],J[3],J[4]));break;case"L":J=["C"].concat(o(tt.x,tt.y,J[1],J[2]));break;case"H":J=["C"].concat(o(tt.x,tt.y,J[1],tt.y));break;case"V":J=["C"].concat(o(tt.x,tt.y,tt.x,J[1]));break;case"Z":J=["C"].concat(o(tt.x,tt.y,tt.X,tt.Y))}return J},At=function(J,tt){if(J[tt].length>7){J[tt].shift();for(var ft=J[tt];ft.length;)bt[tt]="A",ht&&(mt[tt]="A"),J.splice(tt++,0,["C"].concat(ft.splice(0,6)));J.splice(tt,1),ot=Math.max(it.length,ht&&ht.length||0)}},It=function(J,tt,ft,kt,jt){J&&tt&&J[jt][0]==="M"&&tt[jt][0]!=="M"&&(tt.splice(jt,0,["M",kt.x,kt.y]),ft.bx=0,ft.by=0,ft.x=J[jt][1],ft.y=J[jt][2],ot=Math.max(it.length,ht&&ht.length||0))};ot=Math.max(it.length,ht&&ht.length||0);for(var dt=0;dt<ot;dt++){it[dt]&&(vt=it[dt][0]),vt!=="C"&&(bt[dt]=vt,dt&&(_t=bt[dt-1])),it[dt]=Nt(it[dt],St,_t),bt[dt]!=="A"&&vt==="C"&&(bt[dt]="C"),At(it,dt),ht&&(ht[dt]&&(vt=ht[dt][0]),vt!=="C"&&(mt[dt]=vt,dt&&(_t=mt[dt-1])),ht[dt]=Nt(ht[dt],gt,_t),mt[dt]!=="A"&&vt==="C"&&(mt[dt]="C"),At(ht,dt)),It(it,ht,St,gt,dt),It(ht,it,gt,St,dt);var X=it[dt],V=ht&&ht[dt],Z=X.length,W=ht&&V.length;St.x=X[Z-2],St.y=X[Z-1],St.bx=parseFloat(X[Z-4])||St.x,St.by=parseFloat(X[Z-3])||St.y,gt.bx=ht&&(parseFloat(V[W-4])||gt.x),gt.by=ht&&(parseFloat(V[W-3])||gt.y),gt.x=ht&&V[W-2],gt.y=ht&&V[W-1]}return ht?[it,ht]:it},v=/,?([a-z]),?/gi,f=function($){return $.join(",").replace(v,"$1")},m=function($,K,ot,it,ht){return $*($*(-3*K+9*ot-9*it+3*ht)+6*K-12*ot+6*it)-3*K+3*ot},b=function($,K,ot,it,ht,St,gt,bt,mt){mt===null&&(mt=1);for(var vt=(mt=mt>1?1:mt<0?0:mt)/2,_t=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Nt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],At=0,It=0;It<12;It++){var dt=vt*_t[It]+vt,X=m(dt,$,ot,ht,gt),V=m(dt,K,it,St,bt),Z=X*X+V*V;At+=Nt[It]*Math.sqrt(Z)}return vt*At},M=function($,K,ot,it,ht,St,gt,bt){if(!(Math.max($,ot)<Math.min(ht,gt)||Math.min($,ot)>Math.max(ht,gt)||Math.max(K,it)<Math.min(St,bt)||Math.min(K,it)>Math.max(St,bt))){var mt=($-ot)*(St-bt)-(K-it)*(ht-gt);if(mt){var vt=(($*it-K*ot)*(ht-gt)-($-ot)*(ht*bt-St*gt))/mt,_t=(($*it-K*ot)*(St-bt)-(K-it)*(ht*bt-St*gt))/mt,Nt=+vt.toFixed(2),At=+_t.toFixed(2);if(!(Nt<+Math.min($,ot).toFixed(2)||Nt>+Math.max($,ot).toFixed(2)||Nt<+Math.min(ht,gt).toFixed(2)||Nt>+Math.max(ht,gt).toFixed(2)||At<+Math.min(K,it).toFixed(2)||At>+Math.max(K,it).toFixed(2)||At<+Math.min(St,bt).toFixed(2)||At>+Math.max(St,bt).toFixed(2)))return{x:vt,y:_t}}}},O=function($,K,ot){return K>=$.x&&K<=$.x+$.width&&ot>=$.y&&ot<=$.y+$.height},E=function($,K,ot,it,ht){if(ht)return[["M",+$+ +ht,K],["l",ot-2*ht,0],["a",ht,ht,0,0,1,ht,ht],["l",0,it-2*ht],["a",ht,ht,0,0,1,-ht,ht],["l",2*ht-ot,0],["a",ht,ht,0,0,1,-ht,-ht],["l",0,2*ht-it],["a",ht,ht,0,0,1,ht,-ht],["z"]];var St=[["M",$,K],["l",ot,0],["l",0,it],["l",-ot,0],["z"]];return St.parsePathArray=f,St},C=function($,K,ot,it){return $===null&&($=K=ot=it=0),K===null&&(K=$.y,ot=$.width,it=$.height,$=$.x),{x:$,y:K,width:ot,w:ot,height:it,h:it,x2:$+ot,y2:K+it,cx:$+ot/2,cy:K+it/2,r1:Math.min(ot,it)/2,r2:Math.max(ot,it)/2,r0:Math.sqrt(ot*ot+it*it)/2,path:E($,K,ot,it),vb:[$,K,ot,it].join(" ")}},j=function($,K,ot,it,ht,St,gt,bt){d.isArray($)||($=[$,K,ot,it,ht,St,gt,bt]);var mt=function(vt,_t,Nt,At,It,dt,X,V){for(var Z,W,rt,J,tt=[],ft=[[],[]],kt=0;kt<2;++kt)if(kt===0?(W=6*vt-12*Nt+6*It,Z=-3*vt+9*Nt-9*It+3*X,rt=3*Nt-3*vt):(W=6*_t-12*At+6*dt,Z=-3*_t+9*At-9*dt+3*V,rt=3*At-3*_t),Math.abs(Z)<1e-12){if(Math.abs(W)<1e-12)continue;(J=-rt/W)>0&&J<1&&tt.push(J)}else{var jt=W*W-4*rt*Z,Bt=Math.sqrt(jt);if(!(jt<0)){var Rt=(-W+Bt)/(2*Z);Rt>0&&Rt<1&&tt.push(Rt);var Lt=(-W-Bt)/(2*Z);Lt>0&&Lt<1&&tt.push(Lt)}}for(var Pt,Ct=tt.length,Ht=Ct;Ct--;)Pt=1-(J=tt[Ct]),ft[0][Ct]=Pt*Pt*Pt*vt+3*Pt*Pt*J*Nt+3*Pt*J*J*It+J*J*J*X,ft[1][Ct]=Pt*Pt*Pt*_t+3*Pt*Pt*J*At+3*Pt*J*J*dt+J*J*J*V;return ft[0][Ht]=vt,ft[1][Ht]=_t,ft[0][Ht+1]=X,ft[1][Ht+1]=V,ft[0].length=ft[1].length=Ht+2,{min:{x:Math.min.apply(0,ft[0]),y:Math.min.apply(0,ft[1])},max:{x:Math.max.apply(0,ft[0]),y:Math.max.apply(0,ft[1])}}}.apply(null,$);return C(mt.min.x,mt.min.y,mt.max.x-mt.min.x,mt.max.y-mt.min.y)},B=function($,K,ot,it,ht,St,gt,bt,mt){var vt=1-mt,_t=Math.pow(vt,3),Nt=Math.pow(vt,2),At=mt*mt,It=At*mt,dt=$+2*mt*(ot-$)+At*(ht-2*ot+$),X=K+2*mt*(it-K)+At*(St-2*it+K),V=ot+2*mt*(ht-ot)+At*(gt-2*ht+ot),Z=it+2*mt*(St-it)+At*(bt-2*St+it);return{x:_t*$+3*Nt*mt*ot+3*vt*mt*mt*ht+It*gt,y:_t*K+3*Nt*mt*it+3*vt*mt*mt*St+It*bt,m:{x:dt,y:X},n:{x:V,y:Z},start:{x:vt*$+mt*ot,y:vt*K+mt*it},end:{x:vt*ht+mt*gt,y:vt*St+mt*bt},alpha:90-180*Math.atan2(dt-V,X-Z)/Math.PI}},N=function($,K,ot){if(!function(jt,Bt){return jt=C(jt),Bt=C(Bt),O(Bt,jt.x,jt.y)||O(Bt,jt.x2,jt.y)||O(Bt,jt.x,jt.y2)||O(Bt,jt.x2,jt.y2)||O(jt,Bt.x,Bt.y)||O(jt,Bt.x2,Bt.y)||O(jt,Bt.x,Bt.y2)||O(jt,Bt.x2,Bt.y2)||(jt.x<Bt.x2&&jt.x>Bt.x||Bt.x<jt.x2&&Bt.x>jt.x)&&(jt.y<Bt.y2&&jt.y>Bt.y||Bt.y<jt.y2&&Bt.y>jt.y)}(j($),j(K)))return ot?0:[];for(var it=~~(b.apply(0,$)/8),ht=~~(b.apply(0,K)/8),St=[],gt=[],bt={},mt=ot?0:[],vt=0;vt<it+1;vt++){var _t=B.apply(0,$.concat(vt/it));St.push({x:_t.x,y:_t.y,t:vt/it})}for(var Nt=0;Nt<ht+1;Nt++){var At=B.apply(0,K.concat(Nt/ht));gt.push({x:At.x,y:At.y,t:Nt/ht})}for(var It=0;It<it;It++)for(var dt=0;dt<ht;dt++){var X=St[It],V=St[It+1],Z=gt[dt],W=gt[dt+1],rt=Math.abs(V.x-X.x)<.001?"y":"x",J=Math.abs(W.x-Z.x)<.001?"y":"x",tt=M(X.x,X.y,V.x,V.y,Z.x,Z.y,W.x,W.y);if(tt){if(bt[tt.x.toFixed(4)]===tt.y.toFixed(4))continue;bt[tt.x.toFixed(4)]=tt.y.toFixed(4);var ft=X.t+Math.abs((tt[rt]-X[rt])/(V[rt]-X[rt]))*(V.t-X.t),kt=Z.t+Math.abs((tt[J]-Z[J])/(W[J]-Z[J]))*(W.t-Z.t);ft>=0&&ft<=1&&kt>=0&&kt<=1&&(ot?mt++:mt.push({x:tt.x,y:tt.y,t1:ft,t2:kt}))}}return mt};function I(at,$){var K=[],ot=[];return at.length&&function it(ht,St){if(ht.length===1)K.push(ht[0]),ot.push(ht[0]);else{for(var gt=[],bt=0;bt<ht.length-1;bt++)bt===0&&K.push(ht[0]),bt===ht.length-2&&ot.push(ht[bt+1]),gt[bt]=[(1-St)*ht[bt][0]+St*ht[bt+1][0],(1-St)*ht[bt][1]+St*ht[bt+1][1]];it(gt,St)}}(at,$),{left:K,right:ot.reverse()}}var F=function($,K,ot){if(ot===1)return[[].concat($)];var it=[];if(K[0]==="L"||K[0]==="C"||K[0]==="Q")it=it.concat(function(gt,bt,mt){var vt=[[gt[1],gt[2]]];mt=mt||2;var _t=[];bt[0]==="A"?(vt.push(bt[6]),vt.push(bt[7])):bt[0]==="C"?(vt.push([bt[1],bt[2]]),vt.push([bt[3],bt[4]]),vt.push([bt[5],bt[6]])):bt[0]==="S"||bt[0]==="Q"?(vt.push([bt[1],bt[2]]),vt.push([bt[3],bt[4]])):vt.push([bt[1],bt[2]]);for(var Nt=vt,At=1/mt,It=0;It<mt-1;It++){var dt=I(Nt,At/(1-At*It));_t.push(dt.left),Nt=dt.right}return _t.push(Nt),_t.map(function(X){var V=[];return X.length===4&&(V.push("C"),V=V.concat(X[2])),X.length>=3&&(X.length===3&&V.push("Q"),V=V.concat(X[1])),X.length===2&&V.push("L"),V=V.concat(X[X.length-1])})}($,K,ot));else{var ht=[].concat($);ht[0]==="M"&&(ht[0]="L");for(var St=0;St<=ot-1;St++)it.push(ht)}return it},G=function($,K){if($.length!==K.length)return!1;var ot=!0;return d.each($,function(it,ht){if(it!==K[ht])return ot=!1,!1}),ot};function U(at,$,K){var ot=null,it=K;return $<it&&(it=$,ot="add"),at<it&&(it=at,ot="del"),{type:ot,min:it}}function H(at,$,K){for(var ot,it=[].concat(at),ht=1/(K+1),St=Q($)[0],gt=1;gt<=K;gt++)ht*=gt,(ot=Math.floor(at.length*ht))===0?it.unshift([St[0]*ht+at[ot][0]*(1-ht),St[1]*ht+at[ot][1]*(1-ht)]):it.splice(ot,0,[St[0]*ht+at[ot][0]*(1-ht),St[1]*ht+at[ot][1]*(1-ht)]);return it}function Q(at){var $=[];switch(at[0]){case"M":case"L":$.push([at[1],at[2]]);break;case"A":$.push([at[6],at[7]]);break;case"Q":$.push([at[3],at[4]]),$.push([at[1],at[2]]);break;case"T":$.push([at[1],at[2]]);break;case"C":$.push([at[5],at[6]]),$.push([at[1],at[2]]),$.push([at[3],at[4]]);break;case"S":$.push([at[3],at[4]]),$.push([at[1],at[2]]);break;case"H":case"V":$.push([at[1],at[1]])}return $}A.exports={parsePathString:a,parsePathArray:f,pathTocurve:h,pathToAbsolute:r,catmullRomToBezier:u,rectPath:E,fillPath:function($,K){if($.length===1)return $;var ot=$.length-1,it=K.length-1,ht=ot/it,St=[];if($.length===1&&$[0][0]==="M"){for(var gt=0;gt<it-ot;gt++)$.push($[0]);return $}for(var bt=0;bt<it;bt++){var mt=Math.floor(ht*bt);St[mt]=(St[mt]||0)+1}var vt=St.reduce(function(_t,Nt,At){return At===ot?_t.concat($[ot]):_t.concat(F($[At],$[At+1],Nt))},[]);return vt.unshift($[0]),K[it]!=="Z"&&K[it]!=="z"||vt.push("Z"),vt},fillPathByDiff:function($,K){var ot=function(dt,X){var V,Z,W=dt.length,rt=X.length,J=0;if(W===0||rt===0)return null;for(var tt=[],ft=0;ft<=W;ft++)tt[ft]=[],tt[ft][0]={min:ft};for(var kt=0;kt<=rt;kt++)tt[0][kt]={min:kt};for(var jt=1;jt<=W;jt++){V=dt[jt-1];for(var Bt=1;Bt<=rt;Bt++){Z=X[Bt-1],J=G(V,Z)?0:1;var Rt=tt[jt-1][Bt].min+1,Lt=tt[jt][Bt-1].min+1,Pt=tt[jt-1][Bt-1].min+J;tt[jt][Bt]=U(Rt,Lt,Pt)}}return tt}($,K),it=$.length,ht=K.length,St=[],gt=1,bt=1;if(ot[it][ht]!==it){for(var mt=1;mt<=it;mt++){var vt=ot[mt][mt].min;bt=mt;for(var _t=gt;_t<=ht;_t++)ot[mt][_t].min<vt&&(vt=ot[mt][_t].min,bt=_t);gt=bt,ot[mt][gt].type&&St.push({index:mt-1,type:ot[mt][gt].type})}for(var Nt=St.length-1;Nt>=0;Nt--)gt=St[Nt].index,St[Nt].type==="add"?$.splice(gt,0,[].concat($[gt])):$.splice(gt,1)}var At=ht-(it=$.length);if(it<ht)for(var It=0;It<At;It++)$[it-1][0]==="z"||$[it-1][0]==="Z"?$.splice(it-2,0,$[it-2]):$.push($[it-1]),it+=1;return $},formatPath:function($,K){if($.length<=1)return $;for(var ot,it=0;it<K.length;it++)if($[it][0]!==K[it][0])switch(ot=Q($[it]),K[it][0]){case"M":$[it]=["M"].concat(ot[0]);break;case"L":$[it]=["L"].concat(ot[0]);break;case"A":$[it]=[].concat(K[it]),$[it][6]=ot[0][0],$[it][7]=ot[0][1];break;case"Q":if(ot.length<2){if(!(it>0)){$[it]=K[it];break}ot=H(ot,$[it-1],1)}$[it]=["Q"].concat(ot.reduce(function(ht,St){return ht.concat(St)},[]));break;case"T":$[it]=["T"].concat(ot[0]);break;case"C":if(ot.length<3){if(!(it>0)){$[it]=K[it];break}ot=H(ot,$[it-1],2)}$[it]=["C"].concat(ot.reduce(function(ht,St){return ht.concat(St)},[]));break;case"S":if(ot.length<2){if(!(it>0)){$[it]=K[it];break}ot=H(ot,$[it-1],1)}$[it]=["S"].concat(ot.reduce(function(ht,St){return ht.concat(St)},[]));break;default:$[it]=K[it]}return $},intersection:function($,K){return function(ot,it,ht){var St,gt,bt,mt,vt,_t,Nt,At,It,dt;ot=h(ot),it=h(it);for(var X=ht?0:[],V=0,Z=ot.length;V<Z;V++){var W=ot[V];if(W[0]==="M")St=vt=W[1],gt=_t=W[2];else{W[0]==="C"?(St=(It=[St,gt].concat(W.slice(1)))[6],gt=It[7]):(It=[St,gt,St,gt,vt,_t,vt,_t],St=vt,gt=_t);for(var rt=0,J=it.length;rt<J;rt++){var tt=it[rt];if(tt[0]==="M")bt=Nt=tt[1],mt=At=tt[2];else{tt[0]==="C"?(bt=(dt=[bt,mt].concat(tt.slice(1)))[6],mt=dt[7]):(dt=[bt,mt,bt,mt,Nt,At,Nt,At],bt=Nt,mt=At);var ft=N(It,dt,ht);if(ht)X+=ft;else{for(var kt=0,jt=ft.length;kt<jt;kt++)ft[kt].segment1=V,ft[kt].segment2=rt,ft[kt].bez1=It,ft[kt].bez2=dt;X=X.concat(ft)}}}}}return X}($,K)}}},function(A,x,s){var d=s(19),y=s(58),p=s(593),n=s(600),a=function u(i){u.superclass.constructor.call(this,i)};a.Symbols={circle:function(i,r,o){return[["M",i,r],["m",-o,0],["a",o,o,0,1,0,2*o,0],["a",o,o,0,1,0,2*-o,0]]},square:function(i,r,o){return[["M",i-o,r-o],["L",i+o,r-o],["L",i+o,r+o],["L",i-o,r+o],["Z"]]},diamond:function(i,r,o){return[["M",i-o,r],["L",i,r-o],["L",i+o,r],["L",i,r+o],["Z"]]},triangle:function(i,r,o){var c=o*Math.sin(1/3*Math.PI);return[["M",i-o,r+c],["L",i,r-c],["L",i+o,r+c],["z"]]},"triangle-down":function(i,r,o){var c=o*Math.sin(1/3*Math.PI);return[["M",i-o,r-c],["L",i+o,r-c],["L",i,r+c],["Z"]]}},a.ATTRS={path:null,lineWidth:1},d.extend(a,y),d.augment(a,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var i=this._attrs,r=i.x,o=i.y,c=i.radius,h=this.getHitLineWidth()/2+c;return{minX:r-h,minY:o-h,maxX:r+h,maxY:o+h}},_getPath:function(){var i=this._attrs,r=i.x,o=i.y,c=i.radius||i.r,h=i.symbol||"circle";return(d.isFunction(h)?h:a.Symbols[h])(r,o,c)},createPath:function(i){var r=this._cfg.segments;if(!r||this._cfg.hasUpdate){var o,c=p.parsePath(this._getPath());i.beginPath(),r=[];for(var h=0;h<c.length;h++){var v=c[h];o=new n(v,o,h===c.length-1),r.push(o),o.draw(i)}this._cfg.segments=r,this._cfg.hasUpdate=!1}else{i.beginPath();for(var f=0;f<r.length;f++)r[f].draw(i)}}}),A.exports=a},function(A,x,s){var d=s(19),y=d.vec2;function p(u,i,r,o,c){var h=1-c;return h*h*(h*o+3*c*r)+c*c*(c*u+3*h*i)}function n(u,i,r,o,c,h,v,f,m,b,M){var O,E,C,j,B,N,I,F,G=.005,U=1/0,H=[m,b];for(E=0;E<1;E+=.05)C=[p(u,r,c,v,E),p(i,o,h,f,E)],(j=y.squaredDistance(H,C))<U&&(O=E,U=j);U=1/0;for(var Q=0;Q<32&&!(G<1e-4);Q++)F=O+G,C=[p(u,r,c,v,I=O-G),p(i,o,h,f,I)],j=y.squaredDistance(H,C),I>=0&&j<U?(O=I,U=j):(N=[p(u,r,c,v,F),p(i,o,h,f,F)],B=y.squaredDistance(H,N),F<=1&&B<U?(O=F,U=B):G*=.5);return M&&(M.x=p(u,r,c,v,O),M.y=p(i,o,h,f,O)),Math.sqrt(U)}function a(u,i,r,o,c){return u*(u*(-3*i+9*r-9*o+3*c)+6*i-12*r+6*o)-3*i+3*r}A.exports={at:p,derivativeAt:function(i,r,o,c,h){var v=1-h;return 3*(((r-i)*v+2*(o-r)*h)*v+(c-o)*h*h)},projectPoint:function(i,r,o,c,h,v,f,m,b,M){var O={};return n(i,r,o,c,h,v,f,m,b,M,O),O},pointDistance:n,extrema:function(i,r,o,c){var h,v,f,m=3*i-9*r+9*o-3*c,b=6*r-12*o+6*c,M=3*o-3*c,O=[];if(d.isNumberEqual(m,0))d.isNumberEqual(b,0)||(h=-M/b)>=0&&h<=1&&O.push(h);else{var E=b*b-4*m*M;d.isNumberEqual(E,0)?O.push(-b/(2*m)):E>0&&(v=(-b-(f=Math.sqrt(E)))/(2*m),(h=(-b+f)/(2*m))>=0&&h<=1&&O.push(h),v>=0&&v<=1&&O.push(v))}return O},len:function(i,r,o,c,h,v,f,m,b){d.isNil(b)&&(b=1);for(var M=(b=b>1?1:b<0?0:b)/2,O=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],E=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],C=0,j=0;j<12;j++){var B=M*O[j]+M,N=a(B,i,o,h,f),I=a(B,r,c,v,m),F=N*N+I*I;C+=E[j]*Math.sqrt(F)}return M*C}}},function(A,x,s){var d=s(603),y=s(640),p=s(612),n=s(602);A.exports={line:function(u,i,r,o,c,h,v){var f=d.box(u,i,r,o,c);if(!this.box(f.minX,f.maxX,f.minY,f.maxY,h,v))return!1;var m=d.pointDistance(u,i,r,o,h,v);return!isNaN(m)&&m<=c/2},polyline:function(u,i,r,o){var c=u.length-1;if(c<1)return!1;for(var h=0;h<c;h++){var v=u[h][0],f=u[h][1],m=u[h+1][0],b=u[h+1][1];if(this.line(v,f,m,b,i,r,o))return!0}return!1},cubicline:function(u,i,r,o,c,h,v,f,m,b,M){return p.pointDistance(u,i,r,o,c,h,v,f,b,M)<=m/2},quadraticline:function(u,i,r,o,c,h,v,f,m){return y.pointDistance(u,i,r,o,c,h,f,m)<=v/2},arcline:function(u,i,r,o,c,h,v,f,m){return n.pointDistance(u,i,r,o,c,h,f,m)<=v/2},rect:function(u,i,r,o,c,h){return u<=c&&c<=u+r&&i<=h&&h<=i+o},circle:function(u,i,r,o,c){return Math.pow(o-u,2)+Math.pow(c-i,2)<=Math.pow(r,2)},box:function(u,i,r,o,c,h){return u<=c&&c<=i&&r<=h&&h<=o}}},function(A,x,s){var d=s(619),y=s(118),p=s(595);A.exports=function n(a,u){if(a===u)return!0;if(!a||!u||p(a)||p(u))return!1;if(y(a)||y(u)){if(a.length!==u.length)return!1;for(var i=!0,r=0;r<a.length&&(i=n(a[r],u[r]));r++);return i}if(d(a)||d(u)){var o=Object.keys(a),c=Object.keys(u);if(o.length!==c.length)return!1;for(var h=!0,v=0;v<o.length&&(h=n(a[o[v]],u[o[v]]));v++);return h}return!1}},function(A,x,s){var d=s(596),y=s(45),p=5;function n(a,u,i,r){for(var o in i=i||0,r=r||p,u)if(u.hasOwnProperty(o)){var c=u[o];c!==null&&d(c)?(d(a[o])||(a[o]={}),i<r?n(a[o],c,i+1,r):a[o]=u[o]):y(c)?(a[o]=[],a[o]=a[o].concat(c)):c!==void 0&&(a[o]=c)}}A.exports=function(){for(var a=new Array(arguments.length),u=a.length,i=0;i<u;i++)a[i]=arguments[i];for(var r=a[0],o=1;o<u;o++)n(r,a[o]);return r}},function(A,x,s){var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},y=s(45);A.exports=function p(n){if((n===void 0?"undefined":d(n))!=="object"||n===null)return n;var a=void 0;if(y(n)){a=[];for(var u=0,i=n.length;u<i;u++)d(n[u])==="object"&&n[u]!=null?a[u]=p(n[u]):a[u]=n[u]}else for(var r in a={},n)d(n[r])==="object"&&n[r]!=null?a[r]=p(n[r]):a[r]=n[r];return a}},function(A,x,s){var d=s(256);d.translate=function(y,p,n){var a=new Array(9);return d.fromTranslation(a,n),d.multiply(y,a,p)},d.rotate=function(y,p,n){var a=new Array(9);return d.fromRotation(a,n),d.multiply(y,a,p)},d.scale=function(y,p,n){var a=new Array(9);return d.fromScaling(a,n),d.multiply(y,a,p)},A.exports=d},function(A,x){A.exports=function(s,d,y){return s<d?d:s>y?y:s}},function(A,x){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};A.exports=function(d){return(d===void 0?"undefined":s(d))==="object"&&d!==null}},function(A,x,s){var d=s(46),y=s(118);A.exports=function(p,n){if(!y(p))return p;var a=[];return d(p,function(u,i){n(u,i)&&a.push(u)}),a}},function(A,x){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};A.exports=function(d){var y=d===void 0?"undefined":s(d);return d!==null&&y==="object"||y==="function"}},function(A,x){var s=function(){function d(){}return d.prototype.execute=function(){throw new Error("please override this method")},d}();A.exports=s},function(A,x,s){A.exports={CompactBoxTree:s(688),Dendrogram:s(687),IndentedTree:s(686),Mindmap:s(685),Base:s(622)}},function(A,x,s){var d=s(26),y=function(p){function n(u){var i={type:"node",isNode:!0,zIndex:3,edges:[],linkable:!0};return d.mix(i,u),p.call(this,i)||this}(function(u,i){u.prototype=Object.create(i.prototype),u.prototype.constructor=u,u.__proto__=i})(n,p);var a=n.prototype;return a.updatePosition=function(){var u=this.group,i=this.model;u.setMatrix([1,0,0,0,1,0,i.x?i.x:0,i.y?i.y:0,1]),this.bbox=this._calculateBBox()},a._shouldDraw=function(){var u=this._getDiff(),i=p.prototype._shouldDraw.call(this);return u&&!(u.length===2&&u.indexOf("x")!==-1&&u.indexOf("y")!==-1)&&!(u.length===1&&(u[0]==="x"||u[0]==="y"))&&i},a._afterDraw=function(){this.updatePosition(),p.prototype._afterDraw.call(this)},a.layoutUpdate=function(){this._beforeDraw(),this._afterDraw()},a.getEdges=function(){var u=this;return this.graph.getEdges().filter(function(i){var r=i.getModel();return r.source===u.id||r.target===u.id})},a.getInEdges=function(){var u=this;return this.getEdges().filter(function(i){return i.target===u})},a.getOutEdges=function(){var u=this;return this.getEdges().filter(function(i){return i.source===u})},a.getLinkPoints=function(u){var i=this.getAnchorPoints();if(d.isNumber(u)&&i[u])return[i[u]];var r=u.x,o=u.y,c=this.getBBox(),h=c.centerX,v=c.centerY,f=r-h,m=o-v,b=this.shapeObj,M=b.anchor||{},O=this.defaultIntersectBox,E=[];if(d.isEmpty(i)){switch(b.intersectBox||M.intersectBox||M.type||O){case"rect":E=[d.getIntersectPointRect(c,u)];break;case"path":if(this.keyShape&&this.keyShape.get("type")==="path"){var C=d.parsePathArray(["M",r,o,"L",h,v]);E=[d.intersection(C,this.keyShape.get("path"))]}break;default:E=[d.getIntersectPointCircle(r,o,c.centerX,c.centerY,Math.max(c.width,c.height)/2)]}d.isEmpty(E[0])&&(E=[{x:h,y:v}])}else E=i.map(function(j){var B=j.x-h,N=j.y-v,I=d.getArcOfVectors({x:f,y:m},{x:B,y:N});return d.mix({},j,{arc:I})}).sort(function(j,B){return j.arc-B.arc});return E},a.getAnchorPoints=function(u){var i,r=this.shapeObj,o=this.getBBox(),c=[],h=r.anchor||{};return i=d.isArray(h)?h:d.isFunction(h)?h(this):d.isFunction(h.points)?h.points(this):h.points,d.each(i,function(v,f){var m=d.mix({x:o.minX+v[0]*o.width,y:o.minY+v[1]*o.height},v[2],{index:f});c.push(m)}),this._anchorPoints=c,d.isNumber(u)?this._anchorPoints[u]:this._anchorPoints},n}(s(608));A.exports=y},function(A,x,s){function d(C,j,B){return j in C?Object.defineProperty(C,j,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[j]=B,C}s(715),s(714),s(713);var y=s(712),p=s(710),n=s(683),a=s(26),u=s(706),i=s(248),r=s(704),o=s(702),c=s(700),h=s(699),v=s(697),f=s(696),m=s(695),b=s(692),M=s(691),O=[f,o,c,r,m,b,s(690),M,h,v],E=function(C){(function(N,I){N.prototype=Object.create(I.prototype),N.prototype.constructor=N,N.__proto__=I})(B,C);var j=B.prototype;function B(N){var I,F={};return O.forEach(function(G){a.mix(F,a.clone(G.CFG),N)}),(I=C.call(this,F)||this)._pluginInit(),I.emit("beforeinit"),I._init(),I.emit("afterinit"),I}return j.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,plugins:[],fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "\u5FAE\u8F6F\u96C5\u9ED1", SimSun, "sans-serif"',nodeDefaultShape:void 0,edgeDefaultShape:void 0,groupDefaultShape:void 0,defaultIntersectBox:"circle",renderer:"canvas",_type:"graph",_controllers:{},_timers:{},_dataMap:{},_itemMap:{},_freezMap:{},_data:{},_delayRunObj:{}}},j._init=function(){var N=this;this._initData(),this._initContainer(),this._initCanvas(),O.forEach(function(I){I.INIT&&N[I.INIT]()}),this.initEvent()},j.initEvent=function(){},j._executeLayout=function(N,I,F,G){a.isFunction(N)?N(I,F,this):a.isObject(N)&&(N.nodes=I,N.edges=F,N.groups=G,N.graph=this,N.execute())},j._pluginInit=function(){var N=this;this.get("plugins").forEach(function(I){N._initPlugin(I)})},j._initPlugin=function(N){N.graph=this,N.init&&N.init()},j._getTimer=function(N){return this.get("_timers")[N]},j._setTimer=function(N,I){this.get("_timers")[N]=I},j._getController=function(N){return this.get("_controllers")[N]},j._initContainer=function(){var N=this.get("container");N||(N=this.get("id")),N=a.initDOMContainer(N,"graph");var I=a.createDOM('<div class="graph-container"></div>',{position:"relative"});N.appendChild(I),this.set("_containerDOM",N),this.set("_graphContainer",I)},j._initCanvas=function(){var N=this.get("_graphContainer"),I=this.get("width"),F=this.get("height"),G=this.get("fontFamily"),U=this.get("renderer"),H={width:I,height:F,fontFamily:G,renderer:U,eventEnable:!1,containerDOM:N};U==="svg"&&(H.pixelRatio=1);var Q=new i.Canvas(H),at=Q.get("el");at.style.top=0,at.style.left=0,at.style.overflow="hidden",this.set("_canvas",Q);var $=this.getMouseEventWrapper();$.style.outline="none",$.style["user-select"]="none",$.setAttribute("tabindex",20);var K=Q.addGroup(),ot=K.addGroup();this.set("_itemGroup",ot),this.set("_rootGroup",K)},j._initData=function(){this.set("_dataMap",{}),this.set("_itemMap",{_nodes:[],_edges:[],_groups:[],_guides:[]}),this.set("_data",{})},j._refresh=function(){},j.getKeyboardEventWrapper=function(){var N=this.get("keyboardEventWrapper");return N||this.getMouseEventWrapper()},j.getMouseEventWrapper=function(){return this.get("_canvas").get("el")},j.addPlugin=function(N){var I=this.get("plugins");this._initPlugin(N),I.push(N)},j.getGraphContainer=function(){return this.get("_graphContainer")},j._sortGroup=function(N){var I=this.get("_dataMap"),F={};N.forEach(function(G){var U=G.id,H=G.parent;for(F[U]=1;H&&I[H];)F[U]++,H=I[H].parent}),N.sort(function(G,U){return F[U.id]-F[G.id]})},j._addItems=function(N,I){var F=this;this._addDatas(N,I),N==="group"&&this._sortGroup(I);var G=a.upperFirst(N),U=p[G],H=this.get("_itemMap"),Q=this.get("_itemGroup"),at=this.get("_dataMap"),$=this.get("animate"),K=this.get("defaultIntersectBox");if(!U)throw new Error("please set valid item type!");I.forEach(function(ot){var it=new U({id:ot.id,type:N,model:ot,group:Q.addGroup(),graph:F,mapper:F._getController(N+"Mapper"),itemMap:H,animate:$,dataMap:at,defaultIntersectBox:K});H[ot.id]=it,H["_"+N+"s"].push(it)})},j._removeItems=function(N){var I=this.get("_dataMap"),F=this.get("_itemMap");N.forEach(function(G){delete I[G.id],delete F[G.id],a.Array.remove(F["_"+G.type+"s"],G),G.destroy()})},j._updateItems=function(N,I){N.forEach(function(F,G){var U=I[G];U&&a.mix(F.getModel(),U),F.update()})},j._getShowEdge=function(N){var I=N.getSource(),F=N.getTarget();return(I.linkable&&I.isVisible()||!I.linkable)&&(F.linkable&&F.isVisible()||!F.linkable)&&N},j._addDatas=function(N,I){var F=this.get("_dataMap");I.forEach(function(G){if(a.isNil(G.id)&&(G.id=a.guid()),F[G.id])throw new Error("id:"+G.id+" has already been set, please set new one");F[G.id]=G})},j._drawInner=function(){var N=this.get("_data"),I=this.get("_itemGroup"),F=this.get("_dataMap"),G=this.get("_itemMap");N.nodes&&this._addItems("node",N.nodes),N.groups&&this._addItems("group",N.groups),N.edges&&this._addItems("edge",N.edges),N.guides&&this._addItems("guide",N.guides),I.sortBy(function(U){var H=U.id,Q=G[H],at=F[H];return at&&!a.isNil(at.index)?at.index:!Q||Q.destroyed||a.isNil(Q.zIndex)?void 0:Q.zIndex})},j._clearInner=function(){this.getItems().forEach(function(N){N&&N.destroy()})},j.preventAnimate=function(N){return this.set("_forcePreventAnimate",!0),N(),this.set("_forcePreventAnimate",!1),this},j.getShapeObj=function(N,I){if(!a.isObject(N)){var F=a.upperFirst(N),G=n[F],U=this.get(N+"DefaultShape");return G.getShape(I.shape,U)}return N.getShapeObj()},j.getSource=function(){return this.get("_sourceData")},j.parseSource=function(N){return N},j.getCanvas=function(){return this.get("_canvas")},j.getRootGroup=function(){return this.get("_rootGroup")},j.getItemGroup=function(){return this.get("_itemGroup")},j.source=function(N){return this.emit("beforesource"),this.set("_data",N),this.set("_sourceData",N),this.emit("aftersource"),this},j.render=function(){return this.emit("beforerender"),this.emit("beforedrawinner"),this._drawInner(),this.emit("afterdrawinner"),this.emit("afterrender"),this},j.reRender=function(){var N=this.get("_sourceData");return this.read(N),this},j.setCapture=function(N){this.get("_rootGroup").set("capture",N)},j.destroy=function(){this.emit("beforedestroy");var N=this.get("_canvas"),I=this.get("_graphContainer"),F=this.get("_controllers"),G=this.get("_timers"),U=this.get("_windowForceResizeEvent"),H=this.get("plugins");return a.each(G,function(Q){clearTimeout(Q)}),a.each(F,function(Q){Q.destroy()}),H.forEach(function(Q){Q.destroy&&Q.destroy()}),N&&N.destroy(),I.destroy(),window.removeEventListener("resize",U),this.emit("afterdestroy"),C.prototype.destroy.call(this),this},j.save=function(){var N={nodes:[],edges:[],groups:[],guides:[]};return this.get("_itemGroup").get("children").forEach(function(I,F){var G=I.model;if(G){var U=I.itemType,H=a.clone(G);H.index=F,N[U+"s"].push(H)}}),N.nodes.length===0&&delete N.nodes,N.edges.length===0&&delete N.edges,N.groups.length===0&&delete N.groups,N.guides.length===0&&delete N.guides,N},j.add=function(N,I){var F=[],G={action:"add",model:I,affectedItemIds:F};this.emit("beforechange",G);var U=this.get("_itemMap");this._addItems(N,[I]);var H=U[I.id];return H.getAllParents().forEach(function(Q){Q.update()}),G.item=H,F.push(I.id),this.emit("afterchange",G),H},j.remove=function(N){if((N=this.getItem(N))&&!N.destroyed){var I=[],F=[],G={action:"remove",item:N,affectedItemIds:F};if(N.isNode){var U=N.getEdges();I=I.concat(U)}if(N.isGroup){var H=N.getEdges(),Q=N.getAllChildren(),at=N.getCrossEdges(),$=N.getInnerEdges();I=I.concat(H,Q,at,$),I=a.uniq(I)}I.push(N);var K=N.getAllParents();return K.forEach(function(ot){F.push(ot.id)}),I.forEach(function(ot){F.push(ot.id)}),this.emit("beforechange",G),this._removeItems(I),K.forEach(function(ot){ot.update()}),this.emit("afterchange",G),this}},j.simpleUpdate=function(N,I){return this._updateItems([N],[I]),this.draw(),this},j.update=function(N,I){var F=this.get("_itemMap");if((N=this.getItem(N))&&!N.destroyed&&I){var G=this.get("animate"),U=[],H=[],Q=[],at=N.getModel(),$=a.mix({},at),K={action:"update",item:N,originModel:$,updateModel:I,affectedItemIds:Q},ot=F[$.parent];if(U.push(N),H.push(I),Q.push(N.id),ot&&ot!==parent&&a.isGroup(ot)&&N.getAllParents().forEach(function(ht){U.push(ht),H.push(null),Q.push(ht.id)}),I.parent){var it=F[I.parent];if(!it)throw new Error("there is no "+I.parent+" exist, please add a new one!");U.push(it),H.push(null),Q.push(it.id),it.getAllParents().forEach(function(ht){U.push(ht),H.push(null),Q.push(ht.id)})}return(N.isNode||N.isGroup)&&N.getEdges().forEach(function(ht){U.push(ht),H.push(null),Q.push(ht.id)}),N.isGroup&&!a.isNil(I.collapsed)&&(G&&N.deepEach(function(ht){Q.push(ht.id)}),N.getCrossEdges().forEach(function(ht){U.push(ht),H.push(null),Q.push(ht.id)})),this.emit("beforechange",K),this._updateItems(U,H),this.emit("afterchange",K),this}},j.read=function(N){var I=this;if(!N)throw new Error("please read valid data!");var F={action:"changeData",data:N};return this.emit("beforechange",F),this.preventAnimate(function(){I.clear(),I.source(N),I.render()}),this.emit("afterchange",F),this},j.clear=function(){return this.emit("beforeclear"),this._clearInner(),this._initData(),this.emit("afterclear"),this},j.hide=function(N){var I=[],F=[],G={item:N=this.getItem(N),affectedItemIds:F};return I.push(N),N.isNode&&N.getEdges().forEach(function(U){I.push(U)}),N.isGroup&&(N.getEdges().forEach(function(U){I.push(U)}),N.deepEach(function(U){I.push(U)})),(I=a.uniq(I)).forEach(function(U){F.push(U.id)}),this.emit("beforehide",G),I.forEach(function(U){U.hide()}),this.emit("afterhide",G),this},j.show=function(N){var I=this,F=[],G=[],U={item:N=this.getItem(N),affectedItemIds:G};if(N.visible=!0,N.isEdge){var H=this._getShowEdge(N);H&&F.push(H)}else F.push(N);return N.isNode&&N.getEdges().forEach(function(Q){(Q=I._getShowEdge(Q))&&F.push(Q)}),N.isGroup&&(N.getEdges().forEach(function(Q){(Q=I._getShowEdge(Q))&&F.push(Q)}),N.deepEach(function(Q){F.push(Q)})),(F=a.uniq(F)).forEach(function(Q){G.push(Q.id)}),this.emit("beforeshow",U),F.forEach(function(Q){Q.show()}),this.emit("aftershow",U),this},j.getWidth=function(){return this.get("width")},j.getHeight=function(){return this.get("height")},j.changeSize=function(N,I){if(!(Math.abs(N)>=1/0||Math.abs(I)>=1/0)){var F=this.get("_canvas");return N===this.get("width")&&I===this.get("height")||(this.emit("beforechangesize"),F.changeSize(N,I),this.set("width",N),this.set("height",I),this.emit("afterchangesize"),this.draw()),this}console.warn("size parameter more than the maximum")},j.toFront=function(N){N=this.getItem(N);var I=this.get("_itemGroup"),F=N.getGraphicGroup();a.toFront(F,I),this.draw()},j.toBack=function(N){N=this.getItem(N);var I=this.get("_itemGroup"),F=N.getGraphicGroup();a.toBack(F,I),this.draw()},j.css=function(N){var I=this.getGraphContainer();a.modifyCSS(I,N)},j.saveImage=function(N){var I=this.getBBox(),F=this.getFitViewPadding();return new u(function(G){for(var U=1;U<arguments.length;U++){var H=arguments[U]!=null?arguments[U]:{},Q=Object.keys(H);typeof Object.getOwnPropertySymbols=="function"&&(Q=Q.concat(Object.getOwnPropertySymbols(H).filter(function(at){return Object.getOwnPropertyDescriptor(H,at).enumerable}))),Q.forEach(function(at){d(G,at,H[at])})}return G}({graph:this,width:I.width+F[1]+F[3],height:I.height+F[0]+F[2]},N)).toCanvas()},B}(y);O.forEach(function(C){a.mix(E.prototype,C.AUGMENT)}),A.exports=E},function(A,x){var s={registerBehaviour:function(y,p,n){p.dependences=n,s[y]=p},resetMode:function(y,p){var n,a=[];p._off();for(var u=0;u<y.length;u++)(n=s[y[u]])&&(n.dependences&&n.dependences.forEach(function(i){i&&a.indexOf(i)===-1&&(s[i](p),a.push(i))}),n&&a.indexOf(n)===-1&&n(p))}};A.exports=s},function(A,x,s){var d=s(19),y=s(58),p=function n(a){n.superclass.constructor.call(this,a)};p.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var a=this._attrs.fontSize;a&&+a<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+a/12,+a/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var a=this._attrs,u=a.fontSize,i=a.fontFamily,r=a.fontWeight,o=a.fontStyle,c=a.fontVariant;a.font=[o,c,r,u+"px",i].join(" ")},_setAttrText:function(){var a=this._attrs,u=a.text,i=null;if(d.isString(u)&&u.indexOf(`
`)!==-1){var r=(i=u.split(`
`)).length;a.lineCount=r}a.textArr=i},_getTextHeight:function(){var a=this._attrs,u=a.lineCount,i=1*a.fontSize;return u>1?i*u+this._getSpaceingY()*(u-1):i},isHitBox:function(){return!1},calculateBox:function(){var a=this._attrs,u=this._cfg;u.attrs&&!u.hasUpdate||(this._assembleFont(),this._setAttrText()),a.textArr||this._setAttrText();var i=a.x,r=a.y,o=this.measureText();if(!o)return{minX:i,minY:r,maxX:i,maxY:r};var c=this._getTextHeight(),h=a.textAlign,v=a.textBaseline,f=this.getHitLineWidth(),m={x:i,y:r-c};h&&(h==="end"||h==="right"?m.x-=o:h==="center"&&(m.x-=o/2)),v&&(v==="top"?m.y+=c:v==="middle"&&(m.y+=c/2)),this.set("startPoint",m);var b=f/2;return{minX:m.x-b,minY:m.y-b,maxX:m.x+o+b,maxY:m.y+c+b}},_getSpaceingY:function(){var a=this._attrs,u=a.lineHeight,i=1*a.fontSize;return u?u-i:.14*i},drawInner:function(a){var u=this._attrs,i=this._cfg;i.attrs&&!i.hasUpdate||(this._assembleFont(),this._setAttrText()),a.font=u.font;var r=u.text;if(r){var o=u.textArr,c=u.x,h=u.y;if(a.beginPath(),this.hasStroke()){var v=u.strokeOpacity;d.isNil(v)||v===1||(a.globalAlpha=v),o?this._drawTextArr(a,!1):a.strokeText(r,c,h),a.globalAlpha=1}if(this.hasFill()){var f=u.fillOpacity;d.isNil(f)||f===1||(a.globalAlpha=f),o?this._drawTextArr(a,!0):a.fillText(r,c,h)}i.hasUpdate=!1}},_drawTextArr:function(a,u){var i,r=this._attrs.textArr,o=this._attrs.textBaseline,c=1*this._attrs.fontSize,h=this._getSpaceingY(),v=this._attrs.x,f=this._attrs.y,m=this.getBBox(),b=m.maxY-m.minY;d.each(r,function(M,O){i=f+O*(h+c)-b+c,o==="middle"&&(i+=b-c-(b-c)/2),o==="top"&&(i+=b-c),u?a.fillText(M,v,i):a.strokeText(M,v,i)})},measureText:function(){var a,u=this._attrs,i=u.text,r=u.font,o=u.textArr,c=0;if(!d.isNil(i)){var h=document.createElement("canvas").getContext("2d");return h.save(),h.font=r,o?d.each(o,function(v){a=h.measureText(v).width,c<a&&(c=a),h.restore()}):(c=h.measureText(i).width,h.restore()),c}}}),A.exports=p},function(A,x,s){var d=s(19),y=s(593).parseRadius,p=s(58),n=function a(u){a.superclass.constructor.call(this,u)};n.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},d.extend(n,p),d.augment(n,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var u=this._attrs,i=u.x,r=u.y,o=u.width,c=u.height,h=this.getHitLineWidth()/2;return{minX:i-h,minY:r-h,maxX:i+o+h,maxY:r+c+h}},createPath:function(u){var i=this._attrs,r=i.x,o=i.y,c=i.width,h=i.height,v=i.radius;if((u=u||this.get("context")).beginPath(),v===0)u.rect(r,o,c,h);else{var f=y(v);u.moveTo(r+f.r1,o),u.lineTo(r+c-f.r2,o),f.r2!==0&&u.arc(r+c-f.r2,o+f.r2,f.r2,-Math.PI/2,0),u.lineTo(r+c,o+h-f.r3),f.r3!==0&&u.arc(r+c-f.r3,o+h-f.r3,f.r3,0,Math.PI/2),u.lineTo(r+f.r4,o+h),f.r4!==0&&u.arc(r+f.r4,o+h-f.r4,f.r4,Math.PI/2,Math.PI),u.lineTo(r,o+f.r1),f.r1!==0&&u.arc(r+f.r1,o+f.r1,f.r1,Math.PI,1.5*Math.PI),u.closePath()}}}),A.exports=n},function(A,x,s){var d=s(19),y=s(58),p=s(601),n=s(603),a=function u(i){u.superclass.constructor.call(this,i)};a.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},d.extend(a,y),d.augment(a,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var i=this._attrs,r=this.getHitLineWidth(),o=i.points;if(!o||o.length===0)return null;var c=1/0,h=1/0,v=-1/0,f=-1/0;d.each(o,function(b){var M=b[0],O=b[1];M<c&&(c=M),M>v&&(v=M),O<h&&(h=O),O>f&&(f=O)});var m=r/2;return{minX:c-m,minY:h-m,maxX:v+m,maxY:f+m}},_setTcache:function(){var i,r,o=this._attrs.points,c=0,h=0,v=[];o&&o.length!==0&&(d.each(o,function(f,m){o[m+1]&&(c+=n.len(f[0],f[1],o[m+1][0],o[m+1][1]))}),c<=0||(d.each(o,function(f,m){o[m+1]&&((i=[])[0]=h/c,r=n.len(f[0],f[1],o[m+1][0],o[m+1][1]),h+=r,i[1]=h/c,v.push(i))}),this.tCache=v))},createPath:function(i){var r,o,c=this._attrs.points;if(!(c.length<2)){for((i=i||this.get("context")).beginPath(),i.moveTo(c[0][0],c[0][1]),o=1,r=c.length-1;o<r;o++)i.lineTo(c[o][0],c[o][1]);i.lineTo(c[r][0],c[r][1])}},getStartTangent:function(){var i=this.__attrs.points,r=[];return r.push([i[1][0],i[1][1]]),r.push([i[0][0],i[0][1]]),r},getEndTangent:function(){var i=this.__attrs.points,r=i.length-1,o=[];return o.push([i[r-1][0],i[r-1][1]]),o.push([i[r][0],i[r][1]]),o},afterPath:function(i){var r=this._attrs,o=r.points,c=o.length-1;i=i||this.get("context"),r.startArrow&&p.addStartArrow(i,r,o[1][0],o[1][1],o[0][0],o[0][1]),r.endArrow&&p.addEndArrow(i,r,o[c-1][0],o[c-1][1],o[c][0],o[c][1])},getPoint:function(i){var r,o,c=this._attrs.points,h=this.tCache;return h||(this._setTcache(),h=this.tCache),d.each(h,function(v,f){i>=v[0]&&i<=v[1]&&(r=(i-v[0])/(v[1]-v[0]),o=f)}),{x:n.at(c[o][0],c[o+1][0],r),y:n.at(c[o][1],c[o+1][1],r)}}}),A.exports=a},function(A,x,s){var d=s(19),y=s(58),p=function n(a){n.superclass.constructor.call(this,a)};p.ATTRS={points:null,lineWidth:1},d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var a=this._attrs.points,u=this.getHitLineWidth();if(!a||a.length===0)return null;var i=1/0,r=1/0,o=-1/0,c=-1/0;d.each(a,function(v){var f=v[0],m=v[1];f<i&&(i=f),f>o&&(o=f),m<r&&(r=m),m>c&&(c=m)});var h=u/2;return{minX:i-h,minY:r-h,maxX:o+h,maxY:c+h}},createPath:function(a){var u=this._attrs.points;u.length<2||((a=a||this.get("context")).beginPath(),d.each(u,function(i,r){r===0?a.moveTo(i[0],i[1]):a.lineTo(i[0],i[1])}),a.closePath())}}),A.exports=p},function(A,x,s){var d=s(19),y=s(58),p=s(600),n=s(593),a=s(601),u=s(610),i=s(612),r=function o(c){o.superclass.constructor.call(this,c)};r.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},d.extend(r,y),d.augment(r,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(c){if(d.isNil(c))return this.setSilent("segments",null),void this.setSilent("box",void 0);var h,v=n.parsePath(c),f=[];if(d.isArray(v)&&v.length!==0&&(v[0][0]==="M"||v[0][0]==="m")){for(var m=v.length,b=0;b<v.length;b++){var M=v[b];h=new p(M,h,b===m-1),f.push(h)}this.setSilent("segments",f),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var c=this.get("segments");if(!c)return null;var h=this.getHitLineWidth(),v=1/0,f=-1/0,m=1/0,b=-1/0;return d.each(c,function(M){M.getBBox(h);var O=M.box;O&&(O.minX<v&&(v=O.minX),O.maxX>f&&(f=O.maxX),O.minY<m&&(m=O.minY),O.maxY>b&&(b=O.maxY))}),v===1/0||m===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:v,minY:m,maxX:f,maxY:b}},_setTcache:function(){var c,h,v,f,m=0,b=0,M=[],O=this._cfg.curve;O&&(d.each(O,function(E,C){v=O[C+1],f=E.length,v&&(m+=i.len(E[f-2],E[f-1],v[1],v[2],v[3],v[4],v[5],v[6]))}),d.each(O,function(E,C){v=O[C+1],f=E.length,v&&((c=[])[0]=b/m,h=i.len(E[f-2],E[f-1],v[1],v[2],v[3],v[4],v[5],v[6]),b+=h,c[1]=b/m,M.push(c))}),this._cfg.tCache=M)},_calculateCurve:function(){var c=this._attrs.path;this._cfg.curve=u.pathTocurve(c)},getStartTangent:function(){var c,h,v,f,m=this.get("segments");if(m.length>1)if(c=m[0].endPoint,h=m[1].endPoint,v=m[1].startTangent,f=[],d.isFunction(v)){var b=v();f.push([c.x-b[0],c.y-b[1]]),f.push([c.x,c.y])}else f.push([h.x,h.y]),f.push([c.x,c.y]);return f},getEndTangent:function(){var c,h,v,f,m=this.get("segments"),b=m.length;if(b>1)if(c=m[b-2].endPoint,h=m[b-1].endPoint,v=m[b-1].endTangent,f=[],d.isFunction(v)){var M=v();f.push([h.x-M[0],h.y-M[1]]),f.push([h.x,h.y])}else f.push([c.x,c.y]),f.push([h.x,h.y]);return f},getPoint:function(c){var h,v,f=this._cfg.tCache;f||(this._calculateCurve(),this._setTcache(),f=this._cfg.tCache);var m=this._cfg.curve;if(!f)return m?{x:m[0][1],y:m[0][2]}:null;d.each(f,function(E,C){c>=E[0]&&c<=E[1]&&(h=(c-E[0])/(E[1]-E[0]),v=C)});var b=m[v];if(d.isNil(b)||d.isNil(v))return null;var M=b.length,O=m[v+1];return{x:i.at(b[M-2],O[1],O[3],O[5],1-h),y:i.at(b[M-1],O[2],O[4],O[6],1-h)}},createPath:function(c){var h=this.get("segments");if(d.isArray(h)){(c=c||this.get("context")).beginPath();for(var v=h.length,f=0;f<v;f++)h[f].draw(c)}},afterPath:function(c){var h=this._attrs,v=this.get("segments"),f=h.path;if(c=c||this.get("context"),d.isArray(v)&&v.length!==1&&(h.startArrow||h.endArrow)&&f[f.length-1]!=="z"&&f[f.length-1]!=="Z"&&!h.fill){var m=this.getStartTangent();a.addStartArrow(c,h,m[0][0],m[0][1],m[1][0],m[1][1]);var b=this.getEndTangent();a.addEndArrow(c,h,b[0][0],b[0][1],b[1][0],b[1][1])}}}),A.exports=r},function(A,x,s){var d=s(19),y=s(58),p=s(601),n=s(603),a=function u(i){u.superclass.constructor.call(this,i)};a.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},d.extend(a,y),d.augment(a,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var i=this._attrs,r=i.x1,o=i.y1,c=i.x2,h=i.y2,v=this.getHitLineWidth();return n.box(r,o,c,h,v)},createPath:function(i){var r=this._attrs,o=r.x1,c=r.y1,h=r.x2,v=r.y2;(i=i||self.get("context")).beginPath(),i.moveTo(o,c),i.lineTo(h,v)},afterPath:function(i){var r=this._attrs,o=r.x1,c=r.y1,h=r.x2,v=r.y2;i=i||this.get("context"),r.startArrow&&p.addStartArrow(i,r,h,v,o,c),r.endArrow&&p.addEndArrow(i,r,o,c,h,v)},getPoint:function(i){var r=this._attrs;return{x:n.at(r.x1,r.x2,i),y:n.at(r.y1,r.y2,i)}}}),A.exports=a},function(A,x,s){var d=s(19),y=s(58),p=function n(a){n.superclass.constructor.call(this,a)};p.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},d.extend(p,y),d.augment(p,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var a=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===a.img||this._setAttrImg();var u=a.x,i=a.y;return{minX:u,minY:i,maxX:u+a.width,maxY:i+a.height}},_beforeSetLoading:function(a){var u=this.get("canvas");return a===!1&&this.get("toDraw")===!0&&(this._cfg.loading=!1,u.draw()),a},_setAttrImg:function(){var a=this,u=a._attrs,i=u.img;if(!d.isString(i))return i instanceof Image?(u.width||a.attr("width",i.width),u.height||a.attr("height",i.height),i):i instanceof HTMLElement&&d.isString(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"?(u.width||a.attr("width",Number(i.getAttribute("width"))),u.height||a.attr("height",Number(i.getAttribute("height"))),i):i instanceof ImageData?(u.width||a.attr("width",i.width),u.height||a.attr("height",i.height),i):null;var r=new Image;r.onload=function(){if(a.get("destroyed"))return!1;a.attr("imgSrc",i),a.attr("img",r);var o=a.get("callback");o&&o.call(a),a.set("loading",!1)},r.src=i,r.crossOrigin="Anonymous",a.set("loading",!0)},drawInner:function(a){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(a),this._cfg.hasUpdate=!1)},_drawImage:function(a){var u=this._attrs,i=u.x,r=u.y,o=u.img,c=u.width,h=u.height,v=u.sx,f=u.sy,m=u.swidth,b=u.sheight;this.set("toDraw",!1);var M=o;if(M instanceof ImageData&&((M=new Image).src=o),M instanceof Image||M instanceof HTMLElement&&d.isString(M.nodeName)&&M.nodeName.toUpperCase()==="CANVAS"){if(d.isNil(v)||d.isNil(f)||d.isNil(m)||d.isNil(b))return void a.drawImage(M,i,r,c,h);if(!(d.isNil(v)||d.isNil(f)||d.isNil(m)||d.isNil(b)))return void a.drawImage(M,v,f,m,b,i,r,c,h)}}}),A.exports=p},function(A,x,s){var d=s(19),y=s(58),p=s(602),n=function a(u){a.superclass.constructor.call(this,u)};n.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},d.extend(n,y),d.augment(n,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var u=this._attrs,i=u.x,r=u.y,o=u.rs,c=u.re,h=u.startAngle,v=u.endAngle,f=u.clockwise,m=this.getHitLineWidth(),b=p.box(i,r,o,h,v,f),M=p.box(i,r,c,h,v,f),O=m/2;return{minX:Math.min(b.minX,M.minX)-O,minY:Math.min(b.minY,M.minY)-O,maxX:Math.max(b.maxX,M.maxX)+O,maxY:Math.max(b.maxY,M.maxY)+O}},createPath:function(u){var i=this._attrs,r=i.x,o=i.y,c=i.rs,h=i.re,v=i.startAngle,f=i.endAngle,m=i.clockwise,b={x:Math.cos(v)*c+r,y:Math.sin(v)*c+o},M={x:Math.cos(v)*h+r,y:Math.sin(v)*h+o},O={x:Math.cos(f)*c+r,y:Math.sin(f)*c+o};(u=u||self.get("context")).beginPath(),u.moveTo(b.x,b.y),u.lineTo(M.x,M.y),u.arc(r,o,h,v,f,m),u.lineTo(O.x,O.y),u.arc(r,o,c,f,v,!m),u.closePath()}}),A.exports=n},function(A,x,s){var d=s(19),y=s(58),p=function n(a){n.superclass.constructor.call(this,a)};p.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var a=this._attrs,u=a.x,i=a.y,r=a.rx,o=a.ry,c=this.getHitLineWidth(),h=r+c/2,v=o+c/2;return{minX:u-h,minY:i-v,maxX:u+h,maxY:i+v}},createPath:function(a){var u=this._attrs,i=u.x,r=u.y,o=u.rx,c=u.ry;a=a||self.get("context");var h=o>c?o:c,v=o>c?1:o/c,f=o>c?c/o:1,m=[1,0,0,0,1,0,0,0,1];d.mat3.scale(m,m,[v,f]),d.mat3.translate(m,m,[i,r]),a.beginPath(),a.save(),a.transform(m[0],m[1],m[3],m[4],m[6],m[7]),a.arc(0,0,h,0,2*Math.PI),a.restore(),a.closePath()}}),A.exports=p},function(A,x,s){var d=s(19),y=s(58),p=function n(a){n.superclass.constructor.call(this,a)};d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var a=this._attrs,u=a.x,i=a.y,r=a.width,o=a.height,c=this.getHitLineWidth()/2;return{minX:u-c,minY:i-c,maxX:u+r+c,maxY:i+o+c}}}),A.exports=p},function(A,x,s){var d=s(19),y=s(58),p=function n(a){n.superclass.constructor.call(this,a)};p.ATTRS={x:0,y:0,r:0,lineWidth:1},d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var a=this._attrs,u=a.x,i=a.y,r=a.r,o=this.getHitLineWidth()/2+r;return{minX:u-o,minY:i-o,maxX:u+o,maxY:i+o}},createPath:function(a){var u=this._attrs,i=u.x,r=u.y,o=u.r;a.beginPath(),a.arc(i,r,o,0,2*Math.PI,!1),a.closePath()}}),A.exports=p},function(A,x,s){var d=s(19),y=s(58),p=s(602),n=s(601);function a(r,o,c){return r+o*Math.cos(c)}function u(r,o,c){return r+o*Math.sin(c)}var i=function r(o){r.superclass.constructor.call(this,o)};i.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},d.extend(i,y),d.augment(i,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var o=this._attrs,c=o.x,h=o.y,v=o.r,f=o.startAngle,m=o.endAngle,b=o.clockwise,M=this.getHitLineWidth()/2,O=p.box(c,h,v,f,m,b);return O.minX-=M,O.minY-=M,O.maxX+=M,O.maxY+=M,O},getStartTangent:function(){var o=this._attrs,c=o.x,h=o.y,v=o.startAngle,f=o.r,m=o.clockwise,b=Math.PI/180;m&&(b*=-1);var M=[],O=a(c,f,v+b),E=u(h,f,v+b),C=a(c,f,v),j=u(h,f,v);return M.push([O,E]),M.push([C,j]),M},getEndTangent:function(){var o=this._attrs,c=o.x,h=o.y,v=o.endAngle,f=o.r,m=o.clockwise,b=Math.PI/180,M=[];m&&(b*=-1);var O=a(c,f,v+b),E=u(h,f,v+b),C=a(c,f,v),j=u(h,f,v);return M.push([C,j]),M.push([O,E]),M},createPath:function(o){var c=this._attrs,h=c.x,v=c.y,f=c.r,m=c.startAngle,b=c.endAngle,M=c.clockwise;(o=o||self.get("context")).beginPath(),o.arc(h,v,f,m,b,M)},afterPath:function(o){var c=this._attrs;if(o=o||this.get("context"),c.startArrow){var h=this.getStartTangent();n.addStartArrow(o,c,h[0][0],h[0][1],h[1][0],h[1][1])}if(c.endArrow){var v=this.getEndTangent();n.addEndArrow(o,c,v[0][0],v[0][1],v[1][0],v[1][1])}}}),A.exports=i},function(A,x){A.exports={xAt:function(d,y,p,n,a){return y*Math.cos(d)*Math.cos(a)-p*Math.sin(d)*Math.sin(a)+n},yAt:function(d,y,p,n,a){return y*Math.sin(d)*Math.cos(a)+p*Math.cos(d)*Math.sin(a)+n},xExtrema:function(d,y,p){return Math.atan(-p/y*Math.tan(d))},yExtrema:function(d,y,p){return Math.atan(p/(y*Math.tan(d)))}}},function(A,x,s){var d=s(19),y=d.vec2;function p(a,u,i,r){var o=1-r;return o*(o*a+2*r*u)+r*r*i}function n(a,u,i,r,o,c,h,v,f){var m,b,M,O,E,C,j,B=.005,N=1/0,I=[h,v];for(E=0;E<1;E+=.05)M=[p(a,i,o,E),p(u,r,c,E)],(b=y.squaredDistance(I,M))<N&&(m=E,N=b);for(N=1/0,j=0;j<32&&!(B<1e-4);j++){var F=m-B,G=m+B;M=[p(a,i,o,F),p(u,r,c,F)],b=y.squaredDistance(I,M),F>=0&&b<N?(m=F,N=b):(O=[p(a,i,o,G),p(u,r,c,G)],C=y.squaredDistance(I,O),G<=1&&C<N?(m=G,N=C):B*=.5)}return f&&(f.x=p(a,i,o,m),f.y=p(u,r,c,m)),Math.sqrt(N)}A.exports={at:p,projectPoint:function(u,i,r,o,c,h,v,f){var m={};return n(u,i,r,o,c,h,v,f,m),m},pointDistance:n,extrema:function(u,i,r){var o=u+r-2*i;if(d.isNumberEqual(o,0))return[.5];var c=(u-i)/o;return c<=1&&c>=0?[c]:[]}}},function(A,x,s){var d=s(19),y=s(746),p=s(745),n=s(744),a=s(116),u=function(r){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},d.assign(this._cfg,this.getDefaultCfg(),r),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};u.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},d.augment(u,y,p,a,n,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(r,o){return r==="zIndex"&&this._beforeSetZIndex&&this._beforeSetZIndex(o),r==="loading"&&this._beforeSetLoading&&this._beforeSetLoading(o),this._cfg[r]=o,this},setSilent:function(r,o){this._cfg[r]=o},get:function(r){return this._cfg[r]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(r,o){var c=this._cfg,h=c.parent,v=c.el;return h&&d.remove(h.get("children"),this),v&&(o?h&&h._cfg.tobeRemoved.push(v):v.parentNode.removeChild(v)),(r||r===void 0)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var r=this._cfg,o=r.parent;if(o){var c=o._cfg.children,h=r.el,v=c.indexOf(this);c.splice(v,1),c.push(this),h&&(h.parentNode.removeChild(h),r.el=null)}},toBack:function(){var r=this._cfg,o=r.parent;if(o){var c=o._cfg.children,h=r.el,v=c.indexOf(this);if(c.splice(v,1),c.unshift(this),h){var f=h.parentNode;f.removeChild(h),f.insertBefore(h,f.firstChild)}}},_beforeSetZIndex:function(r){var o=this._cfg.parent;this._cfg.zIndex=r,d.isNil(o)||o.sort();var c=this._cfg.el;if(c){var h=o._cfg.children,v=h.indexOf(this),f=c.parentNode;f.removeChild(c),v===h.length-1?f.appendChild(c):f.insertBefore(c,f.childNodes[v])}return r},_setAttrs:function(r){return this.attr(r),r},setZIndex:function(r){return this._cfg.zIndex=r,this._beforeSetZIndex(r)},clone:function(){return d.clone(this)},getBBox:function(){}}),A.exports=u},function(A,x,s){var d=s(19),y=s(641),p=s(743),n={},a="_INDEX";function u(r,o,c){for(var h,v=r.length-1;v>=0;v--){var f=r[v];if(f._cfg.visible&&f._cfg.capture&&(f.isGroup?h=f.getShape(o,c):f.isHit(o,c)&&(h=f)),h)break}return h}var i=function r(o){r.superclass.constructor.call(this,o),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};d.extend(i,y),d.augment(i,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function o(c){if(!c._cfg&&c!==i){var h=c.superclass.constructor;h&&!h._cfg&&o(h),c._cfg={},d.merge(c._cfg,h._cfg),d.merge(c._cfg,c.CFG)}}(this.constructor),d.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(o,c){var h=this.get("canvas");c=c||{};var v=n[o];if(v||(v=d.upperFirst(o),n[o]=v),c.attrs&&h){var f=c.attrs;if(o==="text"){var m=h.get("fontFamily");m&&(f.fontFamily=f.fontFamily?f.fontFamily:m)}}c.canvas=h,c.type=o;var b=new p[v](c);return this.add(b),b},addGroup:function(o,c){var h,v=this.get("canvas");if(c=d.merge({},c),d.isFunction(o))c?(c.canvas=v,c.parent=this,h=new o(c)):h=new o({canvas:v,parent:this}),this.add(h);else if(d.isObject(o))o.canvas=v,h=new i(o),this.add(h);else{if(o!==void 0)return!1;h=new i,this.add(h)}return h},renderBack:function(o,c){var h=this.get("backShape"),v=this.getBBox();return d.merge(c,{x:v.minX-o[3],y:v.minY-o[0],width:v.width+o[1]+o[3],height:v.height+o[0]+o[2]}),h?h.attr(c):h=this.addShape("rect",{zIndex:-1,attrs:c}),this.set("backShape",h),this.sort(),h},removeChild:function(o,c){if(arguments.length>=2)this.contain(o)&&o.remove(c);else{if(arguments.length===1){if(!d.isBoolean(o))return this.contain(o)&&o.remove(!0),this;c=o}arguments.length===0&&(c=!0),i.superclass.remove.call(this,c)}return this},add:function(o){var c=this,h=c.get("children");if(d.isArray(o))d.each(o,function(m){var b=m.get("parent");b&&b.removeChild(m,!1),c._setCfgProperty(m)}),c._cfg.children=h.concat(o);else{var v=o,f=v.get("parent");f&&f.removeChild(v,!1),c._setCfgProperty(v),h.push(v)}return c},_setCfgProperty:function(o){var c=this._cfg;o.set("parent",this),o.set("canvas",c.canvas),c.timeline&&o.set("timeline",c.timeline)},contain:function(o){return this.get("children").indexOf(o)>-1},getChildByIndex:function(o){return this.get("children")[o]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var o=this.get("children").length-1;return this.getChildByIndex(o)},getBBox:function(){var o=1/0,c=-1/0,h=1/0,v=-1/0,f=this.get("children");f.length>0?d.each(f,function(b){if(b.get("visible")){if(b.isGroup&&b.get("children").length===0)return;var M=b.getBBox();if(!M)return!0;var O=[M.minX,M.minY,1],E=[M.minX,M.maxY,1],C=[M.maxX,M.minY,1],j=[M.maxX,M.maxY,1];b.apply(O),b.apply(E),b.apply(C),b.apply(j);var B=Math.min(O[0],E[0],C[0],j[0]),N=Math.max(O[0],E[0],C[0],j[0]),I=Math.min(O[1],E[1],C[1],j[1]),F=Math.max(O[1],E[1],C[1],j[1]);B<o&&(o=B),N>c&&(c=N),I<h&&(h=I),F>v&&(v=F)}}):(o=0,c=0,h=0,v=0);var m={minX:o,minY:h,maxX:c,maxY:v};return m.x=m.minX,m.y=m.minY,m.width=m.maxX-m.minX,m.height=m.maxY-m.minY,m},getCount:function(){return this.get("children").length},sort:function(){var o=this.get("children");return d.each(o,function(c,h){return c[a]=h,c}),o.sort(function(c){return function(h,v){var f=c(h,v);return f===0?h[a]-v[a]:f}}(function(c,h){return c.get("zIndex")-h.get("zIndex")})),this},findById:function(o){return this.find(function(c){return c.get("id")===o})},find:function(o){if(d.isString(o))return this.findById(o);var c=this.get("children"),h=null;return d.each(c,function(v){if(o(v)?h=v:v.find&&(h=v.find(o)),h)return!1}),h},findAll:function(o){var c=this.get("children"),h=[],v=[];return d.each(c,function(f){o(f)&&h.push(f),f.findAllBy&&(v=f.findAllBy(o),h=h.concat(v))}),h},findBy:function(o){var c=this.get("children"),h=null;return d.each(c,function(v){if(o(v)?h=v:v.findBy&&(h=v.findBy(o)),h)return!1}),h},findAllBy:function(o){var c=this.get("children"),h=[],v=[];return d.each(c,function(f){o(f)&&h.push(f),f.findAllBy&&(v=f.findAllBy(o),h=h.concat(v))}),h},getShape:function(o,c){var h,v=this._attrs.clip,f=this._cfg.children;if(v){var m=[o,c,1];v.invert(m,this.get("canvas")),v.isPointInPath(m[0],m[1])&&(h=u(f,o,c))}else h=u(f,o,c);return h},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var o=this._cfg.children,c=0;c<o.length;c++)o[c].clearTotalMatrix()}},clear:function(o){for(var c=this._cfg.children,h=c.length-1;h>=0;h--)c[h].remove(!0,o);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),i.superclass.destroy.call(this))},clone:function(){var o=this._cfg.children,c=new i;return d.each(o,function(h){c.add(h.clone())}),c}}),A.exports=i},function(A,x,s){var d=s(19),y=function(n,a,u,i){this.type=n,this.target=null,this.currentTarget=null,this.bubbles=u,this.cancelable=i,this.timeStamp=new Date().getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=a};d.augment(y,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return d.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),A.exports=y},function(A,x,s){A.exports={isFunction:s(84),isObject:s(621),isBoolean:s(653),isNil:s(237),isString:s(595),isArray:s(45),isNumber:s(236),isEmpty:s(647),uniqueId:s(646),clone:s(616),deepMix:s(615),assign:s(606),merge:s(615),upperFirst:s(655),each:s(46),isEqual:s(614),toArray:s(604),extend:s(650),augment:s(651),remove:s(676),isNumberEqual:s(673),toRadian:s(669),toDegree:s(671),mod:s(672),clamp:s(618),createDom:s(681),modifyCSS:s(680),requestAnimationFrame:s(679),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:s(617),vec2:s(668),vec3:s(667),transform:s(666)}},function(A,x,s){var d=s(16),y=s(253),p=s(251),n="Expected a function",a=Math.max,u=Math.min;A.exports=function(i,r,o){var c,h,v,f,m,b,M=0,O=!1,E=!1,C=!0;if(typeof i!="function")throw new TypeError(n);function j(G){var U=c,H=h;return c=h=void 0,M=G,f=i.apply(H,U)}function B(G){var U=G-b;return b===void 0||U>=r||U<0||E&&G-M>=v}function N(){var G=y();if(B(G))return I(G);m=setTimeout(N,function(U){var H=r-(U-b);return E?u(H,v-(U-M)):H}(G))}function I(G){return m=void 0,C&&c?j(G):(c=h=void 0,f)}function F(){var G=y(),U=B(G);if(c=arguments,h=this,b=G,U){if(m===void 0)return function(H){return M=H,m=setTimeout(N,r),O?j(H):f}(b);if(E)return m=setTimeout(N,r),j(b)}return m===void 0&&(m=setTimeout(N,r)),f}return r=p(r)||0,d(o)&&(O=!!o.leading,v=(E="maxWait"in o)?a(p(o.maxWait)||0,r):v,C="trailing"in o?!!o.trailing:C),F.cancel=function(){m!==void 0&&clearTimeout(m),M=0,c=b=h=m=void 0},F.flush=function(){return m===void 0?f:I(y())},F}},function(A,x){var s=function(){var d={};return function(y){return d[y=y||"g"]?d[y]+=1:d[y]=1,y+d[y]}}();A.exports=s},function(A,x,s){var d=s(237),y=s(118),p=s(654),n=s(652),a=Object.prototype.hasOwnProperty;A.exports=function(u){if(d(u))return!0;if(y(u))return!u.length;var i=p(u);if(i==="Map"||i==="Set")return!u.size;if(n(u))return!Object.keys(u).length;for(var r in u)if(a.call(u,r))return!1;return!0}},function(A,x,s){var d=s(46),y=s(45),p=Object.prototype.hasOwnProperty;A.exports=function(n,a){if(!a||!y(n))return n;var u={},i=null;return d(n,function(r){i=a(r),p.call(u,i)?u[i].push(r):u[i]=[r]}),u}},function(A,x,s){var d=s(84),y=s(45),p=s(648);A.exports=function(n,a){if(!a)return{0:n};if(!d(a)){var u=y(a)?a:a.replace(/\s+/g,"").split("*");a=function(r){for(var o="_",c=0,h=u.length;c<h;c++)o+=r[u[c]]&&r[u[c]].toString();return o}}return p(n,a)}},function(A,x,s){var d=s(84),y=s(606);A.exports=function(p,n,a,u){d(n)||(a=n,n=p,p=function(){});var i=Object.create?function(o,c){return Object.create(o,{constructor:{value:c}})}:function(o,c){function h(){}h.prototype=o;var v=new h;return v.constructor=c,v},r=i(n.prototype,p);return p.prototype=y(r,p.prototype),p.superclass=i(n.prototype,n),y(r,a),y(p,u),p}},function(A,x,s){var d=s(84),y=s(604),p=s(606);A.exports=function(n){for(var a=y(arguments),u=1;u<a.length;u++){var i=a[u];d(i)&&(i=i.prototype),p(n.prototype,i)}}},function(A,x){var s=Object.prototype;A.exports=function(d){var y=d&&d.constructor;return d===(typeof y=="function"&&y.prototype||s)}},function(A,x,s){var d=s(115);A.exports=function(y){return d(y,"Boolean")}},function(A,x){var s={}.toString;A.exports=function(d){return s.call(d).replace(/^\[object /,"").replace(/\]$/,"")}},function(A,x,s){var d=s(594);A.exports=function(y){var p=d(y);return p.charAt(0).toUpperCase()+p.substring(1)}},function(A,x,s){var d=s(594);A.exports=function(y){return d(y).toUpperCase()}},function(A,x,s){var d=s(594);A.exports=function(y){return d(y).toLowerCase()}},function(A,x){A.exports=function(s,d){for(var y=[],p=0,n=s.length;n-2*!d>p;p+=2){var a=[{x:+s[p-2],y:+s[p-1]},{x:+s[p],y:+s[p+1]},{x:+s[p+2],y:+s[p+3]},{x:+s[p+4],y:+s[p+5]}];d?p?n-4===p?a[3]={x:+s[0],y:+s[1]}:n-2===p&&(a[2]={x:+s[0],y:+s[1]},a[3]={x:+s[2],y:+s[3]}):a[0]={x:+s[n-2],y:+s[n-1]}:n-4===p?a[3]=a[2]:p||(a[0]={x:+s[p],y:+s[p+1]}),y.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return y}},function(A,x){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,y=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),p=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig");A.exports=function(n){if(!n)return null;if((n===void 0?"undefined":s(n))===s([]))return n;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},u=[];return String(n).replace(y,function(i,r,o){var c=[],h=r.toLowerCase();if(o.replace(p,function(v,f){f&&c.push(+f)}),h==="m"&&c.length>2&&(u.push([r].concat(c.splice(0,2))),h="l",r=r==="m"?"l":"L"),h==="o"&&c.length===1&&u.push([r,c[0]]),h==="r")u.push([r].concat(c));else for(;c.length>=a[h]&&(u.push([r].concat(c.splice(0,a[h]))),a[h]););}),u}},function(A,x,s){var d=s(659),y=s(658);function p(n,a,u,i,r){var o=[];if(r===null&&i===null&&(i=u),n=+n,a=+a,u=+u,i=+i,r!==null){var c=Math.PI/180,h=n+u*Math.cos(-i*c),v=n+u*Math.cos(-r*c);o=[["M",h,a+u*Math.sin(-i*c)],["A",u,u,0,+(r-i>180),0,v,a+u*Math.sin(-r*c)]]}else o=[["M",n,a],["m",0,-i],["a",u,i,0,1,1,0,2*i],["a",u,i,0,1,1,0,-2*i],["z"]];return o}A.exports=function(n){if(!(n=d(n))||!n.length)return[["M",0,0]];var a=[],u=0,i=0,r=0,o=0,c=0,h=void 0,v=void 0;n[0][0]==="M"&&(r=u=+n[0][1],o=i=+n[0][2],c++,a[0]=["M",u,i]);for(var f,m,b=n.length===3&&n[0][0]==="M"&&n[1][0].toUpperCase()==="R"&&n[2][0].toUpperCase()==="Z",M=c,O=n.length;M<O;M++){if(a.push(f=[]),(h=(m=n[M])[0])!==h.toUpperCase())switch(f[0]=h.toUpperCase(),f[0]){case"A":f[1]=m[1],f[2]=m[2],f[3]=m[3],f[4]=m[4],f[5]=m[5],f[6]=+m[6]+u,f[7]=+m[7]+i;break;case"V":f[1]=+m[1]+i;break;case"H":f[1]=+m[1]+u;break;case"R":for(var E=2,C=(v=[u,i].concat(m.slice(1))).length;E<C;E++)v[E]=+v[E]+u,v[++E]=+v[E]+i;a.pop(),a=a.concat(y(v,b));break;case"O":a.pop(),(v=p(u,i,m[1],m[2])).push(v[0]),a=a.concat(v);break;case"U":a.pop(),a=a.concat(p(u,i,m[1],m[2],m[3])),f=["U"].concat(a[a.length-1].slice(-2));break;case"M":r=+m[1]+u,o=+m[2]+i;break;default:for(var j=1,B=m.length;j<B;j++)f[j]=+m[j]+(j%2?u:i)}else if(h==="R")v=[u,i].concat(m.slice(1)),a.pop(),a=a.concat(y(v,b)),f=["R"].concat(m.slice(-2));else if(h==="O")a.pop(),(v=p(u,i,m[1],m[2])).push(v[0]),a=a.concat(v);else if(h==="U")a.pop(),a=a.concat(p(u,i,m[1],m[2],m[3])),f=["U"].concat(a[a.length-1].slice(-2));else for(var N=0,I=m.length;N<I;N++)f[N]=m[N];if((h=h.toUpperCase())!=="O")switch(f[0]){case"Z":u=+r,i=+o;break;case"H":u=f[1];break;case"V":i=f[1];break;case"M":r=f[f.length-2],o=f[f.length-1];break;default:u=f[f.length-2],i=f[f.length-1]}}return a}},function(A,x,s){var d=s(660),y=function(a,u,i,r){return[a,u,i,r,i,r]},p=function(a,u,i,r,o,c){return[1/3*a+2/3*i,1/3*u+2/3*r,1/3*o+2/3*i,1/3*c+2/3*r,o,c]};A.exports=function(n,a){var u=d(n),i=a&&d(a),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],h=[],v="",f="",m=void 0,b=function(F,G,U){var H=void 0,Q=void 0;if(!F)return["C",G.x,G.y,G.x,G.y,G.x,G.y];switch(!(F[0]in{T:1,Q:1})&&(G.qx=G.qy=null),F[0]){case"M":G.X=F[1],G.Y=F[2];break;case"A":F=["C"].concat(function at($,K,ot,it,ht,St,gt,bt,mt,vt){ot===it&&(ot+=1);var _t=120*Math.PI/180,Nt=Math.PI/180*(+ht||0),At=[],It=void 0,dt=void 0,X=void 0,V=void 0,Z=void 0,W=function(Ne,Me,De){return{x:Ne*Math.cos(De)-Me*Math.sin(De),y:Ne*Math.sin(De)+Me*Math.cos(De)}};if(vt)dt=vt[0],X=vt[1],V=vt[2],Z=vt[3];else{$=(It=W($,K,-Nt)).x,K=It.y,bt=(It=W(bt,mt,-Nt)).x,mt=It.y,$===bt&&K===mt&&(bt+=1,mt+=1);var rt=($-bt)/2,J=(K-mt)/2,tt=rt*rt/(ot*ot)+J*J/(it*it);tt>1&&(ot*=tt=Math.sqrt(tt),it*=tt);var ft=ot*ot,kt=it*it,jt=(St===gt?-1:1)*Math.sqrt(Math.abs((ft*kt-ft*J*J-kt*rt*rt)/(ft*J*J+kt*rt*rt)));V=jt*ot*J/it+($+bt)/2,Z=jt*-it*rt/ot+(K+mt)/2,dt=Math.asin(((K-Z)/it).toFixed(9)),X=Math.asin(((mt-Z)/it).toFixed(9)),dt=$<V?Math.PI-dt:dt,X=bt<V?Math.PI-X:X,dt<0&&(dt=2*Math.PI+dt),X<0&&(X=2*Math.PI+X),gt&&dt>X&&(dt-=2*Math.PI),!gt&&X>dt&&(X-=2*Math.PI)}var Bt=X-dt;if(Math.abs(Bt)>_t){var Rt=X,Lt=bt,Pt=mt;X=dt+_t*(gt&&X>dt?1:-1),At=at(bt=V+ot*Math.cos(X),mt=Z+it*Math.sin(X),ot,it,ht,0,gt,Lt,Pt,[X,Rt,V,Z])}Bt=X-dt;var Ct=Math.cos(dt),Ht=Math.sin(dt),Xt=Math.cos(X),ut=Math.sin(X),re=Math.tan(Bt/4),pe=4/3*ot*re,de=4/3*it*re,we=[$,K],fe=[$+pe*Ht,K-de*Ct],ue=[bt+pe*ut,mt-de*Xt],ye=[bt,mt];if(fe[0]=2*we[0]-fe[0],fe[1]=2*we[1]-fe[1],vt)return[fe,ue,ye].concat(At);for(var ve=[],xe=0,Ge=(At=[fe,ue,ye].concat(At).join().split(",")).length;xe<Ge;xe++)ve[xe]=xe%2?W(At[xe-1],At[xe],Nt).y:W(At[xe],At[xe+1],Nt).x;return ve}.apply(0,[G.x,G.y].concat(F.slice(1))));break;case"S":U==="C"||U==="S"?(H=2*G.x-G.bx,Q=2*G.y-G.by):(H=G.x,Q=G.y),F=["C",H,Q].concat(F.slice(1));break;case"T":U==="Q"||U==="T"?(G.qx=2*G.x-G.qx,G.qy=2*G.y-G.qy):(G.qx=G.x,G.qy=G.y),F=["C"].concat(p(G.x,G.y,G.qx,G.qy,F[1],F[2]));break;case"Q":G.qx=F[1],G.qy=F[2],F=["C"].concat(p(G.x,G.y,F[1],F[2],F[3],F[4]));break;case"L":F=["C"].concat(y(G.x,G.y,F[1],F[2]));break;case"H":F=["C"].concat(y(G.x,G.y,F[1],G.y));break;case"V":F=["C"].concat(y(G.x,G.y,G.x,F[1]));break;case"Z":F=["C"].concat(y(G.x,G.y,G.X,G.Y))}return F},M=function(F,G){if(F[G].length>7){F[G].shift();for(var U=F[G];U.length;)c[G]="A",i&&(h[G]="A"),F.splice(G++,0,["C"].concat(U.splice(0,6)));F.splice(G,1),m=Math.max(u.length,i&&i.length||0)}},O=function(F,G,U,H,Q){F&&G&&F[Q][0]==="M"&&G[Q][0]!=="M"&&(G.splice(Q,0,["M",H.x,H.y]),U.bx=0,U.by=0,U.x=F[Q][1],U.y=F[Q][2],m=Math.max(u.length,i&&i.length||0))};m=Math.max(u.length,i&&i.length||0);for(var E=0;E<m;E++){u[E]&&(v=u[E][0]),v!=="C"&&(c[E]=v,E&&(f=c[E-1])),u[E]=b(u[E],r,f),c[E]!=="A"&&v==="C"&&(c[E]="C"),M(u,E),i&&(i[E]&&(v=i[E][0]),v!=="C"&&(h[E]=v,E&&(f=h[E-1])),i[E]=b(i[E],o,f),h[E]!=="A"&&v==="C"&&(h[E]="C"),M(i,E)),O(u,i,r,o,E),O(i,u,o,r,E);var C=u[E],j=i&&i[E],B=C.length,N=i&&j.length;r.x=C[B-2],r.y=C[B-1],r.bx=parseFloat(C[B-4])||r.x,r.by=parseFloat(C[B-3])||r.y,o.bx=i&&(parseFloat(j[N-4])||o.x),o.by=i&&(parseFloat(j[N-3])||o.y),o.x=i&&j[N-2],o.y=i&&j[N-1]}return i?[u,i]:u}},function(A,x){var s=/,?([a-z]),?/gi;A.exports=function(d){return d.join(",").replace(s,"$1")}},function(A,x,s){var d=s(662);A.exports=function(y,p,n,a,u){if(u)return[["M",+y+ +u,p],["l",n-2*u,0],["a",u,u,0,0,1,u,u],["l",0,a-2*u],["a",u,u,0,0,1,-u,u],["l",2*u-n,0],["a",u,u,0,0,1,-u,-u],["l",0,2*u-a],["a",u,u,0,0,1,u,-u],["z"]];var i=[["M",y,p],["l",n,0],["l",0,a],["l",-n,0],["z"]];return i.parsePathArray=d,i}},function(A,x,s){var d=s(46),y=s(84),p=Object.values?function(n){return Object.values(n)}:function(n){var a=[];return d(n,function(u,i){y(n)&&i==="prototype"||a.push(u)}),a};A.exports=p},function(A,x){A.exports=function(s,d){return s.hasOwnProperty(d)}},function(A,x,s){var d=s(616),y=s(46),p=s(617);A.exports=function(n,a){return n=d(n),y(a,function(u){switch(u[0]){case"t":p.translate(n,n,[u[1],u[2]]);break;case"s":p.scale(n,n,[u[1],u[2]]);break;case"r":p.rotate(n,n,u[1]);break;case"m":p.multiply(n,n,u[1]);break;default:return!1}}),n}},function(A,x,s){var d=s(254);A.exports=d},function(A,x,s){var d=s(255),y=s(618);d.angle=function(p,n){var a=d.dot(p,n)/(d.length(p)*d.length(n));return Math.acos(y(a,-1,1))},d.direction=function(p,n){return p[0]*n[1]-n[0]*p[1]},d.angleTo=function(p,n,a){var u=d.angle(p,n),i=d.direction(p,n)>=0;return a?i?2*Math.PI-u:u:i?u:2*Math.PI-u},d.vertical=function(p,n,a){return a?(p[0]=n[1],p[1]=-1*n[0]):(p[0]=-1*n[1],p[1]=n[0]),p},A.exports=d},function(A,x){var s=Math.PI/180;A.exports=function(d){return s*d}},function(A,x){A.exports=parseInt},function(A,x){var s=180/Math.PI;A.exports=function(d){return s*d}},function(A,x){A.exports=function(s,d){return(s%d+d)%d}},function(A,x){A.exports=function(s,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-5;return Math.abs(s-d)<y}},function(A,x,s){var d=s(46),y=s(605);A.exports=function(p){var n=[];return d(p,function(a){y(n,a)||n.push(a)}),n}},function(A,x,s){var d=s(118),y=Array.prototype.splice;A.exports=function(p,n){if(!d(p))return[];for(var a=p?n.length:0,u=a-1;a--;){var i=void 0,r=n[a];a!==u&&r===i||(i=r,y.call(p,r,1))}return p}},function(A,x){var s=Array.prototype,d=s.splice,y=s.indexOf,p=s.slice;A.exports=function(n){for(var a=p.call(arguments,1),u=0;u<a.length;u++)for(var i=a[u],r=-1;(r=y.call(n,i))>-1;)d.call(n,r,1);return n}},function(A,x,s){var d=s(46),y=s(84),p=Object.keys?function(n){return Object.keys(n)}:function(n){var a=[];return d(n,function(u,i){y(n)&&i==="prototype"||a.push(i)}),a};A.exports=p},function(A,x,s){var d=s(677),y=s(237);A.exports=function(p,n){var a=d(n),u=a.length;if(y(p))return!u;for(var i=0;i<u;i+=1){var r=a[i];if(n[r]!==p[r]||!(r in p))return!1}return!0}},function(A,x){A.exports=function(s){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(d){return setTimeout(d,16)})(s)}},function(A,x){A.exports=function(s,d){if(s)for(var y in d)d.hasOwnProperty(y)&&(s.style[y]=d[y]);return s}},function(A,x){var s=document.createElement("table"),d=document.createElement("tr"),y=/^\s*<(\w+|!)[^>]*>/,p={tr:document.createElement("tbody"),tbody:s,thead:s,tfoot:s,td:d,th:d,"*":document.createElement("div")};A.exports=function(n){var a=y.test(n)&&RegExp.$1;a in p||(a="*");var u=p[a];n=n.replace(/(^\s*)|(\s*$)/g,""),u.innerHTML=""+n;var i=u.childNodes[0];return u.removeChild(i),i}},function(A,x,s){var d=s(257),y={isBetween:function(n,a,u){return n>=a&&n<=u},getLineIntersect:function(n,a,u,i){var r=u.x-n.x,o=u.y-n.y,c=a.x-n.x,h=a.y-n.y,v=i.x-u.x,f=i.y-u.y,m=c*f-h*v,b=null;if(m*m>.001*(c*c+h*h)*(v*v+f*f)){var M=(r*f-o*v)/m,O=(r*h-o*c)/m;y.isBetween(M,0,1)&&y.isBetween(O,0,1)&&(b={x:n.x+M*c,y:n.y+M*h})}return b},getIntersectPointRect:function(n,a){var u=n.minX,i=n.minY,r=n.maxX-n.minX,o=n.maxY-n.minY,c=[],h={x:u+r/2,y:i+o/2};c.push({x:u,y:i}),c.push({x:u+r,y:i}),c.push({x:u+r,y:i+o}),c.push({x:u,y:i+o}),c.push({x:u,y:i});for(var v=null,f=1;f<c.length&&!(v=y.getLineIntersect(c[f-1],c[f],h,a));f++);return v},getIntersectPointCircle:function(n,a,u,i,r){if(Math.sqrt(Math.pow(n-u,2)+Math.pow(a-i,2))<r)return null;var o=n-u,c=a-i,h=Math.sign(o),v=Math.sign(c),f=Math.atan(c/o);return{x:u+Math.abs(r*Math.cos(f))*h,y:i+Math.abs(r*Math.sin(f))*v}},applyMatrix:function(n,a,u){u===void 0&&(u=1);var i=[n.x,n.y,u];return d.vec3.transformMat3(i,i,a),{x:i[0],y:i[1]}},invertMatrix:function(n,a,u){u===void 0&&(u=1);var i=d.mat3.invert([],a),r=[n.x,n.y,u];return d.vec3.transformMat3(r,r,i),{x:r[0],y:r[1]}},radixSort:function(n,a){var u,i,r,o,c,h,v,f=10,m=1,b=[],M=1;for(r=0;r<n.length;r++)u=a(n[r]),i=(u=parseInt(u,10)).toString().length,u.toString().length>M&&(M=i);for(r=0;r<M;r++,m*=10,f*=10){for(o=0;o<n.length;o++)c=a(n[o]),b[c=parseInt(c%f/m,10)]===void 0&&(b[c]=[]),b[c].push(n[o]);for(h=0,o=0;o<b.length;o++)if(v=void 0,b[o]!==void 0)for(v=b[o].shift();v!==void 0;)n[h++]=v,v=b[o].shift()}return n},getArcOfVectors:function(n,a){var u=n.x,i=n.y,r=a.x,o=a.y,c=Math.sqrt(u*u+i*i),h=Math.sqrt(r*r+o*o);return Math.acos((u*r+i*o)/(c*h))}};A.exports=d.mix({},d,y)},function(A,x,s){var d=s(258);d.registerShapeManager("node",{defaultShapeType:"common"}),d.registerShapeManager("edge",{defaultShapeType:"common"}),d.registerShapeManager("group",{defaultShapeType:"common"}),d.registerShapeManager("guide",{defaultShapeType:"common"}),s(724),s(721),s(719),s(717),A.exports=d},function(A,x,s){var d=s(247),y=s(609),p=s(26);setTimeout(function(){var n=d.track;if(d.track){var a=new Image,u={pg:document.URL,r:new Date().getTime(),g6:!0,version:y,page_type:"syslog"};p.isObject(n)&&p.mix(u,n);var i=encodeURIComponent(JSON.stringify([u]));a.src="https://kcart.alipay.com/web/bi.do?BIProfile=merge&d="+i}},2e3)},function(A,x,s){var d=s(598),y=function(p){function n(a){var u;return(u=p.call(this,a)||this).layout=d.mindmap,u}return function(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}(n,p),n}(s(597));A.exports=y},function(A,x,s){var d=s(598),y=function(p){function n(a){var u;return(u=p.call(this,a)||this).layout=d.indented,u}return function(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}(n,p),n}(s(597));A.exports=y},function(A,x,s){var d=s(598),y=function(p){function n(a){var u;return(u=p.call(this,a)||this).layout=d.dendrogram,u}return function(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}(n,p),n}(s(597));A.exports=y},function(A,x,s){var d=s(598),y=function(p){function n(a){var u;return(u=p.call(this,a)||this).layout=d.compactBox,u}return function(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}(n,p),n}(s(597));A.exports=y},function(A,x,s){var d=s(26),y=s(625),p=s(623),n=function(a){function u(r){var o=d.mix({layout:new p.CompactBoxTree({getHGap:function(){return 10},getVGap:function(){return 10}}),_type:"tree"},r);return a.call(this,o)||this}(function(r,o){r.prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o})(u,a);var i=u.prototype;return i.initEvent=function(){var r=this;this.on("afterdrawinner",function(){r.get("_sourceData").roots.forEach(function(o){var c=r.find(o.id);r._setVisibleByCollapsed(c)})})},i._executeLayout=function(r){var o=this.get("_sourceData");d.isFunction(r)?r(o.roots,this):d.isObject(r)&&(r.roots=o.roots,r.graph=this,r.execute())},i.getHierarchy=function(r){r=this.getItem(r);for(var o=this.get("_dataMap"),c=r.getModel().parent,h=1;c;)c=o[c].parent,h++;return h},i.parseSource=function(r){var o=r.roots,c=this.get("_dataMap"),h=[],v=[];if(!o)throw new Error("please set data.roots!");return o.forEach(function(f){d.traverseTree(f,function(m,b){m.id||(m.id=d.guid()),b||(b=c[m.parent]),b&&(m.parent=b.id,b.id||(b.id=d.guid()),v.push({source:b.id,target:m.id,id:b.id+"-"+m.id})),h.push(m)},function(m){return m.children},!0)}),{nodes:h,edges:v}},i._setVisibleByCollapsed=function(r){var o=r.getModel();r.collapsedParent?(r.hide(),r.getEdges().forEach(function(c){c.hide()}),r.deepEach(function(c){c.hide(),c.getEdges().forEach(function(h){h.hide()})})):o.collapsed?r.deepEach(function(c){c.hide(),c.getEdges().forEach(function(h){h.hide()})}):r.deepEach(function(c){c.collapsedParent&&(c.hide(),c.getEdges().forEach(function(h){h.hide()}))})},i.source=function(r){var o=this.parseSource(r);this.emit("beforesource"),this.set("_sourceData",r),this.set("_data",o),this.emit("aftersource")},i._setNodeNth=function(r,o){var c=(r=this.getItem(r)).getModel(),h=r.getParent().getModel().children;d.Array.remove(h,c),h.splice(o,0,c)},i.getNth=function(r){var o=(r=this.getItem(r)).getModel();return r.getParent().getModel().children.indexOf(o)},i.add=function(r,o){var c,h=this.get("_dataMap")[o.parent],v={action:"add",model:o};if(r==="node"||r==="guide"){if(this.emit("beforechange",v),r==="node"){if(!h)throw new Error("please set available parent Id !");d.isArray(h.children)?h.children.push(o):h.children=[o];var f=this.parseSource({roots:[o]});this._addItems("node",f.nodes),this._addItems("edge",f.edges),c=this.find(o.id),this._setVisibleByCollapsed(c),d.isNil(o.nth)||this._setNodeNth(c,o.nth),this.find(h.id).forceUpdate()}else this._addItems(r,[o]),c=this.find(o.id);return v.item=c,this.emit("afterchange",v),c}console.warn("Tree do not support add type "+r+"!")},i.update=function(r,o){var c=this;if(o){var h=(r=this.getItem(r)).getModel(),v=d.mix({},h),f={action:"update",item:r,originModel:v,updateModel:o};if(this.emit("beforechange",f),this._updateItems([r],[o]),r.isNode){if("collapsed"in o&&(o.collapsed?r.deepEach(function(C){C.hide(),C.getEdges().forEach(function(j){j.hide()})}):r.deepEach(function(C){C.show(),C.getInEdges().forEach(function(j){j.show()})},function(C){return C.model.collapsed?null:C.getChildren()})),o.parent&&o.parent!==v.parent){var m=this.find(v.parent).getModel(),b=this.find(o.parent).getModel(),M=this.find(m.id+"-"+v.id),O={id:b.id+"-"+v.id,source:b.id,target:v.id};d.Array.remove(m.children,h),b.children?b.children.push(h):b.children=[h],this._removeItems([M]),this._addItems("edge",[O]),this.find(b.id).forceUpdate()}d.isArray(o.children)&&(v.children&&d.each(v.children,function(C){var j=c.find(C.id),B=[j];j.getEdges().forEach(function(N){B.push(N)}),c._removeItems(B)}),d.each(o.children,function(C){var j=c.parseSource({roots:[C]}),B=d.isNil(C.id)?d.guid():C.id;c._addItems("node",j.nodes),c._addItems("edge",j.edges),!C.parent&&c._addItems("edge",[{id:v.id+"-"+B,source:v.id,target:B}])})),d.isNil(o.nth)||this._setNodeNth(r,o.nth);var E=this.find(h.parent);E&&E.forceUpdate()}return this.emit("afterchange",f),this}},i.remove=function(r){var o=this.get("_dataMap"),c=[];if((r=this.getItem(r))&&!r.destroyed){var h={action:"remove",item:r};if(this.emit("beforechange",h),c.push(r),r.type==="node"){r.getEdges().forEach(function(m){c.push(m)});var v=r.getModel(),f=o[v.parent];r.deepEach(function(m){c.push(m),m.getEdges().forEach(function(b){c.push(b)})}),d.Array.remove(f.children,v),this.find(f.id).forceUpdate()}return this._removeItems(d.uniq(c)),this.emit("afterchange",h),this}},i.getRoots=function(){var r=this;return this.getSource().roots.map(function(o){return r.find(o.id)})},i.save=function(){var r={roots:d.clone(this.getSource().roots),guides:this.getGuides().map(function(o){return o.getModel()})};return r.roots.length===0&&delete r.roots,r.guides.length===0&&delete r.guides,r},u}(y);A.exports=n},function(A,x,s){var d=s(26),y={INIT:"_initForceFit"};y.AUGMENT={_initForceFit:function(){var n=this.get("width"),a=this.get("height");return n||a?n?a?void 0:(this.forceFit("height"),void this._bindForceEvent("height")):(this.forceFit("width"),void this._bindForceEvent("width")):(this.forceFit(),void this._bindForceEvent())},_bindForceEvent:function(n){var a=this,u=this._getTimer("forceFit"),i=function(){var o=setTimeout(function(){a.forceFit(n)},200);u&&clearTimeout(u),a._setTimer("forceFit",o)};window.addEventListener("resize",i),this.set("_windowForceResizeEvent",i)},forceFit:function(n){var a=this.get("_containerDOM"),u=this.get("width"),i=this.get("height"),r=d.getHeight(a),o=d.getWidth(a);return n==="width"?(this.changeSize(o,i),this):n==="height"?(this.changeSize(u,r),this):(this.changeSize(o,r),this)}},A.exports=y},function(A,x,s){var d=s(26),y={CFG:{fitView:void 0,fitViewPadding:10,minZoom:.2,maxZoom:10}};y.AUGMENT={getBBox:function(){var n=this.get("_itemGroup"),a=this.get("_itemMap"),u=n.get("children");return u.length>0?(u=u.filter(function(i){var r=a[i.id];return!!r&&r.getShapeObj().bboxCalculation!==!1}),d.getChildrenBBox(u)):{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},getFitViewPadding:function(){return d.toAllPadding(this.get("fitViewPadding"))},setFitView:function(n){if(!n)return this;if(n==="autoZoom")return this.autoZoom(),this;var a=this.getFitViewPadding(),u=this.get("width"),i=this.get("height"),r=this.getBBox(),o=r.maxX-r.minX,c=r.maxY-r.minY,h={x:0,y:0,width:u,height:i},v=d.getNineBoxPosition(n,h,o,c,a),f=[1,0,0,0,1,0,0,0,1];d.mat3.translate(f,f,[-r.minX+v.x,-r.minY+v.y]),this.updateMatrix(f)},_getZoomRatio:function(n){var a=this.get("maxZoom"),u=this.get("minZoom");return n<u&&(n=u),n>a&&(n=a),n},autoZoom:function(n){var a=this;n||(n=this.getFitViewPadding());var u=this.get("width"),i=this.get("height"),r=this.getBBox(),o=d.getAutoZoomMatrix({minX:0,minY:0,maxX:u,maxY:i},r,n,function(c){return a._getZoomRatio(c)});this.updateMatrix(o)},getZoom:function(){return this.getMatrix()[0]},updateMatrix:function(n){var a=this.getMatrix(),u={updateMatrix:n,originMatrix:a},i=a[0]!==n[0];return this.emit("beforeviewportchange",u),i&&this.emit("beforezoom",u),this.setMatrix(n),i&&this.emit("afterzoom",u),this.emit("afterviewportchange",u),this.draw(),this},zoom:function(n,a){if(!d.isNumber(n)){a=this._getZoomRatio(a);var u=this.get("_rootGroup"),i=d.clone(u.getMatrix()),r=i[6]+i[0]*n.x-a*n.x,o=i[7]+i[0]*n.y-a*n.y;return i[6]=0,i[7]=0,i[0]=a,i[4]=a,d.mat3.translate(i,i,[r,o]),this.updateMatrix(i),this}var c=this.get("width"),h=this.get("height");this.zoomByDom({x:c/2,y:h/2},n)},zoomByDom:function(n,a){var u=this.getPoint(n);return this.zoom(u,a),this},translate:function(n,a){var u=this.get("_rootGroup").getMatrix();return d.mat3.translate(u,u,[n,a]),this.updateMatrix(u),this},translateByDom:function(n,a){var u=this.get("_rootGroup").getMatrix()[0];return this.translate(n/u,a/u),this},getMatrix:function(){return this.get("_rootGroup").getMatrix()},setMatrix:function(n){this.get("_rootGroup").setMatrix(n)},getPoint:function(n){return this.getPointByDom(n)},getPointByDom:function(n){var a=this.get("_rootGroup").getMatrix();return d.invertMatrix(n,a)},getPointByCanvas:function(n){var a=this.get("_canvas").get("pixelRatio");return this.getPoint({x:n.x/a,y:n.y/a})},getPointByClient:function(n){var a=this.get("_canvas").getPointByClient(n.x,n.y);return this.getPointByCanvas(a)},getDomPoint:function(n){var a=this.get("_rootGroup").getMatrix();return d.applyMatrix(n,a)},getCanvasPoint:function(n){var a=this.get("_canvas").get("pixelRatio"),u=this.getDomPoint(n);return{x:u.x*a,y:u.y*a}},getClientPoint:function(n){var a=this.getCanvasPoint(n),u=this.get("_canvas").getClientByPoint(a.x,a.y);return{x:u.clientX,y:u.clientY}},focus:function(n){if(d.isString(n)&&(n=this.find(n)),n){var a=n.getCenter();this.focusPoint(a)}return this},focusPoint:function(n){var a=this.get("_rootGroup").getMatrix(),u=this.get("width"),i=this.get("height"),r=-a[6]+u/2-a[0]*n.x,o=-a[7]+i/2-a[0]*n.y;return this.translate(r,o),this},focusPointByDom:function(n){var a=this.getPoint(n);return this.focusPoint(a),this}},A.exports=y},function(A,x){var s={INIT:"_initDraw",AUGMENT:{_initDraw:function(){var y=this,p=this.get("_controllers").animate;["clear","show","hide","change","updatenodeposition"].forEach(function(n){p&&y.on("before"+n,function(a){var u=y.get("_forcePreventAnimate"),i=a?a.affectedItemIds:void 0;u!==!0&&p&&p.cacheGraph("startCache",i)}),y.on("after"+n,function(a){var u=a?a.affectedItemIds:void 0,i=y.get("_forcePreventAnimate");if(a&&a.action==="changeData"){var r=y.get("fitView");r&&y.setFitView(r)}i!==!0&&p?(p.cacheGraph("endCache",u),p.run()):y.draw()})})},draw:function(){this.get("_canvas").draw()},animateDraw:function(){this.get("_controllers").animate.run()}}};A.exports=s},function(A,x,s){var d=s(247);function y(u,i){var r=u.getGraphicGroup(),o=u.getBBox(),c=(o.minX+o.maxX)/2,h=(o.minY+o.maxY)/2,v=r.getMatrix()[0];r.transform([["t",-c,-h],["s",.01/v,.01/v],["t",c,h]]),r.animate({transform:[["t",-c,-h],["s",100*v,100*v],["t",c,h]]},d.enterDuration,d.enterEasing,i)}function p(u,i){var r=u.getGraphicGroup(),o=u.getBBox(),c=(o.minX+o.maxX)/2,h=(o.minY+o.maxY)/2,v=r.getMatrix()[0];r.animate({transform:[["t",-c,-h],["s",.01/v,.01/v],["t",c,h]]},d.leaveDuration,d.leaveEasing,i)}function n(u,i){u.deepEach(function(r){if(r.isShape){var o=r.attr("fillOpacity"),c=r.attr("strokeOpacity");r.attr({fillOpacity:0,strokeOpacity:0}),r.animate({fillOpacity:o,strokeOpacity:c},d.enterDuration,d.enterEasing,i)}})}function a(u,i){u.deepEach(function(r){var o=r.attr("fillOpacity"),c=r.attr("strokeOpacity");r.isShape&&r.animate({fillOpacity:0,strokeOpacity:0},d.leaveDuration,d.leaveEasing,function(){r.attr({fillOpacity:o,strokeOpacity:c}),i()})})}A.exports={enterScaleIn:function(i){var r=i.item;i.element.isItemContainer&&r.getKeyShape()&&y(r)},showScaleIn:function(i){var r=i.item;i.element.isItemContainer&&r.getKeyShape()&&y(r)},leaveScaleOut:function(i){var r=i.item,o=i.element,c=i.done;o.isItemContainer&&p(r,function(){c()})},hideScaleOut:function(i){var r=i.item,o=i.element,c=i.done;o.isItemContainer&&p(r,function(){c()})},enterFadeIn:function(i){var r=i.element,o=i.item;r.isItemContainer&&o.getKeyShape()&&n(r)},showFadeIn:function(i){var r=i.element,o=i.item;r.isItemContainer&&o.getKeyShape()&&n(r)},leaveFadeOut:function(i){var r=i.element,o=i.item,c=i.done;r.isItemContainer&&o.getKeyShape()&&a(r,c)},hideFadeOut:function(i){var r=i.element,o=i.item,c=i.done;r.isItemContainer&&o.getKeyShape()&&a(r,c)}}},function(A,x,s){function d(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}var y=s(599),p=s(693),n=s(26),a=s(247),u=["matrix","fillStyle","strokeStyle","endArrow","startArrow"],i=function(r){function o(){return r.apply(this,arguments)||this}(function(h,v){h.prototype=Object.create(v.prototype),h.prototype.constructor=h,h.__proto__=v})(o,r);var c=o.prototype;return c.getDefaultCfg=function(){return{show:"scaleIn",hide:"scaleOut",enter:"scaleIn",leave:"scaleOut",update:function(v){var f=v.element,m=v.endKeyFrame.props;f.animate(function(b){for(var M=1;M<arguments.length;M++){var O=arguments[M]!=null?arguments[M]:{},E=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(O).filter(function(C){return Object.getOwnPropertyDescriptor(O,C).enumerable}))),E.forEach(function(C){d(b,C,O[C])})}return b}({matrix:m.matrix},m.attrs),a.updateDuration,a.updateEasing)},graph:null,startCache:{},endCache:{},keykeyCache:{}}},c._init=function(){var h=this,v=this.graph,f=this.keykeyCache;v.on("afteritemdraw",function(m){m.item.getGraphicGroup().deepEach(function(b){f[b.gid]=h._getCache(b)},!0)})},c.cacheGraph=function(h,v){var f,m=this,b=this.graph;f=v?v.map(function(M){return b.find(M)}):b.getItems(),this[h]={},f.forEach(function(M){M&&m.cache(M,m[h],h)})},c._getCache=function(h){var v=this.keykeyCache;if(!n.isObject(h))return v[h];var f={props:{matrix:n.clone(h.getMatrix()),attrs:{}}};if(h.isShape){var m=h.attr();m=n.omit(m,u),f.props.attrs=n.clone(m)}return f},c._getAnimation=function(h,v){var f=this.graph,m=h.shapeObj,b=this[v],M=m[v+"Animation"]||m[v+"Animate"],O=f.get("_"+v+"Animation"),E=M||O||b;return n.isString(E)?p[v+n.upperFirst(E)]:E},c.cache=function(h,v,f){var m=this;h.getGraphicGroup().deepEach(function(b){var M=b.gid,O=f==="startCache"?m._getCache(b):m._getCache(b.gid);O.enterAnimate=m._getAnimation(h,"enter"),O.leaveAnimate=m._getAnimation(h,"leave"),O.showAnimate=m._getAnimation(h,"show"),O.hideAnimate=m._getAnimation(h,"hide"),O.updateAnimate=m._getAnimation(h,"update"),O.item=h,O.element=b,O.visible=b.get("visible"),v[M]=O},!0)},c._compare=function(){var h=this.startCache,v=this.endCache,f=[],m=[],b=[],M=[],O=[];n.each(v,function(E,C){var j=h[C];j?j.element.get("type")===E.element.get("type")&&(j.visible&&E.visible?b.push(C):j.visible&&!E.visible?M.push(C):!j.visible&&E.visible&&O.push(C)):f.push(C)}),n.each(h,function(E,C){v[C]||m.push(C)}),this.enterElements=f,this.leaveElements=m,this.updateElements=b,this.hideElements=M,this.showElements=O},c._addTween=function(){var h=this.enterElements,v=this.leaveElements,f=this.updateElements,m=this.hideElements,b=this.showElements,M=this.startCache,O=this.endCache;h.forEach(function(E){var C=O[E],j=C.enterAnimate;j&&j({element:C.element,item:C.item,endKeyFrame:C,startKeyFrame:null,startCache:M,endCache:O,done:function(){}})}),v.forEach(function(E){var C=M[E],j=C.leaveAnimate;if(j){var B=M[E].element;B.isItemContainer&&B.getParent().add(B),j({element:B,item:C.item,endKeyFrame:null,startKeyFrame:C,startCache:M,endCache:O,done:function(){B.isItemContainer&&B.remove()}})}}),f.forEach(function(E){var C=O[E],j=M[E],B=C.element,N=j.element,I=j.props,F=C.props,G=C.updateAnimate;I.attrs&&B.attr(I.attrs),n.isEqual(I.matrix,F.matrix)||B.setMatrix(I.matrix),G({element:B,item:C,endKeyFrame:C,startKeyFrame:j,startCache:M,endCache:O,done:function(){}}),N!==B&&N.remove()}),m.forEach(function(E){var C=O[E],j=M[E],B=C.hideAnimate;B&&(C.element.show(),B({element:C.element,item:C.item,endKeyFrame:C,startKeyFrame:j,startCache:M,endCache:O,done:function(){var I=C.item,F=I.getGraphicGroup();!I.visible&&F.hide()}}))}),b.forEach(function(E){var C=O[E],j=M[E],B=C.showAnimate;B&&B({element:C.element,item:C.item,endKeyFrame:C,startKeyFrame:j,startCache:M,endCache:O,done:function(){}})})},c.run=function(){this.graph.destroyed||(this._compare(),this._addTween())},o}(y);A.exports=i},function(A,x,s){function d(a,u,i){return u in a?Object.defineProperty(a,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[u]=i,a}var y=s(26),p=s(694),n={INIT:"_initAnimate",CFG:{animate:!1}};n.AUGMENT={_initAnimate:function(){var u=this.get("animate");if(u){var i=this.get("_controllers"),r={graph:this};y.isPlainObject(u)&&(r=function(o){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){d(o,f,h[f])})}return o}({},r,u)),i.animate=new p(r)}}},A.exports=n},function(A,x,s){var d=s(26),y={INIT:"_initFilter",CFG:{filters:[]}};y.AUGMENT={_initFilter:function(){var n=this,a=this.get("filters");d.isFunction(a)&&this.set("filters",[a]),this.on("afterchange",function(u){var i=u.action;a.length>0&&i==="changeData"&&!n.destroyed&&n.filter()})},addFilter:function(n){return this.get("filters").push(n),n},removeFilter:function(n){var a=this.get("filters");this.set("filters",d.filter(a,n))},filter:function(){this.emit("beforefilter");var n=this.get("filters"),a=this.getItems(),u=this._getFilterItems();n.forEach(function(i){u=u.filter(i)}),a.forEach(function(i){u.indexOf(i)===-1?i.hide():i.show()}),this.draw(),this.emit("afterfilter")},_getFilterItems:function(){return this.getItems().filter(function(n){return n.getShapeObj().filter!==!1})}},A.exports=y},function(A,x,s){var d=s(26),y=s(626),p={CFG:{modes:{default:[]},mode:"default",_eventCache:{}},INIT:"_initModes"};p.AUGMENT={_initModes:function(){var a=this.get("mode");this.changeMode(a)},changeMode:function(a){var u=this.get("modes");d.isEmpty(u)||d.isEmpty(u[a])||(y.resetMode(u[a],this),this.set("mode",a))},addBehaviour:function(a,u){var i=this.get("modes");u=u||this.get("mode"),d.isEmpty(i[u])&&(i[u]=[]);var r=i[u],o=[].concat(a);return d.each(o,function(c){r.indexOf(c)===-1&&r.push(c)}),y.resetMode(i[u],this),this},removeBehaviour:function(a){var u=this.get("modes"),i=this.get("mode"),r=u[i];if(!d.isEmpty(r)){var o=[].concat(a);return r=r.filter(function(c){return o.indexOf(c)===-1}),u[i]=r,y.resetMode(r,this),this}},behaviourOn:function(a,u){var i=this._eventCache;i[a]||(i[a]=[]),i[a].push(u),this.on(a,u)},_off:function(){var a=this,u=this._eventCache;d.each(u,function(i,r){d.each(i,function(o){a.off(r,o)})}),this._eventCache={}}},A.exports=p},function(A,x,s){var d=s(599),y=s(26),p={MOUSEMOVE:"mousemove",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",CLICK:"click",DBLCLICK:"dblclick",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGLEAVE:"dragleave",DRAGEND:"dragend",DROP:"drop",CONTEXTMENU:"contextmenu",WHEEL:"wheel",KEYDOWN:"keydown",KEYUP:"keyup",KEYPRESS:"keypress",MOUSEWHEEL:"mousewheel"},n=[p.DBLCLICK,p.MOUSEDOWN,p.MOUSEUP,p.MOUSEENTER,p.MOUSELEAVE,p.MOUSEMOVE,p.CONTEXTMENU,p.WHEEL,p.MOUSEWHEEL],a=[p.KEYDOWN,p.KEYUP,p.KEYPRESS],u=function(i){function r(c){var h;return(h=i.call(this,c)||this)._domEvents=[],h._initEventStates(),h._registerEvents(),h}(function(c,h){c.prototype=Object.create(h.prototype),c.prototype.constructor=c,c.__proto__=h})(r,i);var o=r.prototype;return o._initEventStates=function(){this._pressing=!1,this._dragging=!1,this._currentEventObj={},this._dragEventObj={}},o._registerEvents=function(){this._registerMouseEvents(),this._registerKeyboardEvents()},o._registerKeyboardEvents=function(){var c=this.graph,h=c.getKeyboardEventWrapper(),v=this._domEvents,f=c.get("keyboardEnable");y.each(a,function(m){v.push(y.addEventListener(h,m,function(b){var M=!0;y.isFunction(f)&&(M=f()),M&&c.emit(m,{domEvent:b})}))})},o._registerMouseEvents=function(){var c=this,h=this,v=this.graph.getMouseEventWrapper(),f=this._domEvents;y.each(n,function(m){f.push(y.addEventListener(v,m,function(b){if(b.type!==p.MOUSEENTER||!b.fromElement||b.fromElement.parentNode&&!function(E,C){for(var j=E.parentNode;j;){if(j.tagName===C)return!0;j=j.parentNode}return!1}(b.fromElement,"foreignObject")){var M=c._currentEventObj;c._oldEventObj=M,c._processEventObj(b);var O=c._currentEventObj;h._simulateEvents(b,M,O),[p.MOUSELEAVE,p.MOUSEENTER].indexOf(b.type)!==-1&&h._triggerEvent("canvas:"+b.type),h._triggerEvent(b.type),b.type===p.MOUSELEAVE&&(c._dragging&&h._triggerEvent(p.DRAGLEAVE,y.mix({},O,{item:null,shape:null,currentItem:c._dragEventObj.item,currentShape:c._dragEventObj.shape})),h._initEventStates())}}))})},o.destroy=function(){var c=this._domEvents;y.each(c,function(h){h&&h.remove()}),this._domEvents=null},o._triggerEvent=function(c,h){if(h||(h=c==="mouseleave"?this._oldEventObj:this._currentEventObj),c==="mousedown"&&(h.button=this._button),h._type=c,this.emitGraphEvent(c,h),["canvas:"+p.MOUSELEAVE,"canvas:"+p.MOUSEENTER].indexOf(c)===-1){var v=h.shape&&h.shape.eventPreFix;if([p.DRAGSTART,p.DRAG,p.DRAGEND].indexOf(c)!==-1&&(v=h.currentShape&&h.currentShape.eventPreFix),v){var f=v+":"+c;h._type=f,y.isBoolean(h._isItemChange)?h._isItemChange&&this.emitGraphEvent(f,h):this.emitGraphEvent(f,h)}}},o.emitGraphEvent=function(c,h){this.graph.emit(c,h)},o._getDistanceToPress=function(c){return Math.pow(c.clientX-this._pressX,2)+Math.pow(c.clientY-this._pressY,2)},o._simulateEvents=function(c,h,v){h===void 0&&(h={}),v===void 0&&(v={});var f=this._dragEventObj.item,m=this._dragEventObj.shape;switch(c.type){case p.MOUSEDOWN:this._pressing=!0,this._button=c.button,this._pressX=c.clientX,this._pressY=c.clientY;break;case p.MOUSEMOVE:if(this._dragging){if(this._triggerEvent(p.DRAG,y.mix({},v,{button:this._button,currentItem:f,currentShape:m})),h.shape!==v.shape){var b=this._isItemChange(h,v);h.shape&&this._triggerEvent(p.DRAGLEAVE,y.mix({},v,{button:this._button,item:h.item,shape:h.shape,toItem:v.item,toShape:v.shape,currentItem:f,currentShape:m,_isItemChange:b})),v.shape&&this._triggerEvent(p.DRAGENTER,y.mix({},v,{button:this._button,currentItem:f,currentShape:m,fromItem:h.item,fromShape:h.shape,_isItemChange:b}))}}else this._pressing&&this._getDistanceToPress(c)>9&&(this._dragging=!0,this._dragEventObj=h,f=this._dragEventObj.item,m=this._dragEventObj.shape,this._triggerEvent(p.DRAGSTART,y.mix({},h,{button:this._button,currentItem:f,currentShape:m})));if(h.shape!==v.shape){var M=this._isItemChange(h,v);h.shape&&this._triggerEvent(p.MOUSELEAVE,y.mix({},v,{item:h.item,shape:h.shape,toItem:v.item,toShape:v.shape,_isItemChange:M})),v.shape&&this._triggerEvent(p.MOUSEENTER,y.mix({},v,{fromtItem:h.item,fromShape:h.shape,_isItemChange:M}))}break;case p.MOUSEUP:!this._dragging&&this._pressing?this._triggerEvent(p.CLICK,y.mix({},v,{button:this._button})):(this._triggerEvent(p.DROP,y.mix({},v,{button:this._button,currentItem:f,currentShape:m})),this._triggerEvent(p.DRAGEND,y.mix({},v,{button:this._button,currentItem:f,currentShape:m}))),this._pressing=!1,this._dragging=!1,this._dragEventObj={};break;default:return}},o._isItemChange=function(c,h){var v=c.shape,f=h.shape,m=v&&f&&(v.get("isItemChange")||f.get("isItemChange"));return m?m(f,v):y.isObject(c.item)&&y.isObject(h.item)?c.item.id!==h.item.id:c.item!==h.item},o._processEventObj=function(c){var h=this.graph.get("_canvas"),v=this._getEventObj(c,h);this._currentEventObj=v},o._parsePoint=function(c,h){return this.graph.getPointByCanvas({x:c,y:h})},o._getEventObj=function(c,h){var v=this.graph,f=c.clientX,m=c.clientY,b=h.getPointByClient(f,m),M=this._parsePoint(b.x,b.y),O=h.getShape(b.x,b.y,c),E=v.getItemByShape(O),C=h.get("pixelRatio");return{item:E,shape:O,x:M.x,y:M.y,domX:b.x/C,domY:b.y/C,domEvent:c}},r}(d);A.exports=u},function(A,x,s){var d={},y=s(698);d.INIT="_initEvents",d.CFG={keyboardEnable:!0},d.AUGMENT={_initEvents:function(){this.get("_controllers").events=new y({graph:this})}},A.exports=d},function(A,x,s){var d=s(26),y={};y.AUGMENT={find:function(n){return this.get("_itemMap")[n]},getNodes:function(){return this.get("_itemMap")._nodes},getEdges:function(){return this.get("_itemMap")._edges},getGroups:function(){return this.get("_itemMap")._groups},getGuides:function(){return this.get("_itemMap")._guides},getItems:function(){var n=this.get("_itemMap"),a=[];return d.each(n,function(u){u.type&&a.push(u)}),a},getItemByShape:function(n){return n?this.getItem(n.id):null},getItem:function(n){var a=this.get("_itemMap");return d.isObject(n)?n.destroyed&&(n=a[n.id]):n=a[n],n}},A.exports=y},function(A,x,s){var d=s(599),y=s(26),p=["color","shape","size","label","style"],n=function(a){function u(){return a.apply(this,arguments)||this}(function(r,o){r.prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o})(u,a);var i=u.prototype;return i._init=function(){var r=this,o={};y.each(p,function(c){o[c]={},r[c]=function(h){return o[c].input=h,r}}),this.channels=o},i.addChannels=function(r){var o=this.channels;y.each(r,function(c,h){o[h]={input:c}})},i.mapping=function(r){var o=this.channels;y.each(o,function(c,h){y.isFunction(c.input)?r[h]=c.input(r):c.input&&(r[h]=c.input)})},u}(d);A.exports=n},function(A,x,s){var d=s(701),y={INIT:"_initMapper"};y.AUGMENT={_initMapper:function(){var n=this.get("_controllers");n.nodeMapper=new d({graph:this}),n.edgeMapper=new d({graph:this}),n.groupMapper=new d({graph:this}),n.guideMapper=new d({graph:this})},node:function(n){var a=this._getController("nodeMapper");return n&&a.addChannels(n),a},edge:function(n){var a=this._getController("edgeMapper");return n&&a.addChannels(n),a},group:function(n){var a=this._getController("groupMapper");return n&&a.addChannels(n),this._getController("groupMapper")},guide:function(n){var a=this._getController("guideMapper");return n&&a.addChannels(n),this._getController("guideMapper")}},A.exports=y},function(A,x,s){var d=function(y){function p(){return y.apply(this,arguments)||this}(function(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u})(p,y);var n=p.prototype;return n.getDefaultCfg=function(){return{graph:null,auto:!0,processor:null}},n._init=function(){var a=this,u=this.graph;u.on("afteritemdraw",function(i){var r=i.item,o=r.getKeyShape(),c=r.getModel();if(r.isEdge)c.lineWidth=o.attr("lineWidth");else if(r.isNode||r.isGroup){var h=r.getBBox();c.width=h.width,c.height=h.height}}),u.on("afterchange",function(i){var r=i.action;a.auto==="once"?r==="changeData"&&(u.destroyed||u.preventAnimate(function(){a.layout()})):a.auto&&!u.destroyed&&u.preventAnimate(function(){a.layout()})})},n.changeLayout=function(a){this.processor=a,this.layout()},n.layout=function(){var a=this.graph,u=this.getLayoutProcessor();a.emit("beforelayout");var i=a.getNodes().filter(function(c){return c.isVisible()}).map(function(c){return c.getModel()}),r=a.getEdges().filter(function(c){return c.isVisible()}).map(function(c){return c.getModel()}),o=a.getGroups().filter(function(c){return c.isVisible()}).map(function(c){return c.getModel()});a._executeLayout(u,i,r,o),a.updateNodePosition(),a.emit("afterlayout")},n.getLayoutProcessor=function(){return this.processor?this.processor:this.processer},p}(s(599));A.exports=d},function(A,x,s){var d=s(26),y=s(703),p={CFG:{layout:void 0},INIT:"_initLayout"};p.AUGMENT={_initLayout:function(){var a=this.get("_controllers"),u=this._getLayoutCfg();u&&(a.layout=new y(d.mix({graph:this},u)))},_getLayoutCfg:function(){var a=this.get("layout");return d.isPlainObject(a)?a:d.isFunction(a)||d.isObject(a)?{processor:a}:null},layout:function(){return this._getController("layout").layout(),this},updateNodePosition:function(a){var u=this.getGuides(),i=[],r=[];return this.emit("beforeupdatenodeposition"),a?(a.forEach(function(o){o.getEdges().forEach(function(h){r.push(h)});var c=o.getParent();c&&i.push(c)}),r=d.uniq(r),i=d.uniq(i)):(a=this.getNodes(),i=this.getGroups(),r=this.getEdges()),a.forEach(function(o){o.layoutUpdate()}),i.forEach(function(o){o.layoutUpdate()}),r.forEach(function(o){o.layoutUpdate()}),u.forEach(function(o){o.layoutUpdate()}),this.emit("afterupdatenodeposition"),this},changeLayout:function(a){return this._getController("layout").changeLayout(a),this},getLayout:function(){return this._getController("layout").getLayoutProcessor()}},A.exports=p},function(A,x,s){(function(d){"use strict";var y=function(){return{escape:function(M){return M.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:f,mimeType:function(M){var O=f(M).toLowerCase();return function(){var E="application/font-woff";return{woff:E,woff2:E,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[O]||""},dataAsUrl:function(M,O){return"data:"+O+";base64,"+M},isDataUrl:function(M){return M.search(/^(data:)/)!==-1},canvasToBlob:function(M){return M.toBlob?new Promise(function(O){M.toBlob(O)}):function(O){return new Promise(function(E){for(var C=window.atob(O.toDataURL().split(",")[1]),j=C.length,B=new Uint8Array(j),N=0;N<j;N++)B[N]=C.charCodeAt(N);E(new Blob([B],{type:"image/png"}))})}(M)},resolveUrl:function(M,O){var E=document.implementation.createHTMLDocument(),C=E.createElement("base");E.head.appendChild(C);var j=E.createElement("a");return E.body.appendChild(j),C.href=O,j.href=M,j.href},getAndEncode:function(M){var O=3e4;return i.impl.options.cacheBust&&(M+=(/\?/.test(M)?"&":"?")+new Date().getTime()),new Promise(function(E){var C,j=new XMLHttpRequest;if(j.onreadystatechange=function(){if(j.readyState===4){if(j.status!==200)return void(C?E(C):N("cannot fetch resource: "+M+", status: "+j.status));var I=new FileReader;I.onloadend=function(){var F=I.result.split(/,/)[1];E(F)},I.readAsDataURL(j.response)}},j.ontimeout=function(){C?E(C):N("timeout of "+O+"ms occured while fetching resource: "+M)},j.responseType="blob",j.timeout=O,j.open("GET",M,!0),j.send(),i.impl.options.imagePlaceholder){var B=i.impl.options.imagePlaceholder.split(/,/);B&&B[1]&&(C=B[1])}function N(I){console.error(I),E("")}})},uid:function(){var b=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+b++}}(),delay:function(M){return function(O){return new Promise(function(E){setTimeout(function(){E(O)},M)})}},asArray:function(M){for(var O=[],E=M.length,C=0;C<E;C++)O.push(M[C]);return O},escapeXhtml:function(M){return M.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(M){return new Promise(function(O,E){var C=new Image;C.onload=function(){O(C)},C.onerror=E,C.src=M})},width:function(M){var O=m(M,"border-left-width"),E=m(M,"border-right-width");return M.scrollWidth+O+E},height:function(M){var O=m(M,"border-top-width"),E=m(M,"border-bottom-width");return M.scrollHeight+O+E}};function f(b){var M=/\.([^\.\/]*?)$/g.exec(b);return M?M[1]:""}function m(b,M){var O=window.getComputedStyle(b).getPropertyValue(M);return parseFloat(O.replace("px",""))}}(),p=function(){var f=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(E,C,j){return m(E)?Promise.resolve(E).then(b).then(function(B){var N=Promise.resolve(E);return B.forEach(function(I){N=N.then(function(F){return M(F,I,C,j)})}),N}):Promise.resolve(E)},shouldProcess:m,impl:{readUrls:b,inline:M}};function m(O){return O.search(f)!==-1}function b(O){for(var E,C=[];(E=f.exec(O))!==null;)C.push(E[1]);return C.filter(function(j){return!y.isDataUrl(j)})}function M(O,E,C,j){return Promise.resolve(E).then(function(B){return C?y.resolveUrl(B,C):B}).then(j||y.getAndEncode).then(function(B){return y.dataAsUrl(B,y.mimeType(E))}).then(function(B){return O.replace(function(N){return new RegExp(`(url\\(['"]?)(`+y.escape(N)+`)(['"]?\\))`,"g")}(E),"$1"+B+"$3")})}}(),n=function(){return{resolveAll:function(){return f(document).then(function(b){return Promise.all(b.map(function(M){return M.resolve()}))}).then(function(b){return b.join(`
`)})},impl:{readAll:f}};function f(){return Promise.resolve(y.asArray(document.styleSheets)).then(function(b){var M=[];return b.forEach(function(O){try{y.asArray(O.cssRules||[]).forEach(M.push.bind(M))}catch(E){console.log("Error while reading CSS rules from "+O.href,E.toString())}}),M}).then(function(b){return b.filter(function(M){return M.type===CSSRule.FONT_FACE_RULE}).filter(function(M){return p.shouldProcess(M.style.getPropertyValue("src"))})}).then(function(b){return b.map(m)});function m(b){return{resolve:function(){var O=(b.parentStyleSheet||{}).href;return p.inlineAll(b.cssText,O)},src:function(){return b.style.getPropertyValue("src")}}}}}(),a=function(){return{inlineAll:function m(b){return b instanceof Element?function(M){var O=M.style.getPropertyValue("background");return O?p.inlineAll(O).then(function(E){M.style.setProperty("background",E,M.style.getPropertyPriority("background"))}).then(function(){return M}):Promise.resolve(M)}(b).then(function(){return b instanceof HTMLImageElement?f(b).inline():Promise.all(y.asArray(b.childNodes).map(function(M){return m(M)}))}):Promise.resolve(b)},impl:{newImage:f}};function f(m){return{inline:function(M){return y.isDataUrl(m.src)?Promise.resolve():Promise.resolve(m.src).then(M||y.getAndEncode).then(function(O){return y.dataAsUrl(O,y.mimeType(m.src))}).then(function(O){return new Promise(function(E,C){m.onload=E,m.onerror=C,m.src=O})})}}}}(),u={imagePlaceholder:void 0,cacheBust:!1},i={toSvg:r,toPng:function(m,b){return o(m,b||{}).then(function(M){return M.toDataURL()})},toJpeg:function(m,b){return o(m,b=b||{}).then(function(M){return M.toDataURL("image/jpeg",b.quality||1)})},toBlob:function(m,b){return o(m,b||{}).then(y.canvasToBlob)},toPixelData:function(m,b){return o(m,b||{}).then(function(M){return M.getContext("2d").getImageData(0,0,y.width(m),y.height(m)).data})},impl:{fontFaces:n,images:a,util:y,inliner:p,options:{}}};function r(f,m){return function(b){b.imagePlaceholder===void 0?i.impl.options.imagePlaceholder=u.imagePlaceholder:i.impl.options.imagePlaceholder=b.imagePlaceholder,b.cacheBust===void 0?i.impl.options.cacheBust=u.cacheBust:i.impl.options.cacheBust=b.cacheBust}(m=m||{}),Promise.resolve(f).then(function(b){return function(M,O,E){return!E&&O&&!O(M)?Promise.resolve():Promise.resolve(M).then(function(C){return C instanceof HTMLCanvasElement?y.makeImage(C.toDataURL()):C.cloneNode(!1)}).then(function(C){return function(j,B,N){var I=j.childNodes;return I.length===0?Promise.resolve(B):function(F,G,U){var H=Promise.resolve();return G.forEach(function(Q){H=H.then(function(){return c(Q,U)}).then(function(at){at&&F.appendChild(at)})}),H}(B,y.asArray(I),N).then(function(){return B})}(M,C,O)}).then(function(C){return function(j,B){return B instanceof Element?Promise.resolve().then(function(){(function(N,I){N.cssText?I.cssText=N.cssText:function(F,G){y.asArray(F).forEach(function(U){G.setProperty(U,F.getPropertyValue(U),F.getPropertyPriority(U))})}(N,I)})(window.getComputedStyle(j),B.style)}).then(function(){[":before",":after"].forEach(function(N){(function(I){var F=window.getComputedStyle(j,I),G=F.getPropertyValue("content");if(G!==""&&G!=="none"){var U=y.uid();B.className=B.className+" "+U;var H=document.createElement("style");H.appendChild(function(Q,at,$){var K="."+Q+":"+at,ot=$.cssText?function(it){var ht=it.getPropertyValue("content");return it.cssText+" content: "+ht+";"}($):function(it){return y.asArray(it).map(function(ht){return ht+": "+it.getPropertyValue(ht)+(it.getPropertyPriority(ht)?" !important":"")}).join("; ")+";"}($);return document.createTextNode(K+"{"+ot+"}")}(U,I,F)),B.appendChild(H)}})(N)})}).then(function(){j instanceof HTMLTextAreaElement&&(B.innerHTML=j.value),j instanceof HTMLInputElement&&B.setAttribute("value",j.value)}).then(function(){B instanceof SVGElement&&(B.setAttribute("xmlns","http://www.w3.org/2000/svg"),B instanceof SVGRectElement&&["width","height"].forEach(function(N){var I=B.getAttribute(N);I&&B.style.setProperty(N,I)}))}).then(function(){return B}):B}(M,C)})}(b,m.filter,!0)}).then(h).then(v).then(function(b){return m.bgcolor&&(b.style.backgroundColor=m.bgcolor),m.width&&(b.style.width=m.width+"px"),m.height&&(b.style.height=m.height+"px"),m.style&&Object.keys(m.style).forEach(function(M){b.style[M]=m.style[M]}),b}).then(function(b){return function(M,O,E){return Promise.resolve(M).then(function(C){return C.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(C)}).then(y.escapeXhtml).then(function(C){return'<foreignObject x="0" y="0" width="100%" height="100%">'+C+"</foreignObject>"}).then(function(C){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+O+'" height="'+E+'">'+C+"</svg>"}).then(function(C){return"data:image/svg+xml;charset=utf-8,"+C})}(b,m.width||y.width(f),m.height||y.height(f))})}function o(f,m){return r(f,m).then(y.makeImage).then(y.delay(100)).then(function(b){var M=function(O){var E=document.createElement("canvas");if(E.width=m.width||y.width(O),E.height=m.height||y.height(O),m.bgcolor){var C=E.getContext("2d");C.fillStyle=m.bgcolor,C.fillRect(0,0,E.width,E.height)}return E}(f);return M.getContext("2d").drawImage(b,0,0),M})}function c(f,m,b){if(!b&&m&&!m(f))return Promise.resolve();return Promise.resolve(f).then(M).then(function(C){return O(f,C,m)}).then(function(C){return E(f,C)});function M(C){return C instanceof HTMLCanvasElement?y.makeImage(C.toDataURL()):C.cloneNode(!1)}function O(C,j,B){var N=C.childNodes;return N.length===0?Promise.resolve(j):function(F,G,U){var H=Promise.resolve();return G.forEach(function(Q){H=H.then(function(){return c(Q,U)}).then(function(at){at&&F.appendChild(at)})}),H}(j,y.asArray(N),B).then(function(){return j});function I(F,G,U){var H=Promise.resolve();return G.forEach(function(Q){H=H.then(function(){return c(Q,U)}).then(function(at){at&&F.appendChild(at)})}),H}}function E(C,j){return j instanceof Element?Promise.resolve().then(function(){(function(G,U){G.cssText?U.cssText=G.cssText:function(H,Q){y.asArray(H).forEach(function(at){Q.setProperty(at,H.getPropertyValue(at),H.getPropertyPriority(at))})}(G,U)})(window.getComputedStyle(C),j.style)}).then(function(){[":before",":after"].forEach(function(G){(function(U){var H=window.getComputedStyle(C,U),Q=H.getPropertyValue("content");if(!(Q===""||Q==="none")){var at=y.uid();j.className=j.className+" "+at;var $=document.createElement("style");$.appendChild(function(K,ot,it){var ht="."+K+":"+ot,St=it.cssText?function(gt){var bt=gt.getPropertyValue("content");return gt.cssText+" content: "+bt+";"}(it):function(gt){return y.asArray(gt).map(function(bt){return bt+": "+gt.getPropertyValue(bt)+(gt.getPropertyPriority(bt)?" !important":"")}).join("; ")+";"}(it);return document.createTextNode(ht+"{"+St+"}")}(at,U,H)),j.appendChild($)}})(G)})}).then(function(){C instanceof HTMLTextAreaElement&&(j.innerHTML=C.value),C instanceof HTMLInputElement&&j.setAttribute("value",C.value)}).then(function(){j instanceof SVGElement&&(j.setAttribute("xmlns","http://www.w3.org/2000/svg"),j instanceof SVGRectElement&&["width","height"].forEach(function(G){var U=j.getAttribute(G);U&&j.style.setProperty(G,U)}))}).then(function(){return j}):j;function B(){function G(U,H){U.cssText?H.cssText=U.cssText:Q(U,H);function Q(at,$){y.asArray(at).forEach(function(K){$.setProperty(K,at.getPropertyValue(K),at.getPropertyPriority(K))})}}G(window.getComputedStyle(C),j.style)}function N(){function G(U){var H=window.getComputedStyle(C,U),Q=H.getPropertyValue("content");if(Q===""||Q==="none")return;var at=y.uid();j.className=j.className+" "+at;var $=document.createElement("style");function K(ot,it,ht){var St="."+ot+":"+it,gt=ht.cssText?bt(ht):mt(ht);return document.createTextNode(St+"{"+gt+"}");function bt(vt){var _t=vt.getPropertyValue("content");return vt.cssText+" content: "+_t+";"}function mt(vt){return y.asArray(vt).map(_t).join("; ")+";";function _t(Nt){return Nt+": "+vt.getPropertyValue(Nt)+(vt.getPropertyPriority(Nt)?" !important":"")}}}$.appendChild(K(at,U,H)),j.appendChild($)}[":before",":after"].forEach(function(U){G(U)})}function I(){C instanceof HTMLTextAreaElement&&(j.innerHTML=C.value),C instanceof HTMLInputElement&&j.setAttribute("value",C.value)}function F(){j instanceof SVGElement&&(j.setAttribute("xmlns","http://www.w3.org/2000/svg"),j instanceof SVGRectElement&&["width","height"].forEach(function(G){var U=j.getAttribute(G);!U||j.style.setProperty(G,U)}))}}}function h(f){return n.resolveAll().then(function(m){var b=document.createElement("style");return f.appendChild(b),b.appendChild(document.createTextNode(m)),f})}function v(f){return a.inlineAll(f).then(function(){return f})}A.exports=i})()},function(A,x,s){function d(u,i,r){return i in u?Object.defineProperty(u,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[i]=r,u}var y=s(26),p=s(248),n=s(705),a=function(){function u(r){this.options=function(o){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){d(o,f,h[f])})}return o}({graph:null,width:null,height:null,canvas:null,beforeTransform:function(){},afterTransform:function(){},drawCount:0},r)}var i=u.prototype;return i.getCanvas=function(){var r=this.options,o=r.width,c=r.height,h=r.canvas;if(!h){var v=y.createDOM("<canvas></canvas>");h=new p.Canvas({containerDOM:v,width:o,height:c})}return h.drawCount||(h.drawCount=0),h},i.drawInner=function(r,o){var c=this.options.graph,h=c.getCanvas(),v=c.get("renderer"),f=r.drawCount;if(v==="svg"){var m=[];h.deepEach(function(b){b.get("type")==="dom"&&m.push(b)}),m.length>0?m.forEach(function(b){var M=b.get("el");if(M){b.domImageOnload=!1;var O=b.attr("width"),E=b.attr("height");n.toPng(M,{width:O,height:E}).then(function(C){var j=new Image;j.src=C,j.onload=function(){if(f===r.drawCount-1){b.domImage=j,b.domImageOnload=!0;for(var B=0;B<m.length;B++){var N=m[B];if(!N.domImageOnload||N.get("destroyed"))break;N.domImageOnload&&B===m.length-1&&o()}}}})}}):o()}else o();r.drawCount+=1},i.toCanvas=function(){var r=this.options,o=r.graph,c=r.width,h=r.height,v=r.beforeTransform,f=r.limitRatio,m=r.afterTransform,b=this.getCanvas(),M=o.getBBox(),O=y.clone(o.getMatrix()),E=o.getFitViewPadding(),C=o.getCanvas(),j=y.getAutoZoomMatrix({minX:0,minY:0,maxX:c,maxY:h},M,E,f);return this.drawInner(b,function(){var B=C.get("children");b.set("children",B),v(j,O),o.setMatrix(j),b.draw(),o.setMatrix(O),m(j,O)}),b.matrix=j,b.get("el")},u}();A.exports=a},function(A,x,s){var d=s(26),y=function(p){function n(a){var u={type:"guide",isGuide:!0,zIndex:4};return d.mix(u,a),p.call(this,u)||this}return function(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}(n,p),n}(s(608));A.exports=y},function(A,x,s){var d=s(26),y=function(p){function n(u){var i={type:"group",isNode:!1,isGroup:!0,zIndex:1};return d.mix(i,u),p.call(this,i)||this}(function(u,i){u.prototype=Object.create(i.prototype),u.prototype.constructor=u,u.__proto__=i})(n,p);var a=n.prototype;return a._beforeDraw=function(){this.deepEach(function(u,i){i&&(u.zIndex=i.zIndex+1),u.updateCollapsedParent(),u.collapsedParent?u.hide():u.show()}),this.getInnerEdges().forEach(function(u){u.linkedItemVisible()?u.show():u.hide()}),p.prototype._beforeDraw.call(this)},a.updatePosition=function(){},a._shouldDraw=function(){return!0},a.getCrossEdges=function(){var u=[],i=this.getInnerEdges();this.deepEach(function(o){u.push(o.id)});var r=i.filter(function(o){var c=o.getModel();return u.indexOf(c.source)===-1||u.indexOf(c.target)===-1});return d.uniq(r)},a.getInnerEdges=function(){var u=[];return this.deepEach(function(i){i.getEdges().forEach(function(r){u.push(r)})}),d.uniq(u)},a.getChildrenBBox=function(){var u=this.getChildren().map(function(i){return i.getGraphicGroup()});return d.getChildrenBBox(u)},n}(s(624));A.exports=y},function(A,x,s){function d(n,a,u){return a in n?Object.defineProperty(n,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[a]=u,n}var y=s(26),p=function(n){function a(i){var r={type:"edge",isEdge:!0,zIndex:2};return y.mix(r,i),n.call(this,r)||this}(function(i,r){i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r})(a,n);var u=a.prototype;return u._init=function(){n.prototype._init.call(this)},u._beforeDraw=function(){var i=this.model,r=this.itemMap;y.isObject(i.source)?this.source=i.source:this.source=r[i.source],y.isObject(i.target)?this.target=i.target:this.target=r[i.target],n.prototype._beforeDraw.call(this)},u._afterDraw=function(){this.linkedItemVisible()||this.hide(),this._addArrow(),n.prototype._afterDraw.call(this)},u._addArrow=function(){var i=this.model,r=this.keyShape;if(r.get("type")==="path"){var o=this.shapeObj,c=r.attr("endArrow"),h=r.attr("startArrow"),v=i.endArrow||c,f=i.startArrow||h;h&&r.attr("startArrow",!1),c&&r.attr("endArrow",!1),v&&this._drawArrow(o.endArrow,"end"),f&&this._drawArrow(o.startArrow,"start")}},u._drawArrow=function(i,r){var o=i.path,c=i.shorten,h=i.tangent,v=i.ratio,f=i.style;h=h(this),c=c(this),o=o(this),f=f(this),v=v();var m=this.group,b=this.keyShape,M=y.parsePathString(b.attr("path")),O=M[M.length-1],E=M[0],C=b.getPoint(v);if(C&&!isNaN(C.x)){var j=m.addShape("path",{attrs:function(H){for(var Q=1;Q<arguments.length;Q++){var at=arguments[Q]!=null?arguments[Q]:{},$=Object.keys(at);typeof Object.getOwnPropertySymbols=="function"&&($=$.concat(Object.getOwnPropertySymbols(at).filter(function(K){return Object.getOwnPropertyDescriptor(at,K).enumerable}))),$.forEach(function(K){d(H,K,at[K])})}return H}({path:o},f)}),B=h[1][0]-h[0][0],N=h[1][1]-h[0][1],I=c/Math.sqrt(B*B+N*N),F=[-B*I,-N*I],G=0,U=Math.atan(B/N);N===0&&B<0?G=Math.PI:B>0&&N>0?G=Math.PI/2-U:B<0&&N<0?G=-Math.PI/2-U:B>=0&&N<0?G=-U-Math.PI/2:B<=0&&N>0&&(G=Math.PI/2-U),j.rotate(G),j.translate(C.x,C.y),r==="end"?(O[O.length-1]=F[1]+C.y,O[O.length-2]=F[0]+C.x):(E[E.length-1]=F[1]+C.y,E[E.length-2]=F[0]+C.x),b.attr("path",M),this[r+"Arrow"]=j}},u._getControlPoints=function(){var i=this.model.controlPoints;return y.isArray(i)?i:[]},u._shouldDraw=function(){return n.prototype._shouldDraw.call(this)&&this.linkedItemVisible()},u._getPoint=function(i){if(i.isItem){var r=i.getBBox();return{x:r.centerX,y:r.centerY}}return{x:i.x,y:i.y}},u.linkedItemVisible=function(){var i=this.source,r=this.target;return y.isPlainObject(i)||y.isPlainObject(r)||i.isVisible()||r.isVisible()||i.collapsedParent!==r.collapsedParent},u.getSource=function(){var i=this.source,r=i.collapsedParent,o=this.itemMap;return r?o[r.id]:i},u.getTarget=function(){var i=this.target,r=i.collapsedParent,o=this.itemMap;return r?o[r.id]:i},u.getPoints=function(){var i=this.getSource(),r=this.getTarget(),o=this.model,c=this._getControlPoints(),h=this._getPoint(i),v=this._getPoint(r),f=[h].concat(c).concat([v]),m=f.length;if(i.isItem){var b=y.isNumber(this.model.sourceAnchor)&&i.id===o.source?this.model.sourceAnchor:f[1],M=i.getLinkPoints(b);f[0]=M[0]}if(r.isItem){var O=y.isNumber(this.model.targetAnchor)&&r.id===o.target?this.model.targetAnchor:f[m-2],E=r.getLinkPoints(O);f[m-1]=E[0]}return f},u.destroy=function(){var i=this.itemMap,r=this.model,o=i[r.source],c=i[r.target];o&&o.isItem&&y.Array.remove(o.edges,this),c&&c.isItem&&y.Array.remove(c.edges,this),n.prototype.destroy.call(this)},a}(s(608));A.exports=p},function(A,x,s){A.exports={Node:s(624),Edge:s(709),Group:s(708),Guide:s(707)}},function(A,x,s){var d;/*!
 * EventEmitter v5.2.5 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */(function(y){"use strict";function p(){}var n=p.prototype,a=y.EventEmitter;function u(r,o){for(var c=r.length;c--;)if(r[c].listener===o)return c;return-1}function i(r){return function(){return this[r].apply(this,arguments)}}n.getListeners=function(r){var o,c,h=this._getEvents();if(r instanceof RegExp)for(c in o={},h)h.hasOwnProperty(c)&&r.test(c)&&(o[c]=h[c]);else o=h[r]||(h[r]=[]);return o},n.flattenListeners=function(r){var o,c=[];for(o=0;o<r.length;o+=1)c.push(r[o].listener);return c},n.getListenersAsObject=function(r){var o,c=this.getListeners(r);return c instanceof Array&&((o={})[r]=c),o||c},n.addListener=function(r,o){if(!function f(m){return typeof m=="function"||m instanceof RegExp||!(!m||typeof m!="object")&&f(m.listener)}(o))throw new TypeError("listener must be a function");var c,h=this.getListenersAsObject(r),v=typeof o=="object";for(c in h)h.hasOwnProperty(c)&&u(h[c],o)===-1&&h[c].push(v?o:{listener:o,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(r,o){return this.addListener(r,{listener:o,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(r){return this.getListeners(r),this},n.defineEvents=function(r){for(var o=0;o<r.length;o+=1)this.defineEvent(r[o]);return this},n.removeListener=function(r,o){var c,h,v=this.getListenersAsObject(r);for(h in v)v.hasOwnProperty(h)&&(c=u(v[h],o))!==-1&&v[h].splice(c,1);return this},n.off=i("removeListener"),n.addListeners=function(r,o){return this.manipulateListeners(!1,r,o)},n.removeListeners=function(r,o){return this.manipulateListeners(!0,r,o)},n.manipulateListeners=function(r,o,c){var h,v,f=r?this.removeListener:this.addListener,m=r?this.removeListeners:this.addListeners;if(typeof o!="object"||o instanceof RegExp)for(h=c.length;h--;)f.call(this,o,c[h]);else for(h in o)o.hasOwnProperty(h)&&(v=o[h])&&(typeof v=="function"?f.call(this,h,v):m.call(this,h,v));return this},n.removeEvent=function(r){var o,c=typeof r,h=this._getEvents();if(c==="string")delete h[r];else if(r instanceof RegExp)for(o in h)h.hasOwnProperty(o)&&r.test(o)&&delete h[o];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(r,o){var c,h,v,f,m=this.getListenersAsObject(r);for(f in m)if(m.hasOwnProperty(f))for(c=m[f].slice(0),v=0;v<c.length;v++)(h=c[v]).once===!0&&this.removeListener(r,h.listener),h.listener.apply(this,o||[])===this._getOnceReturnValue()&&this.removeListener(r,h.listener);return this},n.trigger=i("emitEvent"),n.emit=function(r){var o=Array.prototype.slice.call(arguments,1);return this.emitEvent(r,o)},n.setOnceReturnValue=function(r){return this._onceReturnValue=r,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},p.noConflict=function(){return y.EventEmitter=a,p},(d=function(){return p}.call(y,s,y,A))===void 0||(A.exports=d)})(typeof window!="undefined"?window:this||{})},function(A,x,s){var d=s(26),y=function(p){(function(u,i){u.prototype=Object.create(i.prototype),u.prototype.constructor=u,u.__proto__=i})(a,p);var n=a.prototype;function a(u){var i,r=(i=p.call(this)||this).getDefaultCfg();return i._cfg=d.mix({},r,u),i}return n.getDefaultCfg=function(){return{}},n.get=function(u){return this._cfg[u]},n.set=function(u,i){this._cfg[u]=i},n.destroy=function(){this._cfg={},this.removeAllListeners(),this.destroyed=!0},a}(s(711));A.exports=y},function(A,x,s){var d=s(26),y=s(248),p=function(){};d.augment(p,{drawInner:function(a){var u=d.clone(this.getTotalMatrix()),i=this._attrs,r=i.x,o=i.y,c=i.width,h=i.height;a.setTransform(u[0],u[1],u[3],u[4],u[6],u[7]),a.drawImage(this.domImage,r,o,c,h)}}),d.mixin(y.Dom,[p]),A.exports=p},function(A,x,s){var d=s(26),y=s(248),p=function(){};d.augment(p,{hasClass:function(a){var u=this.get("class");return!(!u||u.indexOf(a)===-1)}}),d.mixin(y.Shape,[p]),A.exports=p},function(A,x,s){var d=s(248),y=s(26),p=function(){};y.augment(p,{findByClass:function(a){var u=[];return this.deepEach(function(i){i.hasClass(a)&&u.push(i)}),u},hasClass:function(a){var u=this.get("class");return!(!u||u.indexOf(a)===-1)},deepEach:function(a,u){y.traverseTree(this,a,function(i){return i.get("children")},u)},sort:function(){var a=this.get("children");this.set("children",y.radixSort(a,function(u){return u.get("zIndex")}))},sortBy:function(a){var u=this.get("children");this.set("children",y.radixSort(u,a))},clear:function(a){for(var u=this._cfg.children,i=u.length-1;i>=0;i--)u[i].remove(a);return this._cfg.children=[],this}}),y.mixin(d.Group,[p]),A.exports=p},function(A,x,s){s(258).registerGuide("common",{draw:function(){console.warn("do not have this guide, please register one")}})},function(A,x,s){A.exports={common:s(716)}},function(A,x,s){function d(a,u,i){return u in a?Object.defineProperty(a,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[u]=i,a}var y=s(258),p=s(26),n=s(247);y.registerGroup("common",{draw:function(u){return u.getModel().collapsed?this.drawCollapsed(u):this.drawExpanded(u)},defaultWidth:184,defaultHeight:40,getLabel:function(u){return u.getModel().label},drawLabel:function(u,i,r){var o=this.getLabel(u);if(o){var c=u.getGraphicGroup(),h=[8,8];i+=h[0],r+=h[1];var v=u.getModel(),f=v.labelOffsetX,m=v.labelOffsetY,b=v.labelRotate;i=f?f+i:i,r=m?m+r:r;var M=p.mix(!0,{},n.labelStyle,{x:i,y:r,textAlign:"left",textBaseline:"top"});p.isObject(o)?p.mix(M,o):M.text=o;var O=c.addShape("text",{class:"label",attrs:M});if(b){var E=O.getBBox(),C=(E.maxX+E.minX)/2,j=(E.maxY+E.minY)/2;O.transform([["t",-C,-j],["r",b,b],["t",C,j]])}}},drawKeyShape:function(u,i){var r=i.x,o=i.y,c=i.width,h=i.height,v=u.getModel(),f=u.getGraphicGroup(),m=p.mix({},n.groupStyle,v.style),b=p.getRectPath(r,o,c,h,m.radius);return u.lastChildrenBox=i,f.addShape("path",{attrs:p.mix({},m,{path:b})})},getChildrenBBox:function(u){var i=function(c){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{},f=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(v).filter(function(m){return Object.getOwnPropertyDescriptor(v,m).enumerable}))),f.forEach(function(m){d(c,m,v[m])})}return c}({},u.lastChildrenBox),r=u.getModel();if(u.getChildren().length>0){var o=u.getChildrenBBox();i.x=o.minX-n.groupBackgroundPadding[3],i.y=o.minY-n.groupBackgroundPadding[0],i.width=o.maxX-o.minX+n.groupBackgroundPadding[3]+n.groupBackgroundPadding[1],i.height=o.maxY-o.minY+n.groupBackgroundPadding[0]+n.groupBackgroundPadding[2]}else i.width=this.defaultWidth,i.height=this.defaultHeight;return p.isNil(i.x)&&!p.isNil(r.x)&&(i.x=r.x),p.isNil(i.y)&&!p.isNil(r.y)&&(i.y=r.y),i},drawExpanded:function(u){var i=this.getChildrenBBox(u),r=this.drawKeyShape(u,i);return this.drawLabel(u,i.x,i.y),r},drawCollapsed:function(u){var i=this.getChildrenBBox(u);i.width=this.defaultWidth,i.height=this.defaultHeight;var r=this.drawKeyShape(u,i);return this.drawLabel(u,i.x,i.y),r},anchor:{intersectBox:"rect"}})},function(A,x,s){A.exports={common:s(718)}},function(A,x,s){function d(i){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{},c=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),c.forEach(function(h){y(i,h,o[h])})}return i}function y(i,r,o){return r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i}var p=s(258),n=s(26),a=s(247),u={path:function(r){var o=r.getKeyShape().attr("lineWidth"),c=10*(o=o>3?o:3)/3,h=4*o/3,v=4*o;return[["M",-c,h],["L",0,0],["L",-c,-h],["A",v,v,0,0,1,-c,h],["Z"]]},shorten:function(r){var o=r.getKeyShape().attr("lineWidth");return 3.1*(o>3?o:3)},style:function(r){var o=r.getKeyShape().attr();return{fillOpacity:o.strokeOpacity,fill:o.stroke}}};p.registerEdge("common",{draw:function(r){var o=this.drawKeyShape(r);return this.drawLabel(r,o),o},drawKeyShape:function(r){var o=r.getGraphicGroup(),c=this.getStyle(r),h=this.getPath(r);return o.addShape("path",{attrs:n.mix({},c,{path:h})})},getStyle:function(r){var o=r.getModel();return n.mix(!0,{},{stroke:o.color||"#A3B1BF",strokeOpacity:.92,lineAppendWidth:4,lineWidth:o.size||1},o.style)},getPath:function(r){var o=r.getPoints();return n.pointsToPolygon(o)},getLabel:function(r){return r.getModel().label},getDefaultLabelRectStyle:function(){return{fill:"white"}},getDefaultLabelRectPadding:function(){return n.toAllPadding([4,8])},drawLabel:function(r,o){var c=this.getLabel(r),h=r.getGraphicGroup(),v=r.getModel(),f=v.labelOffsetX,m=v.labelOffsetY,b=v.labelRotate;if(c){var M=o.getPoint(.5);if(!M)return;M.x=f?M.x+f:M.x,M.y=m?M.y+m:M.y;var O=n.mix(!0,{},a.labelStyle,M);n.isObject(c)?n.mix(O,c):O.text=c,c=h.addShape("text",{class:"label",attrs:O});var E=this.getDefaultLabelRectPadding(r),C=this.getDefaultLabelRectStyle(r),j=c.getBBox(),B=v.labelRectStyle?n.mix({},C,v.labelRectStyle):C,N=h.addShape("rect",{attrs:n.mix({},B,{x:j.minX-E[3],y:j.minY-E[0],width:j.maxX-j.minX+E[1]+E[3],height:j.maxY-j.minY+E[0]+E[2]})});if(b){var I=(j.maxX+j.minX)/2,F=(j.maxY+j.minY)/2;c.transform([["t",-I,-F],["r",b,b],["t",I,F]]),N.transform([["t",-I,-F],["r",b,b],["t",I,F]])}n.toFront(c)}},startArrow:d({},u,{tangent:function(r){return r.getKeyShape().getStartTangent()},ratio:function(){return 0}}),endArrow:d({},u,{tangent:function(r){return r.getKeyShape().getEndTangent()},ratio:function(){return 1}})})},function(A,x,s){A.exports={common:s(720)}},function(A,x,s){var d=s(258),y=s(26);d.registerNode("html",{getHtml:function(n){return n.getModel().html},cssSize:!0,draw:function(n){var a=y.createDOM('<div class="g6-html-node-container"></div>'),u=n.getGraphicGroup(),i=n.getGraph();if(i.get("renderer")!=="svg")throw new Error("please use svg renderer draw html element !");var r=i.getGraphContainer(),o=this.getSize(n),c=this.getStyle(n),h=this.cssSize,v=this.getHtml(n);v=y.createDOM(v),a.css({position:"absolute",padding:"0px",margin:"0px"}),a.appendChild(v),r.appendChild(a),h&&(o[0]=a.width(),o[1]=a.height());var f=-o[0]/2,m=-o[1]/2,b=o[0],M=o[1],O=u.addShape("rect",{attrs:y.mix({},c,{x:f,y:m,width:b,height:M})});return u.addShape("dom",{attrs:y.mix({x:f,y:m,width:b,height:M,html:a})}),O}})},function(A,x,s){var d=s(258),y=s(26),p=s(247);d.registerNode("common",{draw:function(a){var u=a.getGraphicGroup(),i=this.drawLabel(a),r=this.drawKeyShape(a);return i&&y.toFront(i,u),r},getSize:function(a){var u=a.getModel().size;return y.isArray(u)?u:y.isNumber(u)?[u,u]:[p.defaultNodeSize,p.defaultNodeSize]},getStyle:function(a){var u=a.getModel();return y.mix(!0,{lineWidth:1,fill:u.color||"#40a9ff",stroke:u.color||"#096dd9",fillOpacity:.92},u.style)},getLabel:function(a){return a.getModel().label},drawKeyShape:function(a){var u=a.getGraphicGroup(),i=this.getStyle(a),r=this.getPath(a);return u.addShape("path",{attrs:y.mix({},i,{path:r})})},drawLabel:function(a){var u=a.getGraphicGroup(),i=this.getLabel(a),r=a.getModel(),o=r.labelOffsetX,c=r.labelOffsetY,h=r.labelRotate;if(!y.isNil(i)){var v=y.mix(!0,{},p.labelStyle,{x:o||0,y:c||0});y.isObject(i)?y.mix(v,i):v.text=i;var f=u.addShape("text",{class:"label",attrs:v});return h&&f.rotate(h),f}},getPath:function(a){var u=this.getSize(a);return y.getEllipsePath(0,0,u[0]/2,u[1]/2)}})},function(A,x,s){A.exports={common:s(723),html:s(722)}},function(A,x,s){var d=s(682),y=s(257),p={getAutoZoomMatrix:function(a,u,i,r){var o=[1,0,0,0,1,0,0,0,1],c=a.maxX-a.minX,h=a.maxY-a.minY,v=(u.maxX+u.minX)/2,f=(u.maxY+u.minY)/2,m=c-i[1]-i[3],b=h-i[0]-i[2],M=u.maxX-u.minX,O=u.maxY-u.minY,E=Math.min(b/O,m/M);return r&&(E=r(E)),d.mat3.translate(o,o,[-v,-f]),d.mat3.scale(o,o,[E,E]),d.mat3.translate(o,o,[c/2,h/2]),o},getNineBoxPosition:function(a,u,i,r,o){var c={};switch(a){case"tl":c.y=u.x+o[0],c.x=u.y+o[3];break;case"lc":c.y=(u.height-r)/2,c.x=o[3];break;case"bl":c.y=u.height-r-o[2],c.x=o[3];break;case"cc":c.y=(u.height-r)/2,c.x=(u.width-i)/2;break;case"tc":c.y=o[0],c.x=(u.width-i)/2;break;case"tr":c.y=o[0],c.x=u.width-i-o[1];break;case"rc":c.y=(u.height-r)/2,c.x=u.width-i-o[1];break;case"br":c.y=u.height-r-o[2],c.x=u.width-i-o[1];break;case"bc":c.y=u.height-r-o[2],c.x=(u.width-i)/2;break;default:c.y=u.x+o[0],c.x=u.y+o[3]}return c.x+=u.x,c.y+=u.y,c},getTotalBBox:function(a){var u=1/0,i=-1/0,r=1/0,o=-1/0;return a.forEach(function(c){c.minX<u&&(u=c.minX),c.maxX>i&&(i=c.maxX),c.minY<r&&(r=c.minY),c.maxY>o&&(o=c.maxY)}),{minX:u,minY:r,maxX:i,maxY:o,width:i-u,height:o-r}},getChildrenBBox:function(a){var u=1/0,i=-1/0,r=1/0,o=-1/0;y.each(a,function(h){var v=h.isGroup?p.getChildrenBBox(h.get("children")):h.getBBox();if(!v)return!0;var f=[v.minX,v.minY,1],m=[v.minX,v.maxY,1],b=[v.maxX,v.minY,1],M=[v.maxX,v.maxY,1];h.apply(f),h.apply(m),h.apply(b),h.apply(M);var O=Math.min(f[0],m[0],b[0],M[0]),E=Math.max(f[0],m[0],b[0],M[0]),C=Math.min(f[1],m[1],b[1],M[1]),j=Math.max(f[1],m[1],b[1],M[1]);O<u&&(u=O),E>i&&(i=E),C<r&&(r=C),j>o&&(o=j)});var c={minX:u,minY:r,maxX:i,maxY:o};return c.x=c.minX,c.y=c.minY,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY,c.centerX=(c.minX+c.maxX)/2,c.centerY=(c.minY+c.maxY)/2,c},getBBox:function(a,u){var i,r=a.getBBox(),o={x:r.minX,y:r.minY},c={x:r.maxX,y:r.maxY};if(u.isGroup){for(i=a;i!==u;){var h=i.getMatrix();o=d.applyMatrix(o,h),c=d.applyMatrix(c,h),i=i.getParent()}var v=i.getMatrix();o=d.applyMatrix(o,v),c=d.applyMatrix(c,v)}else o=d.applyMatrix(o,u),c=d.applyMatrix(c,u);return{minX:o.x,minY:o.y,maxX:c.x,maxY:c.y}},toBack:function(a){a.toBack()},toFront:function(a){a.toFront()}};A.exports=p},function(A,x,s){var d=s(257);A.exports={isNode:function(p){return p&&d.isObject(p)&&p.type==="node"},isEdge:function(p){return p&&d.isObject(p)&&p.type==="edge"},isGroup:function(p){return p&&d.isObject(p)&&p.type==="group"}}},function(A,x,s){var d=s(257),y={};d.mix(y,{addEventListener:function(n,a,u){return n.attachEvent?(n.attachEvent("on"+a,u),{remove:function(){n.detachEvent("on"+a,u)}}):n.addEventListener?(n.addEventListener(a,u,!1),{remove:function(){n.removeEventListener(a,u,!1)}}):void 0},createDOM:function(n,a){var u;return(u=d.isString(n)?d.createDom(n):n).bbox=u.getBoundingClientRect(),u.hide=function(){return u.style.visibility="hidden",u},u.show=function(){return u.style.visibility="visible",u},u.css=function(i){return d.modifyCSS(u,i),u},u.width=function(){return d.getWidth(u)},u.height=function(){return d.getHeight(u)},u.destroy=function(){u.parentNode&&u.parentNode.removeChild(u)},u.on=function(i,r){u.addEventListener(i,r)},u.off=function(i,r){u.removeEventListener(i,r)},u.css(a),u},initDOMContainer:function(n,a){if(!n)throw new Error("please set the container for the "+a+" !");return d.isString(n)&&(n=document.getElementById(n)),n}}),A.exports=y},function(A,x){var s={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};A.exports=function(d,y,p){var n=p.target||p.srcElement;if(!s[n.tagName]){for(var a=n.parentNode;a&&!s[a.tagName];)a=a.parentNode;n=a}return this._cfg.el===n?this:this.find(function(u){return u._cfg&&u._cfg.el===n})}},function(A,x,s){var d=s(19),y=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,p=function(){function n(a){var u=document.createElementNS("http://www.w3.org/2000/svg","pattern");u.setAttribute("patternUnits","userSpaceOnUse");var i=document.createElementNS("http://www.w3.org/2000/svg","image");u.appendChild(i);var r=d.uniqueId("pattern_");u.id=r,this.el=u,this.id=r,this.cfg=a;var o=y.exec(a)[2];i.setAttribute("href",o);var c=new Image;function h(){console.log(c.width,c.height),u.setAttribute("width",c.width),u.setAttribute("height",c.height)}return o.match(/^data:/i)||(c.crossOrigin="Anonymous"),c.src=o,c.complete?h():(c.onload=h,c.src=c.src),this}return n.prototype.match=function(a,u){return this.cfg===u},n}();A.exports=p},function(A,x,s){var d=s(19),y=function(){function p(a){this.type="clip";var u=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=u,this.id=d.uniqueId("clip_"),u.id=this.id;var i=a._cfg.el;return u.appendChild(i.cloneNode(!0)),this.cfg=a,this}var n=p.prototype;return n.match=function(){return!1},n.remove=function(){var a=this.el;a.parentNode.removeChild(a)},p}();A.exports=y},function(A,x,s){var d=s(19),y=function(){function p(a,u){var i=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=d.uniqueId("marker_");i.setAttribute("id",r);var o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("stroke","none"),o.setAttribute("fill",a.stroke||"#000"),i.appendChild(o),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto-start-reverse"),this.el=i,this.child=o,this.id=r,this.cfg=a[u==="marker-start"?"startArrow":"endArrow"],this.stroke=a.stroke||"#000",this.cfg===!0?this._setDefaultPath(u,o):this._setMarker(a.lineWidth,o),this}var n=p.prototype;return n.match=function(){return!1},n._setDefaultPath=function(a,u){var i=this.el;u.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),i.setAttribute("refX",3),i.setAttribute("refY",3)},n._setMarker=function(a,u){var i=this.el,r=this.cfg.path,o=this.cfg.d;d.isArray(r)&&(r=r.map(function(c){return c.join(" ")}).join("")),u.setAttribute("d",r),i.appendChild(u),o&&i.setAttribute("refX",o/a)},n.update=function(a){var u=this.child;u.attr?u.attr("fill",a):u.setAttribute("fill",a)},p}();A.exports=y},function(A,x,s){var d=s(19),y={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},p={x:"-40%",y:"-40%",width:"200%",height:"200%"},n=function(){function a(i){this.type="filter";var r=document.createElementNS("http://www.w3.org/2000/svg","filter");return d.each(p,function(o,c){r.setAttribute(c,o)}),this.el=r,this.id=d.uniqueId("filter_"),this.el.id=this.id,this.cfg=i,this._parseShadow(i,r),this}var u=a.prototype;return u.match=function(i,r){if(this.type!==i)return!1;var o=!0,c=this.cfg;return d.each(Object.keys(c),function(h){if(c[h]!==r[h])return o=!1,!1}),o},u.update=function(i,r){var o=this.cfg;return o[y[i]]=r,this._parseShadow(o,this.el),this},u._parseShadow=function(i,r){var o=`<feDropShadow 
      dx="`+(i.dx||0)+`" 
      dy="`+(i.dy||0)+`" 
      stdDeviation="`+(i.blur?i.blur/10:0)+`"
      flood-color="`+(i.color?i.color:"#000")+`"
      flood-opacity="`+(i.opacity?i.opacity:1)+`"
      />`;r.innerHTML=o},a}();A.exports=n},function(A,x,s){var d=s(19),y=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,p=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,n=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function a(i){var r=i.match(n);if(!r)return"";var o="";return r.sort(function(c,h){return c=c.split(":"),h=h.split(":"),Number(c[0])-Number(h[0])}),d.each(r,function(c){c=c.split(":"),o+='<stop offset="'+c[0]+'" stop-color="'+c[1]+'"></stop>'}),o}var u=function(){function i(r){var o=null,c=d.uniqueId("gradient_");return r.toLowerCase()[0]==="l"?function(h,v){var f,m,b=y.exec(h),M=d.mod(d.toRadian(parseFloat(b[1])),2*Math.PI),O=b[2];M>=0&&M<.5*Math.PI?(f={x:0,y:0},m={x:1,y:1}):.5*Math.PI<=M&&M<Math.PI?(f={x:1,y:0},m={x:0,y:1}):Math.PI<=M&&M<1.5*Math.PI?(f={x:1,y:1},m={x:0,y:0}):(f={x:0,y:1},m={x:1,y:0});var E=Math.tan(M),C=E*E,j=(m.x-f.x+E*(m.y-f.y))/(C+1)+f.x,B=E*(m.x-f.x+E*(m.y-f.y))/(C+1)+f.y;v.setAttribute("x1",f.x),v.setAttribute("y1",f.y),v.setAttribute("x2",j),v.setAttribute("y2",B),v.innerHTML=a(O)}(r,o=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(h,v){var f=p.exec(h),m=parseFloat(f[1]),b=parseFloat(f[2]),M=parseFloat(f[3]),O=f[4];v.setAttribute("cx",m),v.setAttribute("cy",b),v.setAttribute("r",M),v.innerHTML=a(O)}(r,o=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),o.setAttribute("id",c),this.el=o,this.id=c,this.cfg=r,this}return i.prototype.match=function(r,o){return this.cfg===o},i}();A.exports=u},function(A,x,s){var d=s(19),y=s(733),p=s(732),n=s(731),a=s(730),u=s(729),i=function(){function r(c){var h=document.createElementNS("http://www.w3.org/2000/svg","defs"),v=d.uniqueId("defs_");h.id=v,c.appendChild(h),this.children=[],this.defaultArrow={},this.el=h,this.canvas=c}var o=r.prototype;return o.find=function(c,h){for(var v=this.children,f=null,m=0;m<v.length;m++)if(v[m].match(c,h)){f=v[m].id;break}return f},o.findById=function(c){for(var h=this.children,v=null,f=0;f<h.length;f++)if(h[f].id===c){v=h[f];break}return v},o.add=function(c){this.children.push(c),c.canvas=this.canvas,c.parent=this},o.getDefaultArrow=function(c,h){var v=c.stroke||c.strokeStyle;if(this.defaultArrow[v])return this.defaultArrow[v].id;var f=new n(c,h);return this.defaultArrow[v]=f,this.el.appendChild(f.el),f.id},o.addGradient=function(c){var h=new y(c);return this.el.appendChild(h.el),this.add(h),h.id},o.addArrow=function(c,h){var v=new n(c,h);return this.el.appendChild(v.el),v.id},o.addShadow=function(c){var h=new p(c);return this.el.appendChild(h.el),this.add(h),h.id},o.addPattern=function(c){var h=new u(c);return this.el.appendChild(h.el),this.add(h),h.id},o.addClip=function(c){var h=new a(c);return this.el.appendChild(h.el),this.add(h),h.id},r}();A.exports=i},function(A,x,s){var d=s(19),y=s(593).parseRadius,p=s(611),n=s(734),a={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},u={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},i={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},r={left:"left",start:"left",center:"middle",right:"end",end:"end"},o=function(){function c(v){if(!v)return null;var f=d.uniqueId("canvas_"),m=d.createDom('<svg id="'+f+'"></svg>');return v.appendChild(m),this.type="svg",this.canvas=m,this.context=new n(m),this.toDraw=!1,this}var h=c.prototype;return h.draw=function(v){var f=this;f.animateHandler?f.toDraw=!0:function m(){f.animateHandler=d.requestAnimationFrame(function(){f.animateHandler=void 0,f.toDraw&&m()});try{f._drawChildren(v)}catch(b){console.warn("error in draw canvas, detail as:"),console.warn(b),f.toDraw=!1}f.toDraw=!1}()},h.drawSync=function(v){this._drawChildren(v)},h._drawGroup=function(v,f){var m=v._cfg;m.removed||m.destroyed||(m.tobeRemoved&&(d.each(m.tobeRemoved,function(b){b.parentNode&&b.parentNode.removeChild(b)}),m.tobeRemoved=[]),this._drawShape(v,f),m.children&&m.children.length>0&&this._drawChildren(v))},h._drawChildren=function(v){var f,m=v._cfg.children;if(m)for(var b=0;b<m.length;b++)(f=m[b]).isGroup?this._drawGroup(f,b):this._drawShape(f,b)},h._drawShape=function(v,f){var m=v._attrs,b=v._cfg,M=b.el;b.removed||b.destroyed?M&&M.parentNode.removeChild(b.el):(!M&&b.parent&&(this._createDom(v,f),this._updateShape(v)),M=b.el,b.visible!==!1?(b.visible&&M.hasAttribute("visibility")&&M.removeAttribute("visibility"),b.hasUpdate&&this._updateShape(v),m.clip&&m.clip._cfg.hasUpdate&&this._updateShape(m.clip)):M.setAttribute("visibility","hidden"))},h._updateShape=function(v){var f=v._attrs,m=v._cfg.attrs;if(m)if(v._cfg.el||this._createDom(v),"clip"in f&&this._setClip(v,f.clip),("shadowOffsetX"in f||"shadowOffsetY"in f||"shadowBlur"in f||"shadowColor"in f)&&this._setShadow(v),v.type!=="text"){for(var b in v.type==="fan"&&this._updateFan(v),v.type==="marker"&&v._cfg.el.setAttribute("d",this._assembleMarker(f)),v.type==="rect"&&v._cfg.el.setAttribute("d",this._assembleRect(f)),f)f[b]!==m[b]&&this._setAttribute(v,b,f[b]);v._cfg.attrs=d.deepMix({},v._attrs),v._cfg.hasUpdate=!1}else this._updateText(v)},h._setAttribute=function(v,f,m){var b=v.type,M=v._attrs,O=v._cfg.el,E=this.context;if(b!=="marker"&&b!=="rect"||!~["x","y","radius","r"].indexOf(f))if(~["circle","ellipse"].indexOf(b)&&~["x","y"].indexOf(f))O.setAttribute("c"+f,parseInt(m,10));else{if(b==="polygon"&&f==="points")return m&&m.length!==0||(m=""),d.isArray(m)&&(m=(m=m.map(function(j){return j[0]+","+j[1]})).join(" ")),void O.setAttribute("points",m);if(f==="path"&&d.isArray(m))O.setAttribute("d",this._formatPath(m));else if(f!=="img"){if(f==="transform")return m?void this._setTransform(v):void O.removeAttribute("transform");if(f==="rotate")return m?void this._setTransform(v):void O.removeAttribute("transform");if(f!=="matrix")if(f!=="fillStyle"&&f!=="strokeStyle"){if(f!=="clip")if(~f.indexOf("Arrow"))if(f=u[f],m){var C=null;C=typeof m=="boolean"?E.getDefaultArrow(M,f):E.addArrow(M,f),O.setAttribute(f,"url(#"+C+")"),v._cfg[f]=C}else v._cfg[f]=null,O.removeAttribute(f);else f==="html"&&(typeof m=="string"?O.innerHTML=m:(O.innerHTML="",O.appendChild(m))),u[f]&&O.setAttribute(u[f],m)}else this._setColor(v,f,m);else this._setTransform(v)}else this._setImage(v,m)}},h._createDom=function(v,f){var m=a[v.type],b=v._attrs,M=v._cfg.parent,O=M._cfg.el;if(!m)throw new Error("the type"+v.type+"is not supported by svg");var E=document.createElementNS("http://www.w3.org/2000/svg",m);if(v._cfg.el=E,M)if(f===void 0)O.appendChild(E);else{var C=M._cfg.el.childNodes;O.tagName==="svg"&&(f+=1),C.length<=f?O.appendChild(E):O.insertBefore(E,C[f])}return v._cfg.attrs={},v.type==="text"?(E.setAttribute("paint-order","stroke"),E.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(b.stroke||b.strokeStyle||E.setAttribute("stroke","none"),b.fill||b.fillStyle||E.setAttribute("fill","none")),E},h._assembleMarker=function(v){var f=v.r;if(v.r===void 0&&(f=v.radius),isNaN(Number(v.x))||isNaN(Number(v.y))||isNaN(Number(f)))return"";var m="";return m=typeof v.symbol=="function"?v.symbol(v.x,v.y,f):p.Symbols[v.symbol||"circle"](v.x,v.y,f),d.isArray(m)&&(m=m.map(function(b){return b.join(" ")}).join("")),m},h._assembleRect=function(v){var f=v.x,m=v.y,b=v.width,M=v.height,O=v.radius;if(!O)return"M "+f+","+m+" l "+b+",0 l 0,"+M+" l"+-b+" 0 z";var E=y(O);return d.isArray(O)?O.length===1?E.r1=E.r2=E.r3=E.r4=O[0]:O.length===2?(E.r1=E.r3=O[0],E.r2=E.r4=O[1]):O.length===3?(E.r1=O[0],E.r2=E.r4=O[1],E.r3=O[2]):(E.r1=O[0],E.r2=O[1],E.r3=O[2],E.r4=O[3]):E.r1=E.r2=E.r3=E.r4=O,[["M "+(f+E.r1)+","+m],["l "+(b-E.r1-E.r2)+",0"],["a "+E.r2+","+E.r2+",0,0,1,"+E.r2+","+E.r2],["l 0,"+(M-E.r2-E.r3)],["a "+E.r3+","+E.r3+",0,0,1,"+-E.r3+","+E.r3],["l "+(E.r3+E.r4-b)+",0"],["a "+E.r4+","+E.r4+",0,0,1,"+-E.r4+","+-E.r4],["l 0,"+(E.r4+E.r1-M)],["a "+E.r1+","+E.r1+",0,0,1,"+E.r1+","+-E.r1],["z"]].join(" ")},h._formatPath=function(v){return~(v=v.map(function(f){return f.join(" ")}).join("")).indexOf("NaN")?"":v},h._setTransform=function(v){for(var f=v._attrs.matrix,m=v._cfg.el,b=[],M=0;M<9;M+=3)b.push(f[M]+","+f[M+1]);(b=b.join(",")).indexOf("NaN")===-1?m.setAttribute("transform","matrix("+b+")"):console.warn("invalid matrix:",f)},h._setImage=function(v,f){var m=v._attrs,b=v._cfg.el;if(d.isString(f))b.setAttribute("href",f);else if(f instanceof Image)m.width||(b.setAttribute("width",f.width),v._attrs.width=f.width),m.height||(b.setAttribute("height",f.height),v._attrs.height=f.height),b.setAttribute("href",f.src);else if(f instanceof HTMLElement&&d.isString(f.nodeName)&&f.nodeName.toUpperCase()==="CANVAS")b.setAttribute("href",f.toDataURL());else if(f instanceof ImageData){var M=document.createElement("canvas");M.setAttribute("width",f.width),M.setAttribute("height",f.height),M.getContext("2d").putImageData(f,0,0),m.width||(b.setAttribute("width",f.width),v._attrs.width=f.width),m.height||(b.setAttribute("height",f.height),v._attrs.height=f.height),b.setAttribute("href",M.toDataURL())}},h._updateFan=function(v){function f(Q,at,$){return{x:at*Math.cos(Q)+$.x,y:at*Math.sin(Q)+$.y}}var m=v._attrs,b=v._cfg,M={x:m.x,y:m.y},O=[],E=m.startAngle,C=m.endAngle;d.isNumberEqual(C-E,2*Math.PI)&&(C-=1e-5);var j=f(E,m.re,M),B=f(C,m.re,M),N=C>E?1:0,I=Math.abs(C-E)>Math.PI?1:0,F=m.rs,G=m.re,U=f(E,m.rs,M),H=f(C,m.rs,M);m.rs>0?(O.push("M "+B.x+","+B.y),O.push("L "+H.x+","+H.y),O.push("A "+F+","+F+",0,"+I+","+(N===1?0:1)+","+U.x+","+U.y),O.push("L "+j.x+" "+j.y)):(O.push("M "+M.x+","+M.y),O.push("L "+j.x+","+j.y)),O.push("A "+G+","+G+",0,"+I+","+N+","+B.x+","+B.y),m.rs>0?O.push("L "+H.x+","+H.y):O.push("Z"),b.el.setAttribute("d",O.join(" "))},h._updateText=function(v){var f=v._attrs,m=v._cfg.attrs,b=v._cfg.el;for(var M in this._setFont(v),f)if(f[M]!==m[M]){if(M==="text"){this._setText(v,""+f[M]);continue}if(M==="fillStyle"||M==="strokeStyle"){this._setColor(v,M,f[M]);continue}if(M==="matrix"){this._setTransform(v);continue}u[M]&&b.setAttribute(u[M],f[M])}v._cfg.attrs=Object.assign({},v._attrs),v._cfg.hasUpdate=!1},h._setFont=function(v){var f=v.get("el"),m=v._attrs,b=m.fontSize;f.setAttribute("alignment-baseline",i[m.textBaseline]||"baseline"),f.setAttribute("text-anchor",r[m.textAlign]||"left"),b&&+b<12&&(m.matrix=[1,0,0,0,1,0,0,0,1],v.transform([["t",-m.x,-m.y],["s",+b/12,+b/12],["t",m.x,m.y]]))},h._setText=function(v,f){var m=v._cfg.el,b=v._attrs.textBaseline||"bottom";if(f)if(~f.indexOf(`
`)){var M=v._attrs.x,O=f.split(`
`),E=O.length-1,C="";d.each(O,function(j,B){B===0?b==="alphabetic"?C+='<tspan x="'+M+'" dy="'+-E+'em">'+j+"</tspan>":b==="top"?C+='<tspan x="'+M+'" dy="0.9em">'+j+"</tspan>":b==="middle"?C+='<tspan x="'+M+'" dy="'+-(E-1)/2+'em">'+j+"</tspan>":b==="bottom"?C+='<tspan x="'+M+'" dy="-'+(E+.3)+'em">'+j+"</tspan>":b==="hanging"&&(C+='<tspan x="'+M+'" dy="'+(-(E-1)-.3)+'em">'+j+"</tspan>"):C+='<tspan x="'+M+'" dy="1em">'+j+"</tspan>"}),m.innerHTML=C}else m.innerHTML=f;else m.innerHTML=""},h._setClip=function(v,f){var m=v._cfg.el;if(f)if(m.hasAttribute("clip-path"))f._cfg.hasUpdate&&this._updateShape(f);else{this._createDom(f),this._updateShape(f);var b=this.context.addClip(f);m.setAttribute("clip-path","url(#"+b+")")}else m.removeAttribute("clip-path")},h._setColor=function(v,f,m){var b=v._cfg.el,M=this.context;if(m)if(m=m.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(m)){var O=M.find("gradient",m);O||(O=M.addGradient(m)),b.setAttribute(u[f],"url(#"+O+")")}else if(/^[p,P]{1}[\s]*\(/.test(m)){var E=M.find("pattern",m);E||(E=M.addPattern(m)),b.setAttribute(u[f],"url(#"+E+")")}else b.setAttribute(u[f],m);else b.setAttribute(u[f],"none")},h._setShadow=function(v){var f=v._cfg.el,m=v._attrs,b={dx:m.shadowOffsetX,dy:m.shadowOffsetY,blur:m.shadowBlur,color:m.shadowColor};if(b.dx||b.dy||b.blur||b.color){var M=this.context.find("filter",b);M||(M=this.context.addShadow(b,this)),f.setAttribute("filter","url(#"+M+")")}else f.removeAttribute("filter")},c}();A.exports=o},function(A,x,s){A.exports={painter:s(735),getShape:s(728)}},function(A,x,s){var d=s(19),y=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,p=/[^\s\,]+/gi,n=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,i=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function r(o,c){var h=o.match(i);d.each(h,function(v){v=v.split(":"),c.addColorStop(v[0],v[1])})}A.exports={parsePath:function(c){return c=c||[],d.isArray(c)?c:d.isString(c)?(c=c.match(y),d.each(c,function(h,v){if((h=h.match(p))[0].length>1){var f=h[0].charAt(0);h.splice(1,0,h[0].substr(1)),h[0]=f}d.each(h,function(m,b){isNaN(m)||(h[b]=+m)}),c[v]=h}),c):void 0},parseStyle:function(c,h,v){if(d.isString(c)){if(c[1]==="("||c[2]==="("){if(c[0]==="l")return function(f,m,b){var M,O,E=n.exec(f),C=d.mod(d.toRadian(parseFloat(E[1])),2*Math.PI),j=E[2],B=m.getBBox();C>=0&&C<.5*Math.PI?(M={x:B.minX,y:B.minY},O={x:B.maxX,y:B.maxY}):.5*Math.PI<=C&&C<Math.PI?(M={x:B.maxX,y:B.minY},O={x:B.minX,y:B.maxY}):Math.PI<=C&&C<1.5*Math.PI?(M={x:B.maxX,y:B.maxY},O={x:B.minX,y:B.minY}):(M={x:B.minX,y:B.maxY},O={x:B.maxX,y:B.minY});var N=Math.tan(C),I=N*N,F=(O.x-M.x+N*(O.y-M.y))/(I+1)+M.x,G=N*(O.x-M.x+N*(O.y-M.y))/(I+1)+M.y,U=b.createLinearGradient(M.x,M.y,F,G);return r(j,U),U}(c,h,v);if(c[0]==="r")return function(f,m,b){var M=a.exec(f),O=parseFloat(M[1]),E=parseFloat(M[2]),C=parseFloat(M[3]),j=M[4];if(C===0){var B=j.match(i);return B[B.length-1].split(":")[1]}var N=m.getBBox(),I=N.maxX-N.minX,F=N.maxY-N.minY,G=Math.sqrt(I*I+F*F)/2,U=b.createRadialGradient(N.minX+I*O,N.minY+F*E,C*G,N.minX+I/2,N.minY+F/2,G);return r(j,U),U}(c,h,v);if(c[0]==="p")return function(f,m,b){if(m.get("patternSource")&&m.get("patternSource")===f)return m.get("pattern");var M,O,E=u.exec(f),C=E[1],j=E[2];function B(){M=b.createPattern(O,C),m.setSilent("pattern",M),m.setSilent("patternSource",f)}switch(C){case"a":C="repeat";break;case"x":C="repeat-x";break;case"y":C="repeat-y";break;case"n":C="no-repeat";break;default:C="no-repeat"}return O=new Image,j.match(/^data:/i)||(O.crossOrigin="Anonymous"),O.src=j,O.complete?B():(O.onload=B,O.src=O.src),M}(c,h,v)}return c}}}},function(A,x,s){var d=s(19),y=s(737),p=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],n=function(){function a(i){if(!i)return null;var r=d.uniqueId("canvas_"),o=d.createDom('<canvas id="'+r+'"></canvas>');return i.appendChild(o),this.type="canvas",this.canvas=o,this.context=o.getContext("2d"),this.toDraw=!1,this}var u=a.prototype;return u.beforeDraw=function(){var i=this.canvas;this.context&&this.context.clearRect(0,0,i.width,i.height)},u.draw=function(i){var r=this;r.animateHandler?r.toDraw=!0:function o(){r.animateHandler=d.requestAnimationFrame(function(){r.animateHandler=void 0,r.toDraw&&o()}),r.beforeDraw();try{r._drawGroup(i)}catch(c){console.warn("error in draw canvas, detail as:"),console.warn(c),r.toDraw=!1}r.toDraw=!1}()},u.drawSync=function(i){this.beforeDraw(),this._drawGroup(i)},u._drawGroup=function(i){if(!i._cfg.removed&&!i._cfg.destroyed&&i._cfg.visible){var r=i._cfg.children,o=null;this.setContext(i);for(var c=0;c<r.length;c++)o=r[c],r[c].isGroup?this._drawGroup(o):this._drawShape(o);this.restoreContext(i)}},u._drawShape=function(i){i._cfg.removed||i._cfg.destroyed||!i._cfg.visible||(this.setContext(i),i.drawInner(this.context),this.restoreContext(i),i._cfg.attrs=i._attrs,i._cfg.hasUpdate=!1)},u.setContext=function(i){var r=this.context,o=i._attrs.clip;r.save(),o&&(o.resetTransform(r),o.createPath(r),r.clip()),this.resetContext(i),i.resetTransform(r)},u.restoreContext=function(){this.context.restore()},u.resetContext=function(i){var r=this.context,o=i._attrs;if(!i.isGroup){for(var c in o)if(p.indexOf(c)>-1){var h=o[c];c==="fillStyle"&&(h=y.parseStyle(h,i,r)),c==="strokeStyle"&&(h=y.parseStyle(h,i,r)),c==="lineDash"&&r.setLineDash?d.isArray(h)?r.setLineDash(h):d.isString(h)&&r.setLineDash(h.split(" ")):r[c]=h}}},a}();A.exports=n},function(A,x,s){A.exports={painter:s(738)}},function(A,x,s){A.exports={canvas:s(739),svg:s(736)}},function(A,x,s){var d=s(19),y=s(610),p=s(17),n=s(44),a=s(238),u=a.interpolate,i=a.interpolateArray,r=function(h){this._animators=[],this._current=0,this._timer=null,this.canvas=h};function o(c,h,v){var f,m=h.startTime;if(v<m+h.delay||h.isPaused)return!1;var b=h.duration,M=h.easing;if(v=v-m-h.delay,h.toAttrs.repeat)f=v%b/b,f=n[M](f);else{if(!((f=v/b)<1))return c.attr(h.toAttrs),h.toMatrix&&c.setMatrix(h.toMatrix),!0;f=n[M](f)}return function(O,E,C){var j={},B=E.toAttrs,N=E.fromAttrs,I=E.toMatrix;if(!O.get("destroyed")){var F;for(var G in B)if(!d.isEqual(N[G],B[G]))if(G==="path"){var U=B[G],H=N[G];U.length>H.length?(U=y.parsePathString(B[G]),H=y.parsePathString(N[G]),H=y.fillPathByDiff(H,U),H=y.formatPath(H,U),E.fromAttrs.path=H,E.toAttrs.path=U):E.pathFormatted||(U=y.parsePathString(B[G]),H=y.parsePathString(N[G]),H=y.formatPath(H,U),E.fromAttrs.path=H,E.toAttrs.path=U,E.pathFormatted=!0),j[G]=[];for(var Q=0;Q<U.length;Q++){for(var at=U[Q],$=H[Q],K=[],ot=0;ot<at.length;ot++)d.isNumber(at[ot])&&$&&d.isNumber($[ot])?(F=u($[ot],at[ot]),K.push(F(C))):K.push(at[ot]);j[G].push(K)}}else F=u(N[G],B[G]),j[G]=F(C);if(I){var it=i(E.fromMatrix,I)(C);O.setMatrix(it)}O.attr(j)}}(c,h,f),!1}d.augment(r,{initTimer:function(){var h,v,f,m=this,b=this;b._timer=p.timer(function(M){if(b._current=M,m._animators.length>0){for(var O=m._animators.length-1;O>=0;O--)if((h=m._animators[O]).get("destroyed"))b.removeAnimator(O);else{if(!h.get("pause").isPaused)for(var E=(v=h.get("animators")).length-1;E>=0;E--)f=v[E],o(h,f,M)&&(v.splice(E,1),f.callback&&f.callback());v.length===0&&b.removeAnimator(O)}m.canvas.draw()}})},addAnimator:function(h){this._animators.push(h)},removeAnimator:function(h){this._animators.splice(h,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(h){h.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),A.exports=r},function(A,x,s){var d=s(19),y=s(613),p={arc:s(602),ellipse:s(639),line:s(603)},n=d.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function a(i,r,o){return o.createPath(n),n.isPointInPath(i,r)}var u={arc:function(r,o){var c=this._attrs,h=c.x,v=c.y,f=c.r,m=c.startAngle,b=c.endAngle,M=c.clockwise,O=this.getHitLineWidth();return!!this.hasStroke()&&y.arcline(h,v,f,m,b,M,O,r,o)},circle:function(r,o){var c=this._attrs,h=c.x,v=c.y,f=c.r,m=this.getHitLineWidth(),b=this.hasFill(),M=this.hasStroke();return b&&M?y.circle(h,v,f,r,o)||y.arcline(h,v,f,0,2*Math.PI,!1,m,r,o):b?y.circle(h,v,f,r,o):!!M&&y.arcline(h,v,f,0,2*Math.PI,!1,m,r,o)},dom:function(r,o){if(!this._cfg.el)return!1;var c=this._cfg.el.getBBox();return y.box(c.x,c.x+c.width,c.y,c.y+c.height,r,o)},ellipse:function(r,o){var c=this._attrs,h=this.hasFill(),v=this.hasStroke(),f=c.x,m=c.y,b=c.rx,M=c.ry,O=this.getHitLineWidth(),E=b>M?b:M,C=b>M?1:b/M,j=b>M?M/b:1,B=[r,o,1],N=[1,0,0,0,1,0,0,0,1];d.mat3.scale(N,N,[C,j]),d.mat3.translate(N,N,[f,m]);var I=d.mat3.invert([],N);return d.vec3.transformMat3(B,B,I),h&&v?y.circle(0,0,E,B[0],B[1])||y.arcline(0,0,E,0,2*Math.PI,!1,O,B[0],B[1]):h?y.circle(0,0,E,B[0],B[1]):!!v&&y.arcline(0,0,E,0,2*Math.PI,!1,O,B[0],B[1])},fan:function(r,o){var c=this,h=c.hasFill(),v=c.hasStroke(),f=c._attrs,m=f.x,b=f.y,M=f.rs,O=f.re,E=f.startAngle,C=f.endAngle,j=f.clockwise,B=[r-m,o-b],N=d.vec2.angleTo([1,0],B);function I(){var G=p.arc.nearAngle(N,E,C,j);if(d.isNumberEqual(N,G)){var U=d.vec2.squaredLength(B);if(M*M<=U&&U<=O*O)return!0}return!1}function F(){var G=c.getHitLineWidth(),U={x:Math.cos(E)*M+m,y:Math.sin(E)*M+b},H={x:Math.cos(E)*O+m,y:Math.sin(E)*O+b},Q={x:Math.cos(C)*M+m,y:Math.sin(C)*M+b},at={x:Math.cos(C)*O+m,y:Math.sin(C)*O+b};return!!(y.line(U.x,U.y,H.x,H.y,G,r,o)||y.line(Q.x,Q.y,at.x,at.y,G,r,o)||y.arcline(m,b,M,E,C,j,G,r,o)||y.arcline(m,b,O,E,C,j,G,r,o))}return h&&v?I()||F():h?I():!!v&&F()},image:function(r,o){var c=this._attrs;if(this.get("toDraw")||!c.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===c.img||this._setAttrImg();var h=c.x,v=c.y,f=c.width,m=c.height;return y.rect(h,v,f,m,r,o)},line:function(r,o){var c=this._attrs,h=c.x1,v=c.y1,f=c.x2,m=c.y2,b=this.getHitLineWidth();return!!this.hasStroke()&&y.line(h,v,f,m,b,r,o)},path:function(r,o){var c=this,h=c.get("segments"),v=c.hasFill(),f=c.hasStroke();function m(){if(!d.isEmpty(h)){for(var b=c.getHitLineWidth(),M=0,O=h.length;M<O;M++)if(h[M].isInside(r,o,b))return!0;return!1}}return v&&f?a(r,o,c)||m():v?a(r,o,c):!!f&&m()},marker:function(r,o){var c=this._attrs,h=c.x,v=c.y,f=c.radius||c.r,m=this.getHitLineWidth();return y.circle(h,v,f+m/2,r,o)},polygon:function(r,o){var c=this,h=c.hasFill(),v=c.hasStroke();function f(){var m=c._attrs.points;if(m.length<2)return!1;var b=c.getHitLineWidth(),M=m.slice(0);return m.length>=3&&M.push(m[0]),y.polyline(M,b,r,o)}return h&&v?a(r,o,c)||f():h?a(r,o,c):!!v&&f()},polyline:function(r,o){var c=this._attrs;if(this.hasStroke()){var h=c.points;if(h.length<2)return!1;var v=c.lineWidth;return y.polyline(h,v,r,o)}return!1},rect:function(r,o){var c=this,h=c.hasFill(),v=c.hasStroke();function f(){var m=c._attrs,b=m.x,M=m.y,O=m.width,E=m.height,C=m.radius,j=c.getHitLineWidth();if(C===0){var B=j/2;return y.line(b-B,M,b+O+B,M,j,r,o)||y.line(b+O,M-B,b+O,M+E+B,j,r,o)||y.line(b+O+B,M+E,b-B,M+E,j,r,o)||y.line(b,M+E+B,b,M-B,j,r,o)}return y.line(b+C,M,b+O-C,M,j,r,o)||y.line(b+O,M+C,b+O,M+E-C,j,r,o)||y.line(b+O-C,M+E,b+C,M+E,j,r,o)||y.line(b,M+E-C,b,M+C,j,r,o)||y.arcline(b+O-C,M+C,C,1.5*Math.PI,2*Math.PI,!1,j,r,o)||y.arcline(b+O-C,M+E-C,C,0,.5*Math.PI,!1,j,r,o)||y.arcline(b+C,M+E-C,C,.5*Math.PI,Math.PI,!1,j,r,o)||y.arcline(b+C,M+C,C,Math.PI,1.5*Math.PI,!1,j,r,o)}return h&&v?a(r,o,c)||f():h?a(r,o,c):!!v&&f()},text:function(r,o){var c=this.getBBox();if(this.hasFill()||this.hasStroke())return y.box(c.minX,c.maxX,c.minY,c.maxY,r,o)}};A.exports={isPointInPath:function(r,o){var c=u[this.type];return!!c&&c.call(this,r,o)}}},function(A,x,s){var d=s(58);d.Arc=s(638),d.Circle=s(637),d.Dom=s(636),d.Ellipse=s(635),d.Fan=s(634),d.Image=s(633),d.Line=s(632),d.Marker=s(611),d.Path=s(631),d.Polygon=s(630),d.Polyline=s(629),d.Rect=s(628),d.Text=s(627),A.exports=d},function(A,x,s){var d=s(19),y={delay:"delay",rotate:"rotate"},p={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};A.exports={animate:function(a,u,i,r,o){o===void 0&&(o=0),this.set("animating",!0);var c=this.get("timeline");c||(c=this.get("canvas").get("timeline"),this.setSilent("timeline",c));var h=this.get("animators")||[];c._timer||c.initTimer(),d.isNumber(r)&&(o=r,r=null),d.isFunction(i)?(r=i,i="easeLinear"):i=i||"easeLinear";var v=function(m,b){var M={matrix:null,attrs:{}},O=b._attrs;for(var E in m)if(E==="transform")M.matrix=d.transform(b.getMatrix(),m[E]);else if(E==="rotate")M.matrix=d.transform(b.getMatrix(),[["r",m[E]]]);else if(E==="matrix")M.matrix=m[E];else{if(p[E]&&/^[r,R,L,l]{1}[\s]*\(/.test(m[E]))continue;y[E]||O[E]===m[E]||(M.attrs[E]=m[E])}return M}(a,this),f={fromAttrs:function(m,b){var M={},O=b._attrs;for(var E in m.attrs)M[E]=O[E];return M}(v,this),toAttrs:v.attrs,fromMatrix:d.clone(this.getMatrix()),toMatrix:v.matrix,duration:u,easing:i,callback:r,delay:o,startTime:c.getTime(),id:d.uniqueId()};h.length>0?h=function(m,b){var M=b.delay,O=Object.prototype.hasOwnProperty;return d.each(b.toAttrs,function(E,C){d.each(m,function(j){M<j.startTime+j.duration&&O.call(j.toAttrs,C)&&(delete j.toAttrs[C],delete j.fromAttrs[C])})}),b.toMatrix&&d.each(m,function(E){M<E.startTime+E.duration&&E.toMatrix&&delete E.toMatrix}),m}(h,f):c.addAnimator(this),h.push(f),this.setSilent("animators",h),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var a=this,u=this.get("animators");d.each(u,function(i){a.attr(i.toAttrs),i.toMatrix&&a.attr("matrix",i.toMatrix),i.callback&&i.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var a=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:a.getTime()}),this},resumeAnimate:function(){var a=this.get("timeline").getTime(),u=this.get("animators"),i=this.get("pause").pauseTime;return d.each(u,function(r){r.startTime=r.startTime+(a-i),r._paused=!1,r._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",u),this}}},function(A,x,s){var d=s(19);function y(a){return a[0]===1&&a[1]===0&&a[3]===0&&a[4]===1&&a[6]===0&&a[7]===0}function p(a){return a[1]===0&&a[3]===0&&a[6]===0&&a[7]===0}function n(a,u){y(u)||(p(u)?(a[0]*=u[0],a[4]*=u[4]):d.mat3.multiply(a,a,u))}A.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(u,i){var r=this._attrs.matrix;return d.mat3.translate(r,r,[u,i]),this.clearTotalMatrix(),this.attr("matrix",r),this},rotate:function(u){var i=this._attrs.matrix;return d.mat3.rotate(i,i,u),this.clearTotalMatrix(),this.attr("matrix",i),this},scale:function(u,i){var r=this._attrs.matrix;return d.mat3.scale(r,r,[u,i]),this.clearTotalMatrix(),this.attr("matrix",r),this},rotateAtStart:function(u){var i=this._attrs.x||this._cfg.attrs.x,r=this._attrs.y||this._cfg.attrs.y;return Math.abs(u)>2*Math.PI&&(u=u/180*Math.PI),this.transform([["t",-i,-r],["r",u],["t",i,r]])},move:function(u,i){var r=this.get("x")||0,o=this.get("y")||0;return this.translate(u-r,i-o),this.set("x",u),this.set("y",i),this},transform:function(u){var i=this,r=this._attrs.matrix;return d.each(u,function(o){switch(o[0]){case"t":i.translate(o[1],o[2]);break;case"s":i.scale(o[1],o[2]);break;case"r":i.rotate(o[1]);break;case"m":i.attr("matrix",d.mat3.multiply([],r,o[1])),i.clearTotalMatrix()}}),i},setTransform:function(u){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(u)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(u){return this.attr("matrix",u),this.clearTotalMatrix(),this},apply:function(u,i){var r;return r=i?this._getMatrixByRoot(i):this.attr("matrix"),d.vec3.transformMat3(u,u,r),this},_getMatrixByRoot:function(u){u=u||this;for(var i=this,r=[];i!==u;)r.unshift(i),i=i.get("parent");r.unshift(i);var o=[1,0,0,0,1,0,0,0,1];return d.each(r,function(c){d.mat3.multiply(o,c.attr("matrix"),o)}),o},getTotalMatrix:function(){var u=this._cfg.totalMatrix;if(!u){u=[1,0,0,0,1,0,0,0,1];var i=this._cfg.parent;i&&n(u,i.getTotalMatrix()),n(u,this.attr("matrix")),this._cfg.totalMatrix=u}return u},clearTotalMatrix:function(){},invert:function(u){var i=this.getTotalMatrix();if(p(i))u[0]/=i[0],u[1]/=i[4];else{var r=d.mat3.invert([],i);r&&d.vec3.transformMat3(u,u,r)}return this},resetTransform:function(u){var i=this.attr("matrix");y(i)||u.transform(i[0],i[1],i[3],i[4],i[6],i[7])}}},function(A,x,s){var d=s(19);A.exports={canFill:!1,canStroke:!1,initAttrs:function(p){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(d.assign(this.getDefaultAttrs(),p)),this},getDefaultAttrs:function(){return{}},attr:function(p,n){if(arguments.length===0)return this._attrs;if(d.isObject(p)){for(var a in p)this._setAttr(a,p[a]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return arguments.length===2?(this._setAttr(p,n),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[p]},_setAttr:function(p,n){var a=this._attrs;a[p]=n,p!=="fill"&&p!=="stroke"?p!=="opacity"?p==="clip"&&n?this._setClip(n):p==="path"&&this._afterSetAttrPath?this._afterSetAttrPath(n):p!=="transform"?p==="rotate"&&this.rotateAtStart(n):this.transform(n):a.globalAlpha=n:a[p+"Style"]=n},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(p){p._cfg.renderer=this._cfg.renderer,p._cfg.canvas=this._cfg.canvas,p._cfg.parent=this._cfg.parent,p.hasFill=function(){return!0}}}},function(A,x,s){var d=s(19),y=s(643),p=s(642),n=s(741),a=s(740),u=function i(r){i.superclass.constructor.call(this,r)};u.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},d.extend(u,p),d.augment(u,{init:function(){u.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(r,o){if(r){if(!d.isEmpty(r._getEvents()))return r;var c=r.get("parent");if(c&&!o.propagationStopped)return this.getEmitter(c,o)}},_getEventObj:function(r,o,c,h){var v=new y(r,o,!0,!0);return v.x=c.x,v.y=c.y,v.clientX=o.clientX,v.clientY=o.clientY,v.currentTarget=h,v.target=h,v},_triggerEvent:function(r,o){var c,h=this.getPointByClient(o.clientX,o.clientY),v=this.getShape(h.x,h.y,o),f=this.get("el");if(r==="mousemove"){var m=this.get("preShape");if(m&&m!==v){var b=this._getEventObj("mouseleave",o,h,m);(c=this.getEmitter(m,o))&&c.emit("mouseleave",b),f.style.cursor="default"}if(v){var M=this._getEventObj("mousemove",o,h,v);if((c=this.getEmitter(v,o))&&c.emit("mousemove",M),m!==v){var O=this._getEventObj("mouseenter",o,h,v);c&&c.emit("mouseenter",O,o)}}else{var E=this._getEventObj("mousemove",o,h,this);this.emit("mousemove",E)}this.set("preShape",v)}else{var C=this._getEventObj(r,o,h,v||this);(c=this.getEmitter(v,o))&&c!==this&&c.emit(r,C),this.emit(r,C)}v&&!v.get("destroyed")&&(f.style.cursor=v.attr("cursor")||"default")},_registEvents:function(){var r=this,o=r.get("el");d.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],function(c){o.addEventListener(c,function(h){r._triggerEvent(c,h)},!1)}),o.addEventListener("touchstart",function(c){d.isEmpty(c.touches)||r._triggerEvent("touchstart",c.touches[0])},!1),o.addEventListener("touchmove",function(c){d.isEmpty(c.touches)||r._triggerEvent("touchmove",c.touches[0])},!1),o.addEventListener("touchend",function(c){d.isEmpty(c.changedTouches)||r._triggerEvent("touchend",c.changedTouches[0])},!1)},_scale:function(){if(this._cfg.renderType!=="svg"){var r=this.get("pixelRatio");this.scale(r,r)}},_setGlobalParam:function(){var r=this.get("renderer")||"canvas";r==="svg"?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",d.getRatio()),this._cfg.renderType=r;var o=a[r];this._cfg.renderer=o,this._cfg.canvas=this;var c=new n(this);this._cfg.timeline=c},_setContainer:function(){var r=this.get("containerId"),o=this.get("containerDOM");o||(o=document.getElementById(r),this.set("containerDOM",o)),d.modifyCSS(o,{position:"relative"})},_initPainter:function(){var r=this.get("containerDOM"),o=new this._cfg.renderer.painter(r);this._cfg.painter=o,this._cfg.canvasDOM=this._cfg.el=o.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var r=this.get("canvasDOM"),o=this.get("widthCanvas"),c=this.get("heightCanvas"),h=this.get("widthStyle"),v=this.get("heightStyle");r.style.width=h,r.style.height=v,r.setAttribute("width",o),r.setAttribute("height",c)},getWidth:function(){var r=this.get("pixelRatio");return this.get("width")*r},getHeight:function(){var r=this.get("pixelRatio");return this.get("height")*r},changeSize:function(r,o){var c=this.get("pixelRatio"),h=r*c,v=o*c;this.set("widthCanvas",h),this.set("heightCanvas",v),this.set("widthStyle",r+"px"),this.set("heightStyle",o+"px"),this.set("width",r),this.set("height",o),this._resize()},getPointByClient:function(r,o){var c=this.get("el"),h=this.get("pixelRatio")||1,v=c.getBoundingClientRect();return{x:(r-v.left)*h,y:(o-v.top)*h}},getClientByPoint:function(r,o){var c=this.get("el").getBoundingClientRect(),h=this.get("pixelRatio")||1;return{clientX:r/h+c.left,clientY:o/h+c.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(r,o,c){return arguments.length===3&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,r,o,c):u.superclass.getShape.call(this,r,o)},getRenderer:function(){return this._cfg.renderType},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var r=this._cfg,o=r.containerDOM,c=r.canvasDOM;c&&o&&o.removeChild(c),r.timeline.stop(),u.superclass.destroy.call(this)}}),A.exports=u},function(A,x,s){var d=s(248),y={};s(257).mix(y,d.PathUtil,{getRectPath:d.PathUtil.rectPath,pointsToPolygon:function(n){for(var a=[["M",n[0].x,n[0].y]],u=1;u<n.length;u++){var i=n[u];a.push(["L",i.x,i.y])}return a},getEllipsePath:function(n,a,u,i){return[["M",n,a-i],["a",u,i,0,1,1,0,2*i],["a",u,i,0,1,1,0,-2*i],["z"]]}}),A.exports=y},function(A,x,s){var d=s(645),y=s(16),p="Expected a function";A.exports=function(n,a,u){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(p);return y(u)&&(i="leading"in u?!!u.leading:i,r="trailing"in u?!!u.trailing:r),d(n,a,{leading:i,maxWait:a,trailing:r})}},function(A,x){A.exports=function(s,d,y){var p=void 0,n=void 0,a=void 0,u=void 0,i=0;y||(y={});var r=function(){i=y.leading===!1?0:Date.now(),p=null,u=s.apply(n,a),p||(n=a=null)},o=function(){var h=Date.now();i||y.leading!==!1||(i=h);var v=d-(h-i);return n=this,a=arguments,v<=0||v>d?(p&&(clearTimeout(p),p=null),i=h,u=s.apply(n,a),p||(n=a=null)):p||y.trailing===!1||(p=setTimeout(r,v)),u};return o.cancel=function(){clearTimeout(p),i=0,p=n=a=null},o}},function(A,x,s){var d=s(46),y=s(596),p=Object.prototype.hasOwnProperty;A.exports=function(n,a){if(n===null||!y(n))return{};var u={};return d(a,function(i){p.call(n,i)&&(u[i]=n[i])}),u}},function(A,x,s){var d=s(46),y=s(118);A.exports=function(p,n){if(!y(p))return p;var a=[];return d(p,function(u,i){a.push(n(u,i))}),a}},function(A,x,s){var d=s(84),y=s(614);A.exports=function(p,n,a){return d(a)?!!a(p,n):y(p,n)}},function(A,x,s){var d=s(118);A.exports=function(y,p){if(!d(y))return-1;var n=Array.prototype.indexOf;if(n)return n.call(y,p);for(var a=-1,u=0;u<y.length;u++)if(y[u]===p){a=u;break}return a}},function(A,x,s){var d=s(649);A.exports=function(y,p){if(!p)return[y];var n=d(y,p),a=[];for(var u in n)a.push(n[u]);return a}},function(A,x){A.exports=function(s,d,y){var p=void 0;return function(){var n=this,a=arguments,u=y&&!p;clearTimeout(p),p=setTimeout(function(){p=null,y||s.apply(n,a)},d),u&&s.apply(n,a)}}},function(A,x,s){var d=s(115);A.exports=function(y){return d(y,"Error")}},function(A,x,s){var d=s(115);A.exports=function(y){return d(y,"Arguments")}},function(A,x,s){var d=s(115);A.exports=function(y){return d(y,"Date")}},function(A,x,s){var d=s(115);A.exports=function(y){return d(y,"RegExp")}},function(A,x){A.exports=function(s){return s===void 0}},function(A,x){A.exports=function(s){return s===null}},function(A,x,s){var d=s(115),y={getType:s(654),isArray:s(45),isArrayLike:s(118),isBoolean:s(653),isFunction:s(84),isNil:s(237),isNull:s(762),isNumber:s(236),isObject:s(621),isObjectLike:s(619),isPlainObject:s(596),isPrototype:s(652),isType:d,isUndefined:s(761),isString:s(595),isRegExp:s(760),isDate:s(759),isArguments:s(758),isError:s(757)};A.exports=y},function(A,x,s){A.exports=s(656)},function(A,x){A.exports=function(s,d){return s&&d?s.replace(/\\?\{([^{}]+)\}/g,function(y,p){return y.charAt(0)==="\\"?y.slice(1):d[p]===void 0?"":d[p]}):s}},function(A,x,s){var d=s(594);A.exports=function(y){var p=d(y);return p.charAt(0).toLowerCase()+p.substring(1)}},function(A,x,s){A.exports=s(657)},function(A,x,s){var d={lc:s(767),lowerCase:s(657),lowerFirst:s(766),substitute:s(765),uc:s(764),upperCase:s(656),upperFirst:s(655)};A.exports=d},function(A,x){function s(y){var p=[];switch(y[0]){case"M":case"L":p.push([y[1],y[2]]);break;case"A":p.push([y[6],y[7]]);break;case"Q":p.push([y[3],y[4]]),p.push([y[1],y[2]]);break;case"T":p.push([y[1],y[2]]);break;case"C":p.push([y[5],y[6]]),p.push([y[1],y[2]]),p.push([y[3],y[4]]);break;case"S":p.push([y[3],y[4]]),p.push([y[1],y[2]]);break;case"H":case"V":p.push([y[1],y[1]])}return p}function d(y,p,n){for(var a=[].concat(y),u=void 0,i=1/(n+1),r=s(p)[0],o=1;o<=n;o++)i*=o,(u=Math.floor(y.length*i))===0?a.unshift([r[0]*i+y[u][0]*(1-i),r[1]*i+y[u][1]*(1-i)]):a.splice(u,0,[r[0]*i+y[u][0]*(1-i),r[1]*i+y[u][1]*(1-i)]);return a}A.exports=function(y,p){if(y.length<=1)return y;for(var n=void 0,a=0;a<p.length;a++)if(y[a][0]!==p[a][0])switch(n=s(y[a]),p[a][0]){case"M":y[a]=["M"].concat(n[0]);break;case"L":y[a]=["L"].concat(n[0]);break;case"A":y[a]=[].concat(p[a]),y[a][6]=n[0][0],y[a][7]=n[0][1];break;case"Q":if(n.length<2){if(!(a>0)){y[a]=p[a];break}n=d(n,y[a-1],1)}y[a]=["Q"].concat(n.reduce(function(u,i){return u.concat(i)},[]));break;case"T":y[a]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(a>0)){y[a]=p[a];break}n=d(n,y[a-1],2)}y[a]=["C"].concat(n.reduce(function(u,i){return u.concat(i)},[]));break;case"S":if(n.length<2){if(!(a>0)){y[a]=p[a];break}n=d(n,y[a-1],1)}y[a]=["S"].concat(n.reduce(function(u,i){return u.concat(i)},[]));break;default:y[a]=p[a]}return y}},function(A,x,s){var d=s(46);A.exports=function(y,p){if(y.length!==p.length)return!1;var n=!0;return d(y,function(a,u){if(a!==p[u])return n=!1,!1}),n}},function(A,x,s){var d=s(770);function y(p,n,a){var u=null,i=a;return n<i&&(i=n,u="add"),p<i&&(i=p,u="del"),{type:u,min:i}}A.exports=function(p,n){var a=function(M,O){var E=M.length,C=O.length,j=void 0,B=void 0,N=0;if(E===0||C===0)return null;for(var I=[],F=0;F<=E;F++)I[F]=[],I[F][0]={min:F};for(var G=0;G<=C;G++)I[0][G]={min:G};for(var U=1;U<=E;U++){j=M[U-1];for(var H=1;H<=C;H++){B=O[H-1],N=d(j,B)?0:1;var Q=I[U-1][H].min+1,at=I[U][H-1].min+1,$=I[U-1][H-1].min+N;I[U][H]=y(Q,at,$)}}return I}(p,n),u=p.length,i=n.length,r=[],o=1,c=1;if(a[u][i]!==u){for(var h=1;h<=u;h++){var v=a[h][h].min;c=h;for(var f=o;f<=i;f++)a[h][f].min<v&&(v=a[h][f].min,c=f);o=c,a[h][o].type&&r.push({index:h-1,type:a[h][o].type})}for(var m=r.length-1;m>=0;m--)o=r[m].index,r[m].type==="add"?p.splice(o,0,[].concat(p[o])):p.splice(o,1)}if((u=p.length)<i)for(var b=0;b<i-u;b++)p[u-1][0]==="z"||p[u-1][0]==="Z"?p.splice(u-2,0,p[u-2]):p.push(p[u-1]);return p}},function(A,x){function s(y,p){var n=[],a=[];return y.length&&function u(i,r){if(i.length===1)n.push(i[0]),a.push(i[0]);else{for(var o=[],c=0;c<i.length-1;c++)c===0&&n.push(i[0]),c===i.length-2&&a.push(i[c+1]),o[c]=[(1-r)*i[c][0]+r*i[c+1][0],(1-r)*i[c][1]+r*i[c+1][1]];u(o,r)}}(y,p),{left:n,right:a.reverse()}}function d(y,p,n){if(n===1)return[[].concat(y)];var a=[];if(p[0]==="L"||p[0]==="C"||p[0]==="Q")a=a.concat(function(r,o,c){var h=[[r[1],r[2]]];c=c||2;var v=[];o[0]==="A"?(h.push(o[6]),h.push(o[7])):o[0]==="C"?(h.push([o[1],o[2]]),h.push([o[3],o[4]]),h.push([o[5],o[6]])):o[0]==="S"||o[0]==="Q"?(h.push([o[1],o[2]]),h.push([o[3],o[4]])):h.push([o[1],o[2]]);for(var f=h,m=1/c,b=0;b<c-1;b++){var M=s(f,m/(1-m*b));v.push(M.left),f=M.right}return v.push(f),v.map(function(O){var E=[];return O.length===4&&(E.push("C"),E=E.concat(O[2])),O.length>=3&&(O.length===3&&E.push("Q"),E=E.concat(O[1])),O.length===2&&E.push("L"),E=E.concat(O[O.length-1])})}(y,p,n));else{var u=[].concat(y);u[0]==="M"&&(u[0]="L");for(var i=0;i<=n-1;i++)a.push(u)}return a}A.exports=function(y,p){if(y.length===1)return y;var n=y.length-1,a=p.length-1,u=n/a,i=[];if(y.length===1&&y[0][0]==="M"){for(var r=0;r<a-n;r++)y.push(y[0]);return y}for(var o=0;o<a;o++){var c=Math.floor(u*o);i[c]=(i[c]||0)+1}var h=i.reduce(function(v,f,m){return m===n?v.concat(y[n]):v.concat(d(y[m],y[m+1],f))},[]);return h.unshift(y[0]),p[a]!=="Z"&&p[a]!=="z"||h.push("Z"),h}},function(A,x,s){var d=s(45),y=s(663),p=s(661),n=function(f,m,b,M,O){return f*(f*(-3*m+9*b-9*M+3*O)+6*m-12*b+6*M)-3*m+3*b},a=function(f,m,b,M,O,E,C,j,B){B===null&&(B=1);for(var N=(B=B>1?1:B<0?0:B)/2,I=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],F=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],G=0,U=0;U<12;U++){var H=N*I[U]+N,Q=n(H,f,b,O,C),at=n(H,m,M,E,j),$=Q*Q+at*at;G+=F[U]*Math.sqrt($)}return N*G},u=function(f,m,b,M,O,E,C,j){if(!(Math.max(f,b)<Math.min(O,C)||Math.min(f,b)>Math.max(O,C)||Math.max(m,M)<Math.min(E,j)||Math.min(m,M)>Math.max(E,j))){var B=(f-b)*(E-j)-(m-M)*(O-C);if(B){var N=((f*M-m*b)*(O-C)-(f-b)*(O*j-E*C))/B,I=((f*M-m*b)*(E-j)-(m-M)*(O*j-E*C))/B,F=+N.toFixed(2),G=+I.toFixed(2);if(!(F<+Math.min(f,b).toFixed(2)||F>+Math.max(f,b).toFixed(2)||F<+Math.min(O,C).toFixed(2)||F>+Math.max(O,C).toFixed(2)||G<+Math.min(m,M).toFixed(2)||G>+Math.max(m,M).toFixed(2)||G<+Math.min(E,j).toFixed(2)||G>+Math.max(E,j).toFixed(2)))return{x:N,y:I}}}},i=function(f,m,b){return m>=f.x&&m<=f.x+f.width&&b>=f.y&&b<=f.y+f.height},r=function(f,m,b,M){return f===null&&(f=m=b=M=0),m===null&&(m=f.y,b=f.width,M=f.height,f=f.x),{x:f,y:m,width:b,w:b,height:M,h:M,x2:f+b,y2:m+M,cx:f+b/2,cy:m+M/2,r1:Math.min(b,M)/2,r2:Math.max(b,M)/2,r0:Math.sqrt(b*b+M*M)/2,path:y(f,m,b,M),vb:[f,m,b,M].join(" ")}},o=function(f,m,b,M,O,E,C,j){d(f)||(f=[f,m,b,M,O,E,C,j]);var B=function(N,I,F,G,U,H,Q,at){for(var $=[],K=[[],[]],ot=void 0,it=void 0,ht=void 0,St=void 0,gt=0;gt<2;++gt)if(gt===0?(it=6*N-12*F+6*U,ot=-3*N+9*F-9*U+3*Q,ht=3*F-3*N):(it=6*I-12*G+6*H,ot=-3*I+9*G-9*H+3*at,ht=3*G-3*I),Math.abs(ot)<1e-12){if(Math.abs(it)<1e-12)continue;(St=-ht/it)>0&&St<1&&$.push(St)}else{var bt=it*it-4*ht*ot,mt=Math.sqrt(bt);if(!(bt<0)){var vt=(-it+mt)/(2*ot);vt>0&&vt<1&&$.push(vt);var _t=(-it-mt)/(2*ot);_t>0&&_t<1&&$.push(_t)}}for(var Nt=$.length,At=Nt,It=void 0;Nt--;)It=1-(St=$[Nt]),K[0][Nt]=It*It*It*N+3*It*It*St*F+3*It*St*St*U+St*St*St*Q,K[1][Nt]=It*It*It*I+3*It*It*St*G+3*It*St*St*H+St*St*St*at;return K[0][At]=N,K[1][At]=I,K[0][At+1]=Q,K[1][At+1]=at,K[0].length=K[1].length=At+2,{min:{x:Math.min.apply(0,K[0]),y:Math.min.apply(0,K[1])},max:{x:Math.max.apply(0,K[0]),y:Math.max.apply(0,K[1])}}}.apply(null,f);return r(B.min.x,B.min.y,B.max.x-B.min.x,B.max.y-B.min.y)},c=function(f,m,b,M,O,E,C,j,B){var N=1-B,I=Math.pow(N,3),F=Math.pow(N,2),G=B*B,U=G*B,H=f+2*B*(b-f)+G*(O-2*b+f),Q=m+2*B*(M-m)+G*(E-2*M+m),at=b+2*B*(O-b)+G*(C-2*O+b),$=M+2*B*(E-M)+G*(j-2*E+M);return{x:I*f+3*F*B*b+3*N*B*B*O+U*C,y:I*m+3*F*B*M+3*N*B*B*E+U*j,m:{x:H,y:Q},n:{x:at,y:$},start:{x:N*f+B*b,y:N*m+B*M},end:{x:N*O+B*C,y:N*E+B*j},alpha:90-180*Math.atan2(H-at,Q-$)/Math.PI}},h=function(f,m,b){if(!function(bt,mt){return bt=r(bt),mt=r(mt),i(mt,bt.x,bt.y)||i(mt,bt.x2,bt.y)||i(mt,bt.x,bt.y2)||i(mt,bt.x2,bt.y2)||i(bt,mt.x,mt.y)||i(bt,mt.x2,mt.y)||i(bt,mt.x,mt.y2)||i(bt,mt.x2,mt.y2)||(bt.x<mt.x2&&bt.x>mt.x||mt.x<bt.x2&&mt.x>bt.x)&&(bt.y<mt.y2&&bt.y>mt.y||mt.y<bt.y2&&mt.y>bt.y)}(o(f),o(m)))return b?0:[];for(var M=~~(a.apply(0,f)/8),O=~~(a.apply(0,m)/8),E=[],C=[],j={},B=b?0:[],N=0;N<M+1;N++){var I=c.apply(0,f.concat(N/M));E.push({x:I.x,y:I.y,t:N/M})}for(var F=0;F<O+1;F++){var G=c.apply(0,m.concat(F/O));C.push({x:G.x,y:G.y,t:F/O})}for(var U=0;U<M;U++)for(var H=0;H<O;H++){var Q=E[U],at=E[U+1],$=C[H],K=C[H+1],ot=Math.abs(at.x-Q.x)<.001?"y":"x",it=Math.abs(K.x-$.x)<.001?"y":"x",ht=u(Q.x,Q.y,at.x,at.y,$.x,$.y,K.x,K.y);if(ht){if(j[ht.x.toFixed(4)]===ht.y.toFixed(4))continue;j[ht.x.toFixed(4)]=ht.y.toFixed(4);var St=Q.t+Math.abs((ht[ot]-Q[ot])/(at[ot]-Q[ot]))*(at.t-Q.t),gt=$.t+Math.abs((ht[it]-$[it])/(K[it]-$[it]))*(K.t-$.t);St>=0&&St<=1&&gt>=0&&gt<=1&&(b?B++:B.push({x:ht.x,y:ht.y,t1:St,t2:gt}))}}return B};A.exports=function(v,f){return function(m,b,M){m=p(m),b=p(b);for(var O=void 0,E=void 0,C=void 0,j=void 0,B=void 0,N=void 0,I=void 0,F=void 0,G=void 0,U=void 0,H=M?0:[],Q=0,at=m.length;Q<at;Q++){var $=m[Q];if($[0]==="M")O=B=$[1],E=N=$[2];else{$[0]==="C"?(O=(G=[O,E].concat($.slice(1)))[6],E=G[7]):(G=[O,E,O,E,B,N,B,N],O=B,E=N);for(var K=0,ot=b.length;K<ot;K++){var it=b[K];if(it[0]==="M")C=I=it[1],j=F=it[2];else{it[0]==="C"?(C=(U=[C,j].concat(it.slice(1)))[6],j=U[7]):(U=[C,j,C,j,I,F,I,F],C=I,j=F);var ht=h(G,U,M);if(M)H+=ht;else{for(var St=0,gt=ht.length;St<gt;St++)ht[St].segment1=Q,ht[St].segment2=K,ht[St].bez1=G,ht[St].bez2=U;H=H.concat(ht)}}}}}return H}(v,f)}},function(A,x,s){var d=s(773),y=s(660),p=s(661),n=s(658);A.exports={catmullRom2Bezier:n,catmullRomToBezier:n,fillPath:s(772),fillPathByDiff:s(771),formatPath:s(769),intersection:d,pathIntersection:d,parsePathArray:s(662),parsePathString:s(659),pathToAbsolute:y,path2absolute:y,pathTocurve:p,path2curve:p,rectPath:s(663)}},function(A,x,s){var d=s(605),y=s(664);A.exports=function(p,n){return d(y(p),n)}},function(A,x,s){A.exports=s(665)},function(A,x,s){A.exports=s(46)},function(A,x,s){A.exports={forIn:s(777),has:s(665),hasKey:s(776),hasValue:s(775),keys:s(677),isMatch:s(678),values:s(664)}},function(A,x,s){A.exports={mat3:s(617),vec2:s(668),vec3:s(667),transform:s(666)}},function(A,x,s){var d=s(45),y=s(84),p=s(46);A.exports=function(n,a){if(d(n)){var u=n[0],i=void 0;i=y(a)?a(n[0]):n[0][a];var r=void 0;return p(n,function(o){(r=y(a)?a(o):o[a])<i&&(u=o,i=r)}),u}}},function(A,x,s){var d=s(45),y=s(84),p=s(46);A.exports=function(n,a){if(d(n)){var u=n[0],i=void 0;i=y(a)?a(n[0]):n[0][a];var r=void 0;return p(n,function(o){(r=y(a)?a(o):o[a])>i&&(u=o,i=r)}),u}}},function(A,x,s){var d=s(236);A.exports=function(y){return d(y)&&y>0}},function(A,x,s){var d=s(236);A.exports=function(y){return d(y)&&y%2!=0}},function(A,x,s){var d=s(236);A.exports=function(y){return d(y)&&y<0}},function(A,x,s){var d=s(236),y=Number.isInteger?Number.isInteger:function(p){return d(p)&&p%1==0};A.exports=y},function(A,x,s){var d=s(236);A.exports=function(y){return d(y)&&y%2==0}},function(A,x,s){var d=s(236);A.exports=function(y){return d(y)&&y%1!=0}},function(A,x){A.exports=function(s,d){var y=d.toString(),p=y.indexOf(".");if(p===-1)return Math.round(s);var n=y.substr(p+1).length;return n>20&&(n=20),parseFloat(s.toFixed(n))}},function(A,x,s){var d=s(673);A.exports={clamp:s(618),fixedBase:s(788),isDecimal:s(787),isEven:s(786),isInteger:s(785),isNegative:s(784),isNumberEqual:d,isOdd:s(783),isPositive:s(782),maxBy:s(781),minBy:s(780),mod:s(672),snapEqual:d,toDegree:s(671),toInt:s(670),toInteger:s(670),toRadian:s(669)}},function(A,x,s){var d=s(45);A.exports=function(y){var p=0,n=0,a=0,u=0;return d(y)?y.length===1?p=n=a=u=y[0]:y.length===2?(p=a=y[0],n=u=y[1]):y.length===3?(p=y[0],n=u=y[1],a=y[2]):(p=y[0],n=y[1],a=y[2],u=y[3]):p=n=a=u=y,{r1:p,r2:n,r3:a,r4:u}}},function(A,x,s){var d=s(45),y=s(595),p=s(46),n=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi;A.exports=function(u){return d(u=u||[])?u:y(u)?(u=u.match(n),p(u,function(i,r){if((i=i.match(a))[0].length>1){var o=i[0].charAt(0);i.splice(1,0,i[0].substr(1)),i[0]=o}p(i,function(c,h){isNaN(c)||(i[h]=+c)}),u[r]=i}),u):void 0}},function(A,x){var s={};A.exports=function(d){var y=s[d];if(!y){for(var p=d.toString(16),n=p.length;n<6;n++)p="0"+p;y="#"+p,s[d]=y}return y}},function(A,x,s){var d=s(792);A.exports={number2color:d,numberToColor:d,parsePath:s(791),parseRadius:s(790)}},function(A,x){A.exports=function(s,d){if(s["_wrap_"+d])return s["_wrap_"+d];var y=function(n){s[d](n)};return s["_wrap_"+d]=y,y}},function(A,x){A.exports=function(s,d){return s["_wrap_"+d]}},function(A,x,s){A.exports={getWrapBehavior:s(795),wrapBehavior:s(794)}},function(A,x,s){var d=s(237),y=s(45),p=s(46);A.exports=function(n,a){for(var u=[],i={},r=0;r<n.length;r++){var o=n[r][a];d(o)||(y(o)||(o=[o]),p(o,function(c){i[c]||(u.push(c),i[c]=!0)}))}return u}},function(A,x,s){var d=s(46),y=s(604),p=s(674);A.exports=function(){var n=[],a=y(arguments);return d(a,function(u){n=n.concat(u)}),p(n)}},function(A,x,s){var d=s(595),y=s(84),p=s(45);A.exports=function(n,a){var u=void 0;if(y(a))u=function(o,c){return a(o)-a(c)};else{var i=[];d(a)?i.push(a):p(a)&&(i=a),u=function(o,c){for(var h=0;h<i.length;h+=1){var v=i[h];if(o[v]>c[v])return 1;if(o[v]<c[v])return-1}return 0}}return n.sort(u),n}},function(A,x,s){var d=s(118),y=s(675);A.exports=function(p,n){var a=[];if(!d(p))return a;for(var u=-1,i=[],r=p.length;++u<r;){var o=p[u];n(o,u,p)&&(a.push(o),i.push(u))}return y(p,i),a}},function(A,x,s){var d=s(45),y=s(596),p=s(46);A.exports=function(n,a,u){if(!d(n)&&!y(n))return n;var i=u;return p(n,function(r,o){i=a(i,r,o)}),i}},function(A,x){A.exports=function(s){for(var d=[],y=0;y<s.length;y++)d=d.concat(s[y]);return d}},function(A,x,s){var d=s(620),y=s(45);A.exports=function(p){if(!(p=d(p,function(i){return!isNaN(i)})).length)return{min:0,max:0};if(y(p[0])){for(var n=[],a=0;a<p.length;a++)n=n.concat(p[a]);p=n}var u=Math.max.apply(null,p);return{min:Math.min.apply(null,p),max:u}}},function(A,x,s){var d=s(45);A.exports=function y(p){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(d(p))for(var a=0;a<p.length;a+=1)y(p[a],n);else n.push(p);return n}},function(A,x,s){var d=s(45),y=s(46);A.exports=function(p){if(!d(p))return p;var n=[];return y(p,function(a){d(a)?y(a,function(u){n.push(u)}):n.push(a)}),n}},function(A,x,s){var d=s(237),y=s(45);A.exports=function(p,n){for(var a=null,u=0;u<p.length;u++){var i=p[u][n];if(!d(i)){a=y(i)?i[0]:i;break}}return a}},function(A,x,s){var d=s(84),y=s(596),p=s(678);A.exports=function(n,a){var u=void 0;if(d(a)&&(u=a),y(a)&&(u=function(o){return p(o,a)}),u){for(var i=0;i<n.length;i+=1)if(u(n[i]))return n[i]}return null}},function(A,x,s){var d=s(620),y=s(605);A.exports=function(p){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return d(p,function(a){return!y(n,a)})}},function(A,x,s){A.exports={contains:s(605),difference:s(808),find:s(807),firstValue:s(806),flatten:s(805),flattenDeep:s(804),getRange:s(803),merge:s(802),pull:s(676),pullAt:s(675),reduce:s(801),remove:s(800),sortBy:s(799),union:s(798),uniq:s(674),valuesOfKey:s(797)}},function(A,x){A.exports=function(s,d){var y=this.getStyle(s,"width",d);return y==="auto"&&(y=s.offsetWidth),parseFloat(y)}},function(A,x,s){var d=s(237);A.exports=function(y,p,n){try{return window.getComputedStyle?window.getComputedStyle(y,null)[p]:y.currentStyle[p]}catch(a){return d(n)?null:n}}},function(A,x){A.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(A,x){A.exports=function(s,d){var y=this.getWidth(s,d),p=parseFloat(this.getStyle(s,"borderLeftWidth"))||0,n=parseFloat(this.getStyle(s,"paddingLeft"))||0,a=parseFloat(this.getStyle(s,"paddingRight"))||0;return y+p+(parseFloat(this.getStyle(s,"borderRightWidth"))||0)+n+a}},function(A,x){A.exports=function(s,d){var y=this.getHeight(s,d),p=parseFloat(this.getStyle(s,"borderTopWidth"))||0,n=parseFloat(this.getStyle(s,"paddingTop"))||0,a=parseFloat(this.getStyle(s,"paddingBottom"))||0;return y+p+(parseFloat(this.getStyle(s,"borderBottomWidth"))||0)+n+a}},function(A,x){A.exports=function(s,d){var y=this.getStyle(s,"height",d);return y==="auto"&&(y=s.offsetHeight),parseFloat(y)}},function(A,x){A.exports=function(s,d){if(s&&s.getBoundingClientRect){var y=s.getBoundingClientRect(),p=document.documentElement.clientTop,n=document.documentElement.clientLeft;return{top:y.top-p,bottom:y.bottom-p,left:y.left-n,right:y.right-n}}return d||null}},function(A,x){A.exports=function(s,d,y){if(s){if(s.addEventListener)return s.addEventListener(d,y,!1),{remove:function(){s.removeEventListener(d,y,!1)}};if(s.attachEvent)return s.attachEvent("on"+d,y),{remove:function(){s.detachEvent("on"+d,y)}}}}},function(A,x,s){A.exports={addEventListener:s(817),createDom:s(681),getBoundingClientRect:s(816),getHeight:s(815),getOuterHeight:s(814),getOuterWidth:s(813),getRatio:s(812),getStyle:s(811),getWidth:s(810),modifyCSS:s(680),requestAnimationFrame:s(679)}},function(A,x,s){var d=s(46),y=s(606),p=s(818),n=s(809),a=s(796),u=s(793),i=s(789),r=s(779),o=s(778),c=s(774),h=s(768),v=s(763),f={DOMUtil:p,DomUtil:p,MatrixUtil:r,PathUtil:c,arrayUtil:n,domUtil:p,eventUtil:a,formatUtil:u,mathUtil:i,matrixUtil:r,objectUtil:o,stringUtil:h,pathUtil:c,typeUtil:v,augment:s(651),clone:s(616),debounce:s(756),deepMix:s(615),each:d,extend:s(650),filter:s(620),group:s(755),groupBy:s(648),groupToMap:s(649),indexOf:s(754),isEmpty:s(647),isEqual:s(614),isEqualWith:s(753),map:s(752),mix:y,pick:s(751),throttle:s(750),toArray:s(604),toString:s(594),uniqueId:s(646)};d([p,n,a,u,i,r,o,c,h,v],function(m){y(f,m)}),A.exports=f},function(A,x,s){var d=s(683),y=s(626),p=s(247),n=s(609),a=s(248),u={Graph:s(625),Tree:s(689),Util:s(26),Layouts:s(623),G:a,Plugins:{},Components:{},Global:p,Shape:d,registerNode:d.registerNode,registerEdge:d.registerEdge,registerGroup:d.registerGroup,registerGuide:d.registerGuide,registerBehaviour:y.registerBehaviour,version:n,track:function(r){p.track=r}};s(684),A.exports=u}])})},61454:function(Zt,A,x){(function(s,d){Zt.exports=d(x(26094))})(window,function(s){return function(d){var y={};function p(n){if(y[n])return y[n].exports;var a=y[n]={i:n,l:!1,exports:{}};return d[n].call(a.exports,a,a.exports,p),a.l=!0,a.exports}return p.m=d,p.c=y,p.d=function(n,a,u){p.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:u})},p.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},p.t=function(n,a){if(1&a&&(n=p(n)),8&a||4&a&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(p.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var i in n)p.d(u,i,function(r){return n[r]}.bind(null,i));return u},p.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return p.d(a,"a",a),a},p.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},p.p="",p(p.s=267)}({266:function(y,p,n){function a(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){u(h,b,f[b])})}return h}function u(h,v,f){return v in h?Object.defineProperty(h,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[v]=f,h}var i=n(3),r=i.Util,o=i.G.Canvas,c=function(){function h(f){r.mix(this,a({type:"minimap",container:null,isMinimap:!0,backgroundCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":0},minimapContainerCSS:{background:"#fff",position:"relative",overflow:"hidden"},viewportCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":1},controlLayerCSS:{width:"100%",height:"100%",cursor:"move",position:"absolute","z-index":2},viewportWindowStyle:{stroke:"#91D5FF"},viewportBackStyle:{fill:"#EBEEF2",fillOpacity:.65},getGraph:function(){}},f)),this._initContainer(),this._initMiniMap(),this._bindEvent(),this._assignDebounceRender()}var v=h.prototype;return v._assignDebounceRender=function(){var f=this;this.debounceRender=r.debounce(function(){f.renderBackground(),f.renderViewPort()},32)},v.bindGraph=function(f){var m=this;f.on("afterchange",function(){m.debounceRender()}),f.on("afterlayout",function(){m.debounceRender()}),f.on("afterviewportchange",function(){m.renderViewPort()}),f.on("afterfilter",function(){m.debounceRender()})},v.renderBackground=function(f){f||(f=this.getGraph());var m=this.miniMapCanvas,b=this.width,M=this.height,O=[];f.saveImage({graph:f,width:b,height:M,canvas:m,beforeTransform:function(C){var j=C[0];f.getNodes().forEach(function(B){var N=B.getBBox(),I=B.getModel(),F=N.width;if(F*j<2){var G=B.getGraphicGroup(),U=r.clone(G.getMatrix());G.transform([["t",-I.x,-I.y],["s",2/(F*j),2/(F*j)],["t",I.x,I.y]]),O.push({item:B,originMatrix:U})}})},afterTransform:function(){O.forEach(function(C){var j=C.item,B=C.originMatrix;j.getGraphicGroup().setMatrix(B)})}}),this.miniMapMatrix=m.matrix},v._bindEvent=function(){var f,m,b,M,O,E=this,C=this.controlLayer,j=!1;function B(){j=!1,m=void 0,M=void 0,f=void 0,b=void 0,O=void 0}C.on("mousedown",function(N){E.miniMapMatrix&&(O=E.getGraph(),j=!0,f=r.clone(O.getMatrix()),m=E.miniMapMatrix[0],b=f[0],M={clientX:N.clientX,clientY:N.clientY})}),C.on("mouseup",function(){B()}),C.on("mouseleave",function(){B()}),C.on("mousemove",function(N){if(j&&O){var I=M.clientX-N.clientX,F=M.clientY-N.clientY,G=r.clone(f);r.mat3.translate(G,G,[b*I/m,b*F/m]),O.updateMatrix(G)}})},v._initMiniMap=function(){var f=this.background,m=this.viewPort,b=this.width,M=this.height,O=this.viewportWindowStyle,E=this.viewportBackStyle,C=new o({containerDOM:f,width:b,height:M}),j=new o({containerDOM:m,width:b,height:M}),B=j.addShape("rect",{attrs:a({x:0,y:0,width:b,height:M},O)}),N=j.addShape("path",{attrs:a({path:"M0,0 L1,1"},E)});f.css({width:b+"px",height:M+"px"}),m.css({position:"absolute"}),this.miniMapCanvas=C,this.viewportCanvas=j,this.viewportWindow=B,this.viewportBack=N},v._initContainer=function(){var f=this.container,m=this.width,b=this.height;f=r.initDOMContainer(f,"minimap"),m||(m=r.getWidth(f),this.width=m),b||(b=r.getHeight(f),this.height=b);var M=this.minimapContainerCSS;M.width=m+"px",M.height=b+"px";var O=this.backgroundCSS,E=this.viewportCSS,C=this.controlLayerCSS,j=r.createDOM('<div class="g6-editor-minimap-container"></div>',M),B=r.createDOM('<div class="g6-editor-minimap-background"></div>',O),N=r.createDOM('<div class="g6-editor-minimap-viewport">',E),I=r.createDOM('<div class="g6-editor-minimap-control-layer">',C);f.appendChild(j),j.appendChild(I),j.appendChild(N),j.appendChild(B),this.minimapContainer=j,this.background=B,this.viewPort=N,this.controlLayer=I},v.renderViewPort=function(f){if(f||(f=this.getGraph()),f.getItems().length!==0){var m=this.viewportWindow,b=this.viewportCanvas,M=this.viewportBack,O=this.miniMapMatrix,E=f.getWidth(),C=f.getHeight(),j=this.width,B=this.height,N=f.getMatrix();if(O){var I=r.invertMatrix({x:0,y:0},N),F=r.invertMatrix({x:E,y:C},N),G=r.applyMatrix(I,O),U=r.applyMatrix(F,O),H=U.x-G.x,Q=U.y-G.y;M.attr({path:[["M",0,0],["L",j,0],["L",j,B],["L",0,B],["L",0,0],["M",G.x,G.y],["L",G.x,U.y],["L",U.x,U.y],["L",U.x,G.y],["L",G.x,G.y]]}),m.attr({x:G.x,y:G.y,width:H,height:Q}),b.draw()}}},v.destroy=function(){this.minimapContainer.destroy()},h}();y.exports=c},267:function(y,p,n){function a(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}var u=n(3),i=n(266),r=function(){function o(h){this.options=h}var c=o.prototype;return c.init=function(){var h=this.graph,v=new i(function(f){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{},M=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(M=M.concat(Object.getOwnPropertySymbols(b).filter(function(O){return Object.getOwnPropertyDescriptor(b,O).enumerable}))),M.forEach(function(O){a(f,O,b[O])})}return f}({getGraph:function(){return h}},this.options));v.bindGraph(h),this.minimap=v},c.destroy=function(){this.minimap.destroy()},o}();u.Plugins["tool.minimap"]=r,u.Components.Minimap=i,y.exports=r},3:function(y,p){y.exports=s}})})},26094:function(Zt){(function(A,x){Zt.exports=x()})(window,function(){return function(A){var x={};function s(d){if(x[d])return x[d].exports;var y=x[d]={i:d,l:!1,exports:{}};return A[d].call(y.exports,y,y.exports,s),y.l=!0,y.exports}return s.m=A,s.c=x,s.d=function(d,y,p){s.o(d,y)||Object.defineProperty(d,y,{enumerable:!0,get:p})},s.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},s.t=function(d,y){if(1&y&&(d=s(d)),8&y||4&y&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(s.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&y&&typeof d!="string")for(var n in d)s.d(p,n,function(a){return d[a]}.bind(null,n));return p},s.n=function(d){var y=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(y,"a",y),y},s.o=function(d,y){return Object.prototype.hasOwnProperty.call(d,y)},s.p="",s(s.s=556)}([function(A,x,s){"use strict";s.r(x),s.d(x,"contains",function(){return y}),s.d(x,"includes",function(){return y}),s.d(x,"difference",function(){return n}),s.d(x,"find",function(){return E}),s.d(x,"findIndex",function(){return C}),s.d(x,"firstValue",function(){return j}),s.d(x,"flatten",function(){return B}),s.d(x,"flattenDeep",function(){return N}),s.d(x,"getRange",function(){return I}),s.d(x,"pull",function(){return H}),s.d(x,"pullAt",function(){return at}),s.d(x,"reduce",function(){return $}),s.d(x,"remove",function(){return K}),s.d(x,"sortBy",function(){return it}),s.d(x,"union",function(){return St}),s.d(x,"uniq",function(){return ht}),s.d(x,"valuesOfKey",function(){return gt}),s.d(x,"head",function(){return bt}),s.d(x,"last",function(){return mt}),s.d(x,"startsWith",function(){return vt}),s.d(x,"endsWith",function(){return _t}),s.d(x,"filter",function(){return p}),s.d(x,"every",function(){return Nt}),s.d(x,"some",function(){return At}),s.d(x,"group",function(){return V}),s.d(x,"groupBy",function(){return dt}),s.d(x,"groupToMap",function(){return X}),s.d(x,"getWrapBehavior",function(){return Z}),s.d(x,"wrapBehavior",function(){return W}),s.d(x,"number2color",function(){return J}),s.d(x,"parseRadius",function(){return tt}),s.d(x,"clamp",function(){return ft}),s.d(x,"fixedBase",function(){return kt}),s.d(x,"isDecimal",function(){return Bt}),s.d(x,"isEven",function(){return Rt}),s.d(x,"isInteger",function(){return Lt}),s.d(x,"isNegative",function(){return Pt}),s.d(x,"isNumberEqual",function(){return Ct}),s.d(x,"isOdd",function(){return Ht}),s.d(x,"isPositive",function(){return Xt}),s.d(x,"maxBy",function(){return ut}),s.d(x,"minBy",function(){return re}),s.d(x,"mod",function(){return pe}),s.d(x,"toDegree",function(){return we}),s.d(x,"toInteger",function(){return fe}),s.d(x,"toRadian",function(){return ye}),s.d(x,"forIn",function(){return ve}),s.d(x,"has",function(){return xe}),s.d(x,"hasKey",function(){return Ge}),s.d(x,"hasValue",function(){return Ne}),s.d(x,"keys",function(){return f}),s.d(x,"isMatch",function(){return m}),s.d(x,"values",function(){return je}),s.d(x,"lowerCase",function(){return De}),s.d(x,"lowerFirst",function(){return Xe}),s.d(x,"substitute",function(){return We}),s.d(x,"upperCase",function(){return Be}),s.d(x,"upperFirst",function(){return an}),s.d(x,"getType",function(){return Ve}),s.d(x,"isArguments",function(){return Tn}),s.d(x,"isArray",function(){return o}),s.d(x,"isArrayLike",function(){return d}),s.d(x,"isBoolean",function(){return Nn}),s.d(x,"isDate",function(){return He}),s.d(x,"isError",function(){return en}),s.d(x,"isFunction",function(){return i}),s.d(x,"isFinite",function(){return kn}),s.d(x,"isNil",function(){return r}),s.d(x,"isNull",function(){return nn}),s.d(x,"isNumber",function(){return jt}),s.d(x,"isObject",function(){return h}),s.d(x,"isObjectLike",function(){return M}),s.d(x,"isPlainObject",function(){return O}),s.d(x,"isPrototype",function(){return bn}),s.d(x,"isRegExp",function(){return xn}),s.d(x,"isString",function(){return ot}),s.d(x,"isType",function(){return u}),s.d(x,"isUndefined",function(){return rn}),s.d(x,"isElement",function(){return qe}),s.d(x,"requestAnimationFrame",function(){return sn}),s.d(x,"clearAnimationFrame",function(){return on}),s.d(x,"augment",function(){return pn}),s.d(x,"clone",function(){return gn}),s.d(x,"debounce",function(){return Ze}),s.d(x,"memoize",function(){return hn}),s.d(x,"deepMix",function(){return Qn}),s.d(x,"each",function(){return v}),s.d(x,"extend",function(){return ln}),s.d(x,"indexOf",function(){return wn}),s.d(x,"isEmpty",function(){return An}),s.d(x,"isEqual",function(){return Gn}),s.d(x,"isEqualWith",function(){return kr}),s.d(x,"map",function(){return cr}),s.d(x,"mapValues",function(){return gr}),s.d(x,"mix",function(){return Re}),s.d(x,"assign",function(){return Re}),s.d(x,"get",function(){return er}),s.d(x,"set",function(){return hr}),s.d(x,"pick",function(){return be}),s.d(x,"throttle",function(){return xt}),s.d(x,"toArray",function(){return lt}),s.d(x,"toString",function(){return Me}),s.d(x,"uniqueId",function(){return Et}),s.d(x,"noop",function(){return Yt}),s.d(x,"identity",function(){return Jt}),s.d(x,"size",function(){return he}),s.d(x,"Cache",function(){return ce});var d=function(Mt){return Mt!==null&&typeof Mt!="function"&&isFinite(Mt.length)},y=function(Mt,Ft){return!!d(Mt)&&Mt.indexOf(Ft)>-1},p=function(Mt,Ft){if(!d(Mt))return Mt;for(var Ut=[],$t=0;$t<Mt.length;$t++){var ie=Mt[$t];Ft(ie,$t)&&Ut.push(ie)}return Ut},n=function(Mt,Ft){return Ft===void 0&&(Ft=[]),p(Mt,function(Ut){return!y(Ft,Ut)})},a={}.toString,u=function(Mt,Ft){return a.call(Mt)==="[object "+Ft+"]"},i=function(Mt){return u(Mt,"Function")},r=function(Mt){return Mt==null},o=function(Mt){return Array.isArray?Array.isArray(Mt):u(Mt,"Array")};function c(Vt){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt})(Vt)}var h=function(Mt){var Ft=c(Mt);return Mt!==null&&Ft==="object"||Ft==="function"},v=function(Mt,Ft){if(Mt){if(o(Mt))for(var Ut=0,$t=Mt.length;Ut<$t&&Ft(Mt[Ut],Ut)!==!1;Ut++);else if(h(Mt)){for(var ie in Mt)if(Mt.hasOwnProperty(ie)&&Ft(Mt[ie],ie)===!1)break}}},f=Object.keys?function(Vt){return Object.keys(Vt)}:function(Vt){var Mt=[];return v(Vt,function(Ft,Ut){i(Vt)&&Ut==="prototype"||Mt.push(Ut)}),Mt},m=function(Mt,Ft){var Ut=f(Ft),$t=Ut.length;if(r(Mt))return!$t;for(var ie=0;ie<$t;ie+=1){var ge=Ut[ie];if(Ft[ge]!==Mt[ge]||!(ge in Mt))return!1}return!0};function b(Vt){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt})(Vt)}var M=function(Mt){return b(Mt)==="object"&&Mt!==null},O=function(Mt){if(!M(Mt)||!u(Mt,"Object"))return!1;if(Object.getPrototypeOf(Mt)===null)return!0;for(var Ft=Mt;Object.getPrototypeOf(Ft)!==null;)Ft=Object.getPrototypeOf(Ft);return Object.getPrototypeOf(Mt)===Ft},E=function(Mt,Ft){if(!o(Mt))return null;var Ut;if(i(Ft)&&(Ut=Ft),O(Ft)&&(Ut=function(ge){return m(ge,Ft)}),Ut){for(var $t=0;$t<Mt.length;$t+=1)if(Ut(Mt[$t]))return Mt[$t]}return null},C=function(Mt,Ft,Ut){Ut===void 0&&(Ut=0);for(var $t=Ut;$t<Mt.length;$t++)if(Ft(Mt[$t],$t))return $t;return-1},j=function(Mt,Ft){for(var Ut=null,$t=0;$t<Mt.length;$t++){var ie=Mt[$t][Ft];if(!r(ie)){Ut=o(ie)?ie[0]:ie;break}}return Ut},B=function(Mt){if(!o(Mt))return[];for(var Ft=[],Ut=0;Ut<Mt.length;Ut++)Ft=Ft.concat(Mt[Ut]);return Ft},N=function Vt(Mt,Ft){if(Ft===void 0&&(Ft=[]),o(Mt))for(var Ut=0;Ut<Mt.length;Ut+=1)Vt(Mt[Ut],Ft);else Ft.push(Mt);return Ft},I=function(Mt){var Ft=Mt.filter(function(ge){return!isNaN(ge)});if(!Ft.length)return{min:0,max:0};if(o(Mt[0])){for(var Ut=[],$t=0;$t<Mt.length;$t++)Ut=Ut.concat(Mt[$t]);Ft=Ut}var ie=Math.max.apply(null,Ft);return{min:Math.min.apply(null,Ft),max:ie}},F=Array.prototype,G=F.splice,U=F.indexOf,H=function(Mt){for(var Ft=[],Ut=1;Ut<arguments.length;Ut++)Ft[Ut-1]=arguments[Ut];for(var $t=0;$t<Ft.length;$t++)for(var ie=Ft[$t],ge=-1;(ge=U.call(Mt,ie))>-1;)G.call(Mt,ge,1);return Mt},Q=Array.prototype.splice,at=function(Mt,Ft){if(!d(Mt))return[];for(var Ut=Mt?Ft.length:0,$t=Ut-1;Ut--;){var ie=void 0,ge=Ft[Ut];Ut!==$t&&ge===ie||(ie=ge,Q.call(Mt,ge,1))}return Mt},$=function(Mt,Ft,Ut){if(!o(Mt)&&!O(Mt))return Mt;var $t=Ut;return v(Mt,function(ie,ge){$t=Ft($t,ie,ge)}),$t},K=function(Mt,Ft){var Ut=[];if(!d(Mt))return Ut;for(var $t=-1,ie=[],ge=Mt.length;++$t<ge;){var Ee=Mt[$t];Ft(Ee,$t,Mt)&&(Ut.push(Ee),ie.push($t))}return at(Mt,ie),Ut},ot=function(Mt){return u(Mt,"String")},it=function(Mt,Ft){var Ut;if(i(Ft))Ut=function(ge,Ee){return Ft(ge)-Ft(Ee)};else{var $t=[];ot(Ft)?$t.push(Ft):o(Ft)&&($t=Ft),Ut=function(ge,Ee){for(var Ie=0;Ie<$t.length;Ie+=1){var Ke=$t[Ie];if(ge[Ke]>Ee[Ke])return 1;if(ge[Ke]<Ee[Ke])return-1}return 0}}return Mt.sort(Ut),Mt},ht=function(Mt){var Ft=[];return v(Mt,function(Ut){y(Ft,Ut)||Ft.push(Ut)}),Ft},St=function(){for(var Mt=[],Ft=0;Ft<arguments.length;Ft++)Mt[Ft]=arguments[Ft];return ht([].concat.apply([],Mt))},gt=function(Mt,Ft){for(var Ut=[],$t={},ie=0;ie<Mt.length;ie++){var ge=Mt[ie][Ft];if(!r(ge)){o(ge)||(ge=[ge]);for(var Ee=0;Ee<ge.length;Ee++){var Ie=ge[Ee];$t[Ie]||(Ut.push(Ie),$t[Ie]=!0)}}}return Ut};function bt(Vt){if(d(Vt))return Vt[0]}function mt(Vt){if(d(Vt))return Vt[Vt.length-1]}var vt=function(Mt,Ft){return!(!o(Mt)&&!ot(Mt))&&Mt[0]===Ft},_t=function(Mt,Ft){return!(!o(Mt)&&!ot(Mt))&&Mt[Mt.length-1]===Ft},Nt=function(Mt,Ft){for(var Ut=0;Ut<Mt.length;Ut++)if(!Ft(Mt[Ut],Ut))return!1;return!0},At=function(Mt,Ft){for(var Ut=0;Ut<Mt.length;Ut++)if(Ft(Mt[Ut],Ut))return!0;return!1},It=Object.prototype.hasOwnProperty,dt=function(Mt,Ft){if(!Ft||!o(Mt))return{};for(var Ut,$t={},ie=i(Ft)?Ft:function(Ie){return Ie[Ft]},ge=0;ge<Mt.length;ge++){var Ee=Mt[ge];Ut=ie(Ee),It.call($t,Ut)?$t[Ut].push(Ee):$t[Ut]=[Ee]}return $t},X=function(Mt,Ft){if(!Ft)return{0:Mt};if(!i(Ft)){var Ut=o(Ft)?Ft:Ft.replace(/\s+/g,"").split("*");Ft=function(ie){for(var ge="_",Ee=0,Ie=Ut.length;Ee<Ie;Ee++)ge+=ie[Ut[Ee]]&&ie[Ut[Ee]].toString();return ge}}return dt(Mt,Ft)},V=function(Mt,Ft){if(!Ft)return[Mt];var Ut=X(Mt,Ft),$t=[];for(var ie in Ut)$t.push(Ut[ie]);return $t},Z=function(Mt,Ft){return Mt["_wrap_"+Ft]},W=function(Mt,Ft){if(Mt["_wrap_"+Ft])return Mt["_wrap_"+Ft];var Ut=function(ie){Mt[Ft](ie)};return Mt["_wrap_"+Ft]=Ut,Ut},rt={},J=function(Mt){var Ft=rt[Mt];if(!Ft){for(var Ut=Mt.toString(16),$t=Ut.length;$t<6;$t++)Ut="0"+Ut;Ft="#"+Ut,rt[Mt]=Ft}return Ft},tt=function(Mt){var Ft=0,Ut=0,$t=0,ie=0;return o(Mt)?Mt.length===1?Ft=Ut=$t=ie=Mt[0]:Mt.length===2?(Ft=$t=Mt[0],Ut=ie=Mt[1]):Mt.length===3?(Ft=Mt[0],Ut=ie=Mt[1],$t=Mt[2]):(Ft=Mt[0],Ut=Mt[1],$t=Mt[2],ie=Mt[3]):Ft=Ut=$t=ie=Mt,{r1:Ft,r2:Ut,r3:$t,r4:ie}},ft=function(Mt,Ft,Ut){return Mt<Ft?Ft:Mt>Ut?Ut:Mt},kt=function(Mt,Ft){var Ut=Ft.toString(),$t=Ut.indexOf(".");if($t===-1)return Math.round(Mt);var ie=Ut.substr($t+1).length;return ie>20&&(ie=20),parseFloat(Mt.toFixed(ie))},jt=function(Mt){return u(Mt,"Number")},Bt=function(Mt){return jt(Mt)&&Mt%1!=0},Rt=function(Mt){return jt(Mt)&&Mt%2==0},Lt=Number.isInteger?Number.isInteger:function(Vt){return jt(Vt)&&Vt%1==0},Pt=function(Mt){return jt(Mt)&&Mt<0};function Ct(Vt,Mt,Ft){return Ft===void 0&&(Ft=1e-5),Math.abs(Vt-Mt)<Ft}var Ht=function(Mt){return jt(Mt)&&Mt%2!=0},Xt=function(Mt){return jt(Mt)&&Mt>0},ut=function(Mt,Ft){if(o(Mt)){var Ut,$t,ie=Mt[0];return Ut=i(Ft)?Ft(Mt[0]):Mt[0][Ft],v(Mt,function(ge){($t=i(Ft)?Ft(ge):ge[Ft])>Ut&&(ie=ge,Ut=$t)}),ie}},re=function(Mt,Ft){if(o(Mt)){var Ut,$t,ie=Mt[0];return Ut=i(Ft)?Ft(Mt[0]):Mt[0][Ft],v(Mt,function(ge){($t=i(Ft)?Ft(ge):ge[Ft])<Ut&&(ie=ge,Ut=$t)}),ie}},pe=function(Mt,Ft){return(Mt%Ft+Ft)%Ft},de=180/Math.PI,we=function(Mt){return de*Mt},fe=parseInt,ue=Math.PI/180,ye=function(Mt){return ue*Mt},ve=v,xe=function(Mt,Ft){return Mt.hasOwnProperty(Ft)},Ge=xe,je=Object.values?function(Vt){return Object.values(Vt)}:function(Vt){var Mt=[];return v(Vt,function(Ft,Ut){i(Vt)&&Ut==="prototype"||Mt.push(Ft)}),Mt},Ne=function(Mt,Ft){return y(je(Mt),Ft)},Me=function(Mt){return r(Mt)?"":Mt.toString()},De=function(Mt){return Me(Mt).toLowerCase()},Xe=function(Mt){var Ft=Me(Mt);return Ft.charAt(0).toLowerCase()+Ft.substring(1)},We=function(Mt,Ft){return Mt&&Ft?Mt.replace(/\\?\{([^{}]+)\}/g,function(Ut,$t){return Ut.charAt(0)==="\\"?Ut.slice(1):Ft[$t]===void 0?"":Ft[$t]}):Mt},Be=function(Mt){return Me(Mt).toUpperCase()},an=function(Mt){var Ft=Me(Mt);return Ft.charAt(0).toUpperCase()+Ft.substring(1)},tn={}.toString,Ve=function(Mt){return tn.call(Mt).replace(/^\[object /,"").replace(/]$/,"")},Tn=function(Mt){return u(Mt,"Arguments")},Nn=function(Mt){return u(Mt,"Boolean")},He=function(Mt){return u(Mt,"Date")},en=function(Mt){return u(Mt,"Error")},kn=function(Mt){return jt(Mt)&&isFinite(Mt)},nn=function(Mt){return Mt===null},Pn=Object.prototype,bn=function(Mt){var Ft=Mt&&Mt.constructor;return Mt===(typeof Ft=="function"&&Ft.prototype||Pn)},xn=function(Mt){return u(Mt,"RegExp")},rn=function(Mt){return Mt===void 0},qe=function(Mt){return Mt instanceof Element||Mt instanceof HTMLDocument};function sn(Vt){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Mt){return setTimeout(Mt,16)})(Vt)}function on(Vt){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(Vt)}function un(Vt,Mt){for(var Ft in Mt)Mt.hasOwnProperty(Ft)&&Ft!=="constructor"&&Mt[Ft]!==void 0&&(Vt[Ft]=Mt[Ft])}function Re(Vt,Mt,Ft,Ut){return Mt&&un(Vt,Mt),Ft&&un(Vt,Ft),Ut&&un(Vt,Ut),Vt}var pn=function(){for(var Mt=[],Ft=0;Ft<arguments.length;Ft++)Mt[Ft]=arguments[Ft];for(var Ut=Mt[0],$t=1;$t<Mt.length;$t++){var ie=Mt[$t];i(ie)&&(ie=ie.prototype),Re(Ut.prototype,ie)}};function cn(Vt){return(cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt})(Vt)}var gn=function Vt(Mt){if(cn(Mt)!=="object"||Mt===null)return Mt;var Ft;if(o(Mt)){Ft=[];for(var Ut=0,$t=Mt.length;Ut<$t;Ut++)cn(Mt[Ut])==="object"&&Mt[Ut]!=null?Ft[Ut]=Vt(Mt[Ut]):Ft[Ut]=Mt[Ut]}else for(var ie in Ft={},Mt)cn(Mt[ie])==="object"&&Mt[ie]!=null?Ft[ie]=Vt(Mt[ie]):Ft[ie]=Mt[ie];return Ft},Ze=function(Mt,Ft,Ut){var $t;return function(){var ie=this,ge=arguments,Ee=function(){$t=null,Ut||Mt.apply(ie,ge)},Ie=Ut&&!$t;clearTimeout($t),$t=setTimeout(Ee,Ft),Ie&&Mt.apply(ie,ge)}},hn=function(Mt,Ft){if(!i(Mt))throw new TypeError("Expected a function");var Ut=function $t(){for(var ie=[],ge=0;ge<arguments.length;ge++)ie[ge]=arguments[ge];var Ee=Ft?Ft.apply(this,ie):ie[0],Ie=$t.cache;if(Ie.has(Ee))return Ie.get(Ee);var Ke=Mt.apply(this,ie);return Ie.set(Ee,Ke),Ke};return Ut.cache=new Map,Ut};function Cn(Vt,Mt,Ft,Ut){for(var $t in Ft=Ft||0,Ut=Ut||5,Mt)if(Mt.hasOwnProperty($t)){var ie=Mt[$t];ie!==null&&O(ie)?(O(Vt[$t])||(Vt[$t]={}),Ft<Ut?Cn(Vt[$t],ie,Ft+1,Ut):Vt[$t]=Mt[$t]):o(ie)?(Vt[$t]=[],Vt[$t]=Vt[$t].concat(ie)):ie!==void 0&&(Vt[$t]=ie)}}var Qn=function(Mt){for(var Ft=[],Ut=1;Ut<arguments.length;Ut++)Ft[Ut-1]=arguments[Ut];for(var $t=0;$t<Ft.length;$t+=1)Cn(Mt,Ft[$t]);return Mt},ln=function(Mt,Ft,Ut,$t){i(Ft)||(Ut=Ft,Ft=Mt,Mt=function(){});var ie=Object.create?function(Ee,Ie){return Object.create(Ee,{constructor:{value:Ie}})}:function(Ee,Ie){function Ke(){}Ke.prototype=Ee;var Te=new Ke;return Te.constructor=Ie,Te},ge=ie(Ft.prototype,Mt);return Mt.prototype=Re(ge,Mt.prototype),Mt.superclass=ie(Ft.prototype,Ft),Re(ge,Ut),Re(Mt,$t),Mt},wn=function(Mt,Ft){if(!d(Mt))return-1;var Ut=Array.prototype.indexOf;if(Ut)return Ut.call(Mt,Ft);for(var $t=-1,ie=0;ie<Mt.length;ie++)if(Mt[ie]===Ft){$t=ie;break}return $t},Jn=Object.prototype.hasOwnProperty,An=function(Mt){if(r(Mt))return!0;if(d(Mt))return!Mt.length;var Ft=Ve(Mt);if(Ft==="Map"||Ft==="Set")return!Mt.size;if(bn(Mt))return!Object.keys(Mt).length;for(var Ut in Mt)if(Jn.call(Mt,Ut))return!1;return!0},Gn=function Vt(Mt,Ft){if(Mt===Ft)return!0;if(!Mt||!Ft||ot(Mt)||ot(Ft))return!1;if(d(Mt)||d(Ft)){if(Mt.length!==Ft.length)return!1;for(var Ut=!0,$t=0;$t<Mt.length&&(Ut=Vt(Mt[$t],Ft[$t]));$t++);return Ut}if(M(Mt)||M(Ft)){var ie=Object.keys(Mt),ge=Object.keys(Ft);if(ie.length!==ge.length)return!1;for(Ut=!0,$t=0;$t<ie.length&&(Ut=Vt(Mt[ie[$t]],Ft[ie[$t]]));$t++);return Ut}return!1},kr=function(Mt,Ft,Ut){return i(Ut)?!!Ut(Mt,Ft):Gn(Mt,Ft)},cr=function(Mt,Ft){if(!d(Mt))return Mt;for(var Ut=[],$t=0;$t<Mt.length;$t++){var ie=Mt[$t];Ut.push(Ft(ie,$t))}return Ut},tr=function(Mt){return Mt},gr=function(Mt,Ft){Ft===void 0&&(Ft=tr);var Ut={};return h(Mt)&&!r(Mt)&&Object.keys(Mt).forEach(function($t){Ut[$t]=Ft(Mt[$t],$t)}),Ut},er=function(Mt,Ft,Ut){for(var $t=0,ie=ot(Ft)?Ft.split("."):Ft;Mt&&$t<ie.length;)Mt=Mt[ie[$t++]];return Mt===void 0||$t<ie.length?Ut:Mt},hr=function(Mt,Ft,Ut){var $t=Mt,ie=ot(Ft)?Ft.split("."):Ft;return ie.forEach(function(ge,Ee){Ee<ie.length-1?(h($t[ge])||($t[ge]=jt(ie[Ee+1])?[]:{}),$t=$t[ge]):$t[ge]=Ut}),Mt},lr=Object.prototype.hasOwnProperty,be=function(Mt,Ft){if(Mt===null||!O(Mt))return{};var Ut={};return v(Ft,function($t){lr.call(Mt,$t)&&(Ut[$t]=Mt[$t])}),Ut},xt=function(Mt,Ft,Ut){var $t,ie,ge,Ee,Ie=0;Ut||(Ut={});var Ke=function(){Ie=Ut.leading===!1?0:Date.now(),$t=null,Ee=Mt.apply(ie,ge),$t||(ie=ge=null)},Te=function(){var $e=Date.now();Ie||Ut.leading!==!1||(Ie=$e);var zn=Ft-($e-Ie);return ie=this,ge=arguments,zn<=0||zn>Ft?($t&&(clearTimeout($t),$t=null),Ie=$e,Ee=Mt.apply(ie,ge),$t||(ie=ge=null)):$t||Ut.trailing===!1||($t=setTimeout(Ke,zn)),Ee};return Te.cancel=function(){clearTimeout($t),Ie=0,$t=ie=ge=null},Te},lt=function(Mt){return d(Mt)?Array.prototype.slice.call(Mt):[]},ct={},Et=function(Mt){return ct[Mt=Mt||"g"]?ct[Mt]+=1:ct[Mt]=1,Mt+ct[Mt]},Yt=function(){},Jt=function(Mt){return Mt};function he(Vt){return r(Vt)?0:d(Vt)?Vt.length:Object.keys(Vt).length}var ce=function(){function Vt(){this.map={}}return Vt.prototype.has=function(Mt){return this.map[Mt]!==void 0},Vt.prototype.get=function(Mt,Ft){var Ut=this.map[Mt];return Ut===void 0?Ft:Ut},Vt.prototype.set=function(Mt,Ft){this.map[Mt]=Ft},Vt.prototype.clear=function(){this.map={}},Vt.prototype.delete=function(Mt){delete this.map[Mt]},Vt.prototype.size=function(){return Object.keys(this.map).length},Vt}()},function(A,x,s){"use strict";function d(H){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(H)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */s.r(x),s.d(x,"__extends",function(){return p}),s.d(x,"__assign",function(){return n}),s.d(x,"__rest",function(){return a}),s.d(x,"__decorate",function(){return u}),s.d(x,"__param",function(){return i}),s.d(x,"__metadata",function(){return r}),s.d(x,"__awaiter",function(){return o}),s.d(x,"__generator",function(){return c}),s.d(x,"__createBinding",function(){return h}),s.d(x,"__exportStar",function(){return v}),s.d(x,"__values",function(){return f}),s.d(x,"__read",function(){return m}),s.d(x,"__spread",function(){return b}),s.d(x,"__spreadArrays",function(){return M}),s.d(x,"__await",function(){return O}),s.d(x,"__asyncGenerator",function(){return E}),s.d(x,"__asyncDelegator",function(){return C}),s.d(x,"__asyncValues",function(){return j}),s.d(x,"__makeTemplateObject",function(){return B}),s.d(x,"__importStar",function(){return I}),s.d(x,"__importDefault",function(){return F}),s.d(x,"__classPrivateFieldGet",function(){return G}),s.d(x,"__classPrivateFieldSet",function(){return U});var y=function(Q,at){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,K){$.__proto__=K}||function($,K){for(var ot in K)Object.prototype.hasOwnProperty.call(K,ot)&&($[ot]=K[ot])})(Q,at)};function p(H,Q){function at(){this.constructor=H}y(H,Q),H.prototype=Q===null?Object.create(Q):(at.prototype=Q.prototype,new at)}var n=function(){return(n=Object.assign||function(Q){for(var at,$=1,K=arguments.length;$<K;$++)for(var ot in at=arguments[$])Object.prototype.hasOwnProperty.call(at,ot)&&(Q[ot]=at[ot]);return Q}).apply(this,arguments)};function a(H,Q){var at={};for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&Q.indexOf($)<0&&(at[$]=H[$]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function"){var K=0;for($=Object.getOwnPropertySymbols(H);K<$.length;K++)Q.indexOf($[K])<0&&Object.prototype.propertyIsEnumerable.call(H,$[K])&&(at[$[K]]=H[$[K]])}return at}function u(H,Q,at,$){var K,ot=arguments.length,it=ot<3?Q:$===null?$=Object.getOwnPropertyDescriptor(Q,at):$;if((typeof Reflect=="undefined"?"undefined":d(Reflect))==="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(H,Q,at,$);else for(var ht=H.length-1;ht>=0;ht--)(K=H[ht])&&(it=(ot<3?K(it):ot>3?K(Q,at,it):K(Q,at))||it);return ot>3&&it&&Object.defineProperty(Q,at,it),it}function i(H,Q){return function(at,$){Q(at,$,H)}}function r(H,Q){if((typeof Reflect=="undefined"?"undefined":d(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(H,Q)}function o(H,Q,at,$){return new(at||(at=Promise))(function(K,ot){function it(gt){try{St($.next(gt))}catch(bt){ot(bt)}}function ht(gt){try{St($.throw(gt))}catch(bt){ot(bt)}}function St(gt){var bt;gt.done?K(gt.value):(bt=gt.value,bt instanceof at?bt:new at(function(mt){mt(bt)})).then(it,ht)}St(($=$.apply(H,Q||[])).next())})}function c(H,Q){var at,$,K,ot,it={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return ot={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function ht(St){return function(gt){return function(bt){if(at)throw new TypeError("Generator is already executing.");for(;it;)try{if(at=1,$&&(K=2&bt[0]?$.return:bt[0]?$.throw||((K=$.return)&&K.call($),0):$.next)&&!(K=K.call($,bt[1])).done)return K;switch($=0,K&&(bt=[2&bt[0],K.value]),bt[0]){case 0:case 1:K=bt;break;case 4:return it.label++,{value:bt[1],done:!1};case 5:it.label++,$=bt[1],bt=[0];continue;case 7:bt=it.ops.pop(),it.trys.pop();continue;default:if(K=it.trys,!((K=K.length>0&&K[K.length-1])||bt[0]!==6&&bt[0]!==2)){it=0;continue}if(bt[0]===3&&(!K||bt[1]>K[0]&&bt[1]<K[3])){it.label=bt[1];break}if(bt[0]===6&&it.label<K[1]){it.label=K[1],K=bt;break}if(K&&it.label<K[2]){it.label=K[2],it.ops.push(bt);break}K[2]&&it.ops.pop(),it.trys.pop();continue}bt=Q.call(H,it)}catch(mt){bt=[6,mt],$=0}finally{at=K=0}if(5&bt[0])throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}([St,gt])}}}var h=Object.create?function(H,Q,at,$){$===void 0&&($=at),Object.defineProperty(H,$,{enumerable:!0,get:function(){return Q[at]}})}:function(H,Q,at,$){$===void 0&&($=at),H[$]=Q[at]};function v(H,Q){for(var at in H)at==="default"||Object.prototype.hasOwnProperty.call(Q,at)||h(Q,H,at)}function f(H){var Q=typeof Symbol=="function"&&Symbol.iterator,at=Q&&H[Q],$=0;if(at)return at.call(H);if(H&&typeof H.length=="number")return{next:function(){return H&&$>=H.length&&(H=void 0),{value:H&&H[$++],done:!H}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(H,Q){var at=typeof Symbol=="function"&&H[Symbol.iterator];if(!at)return H;var $,K,ot=at.call(H),it=[];try{for(;(Q===void 0||Q-- >0)&&!($=ot.next()).done;)it.push($.value)}catch(ht){K={error:ht}}finally{try{$&&!$.done&&(at=ot.return)&&at.call(ot)}finally{if(K)throw K.error}}return it}function b(){for(var H=[],Q=0;Q<arguments.length;Q++)H=H.concat(m(arguments[Q]));return H}function M(){for(var H=0,Q=0,at=arguments.length;Q<at;Q++)H+=arguments[Q].length;var $=Array(H),K=0;for(Q=0;Q<at;Q++)for(var ot=arguments[Q],it=0,ht=ot.length;it<ht;it++,K++)$[K]=ot[it];return $}function O(H){return this instanceof O?(this.v=H,this):new O(H)}function E(H,Q,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,K=at.apply(H,Q||[]),ot=[];return $={},it("next"),it("throw"),it("return"),$[Symbol.asyncIterator]=function(){return this},$;function it(mt){K[mt]&&($[mt]=function(vt){return new Promise(function(_t,Nt){ot.push([mt,vt,_t,Nt])>1||ht(mt,vt)})})}function ht(mt,vt){try{(_t=K[mt](vt)).value instanceof O?Promise.resolve(_t.value.v).then(St,gt):bt(ot[0][2],_t)}catch(Nt){bt(ot[0][3],Nt)}var _t}function St(mt){ht("next",mt)}function gt(mt){ht("throw",mt)}function bt(mt,vt){mt(vt),ot.shift(),ot.length&&ht(ot[0][0],ot[0][1])}}function C(H){var Q,at;return Q={},$("next"),$("throw",function(K){throw K}),$("return"),Q[Symbol.iterator]=function(){return this},Q;function $(K,ot){Q[K]=H[K]?function(it){return(at=!at)?{value:O(H[K](it)),done:K==="return"}:ot?ot(it):it}:ot}}function j(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,at=H[Symbol.asyncIterator];return at?at.call(H):(H=f(H),Q={},$("next"),$("throw"),$("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function $(K){Q[K]=H[K]&&function(ot){return new Promise(function(it,ht){(function(St,gt,bt,mt){Promise.resolve(mt).then(function(vt){St({value:vt,done:bt})},gt)})(it,ht,(ot=H[K](ot)).done,ot.value)})}}}function B(H,Q){return Object.defineProperty?Object.defineProperty(H,"raw",{value:Q}):H.raw=Q,H}var N=Object.create?function(H,Q){Object.defineProperty(H,"default",{enumerable:!0,value:Q})}:function(H,Q){H.default=Q};function I(H){if(H&&H.__esModule)return H;var Q={};if(H!=null)for(var at in H)at!=="default"&&Object.prototype.hasOwnProperty.call(H,at)&&h(Q,H,at);return N(Q,H),Q}function F(H){return H&&H.__esModule?H:{default:H}}function G(H,Q){if(!Q.has(H))throw new TypeError("attempted to get private field on non-instance");return Q.get(H)}function U(H,Q,at){if(!Q.has(H))throw new TypeError("attempted to set private field on non-instance");return Q.set(H,at),at}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(35);x.default=function(p,n){if(p){if(d.default(p))for(var a=0,u=p.length;a<u&&n(p[a],a)!==!1;a++);else if(y.default(p)){for(var i in p)if(p.hasOwnProperty(i)&&n(p[i],i)===!1)break}}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"String")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return Array.isArray?Array.isArray(y):d.default(y,"Array")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){if(d)for(var p in y)y.hasOwnProperty(p)&&(d.style[p]=y[p]);return d}},function(A,x,s){"use strict";s.d(x,"b",function(){return d}),s.d(x,"a",function(){return y}),s.d(x,"c",function(){return p});var d=1e-6,y=typeof Float32Array!="undefined"?Float32Array:Array,p=Math.random;Math.hypot||(Math.hypot=function(){for(var n=0,a=arguments.length;a--;)n+=arguments[a]*arguments[a];return Math.sqrt(n)})},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(72);x.contains=d.default,x.includes=d.default;var y=s(242);x.difference=y.default;var p=s(243);x.find=p.default;var n=s(244);x.findIndex=n.default;var a=s(245);x.firstValue=a.default;var u=s(246);x.flatten=u.default;var i=s(247);x.flattenDeep=i.default;var r=s(248);x.getRange=r.default;var o=s(249);x.pull=o.default;var c=s(140);x.pullAt=c.default;var h=s(250);x.reduce=h.default;var v=s(251);x.remove=v.default;var f=s(252);x.sortBy=f.default;var m=s(253);x.union=m.default;var b=s(141);x.uniq=b.default;var M=s(254);x.valuesOfKey=M.default;var O=s(255);x.head=O.default;var E=s(256);x.last=E.default;var C=s(257);x.startsWith=C.default;var j=s(258);x.endsWith=j.default;var B=s(137);x.filter=B.default;var N=s(259);x.every=N.default;var I=s(260);x.some=I.default;var F=s(261);x.group=F.default;var G=s(69);x.groupBy=G.default;var U=s(142);x.groupToMap=U.default;var H=s(262);x.getWrapBehavior=H.default;var Q=s(50);x.wrapBehavior=Q.default;var at=s(263);x.number2color=at.default;var $=s(264);x.parseRadius=$.default;var K=s(265);x.clamp=K.default;var ot=s(266);x.fixedBase=ot.default;var it=s(267);x.isDecimal=it.default;var ht=s(268);x.isEven=ht.default;var St=s(269);x.isInteger=St.default;var gt=s(270);x.isNegative=gt.default;var bt=s(103);x.isNumberEqual=bt.default;var mt=s(271);x.isOdd=mt.default;var vt=s(272);x.isPositive=vt.default;var _t=s(273);x.maxBy=_t.default;var Nt=s(274);x.minBy=Nt.default;var At=s(67);x.mod=At.default;var It=s(275);x.toDegree=It.default;var dt=s(276);x.toInteger=dt.default;var X=s(68);x.toRadian=X.default;var V=s(277);x.forIn=V.default;var Z=s(143);x.has=Z.default;var W=s(278);x.hasKey=W.default;var rt=s(279);x.hasValue=rt.default;var J=s(139);x.keys=J.default;var tt=s(138);x.isMatch=tt.default;var ft=s(144);x.values=ft.default;var kt=s(280);x.lowerCase=kt.default;var jt=s(281);x.lowerFirst=jt.default;var Bt=s(282);x.substitute=Bt.default;var Rt=s(283);x.upperCase=Rt.default;var Lt=s(49);x.upperFirst=Lt.default;var Pt=s(145);x.getType=Pt.default;var Ct=s(284);x.isArguments=Ct.default;var Ht=s(4);x.isArray=Ht.default;var Xt=s(21);x.isArrayLike=Xt.default;var ut=s(285);x.isBoolean=ut.default;var re=s(286);x.isDate=re.default;var pe=s(287);x.isError=pe.default;var de=s(14);x.isFunction=de.default;var we=s(288);x.isFinite=we.default;var fe=s(10);x.isNil=fe.default;var ue=s(289);x.isNull=ue.default;var ye=s(11);x.isNumber=ye.default;var ve=s(35);x.isObject=ve.default;var xe=s(102);x.isObjectLike=xe.default;var Ge=s(58);x.isPlainObject=Ge.default;var je=s(146);x.isPrototype=je.default;var Ne=s(290);x.isRegExp=Ne.default;var Me=s(3);x.isString=Me.default;var De=s(27);x.isType=De.default;var Xe=s(291);x.isUndefined=Xe.default;var We=s(292);x.isElement=We.default;var Be=s(147);x.requestAnimationFrame=Be.default;var an=s(148);x.clearAnimationFrame=an.default;var tn=s(293);x.augment=tn.default;var Ve=s(98);x.clone=Ve.default;var Tn=s(294);x.debounce=Tn.default;var Nn=s(295);x.memoize=Nn.default;var He=s(12);x.deepMix=He.default;var en=s(2);x.each=en.default;var kn=s(296);x.extend=kn.default;var nn=s(297);x.indexOf=nn.default;var Pn=s(298);x.isEmpty=Pn.default;var bn=s(95);x.isEqual=bn.default;var xn=s(299);x.isEqualWith=xn.default;var rn=s(300);x.map=rn.default;var qe=s(301);x.mapValues=qe.default;var sn=s(17);x.mix=sn.default,x.assign=sn.default;var on=s(130);x.get=on.default;var un=s(302);x.set=un.default;var Re=s(303);x.pick=Re.default;var pn=s(304);x.throttle=pn.default;var cn=s(305);x.toArray=cn.default;var gn=s(59);x.toString=gn.default;var Ze=s(306);x.uniqueId=Ze.default;var hn=s(307);x.noop=hn.default;var Cn=s(308);x.identity=Cn.default;var Qn=s(309);x.size=Qn.default;var ln=s(310);x.Cache=ln.default},function(A,x,s){"use strict";var d,y,p,n;Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(a){d||(d=document.createElement("table"),y=document.createElement("tr"),p=/^\s*<(\w+|!)[^>]*>/,n={tr:document.createElement("tbody"),tbody:d,thead:d,tfoot:d,td:y,th:y,"*":document.createElement("div")});var u=p.test(a)&&RegExp.$1;u&&u in n||(u="*");var i=n[u];a=a.replace(/(^\s*)|(\s*$)/g,""),i.innerHTML=""+a;var r=i.childNodes[0];return i.removeChild(r),r}},function(A,x,s){"use strict";s.d(x,"j",function(){return b}),s.d(x,"c",function(){return M}),s.d(x,"g",function(){return O}),s.d(x,"b",function(){return E});var d=s(10),y=s.n(d);s.d(x,"e",function(){return y.a});var p=s(14),n=s.n(p);s.d(x,"d",function(){return n.a});var a=s(3),u=s.n(a);s.d(x,"h",function(){return u.a});var i=s(35),r=s.n(i);s.d(x,"f",function(){return r.a}),s(4);var o=s(17),c=s.n(o);s.d(x,"i",function(){return c.a});var h=s(2),v=s.n(h);s.d(x,"a",function(){return v.a});var f=s(49),m=s.n(f);function b(C,j){var B=C.indexOf(j);B!==-1&&C.splice(B,1)}s.d(x,"k",function(){return m.a});var M=typeof window!="undefined"&&window.document!==void 0;function O(C,j){if(C.isCanvas())return!0;for(var B=j.getParent(),N=!1;B;){if(B===C){N=!0;break}B=B.getParent()}return N}function E(C){return C.cfg.visible&&C.cfg.capture}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d==null}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Number")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(58);function p(n,a,u,i){for(var r in u=u||0,i=i||5,a)if(a.hasOwnProperty(r)){var o=a[r];o!==null&&y.default(o)?(y.default(n[r])||(n[r]={}),u<i?p(n[r],o,u+1,i):n[r]=a[r]):d.default(o)?(n[r]=[],n[r]=n[r].concat(o)):o!==void 0&&(n[r]=o)}}x.default=function(n){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];for(var i=0;i<a.length;i+=1)p(n,a[i]);return n}},function(A,x,s){var d;try{d={cloneDeep:s(486),constant:s(122),defaults:s(487),each:s(191),filter:s(194),find:s(488),flatten:s(221),forEach:s(192),forIn:s(493),has:s(205),isUndefined:s(206),last:s(494),map:s(207),mapValues:s(495),max:s(496),merge:s(498),min:s(504),minBy:s(505),now:s(506),pick:s(507),range:s(512),reduce:s(209),sortBy:s(515),uniqueId:s(520),values:s(214),zipObject:s(521)}}catch(y){}d||(d=window._),A.exports=d},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Function")}},function(A,x){var s=Array.isArray;A.exports=s},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.sub=x.mul=void 0,x.create=function(){var n=new d.ARRAY_TYPE(9);return d.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n},x.fromMat4=function(n,a){return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[4],n[4]=a[5],n[5]=a[6],n[6]=a[8],n[7]=a[9],n[8]=a[10],n},x.clone=function(n){var a=new d.ARRAY_TYPE(9);return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],a},x.copy=function(n,a){return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n},x.fromValues=function(n,a,u,i,r,o,c,h,v){var f=new d.ARRAY_TYPE(9);return f[0]=n,f[1]=a,f[2]=u,f[3]=i,f[4]=r,f[5]=o,f[6]=c,f[7]=h,f[8]=v,f},x.set=function(n,a,u,i,r,o,c,h,v,f){return n[0]=a,n[1]=u,n[2]=i,n[3]=r,n[4]=o,n[5]=c,n[6]=h,n[7]=v,n[8]=f,n},x.identity=function(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.transpose=function(n,a){if(n===a){var u=a[1],i=a[2],r=a[5];n[1]=a[3],n[2]=a[6],n[3]=u,n[5]=a[7],n[6]=i,n[7]=r}else n[0]=a[0],n[1]=a[3],n[2]=a[6],n[3]=a[1],n[4]=a[4],n[5]=a[7],n[6]=a[2],n[7]=a[5],n[8]=a[8];return n},x.invert=function(n,a){var u=a[0],i=a[1],r=a[2],o=a[3],c=a[4],h=a[5],v=a[6],f=a[7],m=a[8],b=m*c-h*f,M=-m*o+h*v,O=f*o-c*v,E=u*b+i*M+r*O;return E?(E=1/E,n[0]=b*E,n[1]=(-m*i+r*f)*E,n[2]=(h*i-r*c)*E,n[3]=M*E,n[4]=(m*u-r*v)*E,n[5]=(-h*u+r*o)*E,n[6]=O*E,n[7]=(-f*u+i*v)*E,n[8]=(c*u-i*o)*E,n):null},x.adjoint=function(n,a){var u=a[0],i=a[1],r=a[2],o=a[3],c=a[4],h=a[5],v=a[6],f=a[7],m=a[8];return n[0]=c*m-h*f,n[1]=r*f-i*m,n[2]=i*h-r*c,n[3]=h*v-o*m,n[4]=u*m-r*v,n[5]=r*o-u*h,n[6]=o*f-c*v,n[7]=i*v-u*f,n[8]=u*c-i*o,n},x.determinant=function(n){var a=n[0],u=n[1],i=n[2],r=n[3],o=n[4],c=n[5],h=n[6],v=n[7],f=n[8];return a*(f*o-c*v)+u*(-f*r+c*h)+i*(v*r-o*h)},x.multiply=y,x.translate=function(n,a,u){var i=a[0],r=a[1],o=a[2],c=a[3],h=a[4],v=a[5],f=a[6],m=a[7],b=a[8],M=u[0],O=u[1];return n[0]=i,n[1]=r,n[2]=o,n[3]=c,n[4]=h,n[5]=v,n[6]=M*i+O*c+f,n[7]=M*r+O*h+m,n[8]=M*o+O*v+b,n},x.rotate=function(n,a,u){var i=a[0],r=a[1],o=a[2],c=a[3],h=a[4],v=a[5],f=a[6],m=a[7],b=a[8],M=Math.sin(u),O=Math.cos(u);return n[0]=O*i+M*c,n[1]=O*r+M*h,n[2]=O*o+M*v,n[3]=O*c-M*i,n[4]=O*h-M*r,n[5]=O*v-M*o,n[6]=f,n[7]=m,n[8]=b,n},x.scale=function(n,a,u){var i=u[0],r=u[1];return n[0]=i*a[0],n[1]=i*a[1],n[2]=i*a[2],n[3]=r*a[3],n[4]=r*a[4],n[5]=r*a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n},x.fromTranslation=function(n,a){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=a[0],n[7]=a[1],n[8]=1,n},x.fromRotation=function(n,a){var u=Math.sin(a),i=Math.cos(a);return n[0]=i,n[1]=u,n[2]=0,n[3]=-u,n[4]=i,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.fromScaling=function(n,a){return n[0]=a[0],n[1]=0,n[2]=0,n[3]=0,n[4]=a[1],n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.fromMat2d=function(n,a){return n[0]=a[0],n[1]=a[1],n[2]=0,n[3]=a[2],n[4]=a[3],n[5]=0,n[6]=a[4],n[7]=a[5],n[8]=1,n},x.fromQuat=function(n,a){var u=a[0],i=a[1],r=a[2],o=a[3],c=u+u,h=i+i,v=r+r,f=u*c,m=i*c,b=i*h,M=r*c,O=r*h,E=r*v,C=o*c,j=o*h,B=o*v;return n[0]=1-b-E,n[3]=m-B,n[6]=M+j,n[1]=m+B,n[4]=1-f-E,n[7]=O-C,n[2]=M-j,n[5]=O+C,n[8]=1-f-b,n},x.normalFromMat4=function(n,a){var u=a[0],i=a[1],r=a[2],o=a[3],c=a[4],h=a[5],v=a[6],f=a[7],m=a[8],b=a[9],M=a[10],O=a[11],E=a[12],C=a[13],j=a[14],B=a[15],N=u*h-i*c,I=u*v-r*c,F=u*f-o*c,G=i*v-r*h,U=i*f-o*h,H=r*f-o*v,Q=m*C-b*E,at=m*j-M*E,$=m*B-O*E,K=b*j-M*C,ot=b*B-O*C,it=M*B-O*j,ht=N*it-I*ot+F*K+G*$-U*at+H*Q;return ht?(ht=1/ht,n[0]=(h*it-v*ot+f*K)*ht,n[1]=(v*$-c*it-f*at)*ht,n[2]=(c*ot-h*$+f*Q)*ht,n[3]=(r*ot-i*it-o*K)*ht,n[4]=(u*it-r*$+o*at)*ht,n[5]=(i*$-u*ot-o*Q)*ht,n[6]=(C*H-j*U+B*G)*ht,n[7]=(j*F-E*H-B*I)*ht,n[8]=(E*U-C*F+B*N)*ht,n):null},x.projection=function(n,a,u){return n[0]=2/a,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/u,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n},x.str=function(n){return"mat3("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+")"},x.frob=function(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)+Math.pow(n[3],2)+Math.pow(n[4],2)+Math.pow(n[5],2)+Math.pow(n[6],2)+Math.pow(n[7],2)+Math.pow(n[8],2))},x.add=function(n,a,u){return n[0]=a[0]+u[0],n[1]=a[1]+u[1],n[2]=a[2]+u[2],n[3]=a[3]+u[3],n[4]=a[4]+u[4],n[5]=a[5]+u[5],n[6]=a[6]+u[6],n[7]=a[7]+u[7],n[8]=a[8]+u[8],n},x.subtract=p,x.multiplyScalar=function(n,a,u){return n[0]=a[0]*u,n[1]=a[1]*u,n[2]=a[2]*u,n[3]=a[3]*u,n[4]=a[4]*u,n[5]=a[5]*u,n[6]=a[6]*u,n[7]=a[7]*u,n[8]=a[8]*u,n},x.multiplyScalarAndAdd=function(n,a,u,i){return n[0]=a[0]+u[0]*i,n[1]=a[1]+u[1]*i,n[2]=a[2]+u[2]*i,n[3]=a[3]+u[3]*i,n[4]=a[4]+u[4]*i,n[5]=a[5]+u[5]*i,n[6]=a[6]+u[6]*i,n[7]=a[7]+u[7]*i,n[8]=a[8]+u[8]*i,n},x.exactEquals=function(n,a){return n[0]===a[0]&&n[1]===a[1]&&n[2]===a[2]&&n[3]===a[3]&&n[4]===a[4]&&n[5]===a[5]&&n[6]===a[6]&&n[7]===a[7]&&n[8]===a[8]},x.equals=function(n,a){var u=n[0],i=n[1],r=n[2],o=n[3],c=n[4],h=n[5],v=n[6],f=n[7],m=n[8],b=a[0],M=a[1],O=a[2],E=a[3],C=a[4],j=a[5],B=a[6],N=a[7],I=a[8];return Math.abs(u-b)<=d.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(i-M)<=d.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(r-O)<=d.EPSILON*Math.max(1,Math.abs(r),Math.abs(O))&&Math.abs(o-E)<=d.EPSILON*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(c-C)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(h-j)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(v-B)<=d.EPSILON*Math.max(1,Math.abs(v),Math.abs(B))&&Math.abs(f-N)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(N))&&Math.abs(m-I)<=d.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))};var d=function(n){if(n&&n.__esModule)return n;var a={};if(n!=null)for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u]);return a.default=n,a}(s(104));function y(n,a,u){var i=a[0],r=a[1],o=a[2],c=a[3],h=a[4],v=a[5],f=a[6],m=a[7],b=a[8],M=u[0],O=u[1],E=u[2],C=u[3],j=u[4],B=u[5],N=u[6],I=u[7],F=u[8];return n[0]=M*i+O*c+E*f,n[1]=M*r+O*h+E*m,n[2]=M*o+O*v+E*b,n[3]=C*i+j*c+B*f,n[4]=C*r+j*h+B*m,n[5]=C*o+j*v+B*b,n[6]=N*i+I*c+F*f,n[7]=N*r+I*h+F*m,n[8]=N*o+I*v+F*b,n}function p(n,a,u){return n[0]=a[0]-u[0],n[1]=a[1]-u[1],n[2]=a[2]-u[2],n[3]=a[3]-u[3],n[4]=a[4]-u[4],n[5]=a[5]-u[5],n[6]=a[6]-u[6],n[7]=a[7]-u[7],n[8]=a[8]-u[8],n}x.mul=y,x.sub=p},function(A,x,s){"use strict";function d(y,p){for(var n in p)p.hasOwnProperty(n)&&n!=="constructor"&&p[n]!==void 0&&(y[n]=p[n])}Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(y,p,n,a){return p&&d(y,p),n&&d(y,n),a&&d(y,a),y}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.isSamePoint=x.mergeRegion=x.intersectRect=x.inBox=x.distance=x.getPixelRatio=void 0,x.getPixelRatio=function(){return window?window.devicePixelRatio:1},x.distance=function(h,v,f,m){var b=h-f,M=v-m;return Math.sqrt(b*b+M*M)},x.inBox=function(h,v,f,m,b,M){return b>=h&&b<=h+f&&M>=v&&M<=v+m},x.intersectRect=function(h,v){return!(v.minX>h.maxX||v.maxX<h.minX||v.minY>h.maxY||v.maxY<h.minY)},x.mergeRegion=function(h,v){return h&&v?{minX:Math.min(h.minX,v.minX),minY:Math.min(h.minY,v.minY),maxX:Math.max(h.maxX,v.maxX),maxY:Math.max(h.maxY,v.maxY)}:h||v},x.isSamePoint=function(h,v){return h[0]===v[0]&&h[1]===v[1]};var d=s(10);Object.defineProperty(x,"isNil",{enumerable:!0,get:function(){return d.default}});var y=s(3);Object.defineProperty(x,"isString",{enumerable:!0,get:function(){return y.default}});var p=s(14);Object.defineProperty(x,"isFunction",{enumerable:!0,get:function(){return p.default}});var n=s(4);Object.defineProperty(x,"isArray",{enumerable:!0,get:function(){return n.default}});var a=s(2);Object.defineProperty(x,"each",{enumerable:!0,get:function(){return a.default}});var u=s(68);Object.defineProperty(x,"toRadian",{enumerable:!0,get:function(){return u.default}});var i=s(67);Object.defineProperty(x,"mod",{enumerable:!0,get:function(){return i.default}});var r=s(103);Object.defineProperty(x,"isNumberEqual",{enumerable:!0,get:function(){return r.default}});var o=s(147);Object.defineProperty(x,"requestAnimationFrame",{enumerable:!0,get:function(){return o.default}});var c=s(148);Object.defineProperty(x,"clearAnimationFrame",{enumerable:!0,get:function(){return c.default}})},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.EVENTS=x.SVG_ATTR_MAP=x.SHAPE_TO_TAGS=void 0,x.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},x.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},x.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},function(A,x,s){"use strict";var d=s(13),y=s(30).Graph;function p(a,u,i,r){var o;do o=d.uniqueId(r);while(a.hasNode(o));return i.dummy=u,a.setNode(o,i),o}function n(a){return d.max(d.map(a.nodes(),function(u){var i=a.node(u).rank;if(!d.isUndefined(i))return i}))}A.exports={addDummyNode:p,simplify:function(u){var i=new y().setGraph(u.graph());return d.forEach(u.nodes(),function(r){i.setNode(r,u.node(r))}),d.forEach(u.edges(),function(r){var o=i.edge(r.v,r.w)||{weight:0,minlen:1},c=u.edge(r);i.setEdge(r.v,r.w,{weight:o.weight+c.weight,minlen:Math.max(o.minlen,c.minlen)})}),i},asNonCompoundGraph:function(u){var i=new y({multigraph:u.isMultigraph()}).setGraph(u.graph());return d.forEach(u.nodes(),function(r){u.children(r).length||i.setNode(r,u.node(r))}),d.forEach(u.edges(),function(r){i.setEdge(r,u.edge(r))}),i},successorWeights:function(u){var i=d.map(u.nodes(),function(r){var o={};return d.forEach(u.outEdges(r),function(c){o[c.w]=(o[c.w]||0)+u.edge(c).weight}),o});return d.zipObject(u.nodes(),i)},predecessorWeights:function(u){var i=d.map(u.nodes(),function(r){var o={};return d.forEach(u.inEdges(r),function(c){o[c.v]=(o[c.v]||0)+u.edge(c).weight}),o});return d.zipObject(u.nodes(),i)},intersectRect:function(u,i){var r,o,c=u.x,h=u.y,v=i.x-c,f=i.y-h,m=u.width/2,b=u.height/2;if(!v&&!f)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(f)*m>Math.abs(v)*b?(f<0&&(b=-b),r=b*v/f,o=b):(v<0&&(m=-m),r=m,o=m*f/v),{x:c+r,y:h+o}},buildLayerMatrix:function(u){var i=d.map(d.range(n(u)+1),function(){return[]});return d.forEach(u.nodes(),function(r){var o=u.node(r),c=o.rank;d.isUndefined(c)||(i[c][o.order]=r)}),i},normalizeRanks:function(u){var i=d.min(d.map(u.nodes(),function(r){return u.node(r).rank}));d.forEach(u.nodes(),function(r){var o=u.node(r);d.has(o,"rank")&&(o.rank-=i)})},removeEmptyRanks:function(u){var i=d.min(d.map(u.nodes(),function(h){return u.node(h).rank})),r=[];d.forEach(u.nodes(),function(h){var v=u.node(h).rank-i;r[v]||(r[v]=[]),r[v].push(h)});var o=0,c=u.graph().nodeRankFactor;d.forEach(r,function(h,v){d.isUndefined(h)&&v%c!=0?--o:o&&d.forEach(h,function(f){u.node(f).rank+=o})})},addBorderNode:function(u,i,r,o){var c={width:0,height:0};return arguments.length>=4&&(c.rank=r,c.order=o),p(u,"border",c,i)},maxRank:n,partition:function(u,i){var r={lhs:[],rhs:[]};return d.forEach(u,function(o){i(o)?r.lhs.push(o):r.rhs.push(o)}),r},time:function(u,i){var r=d.now();try{return i()}finally{console.log(u+" time: "+(d.now()-r)+"ms")}},notime:function(u,i){return i()}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d!==null&&typeof d!="function"&&isFinite(d.length)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(172);x.mat3=d.default;var y=s(368);x.vec2=y.default;var p=s(369);x.vec3=p.default;var n=s(370);x.transform=n.default},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(61),n=s(29),a=s(109),u=s(19),i=s(110),r=s(171),o=s(157),c=function(h){function v(){var f=h!==null&&h.apply(this,arguments)||this;return f.type="svg",f.canFill=!1,f.canStroke=!1,f}return d.__extends(v,h),v.prototype.getDefaultAttrs=function(){var f=h.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},f),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},v.prototype.afterAttrsChange=function(f){h.prototype.afterAttrsChange.call(this,f);var m=this.get("canvas");if(m&&m.get("autoDraw")){var b=m.get("context");this.draw(b,f)}},v.prototype.getShapeBase=function(){return i},v.prototype.getGroupBase=function(){return r.default},v.prototype.onCanvasChange=function(f){a.refreshElement(this,f)},v.prototype.calculateBBox=function(){var f=this.get("el"),m=null;if(f)m=f.getBBox();else{var b=o.getBBoxMethod(this.get("type"));b&&(m=b(this))}if(m){var M=m.x,O=m.y,E=m.width,C=m.height,j=this.getHitLineWidth(),B=j/2,N=M-B,I=O-B;return{x:N,y:I,minX:N,minY:I,maxX:M+E+B,maxY:O+C+B,width:E+j,height:C+j}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},v.prototype.isFill=function(){var f=this.attr(),m=f.fill,b=f.fillStyle;return(m||b||this.isClipShape())&&this.canFill},v.prototype.isStroke=function(){var f=this.attr(),m=f.stroke,b=f.strokeStyle;return(m||b)&&this.canStroke},v.prototype.draw=function(f,m){var b=this.get("el");this.get("destroyed")?b&&b.parentNode.removeChild(b):(b||n.createDom(this),p.setClip(this,f),this.createPath(f,m),this.shadow(f,m),this.strokeAndFill(f,m),this.transform(m))},v.prototype.createPath=function(f,m){},v.prototype.strokeAndFill=function(f,m){var b=m||this.attr(),M=b.fill,O=b.fillStyle,E=b.stroke,C=b.strokeStyle,j=b.fillOpacity,B=b.strokeOpacity,N=b.lineWidth,I=this.get("el");this.canFill&&(m?"fill"in b?this._setColor(f,"fill",M):"fillStyle"in b&&this._setColor(f,"fill",O):this._setColor(f,"fill",M||O),j&&I.setAttribute(u.SVG_ATTR_MAP.fillOpacity,j)),this.canStroke&&N>0&&(m?"stroke"in b?this._setColor(f,"stroke",E):"strokeStyle"in b&&this._setColor(f,"stroke",C):this._setColor(f,"stroke",E||C),B&&I.setAttribute(u.SVG_ATTR_MAP.strokeOpacity,B),N&&I.setAttribute(u.SVG_ATTR_MAP.lineWidth,N))},v.prototype._setColor=function(f,m,b){var M=this.get("el");if(b)if(b=b.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(b))(O=f.find("gradient",b))||(O=f.addGradient(b)),M.setAttribute(u.SVG_ATTR_MAP[m],"url(#"+O+")");else if(/^[p,P]{1}[\s]*\(/.test(b)){var O;(O=f.find("pattern",b))||(O=f.addPattern(b)),M.setAttribute(u.SVG_ATTR_MAP[m],"url(#"+O+")")}else M.setAttribute(u.SVG_ATTR_MAP[m],b);else M.setAttribute(u.SVG_ATTR_MAP[m],"none")},v.prototype.shadow=function(f,m){var b=this.attr(),M=m||b,O=M.shadowOffsetX,E=M.shadowOffsetY,C=M.shadowBlur,j=M.shadowColor;(O||E||C||j)&&p.setShadow(this,f)},v.prototype.transform=function(f){var m=this.attr();(f||m).matrix&&p.setTransform(this)},v.prototype.isInShape=function(f,m){return this.isPointInPath(f,m)},v.prototype.isPointInPath=function(f,m){var b=this.get("el"),M=this.get("canvas").get("el").getBoundingClientRect(),O=f+M.left,E=m+M.top,C=document.elementFromPoint(O,E);return!(!C||!C.isEqualNode(b))},v.prototype.getHitLineWidth=function(){var f=this.attrs,m=f.lineWidth,b=f.lineAppendWidth;return this.isStroke()?m+b:0},v}(y.AbstractShape);x.default=c},function(A,x,s){var d;try{d={clone:s(373),constant:s(122),each:s(191),filter:s(194),has:s(205),isArray:s(15),isEmpty:s(450),isFunction:s(62),isUndefined:s(206),keys:s(41),map:s(207),reduce:s(209),size:s(453),transform:s(459),union:s(460),values:s(214)}}catch(y){}d||(d=window._),A.exports=d},function(A,x){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}A.exports=function(d){var y=s(d);return d!=null&&(y=="object"||y=="function")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.sqrDist=x.dist=x.div=x.mul=x.sub=x.len=void 0,x.create=y,x.clone=function(h){var v=new d.ARRAY_TYPE(2);return v[0]=h[0],v[1]=h[1],v},x.fromValues=function(h,v){var f=new d.ARRAY_TYPE(2);return f[0]=h,f[1]=v,f},x.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h},x.set=function(h,v,f){return h[0]=v,h[1]=f,h},x.add=function(h,v,f){return h[0]=v[0]+f[0],h[1]=v[1]+f[1],h},x.subtract=p,x.multiply=n,x.divide=a,x.ceil=function(h,v){return h[0]=Math.ceil(v[0]),h[1]=Math.ceil(v[1]),h},x.floor=function(h,v){return h[0]=Math.floor(v[0]),h[1]=Math.floor(v[1]),h},x.min=function(h,v,f){return h[0]=Math.min(v[0],f[0]),h[1]=Math.min(v[1],f[1]),h},x.max=function(h,v,f){return h[0]=Math.max(v[0],f[0]),h[1]=Math.max(v[1],f[1]),h},x.round=function(h,v){return h[0]=Math.round(v[0]),h[1]=Math.round(v[1]),h},x.scale=function(h,v,f){return h[0]=v[0]*f,h[1]=v[1]*f,h},x.scaleAndAdd=function(h,v,f,m){return h[0]=v[0]+f[0]*m,h[1]=v[1]+f[1]*m,h},x.distance=u,x.squaredDistance=i,x.length=r,x.squaredLength=o,x.negate=function(h,v){return h[0]=-v[0],h[1]=-v[1],h},x.inverse=function(h,v){return h[0]=1/v[0],h[1]=1/v[1],h},x.normalize=function(h,v){var f=v[0],m=v[1],b=f*f+m*m;return b>0&&(b=1/Math.sqrt(b),h[0]=v[0]*b,h[1]=v[1]*b),h},x.dot=function(h,v){return h[0]*v[0]+h[1]*v[1]},x.cross=function(h,v,f){var m=v[0]*f[1]-v[1]*f[0];return h[0]=h[1]=0,h[2]=m,h},x.lerp=function(h,v,f,m){var b=v[0],M=v[1];return h[0]=b+m*(f[0]-b),h[1]=M+m*(f[1]-M),h},x.random=function(h,v){v=v||1;var f=2*d.RANDOM()*Math.PI;return h[0]=Math.cos(f)*v,h[1]=Math.sin(f)*v,h},x.transformMat2=function(h,v,f){var m=v[0],b=v[1];return h[0]=f[0]*m+f[2]*b,h[1]=f[1]*m+f[3]*b,h},x.transformMat2d=function(h,v,f){var m=v[0],b=v[1];return h[0]=f[0]*m+f[2]*b+f[4],h[1]=f[1]*m+f[3]*b+f[5],h},x.transformMat3=function(h,v,f){var m=v[0],b=v[1];return h[0]=f[0]*m+f[3]*b+f[6],h[1]=f[1]*m+f[4]*b+f[7],h},x.transformMat4=function(h,v,f){var m=v[0],b=v[1];return h[0]=f[0]*m+f[4]*b+f[12],h[1]=f[1]*m+f[5]*b+f[13],h},x.rotate=function(h,v,f,m){var b=v[0]-f[0],M=v[1]-f[1],O=Math.sin(m),E=Math.cos(m);return h[0]=b*E-M*O+f[0],h[1]=b*O+M*E+f[1],h},x.angle=function(h,v){var f=h[0],m=h[1],b=v[0],M=v[1],O=f*f+m*m;O>0&&(O=1/Math.sqrt(O));var E=b*b+M*M;E>0&&(E=1/Math.sqrt(E));var C=(f*b+m*M)*O*E;return C>1?0:C<-1?Math.PI:Math.acos(C)},x.str=function(h){return"vec2("+h[0]+", "+h[1]+")"},x.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]},x.equals=function(h,v){var f=h[0],m=h[1],b=v[0],M=v[1];return Math.abs(f-b)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))&&Math.abs(m-M)<=d.EPSILON*Math.max(1,Math.abs(m),Math.abs(M))};var d=function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(v[f]=h[f]);return v.default=h,v}(s(104));function y(){var h=new d.ARRAY_TYPE(2);return d.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0),h}function p(h,v,f){return h[0]=v[0]-f[0],h[1]=v[1]-f[1],h}function n(h,v,f){return h[0]=v[0]*f[0],h[1]=v[1]*f[1],h}function a(h,v,f){return h[0]=v[0]/f[0],h[1]=v[1]/f[1],h}function u(h,v){var f=v[0]-h[0],m=v[1]-h[1];return Math.sqrt(f*f+m*m)}function i(h,v){var f=v[0]-h[0],m=v[1]-h[1];return f*f+m*m}function r(h){var v=h[0],f=h[1];return Math.sqrt(v*v+f*f)}function o(h){var v=h[0],f=h[1];return v*v+f*f}var c;x.len=r,x.sub=p,x.mul=n,x.div=a,x.dist=u,x.sqrDist=i,x.sqrLen=o,x.forEach=(c=y(),function(h,v,f,m,b,M){var O=void 0,E=void 0;for(v||(v=2),f||(f=0),E=m?Math.min(m*v+f,h.length):h.length,O=f;O<E;O+=v)c[0]=h[O],c[1]=h[O+1],b(c,c,M),h[O]=c[0],h[O+1]=c[1];return h})},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={}.toString;x.default=function(y,p){return d.call(y)==="[object "+p+"]"}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(18),n=s(60),a=s(157),u=s(73),i=s(164),r=function(o){function c(){return o!==null&&o.apply(this,arguments)||this}return d.__extends(c,o),c.prototype.getDefaultAttrs=function(){var h=o.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},h),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},c.prototype.getShapeBase=function(){return u},c.prototype.getGroupBase=function(){return i.default},c.prototype.onCanvasChange=function(h){n.refreshElement(this,h)},c.prototype.calculateBBox=function(){var h=this.get("type"),v=this.getHitLineWidth(),f=a.getBBoxMethod(h)(this),m=v/2,b=f.x-m,M=f.y-m,O=f.x+f.width+m,E=f.y+f.height+m;return{x:b,minX:b,y:M,minY:M,width:f.width+v,height:f.height+v,maxX:O,maxY:E}},c.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},c.prototype.isStroke=function(){return!!this.attrs.stroke},c.prototype._applyClip=function(h,v){v&&(h.save(),n.applyAttrsToContext(h,v),v.createPath(h),h.restore(),h.clip(),v._afterDraw())},c.prototype.draw=function(h,v){var f=this.cfg.clipShape;if(v){if(this.cfg.refresh===!1)return void this.set("hasChanged",!1);var m=this.getCanvasBBox();if(!p.intersectRect(v,m))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}h.save(),n.applyAttrsToContext(h,this),this._applyClip(h,f),this.drawPath(h),h.restore(),this._afterDraw()},c.prototype.getCanvasViewBox=function(){var h=this.cfg.canvas;return h?h.getViewRange():null},c.prototype.cacheCanvasBBox=function(){var h=this.getCanvasViewBox();if(h){var v=this.getCanvasBBox(),f=p.intersectRect(v,h);this.set("isInView",f),f?this.set("cacheCanvasBBox",v):this.set("cacheCanvasBBox",null)}},c.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},c.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},c.prototype.drawPath=function(h){this.createPath(h),this.strokeAndFill(h),this.afterDrawPath(h)},c.prototype.fill=function(h){h.fill()},c.prototype.stroke=function(h){h.stroke()},c.prototype.strokeAndFill=function(h){var v=this.attrs,f=v.lineWidth,m=v.opacity,b=v.strokeOpacity,M=v.fillOpacity;this.isFill()&&(p.isNil(M)||M===1?this.fill(h):(h.globalAlpha=M,this.fill(h),h.globalAlpha=m)),this.isStroke()&&f>0&&(p.isNil(b)||b===1||(h.globalAlpha=b),this.stroke(h)),this.afterDrawPath(h)},c.prototype.createPath=function(h){},c.prototype.afterDrawPath=function(h){},c.prototype.isInShape=function(h,v){var f=this.isStroke(),m=this.isFill(),b=this.getHitLineWidth();return this.isInStrokeOrPath(h,v,f,m,b)},c.prototype.isInStrokeOrPath=function(h,v,f,m,b){return!1},c.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var h=this.attrs;return h.lineWidth+h.lineAppendWidth},c}(y.AbstractShape);x.default=r},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.moveTo=x.sortDom=x.createDom=x.createSVGElement=void 0;var d=s(0),y=s(19);function p(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}x.createSVGElement=p,x.createDom=function(n){var a=y.SHAPE_TO_TAGS[n.type],u=n.getParent();if(!a)throw new Error("the type "+n.type+" is not supported by svg");var i=p(a);if(n.get("id")&&(i.id=n.get("id")),n.set("el",i),n.set("attrs",{}),u){var r=u.get("el");r||(r=u.createDom(),u.set("el",r)),r.appendChild(i)}return i},x.sortDom=function(n,a){var u=n.get("el"),i=d.toArray(u.children).sort(a),r=document.createDocumentFragment();i.forEach(function(o){r.appendChild(o)}),u.appendChild(r)},x.moveTo=function(n,a){var u=n.parentNode,i=Array.from(u.childNodes).filter(function(h){return h.nodeType===1&&h.nodeName.toLowerCase()!=="defs"}),r=i[a],o=i.indexOf(n);if(r){if(o>a)u.insertBefore(n,r);else if(o<a){var c=i[a+1];c?u.insertBefore(n,c):u.appendChild(n)}}else u.appendChild(n)}},function(A,x,s){var d;try{d=s(371)}catch(y){}d||(d=window.graphlib),A.exports=d},function(A,x,s){function d(a){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}var y=s(174),p=(typeof self=="undefined"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,n=y||p||Function("return this")();A.exports=n},function(A,x,s){"use strict";function d(n,a){var u=[],i=n[0],r=n[1],o=n[2],c=n[3],h=n[4],v=n[5],f=n[6],m=n[7],b=n[8],M=a[0],O=a[1],E=a[2],C=a[3],j=a[4],B=a[5],N=a[6],I=a[7],F=a[8];return u[0]=M*i+O*c+E*f,u[1]=M*r+O*h+E*m,u[2]=M*o+O*v+E*b,u[3]=C*i+j*c+B*f,u[4]=C*r+j*h+B*m,u[5]=C*o+j*v+B*b,u[6]=N*i+I*c+F*f,u[7]=N*r+I*h+F*m,u[8]=N*o+I*v+F*b,u}function y(n,a){var u=[],i=a[0],r=a[1];return u[0]=n[0]*i+n[3]*r+n[6],u[1]=n[1]*i+n[4]*r+n[7],u}function p(n){var a=[],u=n[0],i=n[1],r=n[2],o=n[3],c=n[4],h=n[5],v=n[6],f=n[7],m=n[8],b=m*c-h*f,M=-m*o+h*v,O=f*o-c*v,E=u*b+i*M+r*O;return E?(E=1/E,a[0]=b*E,a[1]=(-m*i+r*f)*E,a[2]=(h*i-r*c)*E,a[3]=M*E,a[4]=(m*u-r*v)*E,a[5]=(-h*u+r*o)*E,a[6]=O*E,a[7]=(-f*u+i*v)*E,a[8]=(c*u-i*o)*E,a):null}s.d(x,"b",function(){return d}),s.d(x,"c",function(){return y}),s.d(x,"a",function(){return p})},function(A,x,s){"use strict";function d(p){return Math.min.apply(null,p)}function y(p){return Math.max.apply(null,p)}Object.defineProperty(x,"__esModule",{value:!0}),x.piMod=x.getBBoxRange=x.getBBoxByArray=x.isNumberEqual=x.distance=void 0,x.distance=function(p,n,a,u){var i=p-a,r=n-u;return Math.sqrt(i*i+r*r)},x.isNumberEqual=function(p,n){return Math.abs(p-n)<.001},x.getBBoxByArray=function(p,n){var a=d(p),u=d(n);return{x:a,y:u,width:y(p)-a,height:y(n)-u}},x.getBBoxRange=function(p,n,a,u){return{minX:d([p,a]),maxX:y([p,a]),minY:d([n,u]),maxY:y([n,u])}},x.piMod=function(p){return(p+2*Math.PI)%(2*Math.PI)}},function(A,x){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}A.exports=function(d){return d!=null&&s(d)=="object"}},function(A,x,s){"use strict";function d(y){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(y){var p=d(y);return y!==null&&p==="object"||p==="function"}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(319),n=s(73),a=s(164),u=s(18),i=s(60),r=function(o){function c(){return o!==null&&o.apply(this,arguments)||this}return d.__extends(c,o),c.prototype.getDefaultCfg=function(){var h=o.prototype.getDefaultCfg.call(this);return h.renderer="canvas",h.autoDraw=!0,h.localRefresh=!0,h.refreshElements=[],h.clipView=!0,h.quickHit=!1,h},c.prototype.onCanvasChange=function(h){h!=="attr"&&h!=="sort"&&h!=="changeSize"||(this.set("refreshElements",[this]),this.draw())},c.prototype.getShapeBase=function(){return n},c.prototype.getGroupBase=function(){return a.default},c.prototype.getPixelRatio=function(){var h=this.get("pixelRatio")||u.getPixelRatio();return h>=1?Math.ceil(h):1},c.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},c.prototype.createDom=function(){var h=document.createElement("canvas"),v=h.getContext("2d");return this.set("context",v),h},c.prototype.setDOMSize=function(h,v){o.prototype.setDOMSize.call(this,h,v);var f=this.get("context"),m=this.get("el"),b=this.getPixelRatio();m.width=b*h,m.height=b*v,b>1&&f.scale(b,b)},c.prototype.clear=function(){o.prototype.clear.call(this),this._clearFrame();var h=this.get("context"),v=this.get("el");h.clearRect(0,0,v.width,v.height)},c.prototype.getShape=function(h,v){return this.get("quickHit")?p.getShape(this,h,v):o.prototype.getShape.call(this,h,v,null)},c.prototype._getRefreshRegion=function(){var h,v=this.get("refreshElements"),f=this.getViewRange();return v.length&&v[0]===this?h=f:(h=i.getMergedRegion(v))&&(h.minX=Math.floor(h.minX),h.minY=Math.floor(h.minY),h.maxX=Math.ceil(h.maxX),h.maxY=Math.ceil(h.maxY),h.maxY+=1,this.get("clipView")&&(h=i.mergeView(h,f))),h},c.prototype.refreshElement=function(h){this.get("refreshElements").push(h)},c.prototype._clearFrame=function(){var h=this.get("drawFrame");h&&(u.clearAnimationFrame(h),this.set("drawFrame",null),this.set("refreshElements",[]))},c.prototype.draw=function(){var h=this.get("drawFrame");this.get("autoDraw")&&h||this._startDraw()},c.prototype._drawAll=function(){var h=this.get("context"),v=this.get("el"),f=this.getChildren();h.clearRect(0,0,v.width,v.height),i.applyAttrsToContext(h,this),i.drawChildren(h,f),this.set("refreshElements",[])},c.prototype._drawRegion=function(){var h=this.get("context"),v=this.get("refreshElements"),f=this.getChildren(),m=this._getRefreshRegion();m?(h.clearRect(m.minX,m.minY,m.maxX-m.minX,m.maxY-m.minY),h.save(),h.beginPath(),h.rect(m.minX,m.minY,m.maxX-m.minX,m.maxY-m.minY),h.clip(),i.applyAttrsToContext(h,this),i.checkRefresh(this,f,m),i.drawChildren(h,f,m),h.restore()):v.length&&i.clearChanged(v),u.each(v,function(b){b.get("hasChanged")&&b.set("hasChanged",!1)}),this.set("refreshElements",[])},c.prototype._startDraw=function(){var h=this,v=this.get("drawFrame");v||(v=u.requestAnimationFrame(function(){h.get("localRefresh")?h._drawRegion():h._drawAll(),h.set("drawFrame",null)}),this.set("drawFrame",v))},c.prototype.skipDraw=function(){},c}(y.AbstractCanvas);x.default=r},function(A,x,s){"use strict";s.r(x),s.d(x,"catmullRomToBezier",function(){return u}),s.d(x,"fillPath",function(){return Q}),s.d(x,"fillPathByDiff",function(){return K}),s.d(x,"formatPath",function(){return ht}),s.d(x,"intersection",function(){return G}),s.d(x,"parsePathArray",function(){return m}),s.d(x,"parsePathString",function(){return a}),s.d(x,"pathToAbsolute",function(){return r}),s.d(x,"pathToCurve",function(){return v}),s.d(x,"rectPath",function(){return j});var d=s(0),y=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,p=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),n=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig"),a=function(gt){if(!gt)return null;if(Object(d.isArray)(gt))return gt;var bt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},mt=[];return String(gt).replace(p,function(vt,_t,Nt){var At=[],It=_t.toLowerCase();if(Nt.replace(n,function(dt,X){X&&At.push(+X)}),It==="m"&&At.length>2&&(mt.push([_t].concat(At.splice(0,2))),It="l",_t=_t==="m"?"l":"L"),It==="o"&&At.length===1&&mt.push([_t,At[0]]),It==="r")mt.push([_t].concat(At));else for(;At.length>=bt[It]&&(mt.push([_t].concat(At.splice(0,bt[It]))),bt[It]););return gt}),mt},u=function(gt,bt){for(var mt=[],vt=0,_t=gt.length;_t-2*!bt>vt;vt+=2){var Nt=[{x:+gt[vt-2],y:+gt[vt-1]},{x:+gt[vt],y:+gt[vt+1]},{x:+gt[vt+2],y:+gt[vt+3]},{x:+gt[vt+4],y:+gt[vt+5]}];bt?vt?_t-4===vt?Nt[3]={x:+gt[0],y:+gt[1]}:_t-2===vt&&(Nt[2]={x:+gt[0],y:+gt[1]},Nt[3]={x:+gt[2],y:+gt[3]}):Nt[0]={x:+gt[_t-2],y:+gt[_t-1]}:_t-4===vt?Nt[3]=Nt[2]:vt||(Nt[0]={x:+gt[vt],y:+gt[vt+1]}),mt.push(["C",(-Nt[0].x+6*Nt[1].x+Nt[2].x)/6,(-Nt[0].y+6*Nt[1].y+Nt[2].y)/6,(Nt[1].x+6*Nt[2].x-Nt[3].x)/6,(Nt[1].y+6*Nt[2].y-Nt[3].y)/6,Nt[2].x,Nt[2].y])}return mt},i=function(gt,bt,mt,vt,_t){var Nt=[];if(_t===null&&vt===null&&(vt=mt),gt=+gt,bt=+bt,mt=+mt,vt=+vt,_t!==null){var At=Math.PI/180,It=gt+mt*Math.cos(-vt*At),dt=gt+mt*Math.cos(-_t*At);Nt=[["M",It,bt+mt*Math.sin(-vt*At)],["A",mt,mt,0,+(_t-vt>180),0,dt,bt+mt*Math.sin(-_t*At)]]}else Nt=[["M",gt,bt],["m",0,-vt],["a",mt,vt,0,1,1,0,2*vt],["a",mt,vt,0,1,1,0,-2*vt],["z"]];return Nt},r=function(gt){if(!(gt=a(gt))||!gt.length)return[["M",0,0]];var bt,mt,vt=[],_t=0,Nt=0,At=0,It=0,dt=0;gt[0][0]==="M"&&(At=_t=+gt[0][1],It=Nt=+gt[0][2],dt++,vt[0]=["M",_t,Nt]);for(var X=gt.length===3&&gt[0][0]==="M"&&gt[1][0].toUpperCase()==="R"&&gt[2][0].toUpperCase()==="Z",V=void 0,Z=void 0,W=dt,rt=gt.length;W<rt;W++){if(vt.push(V=[]),(bt=(Z=gt[W])[0])!==bt.toUpperCase())switch(V[0]=bt.toUpperCase(),V[0]){case"A":V[1]=Z[1],V[2]=Z[2],V[3]=Z[3],V[4]=Z[4],V[5]=Z[5],V[6]=+Z[6]+_t,V[7]=+Z[7]+Nt;break;case"V":V[1]=+Z[1]+Nt;break;case"H":V[1]=+Z[1]+_t;break;case"R":for(var J=2,tt=(mt=[_t,Nt].concat(Z.slice(1))).length;J<tt;J++)mt[J]=+mt[J]+_t,mt[++J]=+mt[J]+Nt;vt.pop(),vt=vt.concat(u(mt,X));break;case"O":vt.pop(),(mt=i(_t,Nt,Z[1],Z[2])).push(mt[0]),vt=vt.concat(mt);break;case"U":vt.pop(),vt=vt.concat(i(_t,Nt,Z[1],Z[2],Z[3])),V=["U"].concat(vt[vt.length-1].slice(-2));break;case"M":At=+Z[1]+_t,It=+Z[2]+Nt;break;default:for(J=1,tt=Z.length;J<tt;J++)V[J]=+Z[J]+(J%2?_t:Nt)}else if(bt==="R")mt=[_t,Nt].concat(Z.slice(1)),vt.pop(),vt=vt.concat(u(mt,X)),V=["R"].concat(Z.slice(-2));else if(bt==="O")vt.pop(),(mt=i(_t,Nt,Z[1],Z[2])).push(mt[0]),vt=vt.concat(mt);else if(bt==="U")vt.pop(),vt=vt.concat(i(_t,Nt,Z[1],Z[2],Z[3])),V=["U"].concat(vt[vt.length-1].slice(-2));else for(var ft=0,kt=Z.length;ft<kt;ft++)V[ft]=Z[ft];if((bt=bt.toUpperCase())!=="O")switch(V[0]){case"Z":_t=+At,Nt=+It;break;case"H":_t=V[1];break;case"V":Nt=V[1];break;case"M":At=V[V.length-2],It=V[V.length-1];break;default:_t=V[V.length-2],Nt=V[V.length-1]}}return vt},o=function(gt,bt,mt,vt){return[gt,bt,mt,vt,mt,vt]},c=function(gt,bt,mt,vt,_t,Nt){return[1/3*gt+2/3*mt,1/3*bt+2/3*vt,1/3*_t+2/3*mt,1/3*Nt+2/3*vt,_t,Nt]},h=function St(gt,bt,mt,vt,_t,Nt,At,It,dt,X){mt===vt&&(mt+=1);var V,Z,W,rt,J,tt=120*Math.PI/180,ft=Math.PI/180*(+_t||0),kt=[],jt=function(an,tn,Ve){return{x:an*Math.cos(Ve)-tn*Math.sin(Ve),y:an*Math.sin(Ve)+tn*Math.cos(Ve)}};if(X)Z=X[0],W=X[1],rt=X[2],J=X[3];else{gt=(V=jt(gt,bt,-ft)).x,bt=V.y,It=(V=jt(It,dt,-ft)).x,dt=V.y,gt===It&&bt===dt&&(It+=1,dt+=1);var Bt=(gt-It)/2,Rt=(bt-dt)/2,Lt=Bt*Bt/(mt*mt)+Rt*Rt/(vt*vt);Lt>1&&(mt*=Lt=Math.sqrt(Lt),vt*=Lt);var Pt=mt*mt,Ct=vt*vt,Ht=(Nt===At?-1:1)*Math.sqrt(Math.abs((Pt*Ct-Pt*Rt*Rt-Ct*Bt*Bt)/(Pt*Rt*Rt+Ct*Bt*Bt)));rt=Ht*mt*Rt/vt+(gt+It)/2,J=Ht*-vt*Bt/mt+(bt+dt)/2,Z=Math.asin(((bt-J)/vt).toFixed(9)),W=Math.asin(((dt-J)/vt).toFixed(9)),Z=gt<rt?Math.PI-Z:Z,W=It<rt?Math.PI-W:W,Z<0&&(Z=2*Math.PI+Z),W<0&&(W=2*Math.PI+W),At&&Z>W&&(Z-=2*Math.PI),!At&&W>Z&&(W-=2*Math.PI)}var Xt=W-Z;if(Math.abs(Xt)>tt){var ut=W,re=It,pe=dt;W=Z+tt*(At&&W>Z?1:-1),kt=St(It=rt+mt*Math.cos(W),dt=J+vt*Math.sin(W),mt,vt,_t,0,At,re,pe,[W,ut,rt,J])}Xt=W-Z;var de=Math.cos(Z),we=Math.sin(Z),fe=Math.cos(W),ue=Math.sin(W),ye=Math.tan(Xt/4),ve=4/3*mt*ye,xe=4/3*vt*ye,Ge=[gt,bt],je=[gt+ve*we,bt-xe*de],Ne=[It+ve*ue,dt-xe*fe],Me=[It,dt];if(je[0]=2*Ge[0]-je[0],je[1]=2*Ge[1]-je[1],X)return[je,Ne,Me].concat(kt);for(var De=[],Xe=0,We=(kt=[je,Ne,Me].concat(kt).join().split(",")).length;Xe<We;Xe++)De[Xe]=Xe%2?jt(kt[Xe-1],kt[Xe],ft).y:jt(kt[Xe],kt[Xe+1],ft).x;return De},v=function(gt,bt){var mt,vt=r(gt),_t=bt&&r(bt),Nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},At={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},It=[],dt=[],X="",V="",Z=function(Rt,Lt,Pt){var Ct,Ht;if(!Rt)return["C",Lt.x,Lt.y,Lt.x,Lt.y,Lt.x,Lt.y];switch(!(Rt[0]in{T:1,Q:1})&&(Lt.qx=Lt.qy=null),Rt[0]){case"M":Lt.X=Rt[1],Lt.Y=Rt[2];break;case"A":Rt=["C"].concat(h.apply(0,[Lt.x,Lt.y].concat(Rt.slice(1))));break;case"S":Pt==="C"||Pt==="S"?(Ct=2*Lt.x-Lt.bx,Ht=2*Lt.y-Lt.by):(Ct=Lt.x,Ht=Lt.y),Rt=["C",Ct,Ht].concat(Rt.slice(1));break;case"T":Pt==="Q"||Pt==="T"?(Lt.qx=2*Lt.x-Lt.qx,Lt.qy=2*Lt.y-Lt.qy):(Lt.qx=Lt.x,Lt.qy=Lt.y),Rt=["C"].concat(c(Lt.x,Lt.y,Lt.qx,Lt.qy,Rt[1],Rt[2]));break;case"Q":Lt.qx=Rt[1],Lt.qy=Rt[2],Rt=["C"].concat(c(Lt.x,Lt.y,Rt[1],Rt[2],Rt[3],Rt[4]));break;case"L":Rt=["C"].concat(o(Lt.x,Lt.y,Rt[1],Rt[2]));break;case"H":Rt=["C"].concat(o(Lt.x,Lt.y,Rt[1],Lt.y));break;case"V":Rt=["C"].concat(o(Lt.x,Lt.y,Lt.x,Rt[1]));break;case"Z":Rt=["C"].concat(o(Lt.x,Lt.y,Lt.X,Lt.Y))}return Rt},W=function(Rt,Lt){if(Rt[Lt].length>7){Rt[Lt].shift();for(var Pt=Rt[Lt];Pt.length;)It[Lt]="A",_t&&(dt[Lt]="A"),Rt.splice(Lt++,0,["C"].concat(Pt.splice(0,6)));Rt.splice(Lt,1),mt=Math.max(vt.length,_t&&_t.length||0)}},rt=function(Rt,Lt,Pt,Ct,Ht){Rt&&Lt&&Rt[Ht][0]==="M"&&Lt[Ht][0]!=="M"&&(Lt.splice(Ht,0,["M",Ct.x,Ct.y]),Pt.bx=0,Pt.by=0,Pt.x=Rt[Ht][1],Pt.y=Rt[Ht][2],mt=Math.max(vt.length,_t&&_t.length||0))};mt=Math.max(vt.length,_t&&_t.length||0);for(var J=0;J<mt;J++){vt[J]&&(X=vt[J][0]),X!=="C"&&(It[J]=X,J&&(V=It[J-1])),vt[J]=Z(vt[J],Nt,V),It[J]!=="A"&&X==="C"&&(It[J]="C"),W(vt,J),_t&&(_t[J]&&(X=_t[J][0]),X!=="C"&&(dt[J]=X,J&&(V=dt[J-1])),_t[J]=Z(_t[J],At,V),dt[J]!=="A"&&X==="C"&&(dt[J]="C"),W(_t,J)),rt(vt,_t,Nt,At,J),rt(_t,vt,At,Nt,J);var tt=vt[J],ft=_t&&_t[J],kt=tt.length,jt=_t&&ft.length;Nt.x=tt[kt-2],Nt.y=tt[kt-1],Nt.bx=parseFloat(tt[kt-4])||Nt.x,Nt.by=parseFloat(tt[kt-3])||Nt.y,At.bx=_t&&(parseFloat(ft[jt-4])||At.x),At.by=_t&&(parseFloat(ft[jt-3])||At.y),At.x=_t&&ft[jt-2],At.y=_t&&ft[jt-1]}return _t?[vt,_t]:vt},f=/,?([a-z]),?/gi,m=function(gt){return gt.join(",").replace(f,"$1")},b=function(gt,bt,mt,vt,_t){return gt*(gt*(-3*bt+9*mt-9*vt+3*_t)+6*bt-12*mt+6*vt)-3*bt+3*mt},M=function(gt,bt,mt,vt,_t,Nt,At,It,dt){dt===null&&(dt=1);for(var X=(dt=dt>1?1:dt<0?0:dt)/2,V=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],W=0,rt=0;rt<12;rt++){var J=X*V[rt]+X,tt=b(J,gt,mt,_t,At),ft=b(J,bt,vt,Nt,It),kt=tt*tt+ft*ft;W+=Z[rt]*Math.sqrt(kt)}return X*W},O=function(gt,bt,mt,vt,_t,Nt,At,It){for(var dt,X,V,Z,W=[],rt=[[],[]],J=0;J<2;++J)if(J===0?(X=6*gt-12*mt+6*_t,dt=-3*gt+9*mt-9*_t+3*At,V=3*mt-3*gt):(X=6*bt-12*vt+6*Nt,dt=-3*bt+9*vt-9*Nt+3*It,V=3*vt-3*bt),Math.abs(dt)<1e-12){if(Math.abs(X)<1e-12)continue;(Z=-V/X)>0&&Z<1&&W.push(Z)}else{var tt=X*X-4*V*dt,ft=Math.sqrt(tt);if(!(tt<0)){var kt=(-X+ft)/(2*dt);kt>0&&kt<1&&W.push(kt);var jt=(-X-ft)/(2*dt);jt>0&&jt<1&&W.push(jt)}}for(var Bt,Rt=W.length,Lt=Rt;Rt--;)Bt=1-(Z=W[Rt]),rt[0][Rt]=Bt*Bt*Bt*gt+3*Bt*Bt*Z*mt+3*Bt*Z*Z*_t+Z*Z*Z*At,rt[1][Rt]=Bt*Bt*Bt*bt+3*Bt*Bt*Z*vt+3*Bt*Z*Z*Nt+Z*Z*Z*It;return rt[0][Lt]=gt,rt[1][Lt]=bt,rt[0][Lt+1]=At,rt[1][Lt+1]=It,rt[0].length=rt[1].length=Lt+2,{min:{x:Math.min.apply(0,rt[0]),y:Math.min.apply(0,rt[1])},max:{x:Math.max.apply(0,rt[0]),y:Math.max.apply(0,rt[1])}}},E=function(gt,bt,mt,vt,_t,Nt,At,It){if(!(Math.max(gt,mt)<Math.min(_t,At)||Math.min(gt,mt)>Math.max(_t,At)||Math.max(bt,vt)<Math.min(Nt,It)||Math.min(bt,vt)>Math.max(Nt,It))){var dt=(gt-mt)*(Nt-It)-(bt-vt)*(_t-At);if(dt){var X=((gt*vt-bt*mt)*(_t-At)-(gt-mt)*(_t*It-Nt*At))/dt,V=((gt*vt-bt*mt)*(Nt-It)-(bt-vt)*(_t*It-Nt*At))/dt,Z=+X.toFixed(2),W=+V.toFixed(2);if(!(Z<+Math.min(gt,mt).toFixed(2)||Z>+Math.max(gt,mt).toFixed(2)||Z<+Math.min(_t,At).toFixed(2)||Z>+Math.max(_t,At).toFixed(2)||W<+Math.min(bt,vt).toFixed(2)||W>+Math.max(bt,vt).toFixed(2)||W<+Math.min(Nt,It).toFixed(2)||W>+Math.max(Nt,It).toFixed(2)))return{x:X,y:V}}}},C=function(gt,bt,mt){return bt>=gt.x&&bt<=gt.x+gt.width&&mt>=gt.y&&mt<=gt.y+gt.height},j=function(gt,bt,mt,vt,_t){if(_t)return[["M",+gt+ +_t,bt],["l",mt-2*_t,0],["a",_t,_t,0,0,1,_t,_t],["l",0,vt-2*_t],["a",_t,_t,0,0,1,-_t,_t],["l",2*_t-mt,0],["a",_t,_t,0,0,1,-_t,-_t],["l",0,2*_t-vt],["a",_t,_t,0,0,1,_t,-_t],["z"]];var Nt=[["M",gt,bt],["l",mt,0],["l",0,vt],["l",-mt,0],["z"]];return Nt.parsePathArray=m,Nt},B=function(gt,bt,mt,vt){return gt===null&&(gt=bt=mt=vt=0),bt===null&&(bt=gt.y,mt=gt.width,vt=gt.height,gt=gt.x),{x:gt,y:bt,width:mt,w:mt,height:vt,h:vt,x2:gt+mt,y2:bt+vt,cx:gt+mt/2,cy:bt+vt/2,r1:Math.min(mt,vt)/2,r2:Math.max(mt,vt)/2,r0:Math.sqrt(mt*mt+vt*vt)/2,path:j(gt,bt,mt,vt),vb:[gt,bt,mt,vt].join(" ")}},N=function(gt,bt,mt,vt,_t,Nt,At,It){Object(d.isArray)(gt)||(gt=[gt,bt,mt,vt,_t,Nt,At,It]);var dt=O.apply(null,gt);return B(dt.min.x,dt.min.y,dt.max.x-dt.min.x,dt.max.y-dt.min.y)},I=function(gt,bt,mt,vt,_t,Nt,At,It,dt){var X=1-dt,V=Math.pow(X,3),Z=Math.pow(X,2),W=dt*dt,rt=W*dt,J=gt+2*dt*(mt-gt)+W*(_t-2*mt+gt),tt=bt+2*dt*(vt-bt)+W*(Nt-2*vt+bt),ft=mt+2*dt*(_t-mt)+W*(At-2*_t+mt),kt=vt+2*dt*(Nt-vt)+W*(It-2*Nt+vt);return{x:V*gt+3*Z*dt*mt+3*X*dt*dt*_t+rt*At,y:V*bt+3*Z*dt*vt+3*X*dt*dt*Nt+rt*It,m:{x:J,y:tt},n:{x:ft,y:kt},start:{x:X*gt+dt*mt,y:X*bt+dt*vt},end:{x:X*_t+dt*At,y:X*Nt+dt*It},alpha:90-180*Math.atan2(J-ft,tt-kt)/Math.PI}},F=function(gt,bt,mt){if(!function(Lt,Pt){return Lt=B(Lt),Pt=B(Pt),C(Pt,Lt.x,Lt.y)||C(Pt,Lt.x2,Lt.y)||C(Pt,Lt.x,Lt.y2)||C(Pt,Lt.x2,Lt.y2)||C(Lt,Pt.x,Pt.y)||C(Lt,Pt.x2,Pt.y)||C(Lt,Pt.x,Pt.y2)||C(Lt,Pt.x2,Pt.y2)||(Lt.x<Pt.x2&&Lt.x>Pt.x||Pt.x<Lt.x2&&Pt.x>Lt.x)&&(Lt.y<Pt.y2&&Lt.y>Pt.y||Pt.y<Lt.y2&&Pt.y>Lt.y)}(N(gt),N(bt)))return mt?0:[];for(var vt=~~(M.apply(0,gt)/8),_t=~~(M.apply(0,bt)/8),Nt=[],At=[],It={},dt=mt?0:[],X=0;X<vt+1;X++){var V=I.apply(0,gt.concat(X/vt));Nt.push({x:V.x,y:V.y,t:X/vt})}for(X=0;X<_t+1;X++)V=I.apply(0,bt.concat(X/_t)),At.push({x:V.x,y:V.y,t:X/_t});for(X=0;X<vt;X++)for(var Z=0;Z<_t;Z++){var W=Nt[X],rt=Nt[X+1],J=At[Z],tt=At[Z+1],ft=Math.abs(rt.x-W.x)<.001?"y":"x",kt=Math.abs(tt.x-J.x)<.001?"y":"x",jt=E(W.x,W.y,rt.x,rt.y,J.x,J.y,tt.x,tt.y);if(jt){if(It[jt.x.toFixed(4)]===jt.y.toFixed(4))continue;It[jt.x.toFixed(4)]=jt.y.toFixed(4);var Bt=W.t+Math.abs((jt[ft]-W[ft])/(rt[ft]-W[ft]))*(rt.t-W.t),Rt=J.t+Math.abs((jt[kt]-J[kt])/(tt[kt]-J[kt]))*(tt.t-J.t);Bt>=0&&Bt<=1&&Rt>=0&&Rt<=1&&(mt?dt+=1:dt.push({x:jt.x,y:jt.y,t1:Bt,t2:Rt}))}}return dt},G=function(gt,bt){return function(mt,vt,_t){var Nt,At,It,dt,X,V,Z,W,rt,J;mt=v(mt),vt=v(vt);for(var tt=_t?0:[],ft=0,kt=mt.length;ft<kt;ft++){var jt=mt[ft];if(jt[0]==="M")Nt=X=jt[1],At=V=jt[2];else{jt[0]==="C"?(rt=[Nt,At].concat(jt.slice(1)),Nt=rt[6],At=rt[7]):(rt=[Nt,At,Nt,At,X,V,X,V],Nt=X,At=V);for(var Bt=0,Rt=vt.length;Bt<Rt;Bt++){var Lt=vt[Bt];if(Lt[0]==="M")It=Z=Lt[1],dt=W=Lt[2];else{Lt[0]==="C"?(J=[It,dt].concat(Lt.slice(1)),It=J[6],dt=J[7]):(J=[It,dt,It,dt,Z,W,Z,W],It=Z,dt=W);var Pt=F(rt,J,_t);if(_t)tt+=Pt;else{for(var Ct=0,Ht=Pt.length;Ct<Ht;Ct++)Pt[Ct].segment1=ft,Pt[Ct].segment2=Bt,Pt[Ct].bez1=rt,Pt[Ct].bez2=J;tt=tt.concat(Pt)}}}}}return tt}(gt,bt)};function U(St,gt){var bt=[],mt=[];return St.length&&function vt(_t,Nt){if(_t.length===1)bt.push(_t[0]),mt.push(_t[0]);else{for(var At=[],It=0;It<_t.length-1;It++)It===0&&bt.push(_t[0]),It===_t.length-2&&mt.push(_t[It+1]),At[It]=[(1-Nt)*_t[It][0]+Nt*_t[It+1][0],(1-Nt)*_t[It][1]+Nt*_t[It+1][1]];vt(At,Nt)}}(St,gt),{left:bt,right:mt.reverse()}}var H=function(gt,bt,mt){if(mt===1)return[[].concat(gt)];var vt=[];if(bt[0]==="L"||bt[0]==="C"||bt[0]==="Q")vt=vt.concat(function(At,It,dt){var X=[[At[1],At[2]]];dt=dt||2;var V=[];It[0]==="A"?(X.push(It[6]),X.push(It[7])):It[0]==="C"?(X.push([It[1],It[2]]),X.push([It[3],It[4]]),X.push([It[5],It[6]])):It[0]==="S"||It[0]==="Q"?(X.push([It[1],It[2]]),X.push([It[3],It[4]])):X.push([It[1],It[2]]);for(var Z=X,W=1/dt,rt=0;rt<dt-1;rt++){var J=U(Z,W/(1-W*rt));V.push(J.left),Z=J.right}return V.push(Z),V.map(function(tt){var ft=[];return tt.length===4&&(ft.push("C"),ft=ft.concat(tt[2])),tt.length>=3&&(tt.length===3&&ft.push("Q"),ft=ft.concat(tt[1])),tt.length===2&&ft.push("L"),ft=ft.concat(tt[tt.length-1])})}(gt,bt,mt));else{var _t=[].concat(gt);_t[0]==="M"&&(_t[0]="L");for(var Nt=0;Nt<=mt-1;Nt++)vt.push(_t)}return vt},Q=function(gt,bt){if(gt.length===1)return gt;var mt=gt.length-1,vt=bt.length-1,_t=mt/vt,Nt=[];if(gt.length===1&&gt[0][0]==="M"){for(var At=0;At<vt-mt;At++)gt.push(gt[0]);return gt}for(At=0;At<vt;At++){var It=Math.floor(_t*At);Nt[It]=(Nt[It]||0)+1}var dt=Nt.reduce(function(X,V,Z){return Z===mt?X.concat(gt[mt]):X.concat(H(gt[Z],gt[Z+1],V))},[]);return dt.unshift(gt[0]),bt[vt]!=="Z"&&bt[vt]!=="z"||dt.push("Z"),dt},at=function(gt,bt){if(gt.length!==bt.length)return!1;var mt=!0;return Object(d.each)(gt,function(vt,_t){if(vt!==bt[_t])return mt=!1,!1}),mt};function $(St,gt,bt){var mt=null,vt=bt;return gt<vt&&(vt=gt,mt="add"),St<vt&&(vt=St,mt="del"),{type:mt,min:vt}}var K=function(gt,bt){var mt=function(W,rt){var J,tt,ft=W.length,kt=rt.length,jt=0;if(ft===0||kt===0)return null;for(var Bt=[],Rt=0;Rt<=ft;Rt++)Bt[Rt]=[],Bt[Rt][0]={min:Rt};for(var Lt=0;Lt<=kt;Lt++)Bt[0][Lt]={min:Lt};for(Rt=1;Rt<=ft;Rt++)for(J=W[Rt-1],Lt=1;Lt<=kt;Lt++){tt=rt[Lt-1],jt=at(J,tt)?0:1;var Pt=Bt[Rt-1][Lt].min+1,Ct=Bt[Rt][Lt-1].min+1,Ht=Bt[Rt-1][Lt-1].min+jt;Bt[Rt][Lt]=$(Pt,Ct,Ht)}return Bt}(gt,bt),vt=gt.length,_t=bt.length,Nt=[],At=1,It=1;if(mt[vt][_t].min!==vt){for(var dt=1;dt<=vt;dt++){var X=mt[dt][dt].min;It=dt;for(var V=At;V<=_t;V++)mt[dt][V].min<X&&(X=mt[dt][V].min,It=V);At=It,mt[dt][At].type&&Nt.push({index:dt-1,type:mt[dt][At].type})}for(dt=Nt.length-1;dt>=0;dt--)At=Nt[dt].index,Nt[dt].type==="add"?gt.splice(At,0,[].concat(gt[At])):gt.splice(At,1)}var Z=_t-(vt=gt.length);if(vt<_t)for(dt=0;dt<Z;dt++)gt[vt-1][0]==="z"||gt[vt-1][0]==="Z"?gt.splice(vt-2,0,gt[vt-2]):gt.push(gt[vt-1]),vt+=1;return gt};function ot(St,gt,bt){for(var mt,vt=[].concat(St),_t=1/(bt+1),Nt=it(gt)[0],At=1;At<=bt;At++)_t*=At,(mt=Math.floor(St.length*_t))===0?vt.unshift([Nt[0]*_t+St[mt][0]*(1-_t),Nt[1]*_t+St[mt][1]*(1-_t)]):vt.splice(mt,0,[Nt[0]*_t+St[mt][0]*(1-_t),Nt[1]*_t+St[mt][1]*(1-_t)]);return vt}function it(St){var gt=[];switch(St[0]){case"M":case"L":gt.push([St[1],St[2]]);break;case"A":gt.push([St[6],St[7]]);break;case"Q":gt.push([St[3],St[4]]),gt.push([St[1],St[2]]);break;case"T":gt.push([St[1],St[2]]);break;case"C":gt.push([St[5],St[6]]),gt.push([St[1],St[2]]),gt.push([St[3],St[4]]);break;case"S":gt.push([St[3],St[4]]),gt.push([St[1],St[2]]);break;case"H":case"V":gt.push([St[1],St[1]])}return gt}var ht=function(gt,bt){if(gt.length<=1)return gt;for(var mt,vt=0;vt<bt.length;vt++)if(gt[vt][0]!==bt[vt][0])switch(mt=it(gt[vt]),bt[vt][0]){case"M":gt[vt]=["M"].concat(mt[0]);break;case"L":gt[vt]=["L"].concat(mt[0]);break;case"A":gt[vt]=[].concat(bt[vt]),gt[vt][6]=mt[0][0],gt[vt][7]=mt[0][1];break;case"Q":if(mt.length<2){if(!(vt>0)){gt[vt]=bt[vt];break}mt=ot(mt,gt[vt-1],1)}gt[vt]=["Q"].concat(mt.reduce(function(_t,Nt){return _t.concat(Nt)},[]));break;case"T":gt[vt]=["T"].concat(mt[0]);break;case"C":if(mt.length<3){if(!(vt>0)){gt[vt]=bt[vt];break}mt=ot(mt,gt[vt-1],2)}gt[vt]=["C"].concat(mt.reduce(function(_t,Nt){return _t.concat(Nt)},[]));break;case"S":if(mt.length<2){if(!(vt>0)){gt[vt]=bt[vt];break}mt=ot(mt,gt[vt-1],1)}gt[vt]=["S"].concat(mt.reduce(function(_t,Nt){return _t.concat(Nt)},[]));break;default:gt[vt]=bt[vt]}return gt}},function(A,x,s){var d=s(62),y=s(116);A.exports=function(p){return p!=null&&y(p.length)&&!d(p)}},function(A,x,s){function d(i){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}var y=s(430),p=s(440),n=s(47),a=s(15),u=s(447);A.exports=function(i){return typeof i=="function"?i:i==null?n:d(i)=="object"?a(i)?p(i[0],i[1]):y(i):u(i)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33),y=s(105);x.default={box:function(n,a,u,i){return d.getBBoxByArray([n,u],[a,i])},length:function(n,a,u,i){return d.distance(n,a,u,i)},pointAt:function(n,a,u,i,r){return{x:(1-r)*n+r*u,y:(1-r)*a+r*i}},pointDistance:function(n,a,u,i,r,o){var c=(u-n)*(r-n)+(i-a)*(o-a);return c<0?d.distance(n,a,r,o):c>(u-n)*(u-n)+(i-a)*(i-a)?d.distance(u,i,r,o):this.pointToLine(n,a,u,i,r,o)},pointToLine:function(n,a,u,i,r,o){var c=[u-n,i-a];if(y.exactEquals(c,[0,0]))return Math.sqrt((r-n)*(r-n)+(o-a)*(o-a));var h=[-c[1],c[0]];y.normalize(h,h);var v=[r-n,o-a];return Math.abs(y.dot(v,h))},tangentAngle:function(n,a,u,i){return Math.atan2(i-a,u-n)}}},function(A,x,s){var d=s(177),y=s(118),p=s(38);A.exports=function(n){return p(n)?d(n):y(n)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(19),n=s(109),a=s(61),u=s(29),i=s(110),r=s(171),o=s(362),c=function(h){function v(f){return h.call(this,d.__assign(d.__assign({},f),{autoDraw:!0,renderer:"svg"}))||this}return d.__extends(v,h),v.prototype.getShapeBase=function(){return i},v.prototype.getGroupBase=function(){return r.default},v.prototype.getShape=function(f,m,b){var M=b.target||b.srcElement;if(!p.SHAPE_TO_TAGS[M.tagName]){for(var O=M.parentNode;O&&!p.SHAPE_TO_TAGS[O.tagName];)O=O.parentNode;M=O}return this.find(function(E){return E.get("el")===M})},v.prototype.createDom=function(){var f=u.createSVGElement("svg"),m=new o.default(f);return f.setAttribute("width",""+this.get("width")),f.setAttribute("height",""+this.get("height")),this.set("context",m),f},v.prototype.onCanvasChange=function(f){var m=this.get("context"),b=this.get("el");if(f==="sort"){var M=this.get("children");M&&M.length&&u.sortDom(this,function(E,C){return M.indexOf(E)-M.indexOf(C)?1:0})}else if(f==="clear"){if(b){b.innerHTML="";var O=m.el;O.innerHTML="",b.appendChild(O)}}else f==="matrix"?a.setTransform(this):f==="clip"?a.setClip(this,m):f==="changeSize"&&(b.setAttribute("width",""+this.get("width")),b.setAttribute("height",""+this.get("height")))},v.prototype.draw=function(){var f=this.get("context"),m=this.getChildren();a.setClip(this,f),m.length&&n.drawChildren(f,m)},v}(y.AbstractCanvas);x.default=c},function(A,x,s){"use strict";s.r(x),s.d(x,"version",function(){return c});var d=s(37);s.d(x,"PathUtil",function(){return d});var y=s(150);for(var p in y)["default","version","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil"].indexOf(p)<0&&function(h){s.d(x,h,function(){return y[h]})}(p);var n=s(151);for(var p in n)["default","version","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil"].indexOf(p)<0&&function(v){s.d(x,v,function(){return n[v]})}(p);var a=s(96);s.d(x,"Event",function(){return a.a});var u=s(97);s.d(x,"Base",function(){return u.a});var i=s(228);s.d(x,"AbstractCanvas",function(){return i.a});var r=s(153);s.d(x,"AbstractGroup",function(){return r.a});var o=s(154);s.d(x,"AbstractShape",function(){return o.a});var c=s(318).version},function(A,x,s){var d=s(384),y=s(390);A.exports=function(p,n){var a=y(p,n);return d(a)?a:void 0}},function(A,x,s){var d=s(52),y=s(386),p=s(387),n=d?d.toStringTag:void 0;A.exports=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":n&&n in Object(a)?y(a):p(a)}},function(A,x,s){var d=s(177),y=s(410),p=s(38);A.exports=function(n){return p(n)?d(n,!0):y(n)}},function(A,x){A.exports=function(s){return s}},function(A,x,s){var d=s(0).mix;A.exports={assign:d}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(59);x.default=function(y){var p=d.default(y);return p.charAt(0).toUpperCase()+p.substring(1)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){if(d["_wrap_"+y])return d["_wrap_"+y];var p=function(a){d[y](a)};return d["_wrap_"+y]=p,p}},function(A,x){A.exports=function(s,d){return s===d||s!=s&&d!=d}},function(A,x,s){var d=s(31).Symbol;A.exports=d},function(A,x,s){(function(d){function y(o){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(o)}var p=s(31),n=s(406),a=y(x)=="object"&&x&&!x.nodeType&&x,u=a&&y(d)=="object"&&d&&!d.nodeType&&d,i=u&&u.exports===a?p.Buffer:void 0,r=(i?i.isBuffer:void 0)||n;d.exports=r}).call(this,s(115)(A))},function(A,x,s){var d=s(415),y=s(112),p=s(416),n=s(186),a=s(417),u=s(45),i=s(175),r=i(d),o=i(y),c=i(p),h=i(n),v=i(a),f=u;(d&&f(new d(new ArrayBuffer(1)))!="[object DataView]"||y&&f(new y)!="[object Map]"||p&&f(p.resolve())!="[object Promise]"||n&&f(new n)!="[object Set]"||a&&f(new a)!="[object WeakMap]")&&(f=function(b){var M=u(b),O=M=="[object Object]"?b.constructor:void 0,E=O?i(O):"";if(E)switch(E){case r:return"[object DataView]";case o:return"[object Map]";case c:return"[object Promise]";case h:return"[object Set]";case v:return"[object WeakMap]"}return M}),A.exports=f},function(A,x,s){function d(n){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(n)}var y=s(45),p=s(34);A.exports=function(n){return d(n)=="symbol"||p(n)&&y(n)=="[object Symbol]"}},function(A,x){var s=[],d=[];function y(p,n){if(n=n||{},p===void 0)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var a,u=n.prepend===!0?"prepend":"append",i=n.container!==void 0?n.container:document.querySelector("head"),r=s.indexOf(i);return r===-1&&(r=s.push(i)-1,d[r]={}),d[r]!==void 0&&d[r][u]!==void 0?a=d[r][u]:(a=d[r][u]=function(){var o=document.createElement("style");return o.setAttribute("type","text/css"),o}(),u==="prepend"?i.insertBefore(a,i.childNodes[0]):i.appendChild(a)),p.charCodeAt(0)===65279&&(p=p.substr(1,p.length)),a.styleSheet?a.styleSheet.cssText+=p:a.textContent+=p,a}A.exports=y,A.exports.insertCss=y},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){if(d){if(typeof d.addEventListener=="function")return d.addEventListener(y,p,!1),{remove:function(){d.removeEventListener(y,p,!1)}};if(typeof d.attachEvent=="function")return d.attachEvent("on"+y,p),{remove:function(){d.detachEvent("on"+y,p)}}}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(102),y=s(27);x.default=function(p){if(!d.default(p)||!y.default(p,"Object"))return!1;if(Object.getPrototypeOf(p)===null)return!0;for(var n=p;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(p)===n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10);x.default=function(y){return d.default(y)?"":y.toString()}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.mergeView=x.getMergedRegion=x.getRefreshRegion=x.refreshElement=x.drawPath=x.clearChanged=x.checkChildrenRefresh=x.checkRefresh=x.drawChildren=x.applyAttrsToContext=void 0;var d=s(0),y=s(156),p=s(321),n=s(18),a=s(74),u={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function i(h,v){for(var f=0;f<h.length;f++){var m=h[f];if(m.cfg.visible)if(m.cfg.hasChanged)m.cfg.refresh=!0,m.isGroup()&&r(m.cfg.children,v);else if(m.cfg.refresh)m.isGroup()&&i(m.cfg.children,v);else{var b=o(m,v);m.cfg.refresh=b,b&&m.isGroup()&&i(m.cfg.children,v)}}}function r(h,v){for(var f=0;f<h.length;f++){var m=h[f];m.cfg.refresh=!0,m.isGroup()&&r(m.get("children"),v)}}function o(h,v){var f=h.cfg.cacheCanvasBBox;return h.cfg.isInView&&f&&n.intersectRect(f,v)}function c(h){var v;if(h.destroyed)v=h._cacheCanvasBBox;else{var f=h.get("cacheCanvasBBox"),m=f&&!(!f.width||!f.height),b=h.getCanvasBBox(),M=b&&!(!b.width||!b.height);m&&M?v=n.mergeRegion(f,b):m?v=f:M&&(v=b)}return v}x.applyAttrsToContext=function(h,v){var f=v.attr();for(var m in f){var b=f[m],M=u[m]?u[m]:m;M==="matrix"&&b?h.transform(b[0],b[1],b[3],b[4],b[6],b[7]):M==="lineDash"&&h.setLineDash?d.isArray(b)&&h.setLineDash(b):(M==="strokeStyle"||M==="fillStyle"?b=y.parseStyle(h,v,b):M==="globalAlpha"&&(b*=h.globalAlpha),h[M]=b)}},x.drawChildren=function(h,v,f){for(var m=0;m<v.length;m++){var b=v[m];b.cfg.visible?b.draw(h,f):b.skipDraw()}},x.checkRefresh=function(h,v,f){var m=h.get("refreshElements");d.each(m,function(b){if(b!==h)for(var M=b.cfg.parent;M&&M!==h&&!M.cfg.refresh;)M.cfg.refresh=!0,M=M.cfg.parent}),m[0]===h?r(v,f):i(v,f)},x.checkChildrenRefresh=i,x.clearChanged=function h(v){for(var f=0;f<v.length;f++){var m=v[f];m.cfg.hasChanged=!1,m.isGroup()&&!m.destroyed&&h(m.cfg.children)}},x.drawPath=function(h,v,f,m){var b=f.path,M=f.startArrow,O=f.endArrow,E=[0,0],C=[0,0],j={dx:0,dy:0};v.beginPath();for(var B=0;B<b.length;B++){var N=b[B],I=N[0];if(B===0&&M&&M.d){var F=h.getStartTangent();j=a.getShortenOffset(F[0][0],F[0][1],F[1][0],F[1][1],M.d)}else B===b.length-2&&b[B+1][0]==="Z"&&O&&O.d?b[B+1][0]==="Z"&&(F=h.getEndTangent(),j=a.getShortenOffset(F[0][0],F[0][1],F[1][0],F[1][1],O.d)):B===b.length-1&&O&&O.d&&b[0]!=="Z"&&(F=h.getEndTangent(),j=a.getShortenOffset(F[0][0],F[0][1],F[1][0],F[1][1],O.d));var G=j.dx,U=j.dy;switch(I){case"M":v.moveTo(N[1]-G,N[2]-U),C=[N[1],N[2]];break;case"L":v.lineTo(N[1]-G,N[2]-U);break;case"Q":v.quadraticCurveTo(N[1],N[2],N[3]-G,N[4]-U);break;case"C":v.bezierCurveTo(N[1],N[2],N[3],N[4],N[5]-G,N[6]-U);break;case"A":var H=void 0;m?(H=m[B])||(H=p.default(E,N),m[B]=H):H=p.default(E,N);var Q=H.cx,at=H.cy,$=H.rx,K=H.ry,ot=H.startAngle,it=H.endAngle,ht=H.xRotation,St=H.sweepFlag;if(v.ellipse)v.ellipse(Q,at,$,K,ht,ot,it,1-St);else{var gt=$>K?$:K,bt=$>K?1:$/K,mt=$>K?K/$:1;v.translate(Q,at),v.rotate(ht),v.scale(bt,mt),v.arc(0,0,gt,ot,it,1-St),v.scale(1/bt,1/mt),v.rotate(-ht),v.translate(-Q,-at)}break;case"Z":v.closePath()}if(I==="Z")E=C;else{var vt=N.length;E=[N[vt-2],N[vt-1]]}}},x.refreshElement=function(h,v){var f=h.get("canvas");f&&(v==="remove"&&(h._cacheCanvasBBox=h.get("cacheCanvasBBox")),h.get("hasChanged")||(h.set("hasChanged",!0),h.cfg.parent&&h.cfg.parent.get("hasChanged")||(f.refreshElement(h,v,f),f.get("autoDraw")&&f.draw())))},x.getRefreshRegion=c,x.getMergedRegion=function(h){if(!h.length)return null;var v=[],f=[],m=[],b=[];return d.each(h,function(M){var O=c(M);O&&(v.push(O.minX),f.push(O.minY),m.push(O.maxX),b.push(O.maxY))}),{minX:Math.min.apply(null,v),minY:Math.min.apply(null,f),maxX:Math.max.apply(null,m),maxY:Math.max.apply(null,b)}},x.mergeView=function(h,v){return h&&v&&n.intersectRect(h,v)?{minX:Math.max(h.minX,v.minX),minY:Math.max(h.minY,v.minY),maxX:Math.min(h.maxX,v.maxX),maxY:Math.min(h.maxY,v.maxY)}:null}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.setClip=x.setTransform=x.setShadow=void 0;var d=s(29);x.setShadow=function(y,p){var n=y.cfg.el,a=y.attr(),u={dx:a.shadowOffsetX,dy:a.shadowOffsetY,blur:a.shadowBlur,color:a.shadowColor};if(u.dx||u.dy||u.blur||u.color){var i=p.find("filter",u);i||(i=p.addShadow(u)),n.setAttribute("filter","url(#"+i+")")}else n.removeAttribute("filter")},x.setTransform=function(y){var p=y.attr().matrix;if(p){for(var n=y.cfg.el,a=[],u=0;u<9;u+=3)a.push(p[u]+","+p[u+1]);(a=a.join(",")).indexOf("NaN")===-1?n.setAttribute("transform","matrix("+a+")"):console.warn("invalid matrix:",p)}},x.setClip=function(y,p){var n=y.getClip(),a=y.get("el");if(n){if(n&&!a.hasAttribute("clip-path")){d.createDom(n),n.createPath(p);var u=p.addClip(n);a.setAttribute("clip-path","url(#"+u+")")}}else a.removeAttribute("clip-path")}},function(A,x,s){var d=s(45),y=s(25);A.exports=function(p){if(!y(p))return!1;var n=d(p);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"}},function(A,x,s){var d=s(81),y=s(82);A.exports=function(p,n,a,u){var i=!a;a||(a={});for(var r=-1,o=n.length;++r<o;){var c=n[r],h=u?u(a[c],p[c],c,a,p):void 0;h===void 0&&(h=p[c]),i?y(a,c,h):d(a,c,h)}return a}},function(A,x,s){var d=s(405),y=s(34),p=Object.prototype,n=p.hasOwnProperty,a=p.propertyIsEnumerable,u=d(function(){return arguments}())?d:function(i){return y(i)&&n.call(i,"callee")&&!a.call(i,"callee")};A.exports=u},function(A,x,s){var d=s(407),y=s(84),p=s(117),n=p&&p.isTypedArray,a=n?y(n):d;A.exports=a},function(A,x,s){var d=s(55);A.exports=function(y){if(typeof y=="string"||d(y))return y;var p=y+"";return p=="0"&&1/y==-1/0?"-0":p}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){return(d%y+y)%y}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=Math.PI/180;x.default=function(y){return d*y}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(14),p=Object.prototype.hasOwnProperty;x.default=function(n,a){if(!a||!d.default(n))return{};for(var u,i={},r=y.default(a)?a:function(h){return h[a]},o=0;o<n.length;o++){var c=n[o];u=r(c),p.call(i,u)?i[u].push(c):i[u]=[c]}return i}},function(A,x,s){"use strict";function d(f){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}var y=s(311),p=s(315),n=[].slice,a=["keyword","gray","hex"],u={};Object.keys(p).forEach(function(f){u[n.call(p[f].labels).sort().join("")]=f});var i={};function r(f,m){if(!(this instanceof r))return new r(f,m);if(m&&m in a&&(m=null),m&&!(m in p))throw new Error("Unknown model: "+m);var b,M;if(f==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(f instanceof r)this.model=f.model,this.color=f.color.slice(),this.valpha=f.valpha;else if(typeof f=="string"){var O=y.get(f);if(O===null)throw new Error("Unable to parse color from string: "+f);this.model=O.model,M=p[this.model].channels,this.color=O.value.slice(0,M),this.valpha=typeof O.value[M]=="number"?O.value[M]:1}else if(f.length){this.model=m||"rgb",M=p[this.model].channels;var E=n.call(f,0,M);this.color=v(E,M),this.valpha=typeof f[M]=="number"?f[M]:1}else if(typeof f=="number")f&=16777215,this.model="rgb",this.color=[f>>16&255,f>>8&255,255&f],this.valpha=1;else{this.valpha=1;var C=Object.keys(f);"alpha"in f&&(C.splice(C.indexOf("alpha"),1),this.valpha=typeof f.alpha=="number"?f.alpha:0);var j=C.sort().join("");if(!(j in u))throw new Error("Unable to parse color from object: "+JSON.stringify(f));this.model=u[j];var B=p[this.model].labels,N=[];for(b=0;b<B.length;b++)N.push(f[B[b]]);this.color=v(N)}if(i[this.model])for(M=p[this.model].channels,b=0;b<M;b++){var I=i[this.model][b];I&&(this.color[b]=I(this.color[b]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function o(f,m,b){return(f=Array.isArray(f)?f:[f]).forEach(function(M){(i[M]||(i[M]=[]))[m]=b}),f=f[0],function(M){var O;return arguments.length?(b&&(M=b(M)),(O=this[f]()).color[m]=M,O):(O=this[f]().color[m],b&&(O=b(O)),O)}}function c(f){return function(m){return Math.max(0,Math.min(f,m))}}function h(f){return Array.isArray(f)?f:[f]}function v(f,m){for(var b=0;b<m;b++)typeof f[b]!="number"&&(f[b]=0);return f}r.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(m){var b=this.model in y.to?this:this.rgb(),M=(b=b.round(typeof m=="number"?m:1)).valpha===1?b.color:b.color.concat(this.valpha);return y.to[b.model](M)},percentString:function(m){var b=this.rgb().round(typeof m=="number"?m:1),M=b.valpha===1?b.color:b.color.concat(this.valpha);return y.to.rgb.percent(M)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var m={},b=p[this.model].channels,M=p[this.model].labels,O=0;O<b;O++)m[M[O]]=this.color[O];return this.valpha!==1&&(m.alpha=this.valpha),m},unitArray:function(){var m=this.rgb().color;return m[0]/=255,m[1]/=255,m[2]/=255,this.valpha!==1&&m.push(this.valpha),m},unitObject:function(){var m=this.rgb().object();return m.r/=255,m.g/=255,m.b/=255,this.valpha!==1&&(m.alpha=this.valpha),m},round:function(m){return m=Math.max(m||0,0),new r(this.color.map(function(b){return function(M){return function(O,E){return Number(O.toFixed(E))}(M,b)}}(m)).concat(this.valpha),this.model)},alpha:function(m){return arguments.length?new r(this.color.concat(Math.max(0,Math.min(1,m))),this.model):this.valpha},red:o("rgb",0,c(255)),green:o("rgb",1,c(255)),blue:o("rgb",2,c(255)),hue:o(["hsl","hsv","hsl","hwb","hcg"],0,function(f){return(f%360+360)%360}),saturationl:o("hsl",1,c(100)),lightness:o("hsl",2,c(100)),saturationv:o("hsv",1,c(100)),value:o("hsv",2,c(100)),chroma:o("hcg",1,c(100)),gray:o("hcg",2,c(100)),white:o("hwb",1,c(100)),wblack:o("hwb",2,c(100)),cyan:o("cmyk",0,c(100)),magenta:o("cmyk",1,c(100)),yellow:o("cmyk",2,c(100)),black:o("cmyk",3,c(100)),x:o("xyz",0,c(100)),y:o("xyz",1,c(100)),z:o("xyz",2,c(100)),l:o("lab",0,c(100)),a:o("lab",1),b:o("lab",2),keyword:function(m){return arguments.length?new r(m):p[this.model].keyword(this.color)},hex:function(m){return arguments.length?new r(m):y.to.hex(this.rgb().round().color)},rgbNumber:function(){var m=this.rgb().color;return(255&m[0])<<16|(255&m[1])<<8|255&m[2]},luminosity:function(){for(var m=this.rgb().color,b=[],M=0;M<m.length;M++){var O=m[M]/255;b[M]=O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4)}return .2126*b[0]+.7152*b[1]+.0722*b[2]},contrast:function(m){var b=this.luminosity(),M=m.luminosity();return b>M?(b+.05)/(M+.05):(M+.05)/(b+.05)},level:function(m){var b=this.contrast(m);return b>=7.1?"AAA":b>=4.5?"AA":""},isDark:function(){var m=this.rgb().color;return(299*m[0]+587*m[1]+114*m[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var m=this.rgb(),b=0;b<3;b++)m.color[b]=255-m.color[b];return m},lighten:function(m){var b=this.hsl();return b.color[2]+=b.color[2]*m,b},darken:function(m){var b=this.hsl();return b.color[2]-=b.color[2]*m,b},saturate:function(m){var b=this.hsl();return b.color[1]+=b.color[1]*m,b},desaturate:function(m){var b=this.hsl();return b.color[1]-=b.color[1]*m,b},whiten:function(m){var b=this.hwb();return b.color[1]+=b.color[1]*m,b},blacken:function(m){var b=this.hwb();return b.color[2]+=b.color[2]*m,b},grayscale:function(){var m=this.rgb().color,b=.3*m[0]+.59*m[1]+.11*m[2];return r.rgb(b,b,b)},fade:function(m){return this.alpha(this.valpha-this.valpha*m)},opaquer:function(m){return this.alpha(this.valpha+this.valpha*m)},rotate:function(m){var b=this.hsl(),M=b.color[0];return M=(M=(M+m)%360)<0?360+M:M,b.color[0]=M,b},mix:function(m,b){if(!m||!m.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+d(m));var M=m.rgb(),O=this.rgb(),E=b===void 0?.5:b,C=2*E-1,j=M.alpha()-O.alpha(),B=((C*j==-1?C:(C+j)/(1+C*j))+1)/2,N=1-B;return r.rgb(B*M.red()+N*O.red(),B*M.green()+N*O.green(),B*M.blue()+N*O.blue(),M.alpha()*E+O.alpha()*(1-E))}},Object.keys(p).forEach(function(f){if(a.indexOf(f)===-1){var m=p[f].channels;r.prototype[f]=function(){if(this.model===f)return new r(this);if(arguments.length)return new r(arguments,f);var b=typeof arguments[m]=="number"?m:this.valpha;return new r(h(p[this.model][f].raw(this.color)).concat(b),f)},r[f]=function(b){return typeof b=="number"&&(b=v(n.call(arguments),m)),new r(b,f)}}}),A.exports=r},function(A,x,s){var d;function y(p){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(p)}(function(p){var n=/^\s+/,a=/\s+$/,u=0,i=p.round,r=p.min,o=p.max,c=p.random;function h(dt,X){if(X=X||{},(dt=dt||"")instanceof h)return dt;if(!(this instanceof h))return new h(dt,X);var V=function(Z){var W={r:0,g:0,b:0},rt=1,J=null,tt=null,ft=null,kt=!1,jt=!1;typeof Z=="string"&&(Z=function(Pt){Pt=Pt.replace(n,"").replace(a,"").toLowerCase();var Ct,Ht=!1;if(at[Pt])Pt=at[Pt],Ht=!0;else if(Pt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Ct=At.rgb.exec(Pt))?{r:Ct[1],g:Ct[2],b:Ct[3]}:(Ct=At.rgba.exec(Pt))?{r:Ct[1],g:Ct[2],b:Ct[3],a:Ct[4]}:(Ct=At.hsl.exec(Pt))?{h:Ct[1],s:Ct[2],l:Ct[3]}:(Ct=At.hsla.exec(Pt))?{h:Ct[1],s:Ct[2],l:Ct[3],a:Ct[4]}:(Ct=At.hsv.exec(Pt))?{h:Ct[1],s:Ct[2],v:Ct[3]}:(Ct=At.hsva.exec(Pt))?{h:Ct[1],s:Ct[2],v:Ct[3],a:Ct[4]}:(Ct=At.hex8.exec(Pt))?{r:ht(Ct[1]),g:ht(Ct[2]),b:ht(Ct[3]),a:mt(Ct[4]),format:Ht?"name":"hex8"}:(Ct=At.hex6.exec(Pt))?{r:ht(Ct[1]),g:ht(Ct[2]),b:ht(Ct[3]),format:Ht?"name":"hex"}:(Ct=At.hex4.exec(Pt))?{r:ht(Ct[1]+""+Ct[1]),g:ht(Ct[2]+""+Ct[2]),b:ht(Ct[3]+""+Ct[3]),a:mt(Ct[4]+""+Ct[4]),format:Ht?"name":"hex8"}:(Ct=At.hex3.exec(Pt))?{r:ht(Ct[1]+""+Ct[1]),g:ht(Ct[2]+""+Ct[2]),b:ht(Ct[3]+""+Ct[3]),format:Ht?"name":"hex"}:!1}(Z)),y(Z)=="object"&&(It(Z.r)&&It(Z.g)&&It(Z.b)?(Bt=Z.r,Rt=Z.g,Lt=Z.b,W={r:255*ot(Bt,255),g:255*ot(Rt,255),b:255*ot(Lt,255)},kt=!0,jt=String(Z.r).substr(-1)==="%"?"prgb":"rgb"):It(Z.h)&&It(Z.s)&&It(Z.v)?(J=gt(Z.s),tt=gt(Z.v),W=function(Pt,Ct,Ht){Pt=6*ot(Pt,360),Ct=ot(Ct,100),Ht=ot(Ht,100);var Xt=p.floor(Pt),ut=Pt-Xt,re=Ht*(1-Ct),pe=Ht*(1-ut*Ct),de=Ht*(1-(1-ut)*Ct),we=Xt%6;return{r:255*[Ht,pe,re,re,de,Ht][we],g:255*[de,Ht,Ht,pe,re,re][we],b:255*[re,re,de,Ht,Ht,pe][we]}}(Z.h,J,tt),kt=!0,jt="hsv"):It(Z.h)&&It(Z.s)&&It(Z.l)&&(J=gt(Z.s),ft=gt(Z.l),W=function(Pt,Ct,Ht){var Xt,ut,re;function pe(fe,ue,ye){return ye<0&&(ye+=1),ye>1&&(ye-=1),ye<1/6?fe+6*(ue-fe)*ye:ye<.5?ue:ye<2/3?fe+(ue-fe)*(2/3-ye)*6:fe}if(Pt=ot(Pt,360),Ct=ot(Ct,100),Ht=ot(Ht,100),Ct===0)Xt=ut=re=Ht;else{var de=Ht<.5?Ht*(1+Ct):Ht+Ct-Ht*Ct,we=2*Ht-de;Xt=pe(we,de,Pt+1/3),ut=pe(we,de,Pt),re=pe(we,de,Pt-1/3)}return{r:255*Xt,g:255*ut,b:255*re}}(Z.h,J,ft),kt=!0,jt="hsl"),Z.hasOwnProperty("a")&&(rt=Z.a));var Bt,Rt,Lt;return rt=K(rt),{ok:kt,format:Z.format||jt,r:r(255,o(W.r,0)),g:r(255,o(W.g,0)),b:r(255,o(W.b,0)),a:rt}}(dt);this._originalInput=dt,this._r=V.r,this._g=V.g,this._b=V.b,this._a=V.a,this._roundA=i(100*this._a)/100,this._format=X.format||V.format,this._gradientType=X.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=V.ok,this._tc_id=u++}function v(dt,X,V){dt=ot(dt,255),X=ot(X,255),V=ot(V,255);var Z,W,rt=o(dt,X,V),J=r(dt,X,V),tt=(rt+J)/2;if(rt==J)Z=W=0;else{var ft=rt-J;switch(W=tt>.5?ft/(2-rt-J):ft/(rt+J),rt){case dt:Z=(X-V)/ft+(X<V?6:0);break;case X:Z=(V-dt)/ft+2;break;case V:Z=(dt-X)/ft+4}Z/=6}return{h:Z,s:W,l:tt}}function f(dt,X,V){dt=ot(dt,255),X=ot(X,255),V=ot(V,255);var Z,W,rt=o(dt,X,V),J=r(dt,X,V),tt=rt,ft=rt-J;if(W=rt===0?0:ft/rt,rt==J)Z=0;else{switch(rt){case dt:Z=(X-V)/ft+(X<V?6:0);break;case X:Z=(V-dt)/ft+2;break;case V:Z=(dt-X)/ft+4}Z/=6}return{h:Z,s:W,v:tt}}function m(dt,X,V,Z){var W=[St(i(dt).toString(16)),St(i(X).toString(16)),St(i(V).toString(16))];return Z&&W[0].charAt(0)==W[0].charAt(1)&&W[1].charAt(0)==W[1].charAt(1)&&W[2].charAt(0)==W[2].charAt(1)?W[0].charAt(0)+W[1].charAt(0)+W[2].charAt(0):W.join("")}function b(dt,X,V,Z){return[St(bt(Z)),St(i(dt).toString(16)),St(i(X).toString(16)),St(i(V).toString(16))].join("")}function M(dt,X){X=X===0?0:X||10;var V=h(dt).toHsl();return V.s-=X/100,V.s=it(V.s),h(V)}function O(dt,X){X=X===0?0:X||10;var V=h(dt).toHsl();return V.s+=X/100,V.s=it(V.s),h(V)}function E(dt){return h(dt).desaturate(100)}function C(dt,X){X=X===0?0:X||10;var V=h(dt).toHsl();return V.l+=X/100,V.l=it(V.l),h(V)}function j(dt,X){X=X===0?0:X||10;var V=h(dt).toRgb();return V.r=o(0,r(255,V.r-i(-X/100*255))),V.g=o(0,r(255,V.g-i(-X/100*255))),V.b=o(0,r(255,V.b-i(-X/100*255))),h(V)}function B(dt,X){X=X===0?0:X||10;var V=h(dt).toHsl();return V.l-=X/100,V.l=it(V.l),h(V)}function N(dt,X){var V=h(dt).toHsl(),Z=(V.h+X)%360;return V.h=Z<0?360+Z:Z,h(V)}function I(dt){var X=h(dt).toHsl();return X.h=(X.h+180)%360,h(X)}function F(dt){var X=h(dt).toHsl(),V=X.h;return[h(dt),h({h:(V+120)%360,s:X.s,l:X.l}),h({h:(V+240)%360,s:X.s,l:X.l})]}function G(dt){var X=h(dt).toHsl(),V=X.h;return[h(dt),h({h:(V+90)%360,s:X.s,l:X.l}),h({h:(V+180)%360,s:X.s,l:X.l}),h({h:(V+270)%360,s:X.s,l:X.l})]}function U(dt){var X=h(dt).toHsl(),V=X.h;return[h(dt),h({h:(V+72)%360,s:X.s,l:X.l}),h({h:(V+216)%360,s:X.s,l:X.l})]}function H(dt,X,V){X=X||6,V=V||30;var Z=h(dt).toHsl(),W=360/V,rt=[h(dt)];for(Z.h=(Z.h-(W*X>>1)+720)%360;--X;)Z.h=(Z.h+W)%360,rt.push(h(Z));return rt}function Q(dt,X){X=X||6;for(var V=h(dt).toHsv(),Z=V.h,W=V.s,rt=V.v,J=[],tt=1/X;X--;)J.push(h({h:Z,s:W,v:rt})),rt=(rt+tt)%1;return J}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(299*X.r+587*X.g+114*X.b)/1e3},getLuminance:function(){var X,V,Z,W=this.toRgb();return X=W.r/255,V=W.g/255,Z=W.b/255,.2126*(X<=.03928?X/12.92:p.pow((X+.055)/1.055,2.4))+.7152*(V<=.03928?V/12.92:p.pow((V+.055)/1.055,2.4))+.0722*(Z<=.03928?Z/12.92:p.pow((Z+.055)/1.055,2.4))},setAlpha:function(X){return this._a=K(X),this._roundA=i(100*this._a)/100,this},toHsv:function(){var X=f(this._r,this._g,this._b);return{h:360*X.h,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=f(this._r,this._g,this._b),V=i(360*X.h),Z=i(100*X.s),W=i(100*X.v);return this._a==1?"hsv("+V+", "+Z+"%, "+W+"%)":"hsva("+V+", "+Z+"%, "+W+"%, "+this._roundA+")"},toHsl:function(){var X=v(this._r,this._g,this._b);return{h:360*X.h,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=v(this._r,this._g,this._b),V=i(360*X.h),Z=i(100*X.s),W=i(100*X.l);return this._a==1?"hsl("+V+", "+Z+"%, "+W+"%)":"hsla("+V+", "+Z+"%, "+W+"%, "+this._roundA+")"},toHex:function(X){return m(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return function(V,Z,W,rt,J){var tt=[St(i(V).toString(16)),St(i(Z).toString(16)),St(i(W).toString(16)),St(bt(rt))];return J&&tt[0].charAt(0)==tt[0].charAt(1)&&tt[1].charAt(0)==tt[1].charAt(1)&&tt[2].charAt(0)==tt[2].charAt(1)&&tt[3].charAt(0)==tt[3].charAt(1)?tt[0].charAt(0)+tt[1].charAt(0)+tt[2].charAt(0)+tt[3].charAt(0):tt.join("")}(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*ot(this._r,255))+"%",g:i(100*ot(this._g,255))+"%",b:i(100*ot(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+i(100*ot(this._r,255))+"%, "+i(100*ot(this._g,255))+"%, "+i(100*ot(this._b,255))+"%)":"rgba("+i(100*ot(this._r,255))+"%, "+i(100*ot(this._g,255))+"%, "+i(100*ot(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&($[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(X){var V="#"+b(this._r,this._g,this._b,this._a),Z=V,W=this._gradientType?"GradientType = 1, ":"";if(X){var rt=h(X);Z="#"+b(rt._r,rt._g,rt._b,rt._a)}return"progid:DXImageTransform.Microsoft.gradient("+W+"startColorstr="+V+",endColorstr="+Z+")"},toString:function(X){var V=!!X;X=X||this._format;var Z=!1,W=this._a<1&&this._a>=0;return V||!W||X!=="hex"&&X!=="hex6"&&X!=="hex3"&&X!=="hex4"&&X!=="hex8"&&X!=="name"?(X==="rgb"&&(Z=this.toRgbString()),X==="prgb"&&(Z=this.toPercentageRgbString()),X!=="hex"&&X!=="hex6"||(Z=this.toHexString()),X==="hex3"&&(Z=this.toHexString(!0)),X==="hex4"&&(Z=this.toHex8String(!0)),X==="hex8"&&(Z=this.toHex8String()),X==="name"&&(Z=this.toName()),X==="hsl"&&(Z=this.toHslString()),X==="hsv"&&(Z=this.toHsvString()),Z||this.toHexString()):X==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(X,V){var Z=X.apply(null,[this].concat([].slice.call(V)));return this._r=Z._r,this._g=Z._g,this._b=Z._b,this.setAlpha(Z._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(j,arguments)},darken:function(){return this._applyModification(B,arguments)},desaturate:function(){return this._applyModification(M,arguments)},saturate:function(){return this._applyModification(O,arguments)},greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(N,arguments)},_applyCombination:function(X,V){return X.apply(null,[this].concat([].slice.call(V)))},analogous:function(){return this._applyCombination(H,arguments)},complement:function(){return this._applyCombination(I,arguments)},monochromatic:function(){return this._applyCombination(Q,arguments)},splitcomplement:function(){return this._applyCombination(U,arguments)},triad:function(){return this._applyCombination(F,arguments)},tetrad:function(){return this._applyCombination(G,arguments)}},h.fromRatio=function(dt,X){if(y(dt)=="object"){var V={};for(var Z in dt)dt.hasOwnProperty(Z)&&(V[Z]=Z==="a"?dt[Z]:gt(dt[Z]));dt=V}return h(dt,X)},h.equals=function(dt,X){return!(!dt||!X)&&h(dt).toRgbString()==h(X).toRgbString()},h.random=function(){return h.fromRatio({r:c(),g:c(),b:c()})},h.mix=function(dt,X,V){V=V===0?0:V||50;var Z=h(dt).toRgb(),W=h(X).toRgb(),rt=V/100;return h({r:(W.r-Z.r)*rt+Z.r,g:(W.g-Z.g)*rt+Z.g,b:(W.b-Z.b)*rt+Z.b,a:(W.a-Z.a)*rt+Z.a})},h.readability=function(dt,X){var V=h(dt),Z=h(X);return(p.max(V.getLuminance(),Z.getLuminance())+.05)/(p.min(V.getLuminance(),Z.getLuminance())+.05)},h.isReadable=function(dt,X,V){var Z,W,rt=h.readability(dt,X);switch(W=!1,(Z=function(J){var tt,ft;return tt=((J=J||{level:"AA",size:"small"}).level||"AA").toUpperCase(),ft=(J.size||"small").toLowerCase(),tt!=="AA"&&tt!=="AAA"&&(tt="AA"),ft!=="small"&&ft!=="large"&&(ft="small"),{level:tt,size:ft}}(V)).level+Z.size){case"AAsmall":case"AAAlarge":W=rt>=4.5;break;case"AAlarge":W=rt>=3;break;case"AAAsmall":W=rt>=7}return W},h.mostReadable=function(dt,X,V){var Z,W,rt,J,tt=null,ft=0;W=(V=V||{}).includeFallbackColors,rt=V.level,J=V.size;for(var kt=0;kt<X.length;kt++)(Z=h.readability(dt,X[kt]))>ft&&(ft=Z,tt=h(X[kt]));return h.isReadable(dt,tt,{level:rt,size:J})||!W?tt:(V.includeFallbackColors=!1,h.mostReadable(dt,["#fff","#000"],V))};var at=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$=h.hexNames=function(dt){var X={};for(var V in dt)dt.hasOwnProperty(V)&&(X[dt[V]]=V);return X}(at);function K(dt){return dt=parseFloat(dt),(isNaN(dt)||dt<0||dt>1)&&(dt=1),dt}function ot(dt,X){(function(Z){return typeof Z=="string"&&Z.indexOf(".")!=-1&&parseFloat(Z)===1})(dt)&&(dt="100%");var V=function(Z){return typeof Z=="string"&&Z.indexOf("%")!=-1}(dt);return dt=r(X,o(0,parseFloat(dt))),V&&(dt=parseInt(dt*X,10)/100),p.abs(dt-X)<1e-6?1:dt%X/parseFloat(X)}function it(dt){return r(1,o(0,dt))}function ht(dt){return parseInt(dt,16)}function St(dt){return dt.length==1?"0"+dt:""+dt}function gt(dt){return dt<=1&&(dt=100*dt+"%"),dt}function bt(dt){return p.round(255*parseFloat(dt)).toString(16)}function mt(dt){return ht(dt)/255}var vt,_t,Nt,At=(_t="[\\s|\\(]+("+(vt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+vt+")[,|\\s]+("+vt+")\\s*\\)?",Nt="[\\s|\\(]+("+vt+")[,|\\s]+("+vt+")[,|\\s]+("+vt+")[,|\\s]+("+vt+")\\s*\\)?",{CSS_UNIT:new RegExp(vt),rgb:new RegExp("rgb"+_t),rgba:new RegExp("rgba"+Nt),hsl:new RegExp("hsl"+_t),hsla:new RegExp("hsla"+Nt),hsv:new RegExp("hsv"+_t),hsva:new RegExp("hsva"+Nt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function It(dt){return!!At.CSS_UNIT.exec(dt)}A.exports?A.exports=h:(d=function(){return h}.call(x,s,x,A))===void 0||(A.exports=d)})(Math)},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y,p){return!!d.default(y)&&y.indexOf(p)>-1}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(28);Object.defineProperty(x,"Base",{enumerable:!0,get:function(){return d.default}});var y=s(334);Object.defineProperty(x,"Circle",{enumerable:!0,get:function(){return y.default}});var p=s(335);Object.defineProperty(x,"Ellipse",{enumerable:!0,get:function(){return p.default}});var n=s(336);Object.defineProperty(x,"Image",{enumerable:!0,get:function(){return n.default}});var a=s(337);Object.defineProperty(x,"Line",{enumerable:!0,get:function(){return a.default}});var u=s(338);Object.defineProperty(x,"Marker",{enumerable:!0,get:function(){return u.default}});var i=s(340);Object.defineProperty(x,"Path",{enumerable:!0,get:function(){return i.default}});var r=s(342);Object.defineProperty(x,"Polygon",{enumerable:!0,get:function(){return r.default}});var o=s(343);Object.defineProperty(x,"Polyline",{enumerable:!0,get:function(){return o.default}});var c=s(345);Object.defineProperty(x,"Rect",{enumerable:!0,get:function(){return c.default}});var h=s(348);Object.defineProperty(x,"Text",{enumerable:!0,get:function(){return h.default}})},function(A,x,s){"use strict";function d(c){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}Object.defineProperty(x,"__esModule",{value:!0}),x.addEndArrow=x.addStartArrow=x.getShortenOffset=void 0;var y=s(1),p=s(73),n=Math.sin,a=Math.cos,u=Math.atan2,i=Math.PI;function r(c,h,v,f,m,b,M){var O=h.stroke,E=h.lineWidth,C=u(f-b,v-m),j=new p.Path({type:"path",canvas:c.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*a(i/6)+","+10*n(i/6)+" L0,0 L"+10*a(i/6)+",-"+10*n(i/6),stroke:O,lineWidth:E}});j.translate(m,b),j.rotateAtPoint(m,b,C),c.set(M?"startArrowShape":"endArrowShape",j)}function o(c,h,v,f,m,b,M){var O=h.startArrow,E=h.endArrow,C=h.stroke,j=h.lineWidth,B=M?O:E,N=B.d,I=B.fill,F=B.stroke,G=B.lineWidth,U=y.__rest(B,["d","fill","stroke","lineWidth"]),H=u(f-b,v-m);N&&(m-=a(H)*N,b-=n(H)*N);var Q=new p.Path({type:"path",canvas:c.get("canvas"),isArrowShape:!0,attrs:y.__assign(y.__assign({},U),{stroke:F||C,lineWidth:G||j,fill:I})});Q.translate(m,b),Q.rotateAtPoint(m,b,H),c.set(M?"startArrowShape":"endArrowShape",Q)}x.getShortenOffset=function(c,h,v,f,m){var b=u(f-h,v-c);return{dx:a(b)*m,dy:n(b)*m}},x.addStartArrow=function(c,h,v,f,m,b){d(h.startArrow)==="object"?o(c,h,v,f,m,b,!0):h.startArrow?r(c,h,v,f,m,b,!0):c.set("startArrowShape",null)},x.addEndArrow=function(c,h,v,f,m,b){d(h.endArrow)==="object"?o(c,h,v,f,m,b,!1):h.endArrow?r(c,h,v,f,m,b,!1):c.set("startArrowShape",null)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(40);x.default=function(y,p,n,a,u,i,r){var o=Math.min(y,n),c=Math.max(y,n),h=Math.min(p,a),v=Math.max(p,a),f=u/2;return i>=o-f&&i<=c+f&&r>=h-f&&r<=v+f&&d.default.pointToLine(y,p,n,a,i,r)<=u/2}},function(A,x,s){var d=s(77),y=s(379),p=s(380),n=s(381),a=s(382),u=s(383);function i(r){var o=this.__data__=new d(r);this.size=o.size}i.prototype.clear=y,i.prototype.delete=p,i.prototype.get=n,i.prototype.has=a,i.prototype.set=u,A.exports=i},function(A,x,s){var d=s(374),y=s(375),p=s(376),n=s(377),a=s(378);function u(i){var r=-1,o=i==null?0:i.length;for(this.clear();++r<o;){var c=i[r];this.set(c[0],c[1])}}u.prototype.clear=d,u.prototype.delete=y,u.prototype.get=p,u.prototype.has=n,u.prototype.set=a,A.exports=u},function(A,x,s){var d=s(51);A.exports=function(y,p){for(var n=y.length;n--;)if(d(y[n][0],p))return n;return-1}},function(A,x,s){var d=s(44)(Object,"create");A.exports=d},function(A,x,s){var d=s(399);A.exports=function(y,p){var n=y.__data__;return d(p)?n[typeof p=="string"?"string":"hash"]:n.map}},function(A,x,s){var d=s(82),y=s(51),p=Object.prototype.hasOwnProperty;A.exports=function(n,a,u){var i=n[a];p.call(n,a)&&y(i,u)&&(u!==void 0||a in n)||d(n,a,u)}},function(A,x,s){var d=s(176);A.exports=function(y,p,n){p=="__proto__"&&d?d(y,p,{configurable:!0,enumerable:!0,value:n,writable:!0}):y[p]=n}},function(A,x){function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}var d=/^(?:0|[1-9]\d*)$/;A.exports=function(y,p){var n=s(y);return!!(p=p==null?9007199254740991:p)&&(n=="number"||n!="symbol"&&d.test(y))&&y>-1&&y%1==0&&y<p}},function(A,x){A.exports=function(s){return function(d){return s(d)}}},function(A,x){var s=Object.prototype;A.exports=function(d){var y=d&&d.constructor;return d===(typeof y=="function"&&y.prototype||s)}},function(A,x,s){var d=s(178)(Object.getPrototypeOf,Object);A.exports=d},function(A,x,s){var d=s(123),y=s(428)(d);A.exports=y},function(A,x,s){var d=s(89),y=s(66);A.exports=function(p,n){for(var a=0,u=(n=d(n,p)).length;p!=null&&a<u;)p=p[y(n[a++])];return a&&a==u?p:void 0}},function(A,x,s){var d=s(15),y=s(126),p=s(442),n=s(201);A.exports=function(a,u){return d(a)?a:y(a,u)?[a]:p(n(a))}},function(A,x){A.exports=function(s,d){for(var y=-1,p=s==null?0:s.length,n=Array(p);++y<p;)n[y]=d(s[y],y,s);return n}},function(A,x,s){var d=s(47),y=s(210),p=s(211);A.exports=function(n,a){return p(y(n,a,d),n+"")}},function(A,x,s){function d(u){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}var y=s(51),p=s(38),n=s(83),a=s(25);A.exports=function(u,i,r){if(!a(r))return!1;var o=d(i);return!!(o=="number"?p(r)&&n(i,r.length):o=="string"&&i in r)&&y(r[i],u)}},function(A,x,s){"use strict";var d=s(13);A.exports={longestPath:function(p){var n={};d.forEach(p.sources(),function a(u){var i=p.node(u);if(d.has(n,u))return i.rank;n[u]=!0;var r=d.min(d.map(p.outEdges(u),function(o){return a(o.w)-p.edge(o).minlen}));return r!==Number.POSITIVE_INFINITY&&r!=null||(r=0),i.rank=r})},slack:function(p,n){return p.node(n.w).rank-p.node(n.v).rank-p.edge(n).minlen}}},function(A,x,s){var d=s(226),y=function(){function p(n,a){a===void 0&&(a={}),this.options=a,this.rootNode=d(n,a)}return p.prototype.execute=function(){throw new Error("please override this method")},p}();A.exports=y},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(102),y=s(21),p=s(3);x.default=function n(a,u){if(a===u)return!0;if(!a||!u||p.default(a)||p.default(u))return!1;if(y.default(a)||y.default(u)){if(a.length!==u.length)return!1;for(var i=!0,r=0;r<a.length&&(i=n(a[r],u[r]));r++);return i}if(d.default(a)||d.default(u)){var o=Object.keys(a),c=Object.keys(u);if(o.length!==c.length)return!1;for(i=!0,r=0;r<o.length&&(i=n(a[o[r]],u[o[r]]));r++);return i}return!1}},function(A,x,s){"use strict";var d=function(){function y(p,n){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=p,this.name=p,this.originalEvent=n,this.timeStamp=n.timeStamp}return y.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},y.prototype.stopPropagation=function(){this.propagationStopped=!0},y.prototype.toString=function(){return"[Event (type="+this.type+")]"},y.prototype.save=function(){},y.prototype.restore=function(){},y}();x.a=d},function(A,x,s){"use strict";var d=s(1),y=s(99),p=s(9),n=function(a){function u(i){var r=a.call(this)||this;r.destroyed=!1;var o=r.getDefaultCfg();return r.cfg=Object(p.i)(o,i),r}return Object(d.__extends)(u,a),u.prototype.getDefaultCfg=function(){return{}},u.prototype.get=function(i){return this.cfg[i]},u.prototype.set=function(i,r){this.cfg[i]=r},u.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},u}(y.a);x.a=n},function(A,x,s){"use strict";function d(p){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(p)}Object.defineProperty(x,"__esModule",{value:!0});var y=s(4);x.default=function p(n){if(d(n)!=="object"||n===null)return n;var a;if(y.default(n)){a=[];for(var u=0,i=n.length;u<i;u++)d(n[u])==="object"&&n[u]!=null?a[u]=p(n[u]):a[u]=n[u]}else for(var r in a={},n)d(n[r])==="object"&&n[r]!=null?a[r]=p(n[r]):a[r]=n[r];return a}},function(A,x,s){"use strict";var d=function(){function y(){this._events={}}return y.prototype.on=function(p,n,a){return this._events[p]||(this._events[p]=[]),this._events[p].push({callback:n,once:!!a}),this},y.prototype.once=function(p,n){return this.on(p,n,!0),this},y.prototype.emit=function(p){for(var n=this,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var i=this._events[p]||[],r=this._events["*"]||[],o=function(h){for(var v=h.length,f=0;f<v;f++)if(h[f]){var m=h[f],b=m.callback;m.once&&(h.splice(f,1),h.length===0&&delete n._events[p],v--,f--),b.apply(n,a)}};o(i),o(r)},y.prototype.off=function(p,n){if(p)if(n){for(var a=this._events[p]||[],u=a.length,i=0;i<u;i++)a[i].callback===n&&(a.splice(i,1),u--,i--);a.length===0&&delete this._events[p]}else delete this._events[p];else this._events={};return this},y.prototype.getEvents=function(){return this._events},y}();x.a=d},function(A,x,s){"use strict";var d=s(1),y=s(101),p=s(9),n={},a=function(u){function i(){return u!==null&&u.apply(this,arguments)||this}return Object(d.__extends)(i,u),i.prototype.isCanvas=function(){return!1},i.prototype.getBBox=function(){var r=1/0,o=-1/0,c=1/0,h=-1/0,v=[],f=[],m=this.getChildren().filter(function(b){return b.get("visible")&&(!b.isGroup()||b.isGroup()&&b.getChildren().length>0)});return m.length>0?(Object(p.a)(m,function(b){var M=b.getBBox();v.push(M.minX,M.maxX),f.push(M.minY,M.maxY)}),r=Math.min.apply(null,v),o=Math.max.apply(null,v),c=Math.min.apply(null,f),h=Math.max.apply(null,f)):(r=0,o=0,c=0,h=0),{x:r,y:c,minX:r,minY:c,maxX:o,maxY:h,width:o-r,height:h-c}},i.prototype.getCanvasBBox=function(){var r=1/0,o=-1/0,c=1/0,h=-1/0,v=[],f=[],m=this.getChildren().filter(function(b){return b.get("visible")&&(!b.isGroup()||b.isGroup()&&b.getChildren().length>0)});return m.length>0?(Object(p.a)(m,function(b){var M=b.getCanvasBBox();v.push(M.minX,M.maxX),f.push(M.minY,M.maxY)}),r=Math.min.apply(null,v),o=Math.max.apply(null,v),c=Math.min.apply(null,f),h=Math.max.apply(null,f)):(r=0,o=0,c=0,h=0),{x:r,y:c,minX:r,minY:c,maxX:o,maxY:h,width:o-r,height:h-c}},i.prototype.getDefaultCfg=function(){var r=u.prototype.getDefaultCfg.call(this);return r.children=[],r},i.prototype.onAttrChange=function(r,o,c){if(u.prototype.onAttrChange.call(this,r,o,c),r==="matrix"){var h=this.getTotalMatrix();this._applyChildrenMarix(h)}},i.prototype.applyMatrix=function(r){var o=this.getTotalMatrix();u.prototype.applyMatrix.call(this,r);var c=this.getTotalMatrix();c!==o&&this._applyChildrenMarix(c)},i.prototype._applyChildrenMarix=function(r){var o=this.getChildren();Object(p.a)(o,function(c){c.applyMatrix(r)})},i.prototype.addShape=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var c=r[0],h=r[1];Object(p.f)(c)?h=c:h.type=c;var v=n[h.type];v||(v=Object(p.k)(h.type),n[h.type]=v);var f=this.getShapeBase(),m=new f[v](h);return this.add(m),m},i.prototype.addGroup=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var c,h=r[0],v=r[1];if(Object(p.d)(h))c=new h(v||{parent:this});else{var f=h||{},m=this.getGroupBase();c=new m(f)}return this.add(c),c},i.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},i.prototype.getShape=function(r,o,c){if(!Object(p.b)(this))return null;var h,v=this.getChildren();if(this.isCanvas())h=this._findShape(v,r,o,c);else{var f=[r,o,1];f=this.invertFromMatrix(f),this.isClipped(f[0],f[1])||(h=this._findShape(v,f[0],f[1],c))}return h},i.prototype._findShape=function(r,o,c,h){for(var v=null,f=r.length-1;f>=0;f--){var m=r[f];if(Object(p.b)(m)&&(m.isGroup()?v=m.getShape(o,c,h):m.isHit(o,c)&&(v=m)),v)break}return v},i.prototype.add=function(r){var o=this.getCanvas(),c=this.getChildren(),h=this.get("timeline"),v=r.getParent();v&&function(f,m,b){b===void 0&&(b=!0),b?m.destroy():(m.set("parent",null),m.set("canvas",null)),Object(p.j)(f.getChildren(),m)}(v,r,!1),r.set("parent",this),o&&function f(m,b){if(m.set("canvas",b),m.isGroup()){var M=m.get("children");M.length&&M.forEach(function(O){f(O,b)})}}(r,o),h&&function f(m,b){if(m.set("timeline",b),m.isGroup()){var M=m.get("children");M.length&&M.forEach(function(O){f(O,b)})}}(r,h),c.push(r),r.onCanvasChange("add"),this._applyElementMatrix(r)},i.prototype._applyElementMatrix=function(r){var o=this.getTotalMatrix();o&&r.applyMatrix(o)},i.prototype.getChildren=function(){return this.get("children")},i.prototype.sort=function(){var r,o=this.getChildren();Object(p.a)(o,function(c,h){return c._INDEX=h,c}),o.sort((r=function(h,v){return h.get("zIndex")-v.get("zIndex")},function(c,h){var v=r(c,h);return v===0?c._INDEX-h._INDEX:v})),this.onCanvasChange("sort")},i.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var r=this.getChildren(),o=r.length-1;o>=0;o--)r[o].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},i.prototype.destroy=function(){this.get("destroyed")||(this.clear(),u.prototype.destroy.call(this))},i.prototype.getFirst=function(){return this.getChildByIndex(0)},i.prototype.getLast=function(){var r=this.getChildren();return this.getChildByIndex(r.length-1)},i.prototype.getChildByIndex=function(r){return this.getChildren()[r]},i.prototype.getCount=function(){return this.getChildren().length},i.prototype.contain=function(r){return this.getChildren().indexOf(r)>-1},i.prototype.removeChild=function(r,o){o===void 0&&(o=!0),this.contain(r)&&r.remove(o)},i.prototype.findAll=function(r){var o=[],c=this.getChildren();return Object(p.a)(c,function(h){r(h)&&o.push(h),h.isGroup()&&(o=o.concat(h.findAll(r)))}),o},i.prototype.find=function(r){var o=null,c=this.getChildren();return Object(p.a)(c,function(h){if(r(h)?o=h:h.isGroup()&&(o=h.find(r)),o)return!1}),o},i.prototype.findById=function(r){return this.find(function(o){return o.get("id")===r})},i.prototype.findByClassName=function(r){return this.find(function(o){return o.get("className")===r})},i.prototype.findAllByName=function(r){return this.findAll(function(o){return o.get("name")===r})},i}(y.a);x.a=a},function(A,x,s){"use strict";var d=s(1),y=s(0),p=s(133),n=s(9),a=s(32),u=s(97),i=p.ext.transform,r=["zIndex","capture","visible","type"],o=["repeat"];function c(m,b){var M={},O=b.attrs;for(var E in m)M[E]=O[E];return M}function h(m,b){var M={},O=b.attr();return Object(y.each)(m,function(E,C){o.indexOf(C)!==-1||Object(y.isEqual)(O[C],E)||(M[C]=E)}),M}function v(m,b){if(b.onFrame)return m;var M=b.startTime,O=b.delay,E=b.duration,C=Object.prototype.hasOwnProperty;return Object(y.each)(m,function(j){M+O<j.startTime+j.delay+j.duration&&E>j.delay&&Object(y.each)(b.toAttrs,function(B,N){C.call(j.toAttrs,N)&&(delete j.toAttrs[N],delete j.fromAttrs[N])})}),m}var f=function(m){function b(M){var O=m.call(this,M)||this;O.attrs={};var E=O.getDefaultAttrs();return Object(y.mix)(E,M.attrs),O.attrs=E,O.initAttrs(E),O.initAnimate(),O}return Object(d.__extends)(b,m),b.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},b.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},b.prototype.onCanvasChange=function(M){},b.prototype.initAttrs=function(M){},b.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},b.prototype.isGroup=function(){return!1},b.prototype.getParent=function(){return this.get("parent")},b.prototype.getCanvas=function(){return this.get("canvas")},b.prototype.attr=function(){for(var M,O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];var C=O[0],j=O[1];if(!C)return this.attrs;if(Object(y.isObject)(C)){for(var B in C)this.setAttr(B,C[B]);return this.afterAttrsChange(C),this}return O.length===2?(this.setAttr(C,j),this.afterAttrsChange(((M={})[C]=j,M)),this):this.attrs[C]},b.prototype.isClipped=function(M,O){var E=this.getClip();return E&&!E.isHit(M,O)},b.prototype.setAttr=function(M,O){var E=this.attrs[M];E!==O&&(this.attrs[M]=O,this.onAttrChange(M,O,E))},b.prototype.onAttrChange=function(M,O,E){M==="matrix"&&this.set("totalMatrix",null)},b.prototype.afterAttrsChange=function(M){if(this.cfg.isClipShape){var O=this.cfg.applyTo;O&&O.onCanvasChange("clip")}else this.onCanvasChange("attr")},b.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},b.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},b.prototype.setZIndex=function(M){this.set("zIndex",M);var O=this.getParent();return O&&O.sort(),this},b.prototype.toFront=function(){var M=this.getParent();if(M){var O=M.getChildren(),E=(this.get("el"),O.indexOf(this));O.splice(E,1),O.push(this),this.onCanvasChange("zIndex")}},b.prototype.toBack=function(){var M=this.getParent();if(M){var O=M.getChildren(),E=(this.get("el"),O.indexOf(this));O.splice(E,1),O.unshift(this),this.onCanvasChange("zIndex")}},b.prototype.remove=function(M){M===void 0&&(M=!0);var O=this.getParent();O?(Object(n.j)(O.getChildren(),this),O.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),M&&this.destroy()},b.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},b.prototype.getMatrix=function(){return this.attr("matrix")},b.prototype.setMatrix=function(M){this.attr("matrix",M),this.onCanvasChange("matrix")},b.prototype.getTotalMatrix=function(){var M=this.cfg.totalMatrix;if(!M){var O=this.attr("matrix"),E=this.cfg.parentMatrix;M=E&&O?Object(a.b)(E,O):O||E,this.set("totalMatrix",M)}return M},b.prototype.applyMatrix=function(M){var O=this.attr("matrix"),E=null;E=M&&O?Object(a.b)(M,O):O||M,this.set("totalMatrix",E),this.set("parentMatrix",M)},b.prototype.getDefaultMatrix=function(){return null},b.prototype.applyToMatrix=function(M){var O=this.attr("matrix");return O?Object(a.c)(O,M):M},b.prototype.invertFromMatrix=function(M){var O=this.attr("matrix");if(O){var E=Object(a.a)(O);if(E)return Object(a.c)(E,M)}return M},b.prototype.setClip=function(M){var O=this.getCanvas(),E=null;if(M){var C=this.getShapeBase()[Object(y.upperFirst)(M.type)];C&&(E=new C({type:M.type,isClipShape:!0,applyTo:this,attrs:M.attrs,canvas:O}))}return this.set("clipShape",E),this.onCanvasChange("clip"),E},b.prototype.getClip=function(){var M=this.cfg.clipShape;return M||null},b.prototype.clone=function(){var M=this,O=this.attrs,E={};Object(y.each)(O,function(j,B){Object(y.isArray)(O[B])?E[B]=function(N){for(var I=[],F=0;F<N.length;F++)Object(y.isArray)(N[F])?I.push([].concat(N[F])):I.push(N[F]);return I}(O[B]):E[B]=O[B]});var C=new this.constructor({attrs:E});return Object(y.each)(r,function(j){C.set(j,M.get(j))}),C},b.prototype.destroy=function(){this.destroyed||(this.attrs={},m.prototype.destroy.call(this))},b.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},b.prototype.animate=function(){for(var M=[],O=0;O<arguments.length;O++)M[O]=arguments[O];this.set("animating",!0);var E=this.get("timeline");E||(E=this.get("canvas").get("timeline"),this.set("timeline",E));var C=this.get("animations")||[];E.timer||E.initTimer();var j,B,N,I,F,G=M[0],U=M[1],H=M[2],Q=H===void 0?"easeLinear":H,at=M[3],$=at===void 0?y.noop:at,K=M[4],ot=K===void 0?0:K;Object(y.isFunction)(G)?(j=G,G={}):Object(y.isObject)(G)&&G.onFrame&&(j=G.onFrame,B=G.repeat),Object(y.isObject)(U)?(U=(F=U).duration,Q=F.easing||"easeLinear",ot=F.delay||0,B=F.repeat||B||!1,$=F.callback||y.noop,N=F.pauseCallback||y.noop,I=F.resumeCallback||y.noop):(Object(y.isNumber)($)&&(ot=$,$=null),Object(y.isFunction)(Q)?($=Q,Q="easeLinear"):Q=Q||"easeLinear");var it=h(G,this),ht={fromAttrs:c(it,this),toAttrs:it,duration:U,easing:Q,repeat:B,callback:$,pauseCallback:N,resumeCallback:I,delay:ot,startTime:E.getTime(),id:Object(y.uniqueId)(),onFrame:j,pathFormatted:!1};C.length>0?C=v(C,ht):E.addAnimator(this),C.push(ht),this.set("animations",C),this.set("_pause",{isPaused:!1})},b.prototype.stopAnimate=function(M){var O=this;M===void 0&&(M=!0);var E=this.get("animations");Object(y.each)(E,function(C){M&&(C.onFrame?O.attr(C.onFrame(1)):O.attr(C.toAttrs)),C.callback&&C.callback()}),this.set("animating",!1),this.set("animations",[])},b.prototype.pauseAnimate=function(){var M=this.get("timeline"),O=this.get("animations"),E=M.getTime();return Object(y.each)(O,function(C){C._paused=!0,C._pauseTime=E,C.pauseCallback&&C.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:E}),this},b.prototype.resumeAnimate=function(){var M=this.get("timeline").getTime(),O=this.get("animations"),E=this.get("_pause").pauseTime;return Object(y.each)(O,function(C){C.startTime=C.startTime+(M-E),C._paused=!1,C._pauseTime=null,C.resumeCallback&&C.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",O),this},b.prototype.emitDelegation=function(M,O){var E,C=this,j=O.propagationPath;this.getEvents(),M==="mouseenter"?E=O.fromShape:M==="mouseleave"&&(E=O.toShape);for(var B=function(G){var U=j[G],H=U.get("name");if(H){if((U.isGroup()||U.isCanvas&&U.isCanvas())&&E&&Object(n.g)(U,E))return"break";Object(y.isArray)(H)?Object(y.each)(H,function(Q){C.emitDelegateEvent(U,Q,O)}):N.emitDelegateEvent(U,H,O)}},N=this,I=0;I<j.length&&B(I)!=="break";I++);},b.prototype.emitDelegateEvent=function(M,O,E){var C=this.getEvents(),j=O+":"+E.type;(C[j]||C["*"])&&(E.name=j,E.currentTarget=M,E.delegateTarget=this,E.delegateObject=M.get("delegateObject"),this.emit(j,E))},b.prototype.translate=function(M,O){M===void 0&&(M=0),O===void 0&&(O=0);var E=this.getMatrix(),C=i(E,[["t",M,O]]);return this.setMatrix(C),this},b.prototype.move=function(M,O){var E=this.attr("x")||0,C=this.attr("y")||0;return this.translate(M-E,O-C),this},b.prototype.moveTo=function(M,O){return this.move(M,O)},b.prototype.scale=function(M,O){var E=this.getMatrix(),C=i(E,[["s",M,O||M]]);return this.setMatrix(C),this},b.prototype.rotate=function(M){var O=this.getMatrix(),E=i(O,[["r",M]]);return this.setMatrix(E),this},b.prototype.rotateAtStart=function(M){var O=this.attr(),E=O.x,C=O.y,j=this.getMatrix(),B=i(j,[["t",-E,-C],["r",M],["t",E,C]]);return this.setMatrix(B),this},b.prototype.rotateAtPoint=function(M,O,E){var C=this.getMatrix(),j=i(C,[["t",-M,-O],["r",E],["t",M,O]]);return this.setMatrix(j),this},b}(u.a);x.a=f},function(A,x,s){"use strict";function d(y){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(y){return d(y)==="object"&&y!==null}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){return p===void 0&&(p=1e-5),Math.abs(d-y)<p}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.setMatrixArrayType=function(p){x.ARRAY_TYPE=p},x.toRadian=function(p){return p*y},x.equals=function(p,n){return Math.abs(p-n)<=d*Math.max(1,Math.abs(p),Math.abs(n))};var d=x.EPSILON=1e-6;x.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,x.RANDOM=Math.random;var y=Math.PI/180},function(A,x,s){"use strict";s.r(x),s.d(x,"create",function(){return y}),s.d(x,"clone",function(){return p}),s.d(x,"fromValues",function(){return n}),s.d(x,"copy",function(){return a}),s.d(x,"set",function(){return u}),s.d(x,"add",function(){return i}),s.d(x,"subtract",function(){return r}),s.d(x,"multiply",function(){return o}),s.d(x,"divide",function(){return c}),s.d(x,"ceil",function(){return h}),s.d(x,"floor",function(){return v}),s.d(x,"min",function(){return f}),s.d(x,"max",function(){return m}),s.d(x,"round",function(){return b}),s.d(x,"scale",function(){return M}),s.d(x,"scaleAndAdd",function(){return O}),s.d(x,"distance",function(){return E}),s.d(x,"squaredDistance",function(){return C}),s.d(x,"length",function(){return j}),s.d(x,"squaredLength",function(){return B}),s.d(x,"negate",function(){return N}),s.d(x,"inverse",function(){return I}),s.d(x,"normalize",function(){return F}),s.d(x,"dot",function(){return G}),s.d(x,"cross",function(){return U}),s.d(x,"lerp",function(){return H}),s.d(x,"random",function(){return Q}),s.d(x,"transformMat2",function(){return at}),s.d(x,"transformMat2d",function(){return $}),s.d(x,"transformMat3",function(){return K}),s.d(x,"transformMat4",function(){return ot}),s.d(x,"rotate",function(){return it}),s.d(x,"angle",function(){return ht}),s.d(x,"zero",function(){return St}),s.d(x,"str",function(){return gt}),s.d(x,"exactEquals",function(){return bt}),s.d(x,"equals",function(){return mt}),s.d(x,"len",function(){return _t}),s.d(x,"sub",function(){return Nt}),s.d(x,"mul",function(){return At}),s.d(x,"div",function(){return It}),s.d(x,"dist",function(){return dt}),s.d(x,"sqrDist",function(){return X}),s.d(x,"sqrLen",function(){return V}),s.d(x,"forEach",function(){return Z});var d=s(6);function y(){var W=new d.a(2);return d.a!=Float32Array&&(W[0]=0,W[1]=0),W}function p(W){var rt=new d.a(2);return rt[0]=W[0],rt[1]=W[1],rt}function n(W,rt){var J=new d.a(2);return J[0]=W,J[1]=rt,J}function a(W,rt){return W[0]=rt[0],W[1]=rt[1],W}function u(W,rt,J){return W[0]=rt,W[1]=J,W}function i(W,rt,J){return W[0]=rt[0]+J[0],W[1]=rt[1]+J[1],W}function r(W,rt,J){return W[0]=rt[0]-J[0],W[1]=rt[1]-J[1],W}function o(W,rt,J){return W[0]=rt[0]*J[0],W[1]=rt[1]*J[1],W}function c(W,rt,J){return W[0]=rt[0]/J[0],W[1]=rt[1]/J[1],W}function h(W,rt){return W[0]=Math.ceil(rt[0]),W[1]=Math.ceil(rt[1]),W}function v(W,rt){return W[0]=Math.floor(rt[0]),W[1]=Math.floor(rt[1]),W}function f(W,rt,J){return W[0]=Math.min(rt[0],J[0]),W[1]=Math.min(rt[1],J[1]),W}function m(W,rt,J){return W[0]=Math.max(rt[0],J[0]),W[1]=Math.max(rt[1],J[1]),W}function b(W,rt){return W[0]=Math.round(rt[0]),W[1]=Math.round(rt[1]),W}function M(W,rt,J){return W[0]=rt[0]*J,W[1]=rt[1]*J,W}function O(W,rt,J,tt){return W[0]=rt[0]+J[0]*tt,W[1]=rt[1]+J[1]*tt,W}function E(W,rt){var J=rt[0]-W[0],tt=rt[1]-W[1];return Math.hypot(J,tt)}function C(W,rt){var J=rt[0]-W[0],tt=rt[1]-W[1];return J*J+tt*tt}function j(W){var rt=W[0],J=W[1];return Math.hypot(rt,J)}function B(W){var rt=W[0],J=W[1];return rt*rt+J*J}function N(W,rt){return W[0]=-rt[0],W[1]=-rt[1],W}function I(W,rt){return W[0]=1/rt[0],W[1]=1/rt[1],W}function F(W,rt){var J=rt[0],tt=rt[1],ft=J*J+tt*tt;return ft>0&&(ft=1/Math.sqrt(ft)),W[0]=rt[0]*ft,W[1]=rt[1]*ft,W}function G(W,rt){return W[0]*rt[0]+W[1]*rt[1]}function U(W,rt,J){var tt=rt[0]*J[1]-rt[1]*J[0];return W[0]=W[1]=0,W[2]=tt,W}function H(W,rt,J,tt){var ft=rt[0],kt=rt[1];return W[0]=ft+tt*(J[0]-ft),W[1]=kt+tt*(J[1]-kt),W}function Q(W,rt){rt=rt||1;var J=2*d.c()*Math.PI;return W[0]=Math.cos(J)*rt,W[1]=Math.sin(J)*rt,W}function at(W,rt,J){var tt=rt[0],ft=rt[1];return W[0]=J[0]*tt+J[2]*ft,W[1]=J[1]*tt+J[3]*ft,W}function $(W,rt,J){var tt=rt[0],ft=rt[1];return W[0]=J[0]*tt+J[2]*ft+J[4],W[1]=J[1]*tt+J[3]*ft+J[5],W}function K(W,rt,J){var tt=rt[0],ft=rt[1];return W[0]=J[0]*tt+J[3]*ft+J[6],W[1]=J[1]*tt+J[4]*ft+J[7],W}function ot(W,rt,J){var tt=rt[0],ft=rt[1];return W[0]=J[0]*tt+J[4]*ft+J[12],W[1]=J[1]*tt+J[5]*ft+J[13],W}function it(W,rt,J,tt){var ft=rt[0]-J[0],kt=rt[1]-J[1],jt=Math.sin(tt),Bt=Math.cos(tt);return W[0]=ft*Bt-kt*jt+J[0],W[1]=ft*jt+kt*Bt+J[1],W}function ht(W,rt){var J=W[0],tt=W[1],ft=rt[0],kt=rt[1],jt=Math.sqrt(J*J+tt*tt)*Math.sqrt(ft*ft+kt*kt),Bt=jt&&(J*ft+tt*kt)/jt;return Math.acos(Math.min(Math.max(Bt,-1),1))}function St(W){return W[0]=0,W[1]=0,W}function gt(W){return"vec2("+W[0]+", "+W[1]+")"}function bt(W,rt){return W[0]===rt[0]&&W[1]===rt[1]}function mt(W,rt){var J=W[0],tt=W[1],ft=rt[0],kt=rt[1];return Math.abs(J-ft)<=d.b*Math.max(1,Math.abs(J),Math.abs(ft))&&Math.abs(tt-kt)<=d.b*Math.max(1,Math.abs(tt),Math.abs(kt))}var vt,_t=j,Nt=r,At=o,It=c,dt=E,X=C,V=B,Z=(vt=y(),function(W,rt,J,tt,ft,kt){var jt,Bt;for(rt||(rt=2),J||(J=0),Bt=tt?Math.min(tt*rt+J,W.length):W.length,jt=J;jt<Bt;jt+=rt)vt[0]=W[jt],vt[1]=W[jt+1],ft(vt,vt,kt),W[jt]=vt[0],W[jt+1]=vt[1];return W})},function(A,x,s){"use strict";s.r(x),s.d(x,"create",function(){return y}),s.d(x,"clone",function(){return p}),s.d(x,"length",function(){return n}),s.d(x,"fromValues",function(){return a}),s.d(x,"copy",function(){return u}),s.d(x,"set",function(){return i}),s.d(x,"add",function(){return r}),s.d(x,"subtract",function(){return o}),s.d(x,"multiply",function(){return c}),s.d(x,"divide",function(){return h}),s.d(x,"ceil",function(){return v}),s.d(x,"floor",function(){return f}),s.d(x,"min",function(){return m}),s.d(x,"max",function(){return b}),s.d(x,"round",function(){return M}),s.d(x,"scale",function(){return O}),s.d(x,"scaleAndAdd",function(){return E}),s.d(x,"distance",function(){return C}),s.d(x,"squaredDistance",function(){return j}),s.d(x,"squaredLength",function(){return B}),s.d(x,"negate",function(){return N}),s.d(x,"inverse",function(){return I}),s.d(x,"normalize",function(){return F}),s.d(x,"dot",function(){return G}),s.d(x,"cross",function(){return U}),s.d(x,"lerp",function(){return H}),s.d(x,"hermite",function(){return Q}),s.d(x,"bezier",function(){return at}),s.d(x,"random",function(){return $}),s.d(x,"transformMat4",function(){return K}),s.d(x,"transformMat3",function(){return ot}),s.d(x,"transformQuat",function(){return it}),s.d(x,"rotateX",function(){return ht}),s.d(x,"rotateY",function(){return St}),s.d(x,"rotateZ",function(){return gt}),s.d(x,"angle",function(){return bt}),s.d(x,"zero",function(){return mt}),s.d(x,"str",function(){return vt}),s.d(x,"exactEquals",function(){return _t}),s.d(x,"equals",function(){return Nt}),s.d(x,"sub",function(){return It}),s.d(x,"mul",function(){return dt}),s.d(x,"div",function(){return X}),s.d(x,"dist",function(){return V}),s.d(x,"sqrDist",function(){return Z}),s.d(x,"len",function(){return W}),s.d(x,"sqrLen",function(){return rt}),s.d(x,"forEach",function(){return J});var d=s(6);function y(){var tt=new d.a(3);return d.a!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0),tt}function p(tt){var ft=new d.a(3);return ft[0]=tt[0],ft[1]=tt[1],ft[2]=tt[2],ft}function n(tt){var ft=tt[0],kt=tt[1],jt=tt[2];return Math.hypot(ft,kt,jt)}function a(tt,ft,kt){var jt=new d.a(3);return jt[0]=tt,jt[1]=ft,jt[2]=kt,jt}function u(tt,ft){return tt[0]=ft[0],tt[1]=ft[1],tt[2]=ft[2],tt}function i(tt,ft,kt,jt){return tt[0]=ft,tt[1]=kt,tt[2]=jt,tt}function r(tt,ft,kt){return tt[0]=ft[0]+kt[0],tt[1]=ft[1]+kt[1],tt[2]=ft[2]+kt[2],tt}function o(tt,ft,kt){return tt[0]=ft[0]-kt[0],tt[1]=ft[1]-kt[1],tt[2]=ft[2]-kt[2],tt}function c(tt,ft,kt){return tt[0]=ft[0]*kt[0],tt[1]=ft[1]*kt[1],tt[2]=ft[2]*kt[2],tt}function h(tt,ft,kt){return tt[0]=ft[0]/kt[0],tt[1]=ft[1]/kt[1],tt[2]=ft[2]/kt[2],tt}function v(tt,ft){return tt[0]=Math.ceil(ft[0]),tt[1]=Math.ceil(ft[1]),tt[2]=Math.ceil(ft[2]),tt}function f(tt,ft){return tt[0]=Math.floor(ft[0]),tt[1]=Math.floor(ft[1]),tt[2]=Math.floor(ft[2]),tt}function m(tt,ft,kt){return tt[0]=Math.min(ft[0],kt[0]),tt[1]=Math.min(ft[1],kt[1]),tt[2]=Math.min(ft[2],kt[2]),tt}function b(tt,ft,kt){return tt[0]=Math.max(ft[0],kt[0]),tt[1]=Math.max(ft[1],kt[1]),tt[2]=Math.max(ft[2],kt[2]),tt}function M(tt,ft){return tt[0]=Math.round(ft[0]),tt[1]=Math.round(ft[1]),tt[2]=Math.round(ft[2]),tt}function O(tt,ft,kt){return tt[0]=ft[0]*kt,tt[1]=ft[1]*kt,tt[2]=ft[2]*kt,tt}function E(tt,ft,kt,jt){return tt[0]=ft[0]+kt[0]*jt,tt[1]=ft[1]+kt[1]*jt,tt[2]=ft[2]+kt[2]*jt,tt}function C(tt,ft){var kt=ft[0]-tt[0],jt=ft[1]-tt[1],Bt=ft[2]-tt[2];return Math.hypot(kt,jt,Bt)}function j(tt,ft){var kt=ft[0]-tt[0],jt=ft[1]-tt[1],Bt=ft[2]-tt[2];return kt*kt+jt*jt+Bt*Bt}function B(tt){var ft=tt[0],kt=tt[1],jt=tt[2];return ft*ft+kt*kt+jt*jt}function N(tt,ft){return tt[0]=-ft[0],tt[1]=-ft[1],tt[2]=-ft[2],tt}function I(tt,ft){return tt[0]=1/ft[0],tt[1]=1/ft[1],tt[2]=1/ft[2],tt}function F(tt,ft){var kt=ft[0],jt=ft[1],Bt=ft[2],Rt=kt*kt+jt*jt+Bt*Bt;return Rt>0&&(Rt=1/Math.sqrt(Rt)),tt[0]=ft[0]*Rt,tt[1]=ft[1]*Rt,tt[2]=ft[2]*Rt,tt}function G(tt,ft){return tt[0]*ft[0]+tt[1]*ft[1]+tt[2]*ft[2]}function U(tt,ft,kt){var jt=ft[0],Bt=ft[1],Rt=ft[2],Lt=kt[0],Pt=kt[1],Ct=kt[2];return tt[0]=Bt*Ct-Rt*Pt,tt[1]=Rt*Lt-jt*Ct,tt[2]=jt*Pt-Bt*Lt,tt}function H(tt,ft,kt,jt){var Bt=ft[0],Rt=ft[1],Lt=ft[2];return tt[0]=Bt+jt*(kt[0]-Bt),tt[1]=Rt+jt*(kt[1]-Rt),tt[2]=Lt+jt*(kt[2]-Lt),tt}function Q(tt,ft,kt,jt,Bt,Rt){var Lt=Rt*Rt,Pt=Lt*(2*Rt-3)+1,Ct=Lt*(Rt-2)+Rt,Ht=Lt*(Rt-1),Xt=Lt*(3-2*Rt);return tt[0]=ft[0]*Pt+kt[0]*Ct+jt[0]*Ht+Bt[0]*Xt,tt[1]=ft[1]*Pt+kt[1]*Ct+jt[1]*Ht+Bt[1]*Xt,tt[2]=ft[2]*Pt+kt[2]*Ct+jt[2]*Ht+Bt[2]*Xt,tt}function at(tt,ft,kt,jt,Bt,Rt){var Lt=1-Rt,Pt=Lt*Lt,Ct=Rt*Rt,Ht=Pt*Lt,Xt=3*Rt*Pt,ut=3*Ct*Lt,re=Ct*Rt;return tt[0]=ft[0]*Ht+kt[0]*Xt+jt[0]*ut+Bt[0]*re,tt[1]=ft[1]*Ht+kt[1]*Xt+jt[1]*ut+Bt[1]*re,tt[2]=ft[2]*Ht+kt[2]*Xt+jt[2]*ut+Bt[2]*re,tt}function $(tt,ft){ft=ft||1;var kt=2*d.c()*Math.PI,jt=2*d.c()-1,Bt=Math.sqrt(1-jt*jt)*ft;return tt[0]=Math.cos(kt)*Bt,tt[1]=Math.sin(kt)*Bt,tt[2]=jt*ft,tt}function K(tt,ft,kt){var jt=ft[0],Bt=ft[1],Rt=ft[2],Lt=kt[3]*jt+kt[7]*Bt+kt[11]*Rt+kt[15];return Lt=Lt||1,tt[0]=(kt[0]*jt+kt[4]*Bt+kt[8]*Rt+kt[12])/Lt,tt[1]=(kt[1]*jt+kt[5]*Bt+kt[9]*Rt+kt[13])/Lt,tt[2]=(kt[2]*jt+kt[6]*Bt+kt[10]*Rt+kt[14])/Lt,tt}function ot(tt,ft,kt){var jt=ft[0],Bt=ft[1],Rt=ft[2];return tt[0]=jt*kt[0]+Bt*kt[3]+Rt*kt[6],tt[1]=jt*kt[1]+Bt*kt[4]+Rt*kt[7],tt[2]=jt*kt[2]+Bt*kt[5]+Rt*kt[8],tt}function it(tt,ft,kt){var jt=kt[0],Bt=kt[1],Rt=kt[2],Lt=kt[3],Pt=ft[0],Ct=ft[1],Ht=ft[2],Xt=Bt*Ht-Rt*Ct,ut=Rt*Pt-jt*Ht,re=jt*Ct-Bt*Pt,pe=Bt*re-Rt*ut,de=Rt*Xt-jt*re,we=jt*ut-Bt*Xt,fe=2*Lt;return Xt*=fe,ut*=fe,re*=fe,pe*=2,de*=2,we*=2,tt[0]=Pt+Xt+pe,tt[1]=Ct+ut+de,tt[2]=Ht+re+we,tt}function ht(tt,ft,kt,jt){var Bt=[],Rt=[];return Bt[0]=ft[0]-kt[0],Bt[1]=ft[1]-kt[1],Bt[2]=ft[2]-kt[2],Rt[0]=Bt[0],Rt[1]=Bt[1]*Math.cos(jt)-Bt[2]*Math.sin(jt),Rt[2]=Bt[1]*Math.sin(jt)+Bt[2]*Math.cos(jt),tt[0]=Rt[0]+kt[0],tt[1]=Rt[1]+kt[1],tt[2]=Rt[2]+kt[2],tt}function St(tt,ft,kt,jt){var Bt=[],Rt=[];return Bt[0]=ft[0]-kt[0],Bt[1]=ft[1]-kt[1],Bt[2]=ft[2]-kt[2],Rt[0]=Bt[2]*Math.sin(jt)+Bt[0]*Math.cos(jt),Rt[1]=Bt[1],Rt[2]=Bt[2]*Math.cos(jt)-Bt[0]*Math.sin(jt),tt[0]=Rt[0]+kt[0],tt[1]=Rt[1]+kt[1],tt[2]=Rt[2]+kt[2],tt}function gt(tt,ft,kt,jt){var Bt=[],Rt=[];return Bt[0]=ft[0]-kt[0],Bt[1]=ft[1]-kt[1],Bt[2]=ft[2]-kt[2],Rt[0]=Bt[0]*Math.cos(jt)-Bt[1]*Math.sin(jt),Rt[1]=Bt[0]*Math.sin(jt)+Bt[1]*Math.cos(jt),Rt[2]=Bt[2],tt[0]=Rt[0]+kt[0],tt[1]=Rt[1]+kt[1],tt[2]=Rt[2]+kt[2],tt}function bt(tt,ft){var kt=tt[0],jt=tt[1],Bt=tt[2],Rt=ft[0],Lt=ft[1],Pt=ft[2],Ct=Math.sqrt(kt*kt+jt*jt+Bt*Bt)*Math.sqrt(Rt*Rt+Lt*Lt+Pt*Pt),Ht=Ct&&G(tt,ft)/Ct;return Math.acos(Math.min(Math.max(Ht,-1),1))}function mt(tt){return tt[0]=0,tt[1]=0,tt[2]=0,tt}function vt(tt){return"vec3("+tt[0]+", "+tt[1]+", "+tt[2]+")"}function _t(tt,ft){return tt[0]===ft[0]&&tt[1]===ft[1]&&tt[2]===ft[2]}function Nt(tt,ft){var kt=tt[0],jt=tt[1],Bt=tt[2],Rt=ft[0],Lt=ft[1],Pt=ft[2];return Math.abs(kt-Rt)<=d.b*Math.max(1,Math.abs(kt),Math.abs(Rt))&&Math.abs(jt-Lt)<=d.b*Math.max(1,Math.abs(jt),Math.abs(Lt))&&Math.abs(Bt-Pt)<=d.b*Math.max(1,Math.abs(Bt),Math.abs(Pt))}var At,It=o,dt=c,X=h,V=C,Z=j,W=n,rt=B,J=(At=y(),function(tt,ft,kt,jt,Bt,Rt){var Lt,Pt;for(ft||(ft=3),kt||(kt=0),Pt=jt?Math.min(jt*ft+kt,tt.length):tt.length,Lt=kt;Lt<Pt;Lt+=ft)At[0]=tt[Lt],At[1]=tt[Lt+1],At[2]=tt[Lt+2],Bt(At,At,Rt),tt[Lt]=At[0],tt[Lt+1]=At[1],tt[Lt+2]=At[2];return tt})},function(A,x,s){"use strict";function d(y,p){return y&&p?{minX:Math.min(y.minX,p.minX),minY:Math.min(y.minY,p.minY),maxX:Math.max(y.maxX,p.maxX),maxY:Math.max(y.maxY,p.maxY)}:y||p}Object.defineProperty(x,"__esModule",{value:!0}),x.mergeArrowBBox=x.mergeBBox=void 0,x.mergeBBox=d,x.mergeArrowBBox=function(y,p){var n=y.get("startArrowShape"),a=y.get("endArrowShape");return n&&(p=d(p,n.getCanvasBBox())),a&&(p=d(p,a.getCanvasBBox())),p}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33),y=s(40),p=s(161);function n(r,o,c,h,v){var f=1-v;return f*f*f*r+3*o*v*f*f+3*c*v*v*f+h*v*v*v}function a(r,o,c,h,v){var f=1-v;return 3*(f*f*(o-r)+2*f*v*(c-o)+v*v*(h-c))}function u(r,o,c,h){var v,f,m,b=-3*r+9*o-9*c+3*h,M=6*r-12*o+6*c,O=3*o-3*r,E=[];if(d.isNumberEqual(b,0))d.isNumberEqual(M,0)||(v=-O/M)>=0&&v<=1&&E.push(v);else{var C=M*M-4*b*O;d.isNumberEqual(C,0)?E.push(-M/(2*b)):C>0&&(f=(-M-(m=Math.sqrt(C)))/(2*b),(v=(-M+m)/(2*b))>=0&&v<=1&&E.push(v),f>=0&&f<=1&&E.push(f))}return E}function i(r,o,c,h,v,f,m,b,M){var O=n(r,c,v,m,M),E=n(o,h,f,b,M),C=y.default.pointAt(r,o,c,h,M),j=y.default.pointAt(c,h,v,f,M),B=y.default.pointAt(v,f,m,b,M),N=y.default.pointAt(C.x,C.y,j.x,j.y,M),I=y.default.pointAt(j.x,j.y,B.x,B.y,M);return[[r,o,C.x,C.y,N.x,N.y,O,E],[O,E,I.x,I.y,B.x,B.y,m,b]]}x.default={extrema:u,box:function(o,c,h,v,f,m,b,M){for(var O=[o,b],E=[c,M],C=u(o,h,f,b),j=u(c,v,m,M),B=0;B<C.length;B++)O.push(n(o,h,f,b,C[B]));for(B=0;B<j.length;B++)E.push(n(c,v,m,M,j[B]));return d.getBBoxByArray(O,E)},length:function(o,c,h,v,f,m,b,M){return function O(E,C,j,B,N,I,F,G,U){if(U===0)return p.snapLength([E,j,N,F],[C,B,I,G]);var H=i(E,C,j,B,N,I,F,G,.5),Q=H[0],at=H[1];return Q.push(U-1),at.push(U-1),O.apply(null,Q)+O.apply(null,at)}(o,c,h,v,f,m,b,M,3)},nearestPoint:function(o,c,h,v,f,m,b,M,O,E,C){return p.nearestPoint([o,h,f,b],[c,v,m,M],O,E,n,C)},pointDistance:function(o,c,h,v,f,m,b,M,O,E,C){var j=this.nearestPoint(o,c,h,v,f,m,b,M,O,E,C);return d.distance(j.x,j.y,O,E)},interpolationAt:n,pointAt:function(o,c,h,v,f,m,b,M,O){return{x:n(o,h,f,b,O),y:n(c,v,m,M,O)}},divide:function(o,c,h,v,f,m,b,M,O){return i(o,c,h,v,f,m,b,M,O)},tangentAngle:function(o,c,h,v,f,m,b,M,O){var E=a(o,h,f,b,O),C=a(c,v,m,M,O);return d.piMod(Math.atan2(C,E))}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.refreshElement=x.drawChildren=void 0;var d=s(61),y=s(29);x.drawChildren=function(p,n){n.forEach(function(a){a.draw(p)})},x.refreshElement=function(p,n){var a=p.get("canvas");if(a&&a.get("autoDraw")){var u=a.get("context"),i=p.getParent(),r=i?i.getChildren():[a],o=p.get("el");if(n==="remove")if(p.get("isClipShape")){var c=o&&o.parentNode,h=c&&c.parentNode;c&&h&&h.removeChild(c)}else o&&o.parentNode&&o.parentNode.removeChild(o);else if(n==="show")o.setAttribute("visibility","visible");else if(n==="hide")o.setAttribute("visibility","hidden");else if(n==="zIndex")y.moveTo(o,r.indexOf(p));else if(n==="sort"){var v=p.get("children");v&&v.length&&y.sortDom(p,function(f,m){return v.indexOf(f)-v.indexOf(m)?1:0})}else n==="clear"?o&&(o.innerHTML=""):n==="matrix"?d.setTransform(p):n==="clip"?d.setClip(p,u):n==="attr"||n==="add"&&p.draw(u)}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(23);Object.defineProperty(x,"Base",{enumerable:!0,get:function(){return d.default}});var y=s(349);Object.defineProperty(x,"Circle",{enumerable:!0,get:function(){return y.default}});var p=s(350);Object.defineProperty(x,"Dom",{enumerable:!0,get:function(){return p.default}});var n=s(351);Object.defineProperty(x,"Ellipse",{enumerable:!0,get:function(){return n.default}});var a=s(352);Object.defineProperty(x,"Image",{enumerable:!0,get:function(){return a.default}});var u=s(353);Object.defineProperty(x,"Line",{enumerable:!0,get:function(){return u.default}});var i=s(354);Object.defineProperty(x,"Marker",{enumerable:!0,get:function(){return i.default}});var r=s(356);Object.defineProperty(x,"Path",{enumerable:!0,get:function(){return r.default}});var o=s(357);Object.defineProperty(x,"Polygon",{enumerable:!0,get:function(){return o.default}});var c=s(358);Object.defineProperty(x,"Polyline",{enumerable:!0,get:function(){return c.default}});var h=s(359);Object.defineProperty(x,"Rect",{enumerable:!0,get:function(){return h.default}});var v=s(361);Object.defineProperty(x,"Text",{enumerable:!0,get:function(){return v.default}})},function(A,x,s){"use strict";function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(o)}var y=s(24);A.exports=p;function p(o){this._isDirected=!y.has(o,"directed")||o.directed,this._isMultigraph=!!y.has(o,"multigraph")&&o.multigraph,this._isCompound=!!y.has(o,"compound")&&o.compound,this._label=void 0,this._defaultNodeLabelFn=y.constant(void 0),this._defaultEdgeLabelFn=y.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function n(o,c){o[c]?o[c]++:o[c]=1}function a(o,c){--o[c]||delete o[c]}function u(o,c,h,v){var f=""+c,m=""+h;if(!o&&f>m){var b=f;f=m,m=b}return f+""+m+""+(y.isUndefined(v)?"\0":v)}function i(o,c,h,v){var f=""+c,m=""+h;if(!o&&f>m){var b=f;f=m,m=b}var M={v:f,w:m};return v&&(M.name=v),M}function r(o,c){return u(o,c.v,c.w,c.name)}p.prototype._nodeCount=0,p.prototype._edgeCount=0,p.prototype.isDirected=function(){return this._isDirected},p.prototype.isMultigraph=function(){return this._isMultigraph},p.prototype.isCompound=function(){return this._isCompound},p.prototype.setGraph=function(o){return this._label=o,this},p.prototype.graph=function(){return this._label},p.prototype.setDefaultNodeLabel=function(o){return y.isFunction(o)||(o=y.constant(o)),this._defaultNodeLabelFn=o,this},p.prototype.nodeCount=function(){return this._nodeCount},p.prototype.nodes=function(){return y.keys(this._nodes)},p.prototype.sources=function(){var o=this;return y.filter(this.nodes(),function(c){return y.isEmpty(o._in[c])})},p.prototype.sinks=function(){var o=this;return y.filter(this.nodes(),function(c){return y.isEmpty(o._out[c])})},p.prototype.setNodes=function(o,c){var h=arguments,v=this;return y.each(o,function(f){h.length>1?v.setNode(f,c):v.setNode(f)}),this},p.prototype.setNode=function(o,c){return y.has(this._nodes,o)?(arguments.length>1&&(this._nodes[o]=c),this):(this._nodes[o]=arguments.length>1?c:this._defaultNodeLabelFn(o),this._isCompound&&(this._parent[o]="\0",this._children[o]={},this._children["\0"][o]=!0),this._in[o]={},this._preds[o]={},this._out[o]={},this._sucs[o]={},++this._nodeCount,this)},p.prototype.node=function(o){return this._nodes[o]},p.prototype.hasNode=function(o){return y.has(this._nodes,o)},p.prototype.removeNode=function(o){var c=this;if(y.has(this._nodes,o)){var h=function(f){c.removeEdge(c._edgeObjs[f])};delete this._nodes[o],this._isCompound&&(this._removeFromParentsChildList(o),delete this._parent[o],y.each(this.children(o),function(v){c.setParent(v)}),delete this._children[o]),y.each(y.keys(this._in[o]),h),delete this._in[o],delete this._preds[o],y.each(y.keys(this._out[o]),h),delete this._out[o],delete this._sucs[o],--this._nodeCount}return this},p.prototype.setParent=function(o,c){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(y.isUndefined(c))c="\0";else{for(var h=c+="";!y.isUndefined(h);h=this.parent(h))if(h===o)throw new Error("Setting "+c+" as parent of "+o+" would create a cycle");this.setNode(c)}return this.setNode(o),this._removeFromParentsChildList(o),this._parent[o]=c,this._children[c][o]=!0,this},p.prototype._removeFromParentsChildList=function(o){delete this._children[this._parent[o]][o]},p.prototype.parent=function(o){if(this._isCompound){var c=this._parent[o];if(c!=="\0")return c}},p.prototype.children=function(o){if(y.isUndefined(o)&&(o="\0"),this._isCompound){var c=this._children[o];if(c)return y.keys(c)}else{if(o==="\0")return this.nodes();if(this.hasNode(o))return[]}},p.prototype.predecessors=function(o){var c=this._preds[o];if(c)return y.keys(c)},p.prototype.successors=function(o){var c=this._sucs[o];if(c)return y.keys(c)},p.prototype.neighbors=function(o){var c=this.predecessors(o);if(c)return y.union(c,this.successors(o))},p.prototype.isLeaf=function(o){return(this.isDirected()?this.successors(o):this.neighbors(o)).length===0},p.prototype.filterNodes=function(o){var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph());var h=this;y.each(this._nodes,function(f,m){o(m)&&c.setNode(m,f)}),y.each(this._edgeObjs,function(f){c.hasNode(f.v)&&c.hasNode(f.w)&&c.setEdge(f,h.edge(f))});var v={};return this._isCompound&&y.each(c.nodes(),function(f){c.setParent(f,function m(b){var M=h.parent(b);return M===void 0||c.hasNode(M)?(v[b]=M,M):M in v?v[M]:m(M)}(f))}),c},p.prototype.setDefaultEdgeLabel=function(o){return y.isFunction(o)||(o=y.constant(o)),this._defaultEdgeLabelFn=o,this},p.prototype.edgeCount=function(){return this._edgeCount},p.prototype.edges=function(){return y.values(this._edgeObjs)},p.prototype.setPath=function(o,c){var h=this,v=arguments;return y.reduce(o,function(f,m){return v.length>1?h.setEdge(f,m,c):h.setEdge(f,m),m}),this},p.prototype.setEdge=function(){var o,c,h,v,f=!1,m=arguments[0];d(m)==="object"&&m!==null&&"v"in m?(o=m.v,c=m.w,h=m.name,arguments.length===2&&(v=arguments[1],f=!0)):(o=m,c=arguments[1],h=arguments[3],arguments.length>2&&(v=arguments[2],f=!0)),o=""+o,c=""+c,y.isUndefined(h)||(h=""+h);var b=u(this._isDirected,o,c,h);if(y.has(this._edgeLabels,b))return f&&(this._edgeLabels[b]=v),this;if(!y.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(o),this.setNode(c),this._edgeLabels[b]=f?v:this._defaultEdgeLabelFn(o,c,h);var M=i(this._isDirected,o,c,h);return o=M.v,c=M.w,Object.freeze(M),this._edgeObjs[b]=M,n(this._preds[c],o),n(this._sucs[o],c),this._in[c][b]=M,this._out[o][b]=M,this._edgeCount++,this},p.prototype.edge=function(o,c,h){var v=arguments.length===1?r(this._isDirected,arguments[0]):u(this._isDirected,o,c,h);return this._edgeLabels[v]},p.prototype.hasEdge=function(o,c,h){var v=arguments.length===1?r(this._isDirected,arguments[0]):u(this._isDirected,o,c,h);return y.has(this._edgeLabels,v)},p.prototype.removeEdge=function(o,c,h){var v=arguments.length===1?r(this._isDirected,arguments[0]):u(this._isDirected,o,c,h),f=this._edgeObjs[v];return f&&(o=f.v,c=f.w,delete this._edgeLabels[v],delete this._edgeObjs[v],a(this._preds[c],o),a(this._sucs[o],c),delete this._in[c][v],delete this._out[o][v],this._edgeCount--),this},p.prototype.inEdges=function(o,c){var h=this._in[o];if(h){var v=y.values(h);return c?y.filter(v,function(f){return f.v===c}):v}},p.prototype.outEdges=function(o,c){var h=this._out[o];if(h){var v=y.values(h);return c?y.filter(v,function(f){return f.w===c}):v}},p.prototype.nodeEdges=function(o,c){var h=this.inEdges(o,c);if(h)return h.concat(this.outEdges(o,c))}},function(A,x,s){var d=s(44)(s(31),"Map");A.exports=d},function(A,x,s){var d=s(391),y=s(398),p=s(400),n=s(401),a=s(402);function u(i){var r=-1,o=i==null?0:i.length;for(this.clear();++r<o;){var c=i[r];this.set(c[0],c[1])}}u.prototype.clear=d,u.prototype.delete=y,u.prototype.get=p,u.prototype.has=n,u.prototype.set=a,A.exports=u},function(A,x){A.exports=function(s,d){for(var y=-1,p=s==null?0:s.length;++y<p&&d(s[y],y,s)!==!1;);return s}},function(A,x){A.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(A,x){A.exports=function(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=9007199254740991}},function(A,x,s){(function(d){function y(r){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}var p=s(174),n=y(x)=="object"&&x&&!x.nodeType&&x,a=n&&y(d)=="object"&&d&&!d.nodeType&&d,u=a&&a.exports===n&&p.process,i=function(){try{var r=a&&a.require&&a.require("util").types;return r||u&&u.binding&&u.binding("util")}catch(o){}}();d.exports=i}).call(this,s(115)(A))},function(A,x,s){var d=s(85),y=s(408),p=Object.prototype.hasOwnProperty;A.exports=function(n){if(!d(n))return y(n);var a=[];for(var u in Object(n))p.call(n,u)&&u!="constructor"&&a.push(u);return a}},function(A,x,s){var d=s(181),y=s(182),p=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols,a=n?function(u){return u==null?[]:(u=Object(u),d(n(u),function(i){return p.call(u,i)}))}:y;A.exports=a},function(A,x){A.exports=function(s,d){for(var y=-1,p=d.length,n=s.length;++y<p;)s[n+y]=d[y];return s}},function(A,x,s){var d=s(187);A.exports=function(y){var p=new y.constructor(y.byteLength);return new d(p).set(new d(y)),p}},function(A,x){A.exports=function(s){return function(){return s}}},function(A,x,s){var d=s(124),y=s(41);A.exports=function(p,n){return p&&d(p,n,y)}},function(A,x,s){var d=s(427)();A.exports=d},function(A,x){A.exports=function(s){var d=-1,y=Array(s.size);return s.forEach(function(p){y[++d]=p}),y}},function(A,x,s){function d(u){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}var y=s(15),p=s(55),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;A.exports=function(u,i){if(y(u))return!1;var r=d(u);return!(r!="number"&&r!="symbol"&&r!="boolean"&&u!=null&&!p(u))||a.test(u)||!n.test(u)||i!=null&&u in Object(i)}},function(A,x,s){var d=s(120),y=s(461);A.exports=function p(n,a,u,i,r){var o=-1,c=n.length;for(u||(u=y),r||(r=[]);++o<c;){var h=n[o];a>0&&u(h)?a>1?p(h,a-1,u,i,r):d(r,h):i||(r[r.length]=h)}return r}},function(A,x,s){var d=s(55);A.exports=function(y,p,n){for(var a=-1,u=y.length;++a<u;){var i=y[a],r=p(i);if(r!=null&&(o===void 0?r==r&&!d(r):n(r,o)))var o=r,c=i}return c}},function(A,x,s){var d=s(227),y=["LR","RL","TB","BT","H","V"],p=["LR","RL","H"],n=y[0];A.exports=function(a,u,i){var r=u.direction||n;if(u.isHorizontal=function(m){return p.indexOf(m)>-1}(r),r&&y.indexOf(r)===-1)throw new TypeError("Invalid direction: "+r);if(r===y[0])i(a,u);else if(r===y[1])i(a,u),a.right2left();else if(r===y[2])i(a,u);else if(r===y[3])i(a,u),a.bottom2top();else if(r===y[4]||r===y[5]){var o=d(a,u),c=o.left,h=o.right;i(c,u),i(h,u),u.isHorizontal?c.right2left():c.bottom2top(),h.translate(c.x-h.x,c.y-h.y),a.x=c.x,a.y=h.y;var v=a.getBoundingBox();u.isHorizontal?v.top<0&&a.translate(0,-v.top):v.left<0&&a.translate(-v.left,0)}var f=u.fixedRoot;return f===void 0&&(f=!0),f&&a.translate(-(a.x+a.width/2+a.hgap),-(a.y+a.height/2+a.vgap)),a}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(3);x.default=function(y,p,n){for(var a=0,u=d.default(p)?p.split("."):p;y&&a<u.length;)y=y[u[a++]];return y===void 0||a<u.length?n:y}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.len=x.sqrDist=x.dist=x.div=x.mul=x.sub=void 0,x.create=y,x.clone=function(m){var b=new d.ARRAY_TYPE(3);return b[0]=m[0],b[1]=m[1],b[2]=m[2],b},x.length=p,x.fromValues=n,x.copy=function(m,b){return m[0]=b[0],m[1]=b[1],m[2]=b[2],m},x.set=function(m,b,M,O){return m[0]=b,m[1]=M,m[2]=O,m},x.add=function(m,b,M){return m[0]=b[0]+M[0],m[1]=b[1]+M[1],m[2]=b[2]+M[2],m},x.subtract=a,x.multiply=u,x.divide=i,x.ceil=function(m,b){return m[0]=Math.ceil(b[0]),m[1]=Math.ceil(b[1]),m[2]=Math.ceil(b[2]),m},x.floor=function(m,b){return m[0]=Math.floor(b[0]),m[1]=Math.floor(b[1]),m[2]=Math.floor(b[2]),m},x.min=function(m,b,M){return m[0]=Math.min(b[0],M[0]),m[1]=Math.min(b[1],M[1]),m[2]=Math.min(b[2],M[2]),m},x.max=function(m,b,M){return m[0]=Math.max(b[0],M[0]),m[1]=Math.max(b[1],M[1]),m[2]=Math.max(b[2],M[2]),m},x.round=function(m,b){return m[0]=Math.round(b[0]),m[1]=Math.round(b[1]),m[2]=Math.round(b[2]),m},x.scale=function(m,b,M){return m[0]=b[0]*M,m[1]=b[1]*M,m[2]=b[2]*M,m},x.scaleAndAdd=function(m,b,M,O){return m[0]=b[0]+M[0]*O,m[1]=b[1]+M[1]*O,m[2]=b[2]+M[2]*O,m},x.distance=r,x.squaredDistance=o,x.squaredLength=c,x.negate=function(m,b){return m[0]=-b[0],m[1]=-b[1],m[2]=-b[2],m},x.inverse=function(m,b){return m[0]=1/b[0],m[1]=1/b[1],m[2]=1/b[2],m},x.normalize=h,x.dot=v,x.cross=function(m,b,M){var O=b[0],E=b[1],C=b[2],j=M[0],B=M[1],N=M[2];return m[0]=E*N-C*B,m[1]=C*j-O*N,m[2]=O*B-E*j,m},x.lerp=function(m,b,M,O){var E=b[0],C=b[1],j=b[2];return m[0]=E+O*(M[0]-E),m[1]=C+O*(M[1]-C),m[2]=j+O*(M[2]-j),m},x.hermite=function(m,b,M,O,E,C){var j=C*C,B=j*(2*C-3)+1,N=j*(C-2)+C,I=j*(C-1),F=j*(3-2*C);return m[0]=b[0]*B+M[0]*N+O[0]*I+E[0]*F,m[1]=b[1]*B+M[1]*N+O[1]*I+E[1]*F,m[2]=b[2]*B+M[2]*N+O[2]*I+E[2]*F,m},x.bezier=function(m,b,M,O,E,C){var j=1-C,B=j*j,N=C*C,I=B*j,F=3*C*B,G=3*N*j,U=N*C;return m[0]=b[0]*I+M[0]*F+O[0]*G+E[0]*U,m[1]=b[1]*I+M[1]*F+O[1]*G+E[1]*U,m[2]=b[2]*I+M[2]*F+O[2]*G+E[2]*U,m},x.random=function(m,b){b=b||1;var M=2*d.RANDOM()*Math.PI,O=2*d.RANDOM()-1,E=Math.sqrt(1-O*O)*b;return m[0]=Math.cos(M)*E,m[1]=Math.sin(M)*E,m[2]=O*b,m},x.transformMat4=function(m,b,M){var O=b[0],E=b[1],C=b[2],j=M[3]*O+M[7]*E+M[11]*C+M[15];return j=j||1,m[0]=(M[0]*O+M[4]*E+M[8]*C+M[12])/j,m[1]=(M[1]*O+M[5]*E+M[9]*C+M[13])/j,m[2]=(M[2]*O+M[6]*E+M[10]*C+M[14])/j,m},x.transformMat3=function(m,b,M){var O=b[0],E=b[1],C=b[2];return m[0]=O*M[0]+E*M[3]+C*M[6],m[1]=O*M[1]+E*M[4]+C*M[7],m[2]=O*M[2]+E*M[5]+C*M[8],m},x.transformQuat=function(m,b,M){var O=M[0],E=M[1],C=M[2],j=M[3],B=b[0],N=b[1],I=b[2],F=E*I-C*N,G=C*B-O*I,U=O*N-E*B,H=E*U-C*G,Q=C*F-O*U,at=O*G-E*F,$=2*j;return F*=$,G*=$,U*=$,H*=2,Q*=2,at*=2,m[0]=B+F+H,m[1]=N+G+Q,m[2]=I+U+at,m},x.rotateX=function(m,b,M,O){var E=[],C=[];return E[0]=b[0]-M[0],E[1]=b[1]-M[1],E[2]=b[2]-M[2],C[0]=E[0],C[1]=E[1]*Math.cos(O)-E[2]*Math.sin(O),C[2]=E[1]*Math.sin(O)+E[2]*Math.cos(O),m[0]=C[0]+M[0],m[1]=C[1]+M[1],m[2]=C[2]+M[2],m},x.rotateY=function(m,b,M,O){var E=[],C=[];return E[0]=b[0]-M[0],E[1]=b[1]-M[1],E[2]=b[2]-M[2],C[0]=E[2]*Math.sin(O)+E[0]*Math.cos(O),C[1]=E[1],C[2]=E[2]*Math.cos(O)-E[0]*Math.sin(O),m[0]=C[0]+M[0],m[1]=C[1]+M[1],m[2]=C[2]+M[2],m},x.rotateZ=function(m,b,M,O){var E=[],C=[];return E[0]=b[0]-M[0],E[1]=b[1]-M[1],E[2]=b[2]-M[2],C[0]=E[0]*Math.cos(O)-E[1]*Math.sin(O),C[1]=E[0]*Math.sin(O)+E[1]*Math.cos(O),C[2]=E[2],m[0]=C[0]+M[0],m[1]=C[1]+M[1],m[2]=C[2]+M[2],m},x.angle=function(m,b){var M=n(m[0],m[1],m[2]),O=n(b[0],b[1],b[2]);h(M,M),h(O,O);var E=v(M,O);return E>1?0:E<-1?Math.PI:Math.acos(E)},x.str=function(m){return"vec3("+m[0]+", "+m[1]+", "+m[2]+")"},x.exactEquals=function(m,b){return m[0]===b[0]&&m[1]===b[1]&&m[2]===b[2]},x.equals=function(m,b){var M=m[0],O=m[1],E=m[2],C=b[0],j=b[1],B=b[2];return Math.abs(M-C)<=d.EPSILON*Math.max(1,Math.abs(M),Math.abs(C))&&Math.abs(O-j)<=d.EPSILON*Math.max(1,Math.abs(O),Math.abs(j))&&Math.abs(E-B)<=d.EPSILON*Math.max(1,Math.abs(E),Math.abs(B))};var d=function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var M in m)Object.prototype.hasOwnProperty.call(m,M)&&(b[M]=m[M]);return b.default=m,b}(s(104));function y(){var m=new d.ARRAY_TYPE(3);return d.ARRAY_TYPE!=Float32Array&&(m[0]=0,m[1]=0,m[2]=0),m}function p(m){var b=m[0],M=m[1],O=m[2];return Math.sqrt(b*b+M*M+O*O)}function n(m,b,M){var O=new d.ARRAY_TYPE(3);return O[0]=m,O[1]=b,O[2]=M,O}function a(m,b,M){return m[0]=b[0]-M[0],m[1]=b[1]-M[1],m[2]=b[2]-M[2],m}function u(m,b,M){return m[0]=b[0]*M[0],m[1]=b[1]*M[1],m[2]=b[2]*M[2],m}function i(m,b,M){return m[0]=b[0]/M[0],m[1]=b[1]/M[1],m[2]=b[2]/M[2],m}function r(m,b){var M=b[0]-m[0],O=b[1]-m[1],E=b[2]-m[2];return Math.sqrt(M*M+O*O+E*E)}function o(m,b){var M=b[0]-m[0],O=b[1]-m[1],E=b[2]-m[2];return M*M+O*O+E*E}function c(m){var b=m[0],M=m[1],O=m[2];return b*b+M*M+O*O}function h(m,b){var M=b[0],O=b[1],E=b[2],C=M*M+O*O+E*E;return C>0&&(C=1/Math.sqrt(C),m[0]=b[0]*C,m[1]=b[1]*C,m[2]=b[2]*C),m}function v(m,b){return m[0]*b[0]+m[1]*b[1]+m[2]*b[2]}var f;x.sub=a,x.mul=u,x.div=i,x.dist=r,x.sqrDist=o,x.len=p,x.sqrLen=c,x.forEach=(f=y(),function(m,b,M,O,E,C){var j=void 0,B=void 0;for(b||(b=3),M||(M=0),B=O?Math.min(O*b+M,m.length):m.length,j=M;j<B;j+=b)f[0]=m[j],f[1]=m[j+1],f[2]=m[j+2],E(f,f,C),m[j]=f[0],m[j+1]=f[1],m[j+2]=f[2];return m})},function(A,x,s){"use strict";s.r(x),function(d){s.d(x,"BrowserInfo",function(){return p}),s.d(x,"NodeInfo",function(){return n}),s.d(x,"SearchBotDeviceInfo",function(){return a}),s.d(x,"BotInfo",function(){return u}),s.d(x,"ReactNativeInfo",function(){return i}),s.d(x,"detect",function(){return h}),s.d(x,"browserName",function(){return f}),s.d(x,"parseUserAgent",function(){return m}),s.d(x,"detectOS",function(){return b}),s.d(x,"getNodeVersion",function(){return M});var y=function(){for(var E=0,C=0,j=arguments.length;C<j;C++)E+=arguments[C].length;var B=Array(E),N=0;for(C=0;C<j;C++)for(var I=arguments[C],F=0,G=I.length;F<G;F++,N++)B[N]=I[F];return B},p=function(E,C,j){this.name=E,this.version=C,this.os=j,this.type="browser"},n=function(E){this.version=E,this.type="node",this.name="node",this.os=d.platform},a=function(E,C,j,B){this.name=E,this.version=C,this.os=j,this.bot=B,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},i=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},r=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,o=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],c=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(O){return O?m(O):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new i:typeof navigator!="undefined"?m(navigator.userAgent):M()}function v(O){return O!==""&&o.reduce(function(E,C){var j=C[0],B=C[1];if(E)return E;var N=B.exec(O);return!!N&&[j,N]},!1)}function f(O){var E=v(O);return E?E[0]:null}function m(O){var E=v(O);if(!E)return null;var C=E[0],j=E[1];if(C==="searchbot")return new u;var B=j[1]&&j[1].split(/[._]/).slice(0,3);B?B.length<3&&(B=y(B,function(G){for(var U=[],H=0;H<G;H++)U.push("0");return U}(3-B.length))):B=[];var N=B.join("."),I=b(O),F=r.exec(O);return F&&F[1]?new a(C,N,I,F[1]):new p(C,N,I)}function b(O){for(var E=0,C=c.length;E<C;E++){var j=c[E],B=j[0];if(j[1].exec(O))return B}return null}function M(){return d!==void 0&&d.version?new n(d.version.slice(1)):null}}.call(this,s(152))},function(A,x,s){"use strict";s.r(x),s.d(x,"mat3",function(){return d}),s.d(x,"vec2",function(){return gt}),s.d(x,"vec3",function(){return bt}),s.d(x,"ext",function(){return y});var d={};s.r(d),s.d(d,"create",function(){return n}),s.d(d,"fromMat4",function(){return a}),s.d(d,"clone",function(){return u}),s.d(d,"copy",function(){return i}),s.d(d,"fromValues",function(){return r}),s.d(d,"set",function(){return o}),s.d(d,"identity",function(){return c}),s.d(d,"transpose",function(){return h}),s.d(d,"invert",function(){return v}),s.d(d,"adjoint",function(){return f}),s.d(d,"determinant",function(){return m}),s.d(d,"multiply",function(){return b}),s.d(d,"translate",function(){return M}),s.d(d,"rotate",function(){return O}),s.d(d,"scale",function(){return E}),s.d(d,"fromTranslation",function(){return C}),s.d(d,"fromRotation",function(){return j}),s.d(d,"fromScaling",function(){return B}),s.d(d,"fromMat2d",function(){return N}),s.d(d,"fromQuat",function(){return I}),s.d(d,"normalFromMat4",function(){return F}),s.d(d,"projection",function(){return G}),s.d(d,"str",function(){return U}),s.d(d,"frob",function(){return H}),s.d(d,"add",function(){return Q}),s.d(d,"subtract",function(){return at}),s.d(d,"multiplyScalar",function(){return $}),s.d(d,"multiplyScalarAndAdd",function(){return K}),s.d(d,"exactEquals",function(){return ot}),s.d(d,"equals",function(){return it}),s.d(d,"mul",function(){return ht}),s.d(d,"sub",function(){return St});var y={};s.r(y),s.d(y,"leftTranslate",function(){return mt}),s.d(y,"leftRotate",function(){return vt}),s.d(y,"leftScale",function(){return _t}),s.d(y,"transform",function(){return Nt}),s.d(y,"direction",function(){return At}),s.d(y,"angleTo",function(){return It}),s.d(y,"vertical",function(){return dt});var p=s(6);function n(){var X=new p.a(9);return p.a!=Float32Array&&(X[1]=0,X[2]=0,X[3]=0,X[5]=0,X[6]=0,X[7]=0),X[0]=1,X[4]=1,X[8]=1,X}function a(X,V){return X[0]=V[0],X[1]=V[1],X[2]=V[2],X[3]=V[4],X[4]=V[5],X[5]=V[6],X[6]=V[8],X[7]=V[9],X[8]=V[10],X}function u(X){var V=new p.a(9);return V[0]=X[0],V[1]=X[1],V[2]=X[2],V[3]=X[3],V[4]=X[4],V[5]=X[5],V[6]=X[6],V[7]=X[7],V[8]=X[8],V}function i(X,V){return X[0]=V[0],X[1]=V[1],X[2]=V[2],X[3]=V[3],X[4]=V[4],X[5]=V[5],X[6]=V[6],X[7]=V[7],X[8]=V[8],X}function r(X,V,Z,W,rt,J,tt,ft,kt){var jt=new p.a(9);return jt[0]=X,jt[1]=V,jt[2]=Z,jt[3]=W,jt[4]=rt,jt[5]=J,jt[6]=tt,jt[7]=ft,jt[8]=kt,jt}function o(X,V,Z,W,rt,J,tt,ft,kt,jt){return X[0]=V,X[1]=Z,X[2]=W,X[3]=rt,X[4]=J,X[5]=tt,X[6]=ft,X[7]=kt,X[8]=jt,X}function c(X){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=1,X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function h(X,V){if(X===V){var Z=V[1],W=V[2],rt=V[5];X[1]=V[3],X[2]=V[6],X[3]=Z,X[5]=V[7],X[6]=W,X[7]=rt}else X[0]=V[0],X[1]=V[3],X[2]=V[6],X[3]=V[1],X[4]=V[4],X[5]=V[7],X[6]=V[2],X[7]=V[5],X[8]=V[8];return X}function v(X,V){var Z=V[0],W=V[1],rt=V[2],J=V[3],tt=V[4],ft=V[5],kt=V[6],jt=V[7],Bt=V[8],Rt=Bt*tt-ft*jt,Lt=-Bt*J+ft*kt,Pt=jt*J-tt*kt,Ct=Z*Rt+W*Lt+rt*Pt;return Ct?(Ct=1/Ct,X[0]=Rt*Ct,X[1]=(-Bt*W+rt*jt)*Ct,X[2]=(ft*W-rt*tt)*Ct,X[3]=Lt*Ct,X[4]=(Bt*Z-rt*kt)*Ct,X[5]=(-ft*Z+rt*J)*Ct,X[6]=Pt*Ct,X[7]=(-jt*Z+W*kt)*Ct,X[8]=(tt*Z-W*J)*Ct,X):null}function f(X,V){var Z=V[0],W=V[1],rt=V[2],J=V[3],tt=V[4],ft=V[5],kt=V[6],jt=V[7],Bt=V[8];return X[0]=tt*Bt-ft*jt,X[1]=rt*jt-W*Bt,X[2]=W*ft-rt*tt,X[3]=ft*kt-J*Bt,X[4]=Z*Bt-rt*kt,X[5]=rt*J-Z*ft,X[6]=J*jt-tt*kt,X[7]=W*kt-Z*jt,X[8]=Z*tt-W*J,X}function m(X){var V=X[0],Z=X[1],W=X[2],rt=X[3],J=X[4],tt=X[5],ft=X[6],kt=X[7],jt=X[8];return V*(jt*J-tt*kt)+Z*(-jt*rt+tt*ft)+W*(kt*rt-J*ft)}function b(X,V,Z){var W=V[0],rt=V[1],J=V[2],tt=V[3],ft=V[4],kt=V[5],jt=V[6],Bt=V[7],Rt=V[8],Lt=Z[0],Pt=Z[1],Ct=Z[2],Ht=Z[3],Xt=Z[4],ut=Z[5],re=Z[6],pe=Z[7],de=Z[8];return X[0]=Lt*W+Pt*tt+Ct*jt,X[1]=Lt*rt+Pt*ft+Ct*Bt,X[2]=Lt*J+Pt*kt+Ct*Rt,X[3]=Ht*W+Xt*tt+ut*jt,X[4]=Ht*rt+Xt*ft+ut*Bt,X[5]=Ht*J+Xt*kt+ut*Rt,X[6]=re*W+pe*tt+de*jt,X[7]=re*rt+pe*ft+de*Bt,X[8]=re*J+pe*kt+de*Rt,X}function M(X,V,Z){var W=V[0],rt=V[1],J=V[2],tt=V[3],ft=V[4],kt=V[5],jt=V[6],Bt=V[7],Rt=V[8],Lt=Z[0],Pt=Z[1];return X[0]=W,X[1]=rt,X[2]=J,X[3]=tt,X[4]=ft,X[5]=kt,X[6]=Lt*W+Pt*tt+jt,X[7]=Lt*rt+Pt*ft+Bt,X[8]=Lt*J+Pt*kt+Rt,X}function O(X,V,Z){var W=V[0],rt=V[1],J=V[2],tt=V[3],ft=V[4],kt=V[5],jt=V[6],Bt=V[7],Rt=V[8],Lt=Math.sin(Z),Pt=Math.cos(Z);return X[0]=Pt*W+Lt*tt,X[1]=Pt*rt+Lt*ft,X[2]=Pt*J+Lt*kt,X[3]=Pt*tt-Lt*W,X[4]=Pt*ft-Lt*rt,X[5]=Pt*kt-Lt*J,X[6]=jt,X[7]=Bt,X[8]=Rt,X}function E(X,V,Z){var W=Z[0],rt=Z[1];return X[0]=W*V[0],X[1]=W*V[1],X[2]=W*V[2],X[3]=rt*V[3],X[4]=rt*V[4],X[5]=rt*V[5],X[6]=V[6],X[7]=V[7],X[8]=V[8],X}function C(X,V){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=1,X[5]=0,X[6]=V[0],X[7]=V[1],X[8]=1,X}function j(X,V){var Z=Math.sin(V),W=Math.cos(V);return X[0]=W,X[1]=Z,X[2]=0,X[3]=-Z,X[4]=W,X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function B(X,V){return X[0]=V[0],X[1]=0,X[2]=0,X[3]=0,X[4]=V[1],X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function N(X,V){return X[0]=V[0],X[1]=V[1],X[2]=0,X[3]=V[2],X[4]=V[3],X[5]=0,X[6]=V[4],X[7]=V[5],X[8]=1,X}function I(X,V){var Z=V[0],W=V[1],rt=V[2],J=V[3],tt=Z+Z,ft=W+W,kt=rt+rt,jt=Z*tt,Bt=W*tt,Rt=W*ft,Lt=rt*tt,Pt=rt*ft,Ct=rt*kt,Ht=J*tt,Xt=J*ft,ut=J*kt;return X[0]=1-Rt-Ct,X[3]=Bt-ut,X[6]=Lt+Xt,X[1]=Bt+ut,X[4]=1-jt-Ct,X[7]=Pt-Ht,X[2]=Lt-Xt,X[5]=Pt+Ht,X[8]=1-jt-Rt,X}function F(X,V){var Z=V[0],W=V[1],rt=V[2],J=V[3],tt=V[4],ft=V[5],kt=V[6],jt=V[7],Bt=V[8],Rt=V[9],Lt=V[10],Pt=V[11],Ct=V[12],Ht=V[13],Xt=V[14],ut=V[15],re=Z*ft-W*tt,pe=Z*kt-rt*tt,de=Z*jt-J*tt,we=W*kt-rt*ft,fe=W*jt-J*ft,ue=rt*jt-J*kt,ye=Bt*Ht-Rt*Ct,ve=Bt*Xt-Lt*Ct,xe=Bt*ut-Pt*Ct,Ge=Rt*Xt-Lt*Ht,je=Rt*ut-Pt*Ht,Ne=Lt*ut-Pt*Xt,Me=re*Ne-pe*je+de*Ge+we*xe-fe*ve+ue*ye;return Me?(Me=1/Me,X[0]=(ft*Ne-kt*je+jt*Ge)*Me,X[1]=(kt*xe-tt*Ne-jt*ve)*Me,X[2]=(tt*je-ft*xe+jt*ye)*Me,X[3]=(rt*je-W*Ne-J*Ge)*Me,X[4]=(Z*Ne-rt*xe+J*ve)*Me,X[5]=(W*xe-Z*je-J*ye)*Me,X[6]=(Ht*ue-Xt*fe+ut*we)*Me,X[7]=(Xt*de-Ct*ue-ut*pe)*Me,X[8]=(Ct*fe-Ht*de+ut*re)*Me,X):null}function G(X,V,Z){return X[0]=2/V,X[1]=0,X[2]=0,X[3]=0,X[4]=-2/Z,X[5]=0,X[6]=-1,X[7]=1,X[8]=1,X}function U(X){return"mat3("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+", "+X[4]+", "+X[5]+", "+X[6]+", "+X[7]+", "+X[8]+")"}function H(X){return Math.hypot(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8])}function Q(X,V,Z){return X[0]=V[0]+Z[0],X[1]=V[1]+Z[1],X[2]=V[2]+Z[2],X[3]=V[3]+Z[3],X[4]=V[4]+Z[4],X[5]=V[5]+Z[5],X[6]=V[6]+Z[6],X[7]=V[7]+Z[7],X[8]=V[8]+Z[8],X}function at(X,V,Z){return X[0]=V[0]-Z[0],X[1]=V[1]-Z[1],X[2]=V[2]-Z[2],X[3]=V[3]-Z[3],X[4]=V[4]-Z[4],X[5]=V[5]-Z[5],X[6]=V[6]-Z[6],X[7]=V[7]-Z[7],X[8]=V[8]-Z[8],X}function $(X,V,Z){return X[0]=V[0]*Z,X[1]=V[1]*Z,X[2]=V[2]*Z,X[3]=V[3]*Z,X[4]=V[4]*Z,X[5]=V[5]*Z,X[6]=V[6]*Z,X[7]=V[7]*Z,X[8]=V[8]*Z,X}function K(X,V,Z,W){return X[0]=V[0]+Z[0]*W,X[1]=V[1]+Z[1]*W,X[2]=V[2]+Z[2]*W,X[3]=V[3]+Z[3]*W,X[4]=V[4]+Z[4]*W,X[5]=V[5]+Z[5]*W,X[6]=V[6]+Z[6]*W,X[7]=V[7]+Z[7]*W,X[8]=V[8]+Z[8]*W,X}function ot(X,V){return X[0]===V[0]&&X[1]===V[1]&&X[2]===V[2]&&X[3]===V[3]&&X[4]===V[4]&&X[5]===V[5]&&X[6]===V[6]&&X[7]===V[7]&&X[8]===V[8]}function it(X,V){var Z=X[0],W=X[1],rt=X[2],J=X[3],tt=X[4],ft=X[5],kt=X[6],jt=X[7],Bt=X[8],Rt=V[0],Lt=V[1],Pt=V[2],Ct=V[3],Ht=V[4],Xt=V[5],ut=V[6],re=V[7],pe=V[8];return Math.abs(Z-Rt)<=p.b*Math.max(1,Math.abs(Z),Math.abs(Rt))&&Math.abs(W-Lt)<=p.b*Math.max(1,Math.abs(W),Math.abs(Lt))&&Math.abs(rt-Pt)<=p.b*Math.max(1,Math.abs(rt),Math.abs(Pt))&&Math.abs(J-Ct)<=p.b*Math.max(1,Math.abs(J),Math.abs(Ct))&&Math.abs(tt-Ht)<=p.b*Math.max(1,Math.abs(tt),Math.abs(Ht))&&Math.abs(ft-Xt)<=p.b*Math.max(1,Math.abs(ft),Math.abs(Xt))&&Math.abs(kt-ut)<=p.b*Math.max(1,Math.abs(kt),Math.abs(ut))&&Math.abs(jt-re)<=p.b*Math.max(1,Math.abs(jt),Math.abs(re))&&Math.abs(Bt-pe)<=p.b*Math.max(1,Math.abs(Bt),Math.abs(pe))}var ht=b,St=at,gt=s(105),bt=s(106);function mt(X,V,Z){var W=[0,0,0,0,0,0,0,0,0];return d.fromTranslation(W,Z),d.multiply(X,W,V)}function vt(X,V,Z){var W=[0,0,0,0,0,0,0,0,0];return d.fromRotation(W,Z),d.multiply(X,W,V)}function _t(X,V,Z){var W=[0,0,0,0,0,0,0,0,0];return d.fromScaling(W,Z),d.multiply(X,W,V)}function Nt(X,V){for(var Z,W,rt,J=X?[].concat(X):[1,0,0,0,1,0,0,0,1],tt=0,ft=V.length;tt<ft;tt++){var kt=V[tt];switch(kt[0]){case"t":mt(J,J,[kt[1],kt[2]]);break;case"s":_t(J,J,[kt[1],kt[2]]);break;case"r":vt(J,J,kt[1]);break;case"m":Z=J,W=J,rt=kt[1],d.multiply(Z,rt,W)}}return J}function At(X,V){return X[0]*V[1]-V[0]*X[1]}function It(X,V,Z){var W=gt.angle(X,V),rt=At(X,V)>=0;return Z?rt?2*Math.PI-W:W:rt?W:2*Math.PI-W}function dt(X,V,Z){return Z?(X[0]=V[1],X[1]=-1*V[0]):(X[0]=-1*V[1],X[1]=V[0]),X}},function(A,x,s){A.exports={graphlib:s(30),layout:s(485),debug:s(544),util:{time:s(20).time,notime:s(20).notime},version:s(545)}},function(A,x,s){var d={compactBox:s(546),dendrogram:s(548),indented:s(550),mindmap:s(552)};A.exports=d},function(A,x,s){(function(d){function y(K){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot})(K)}var p=Object.getOwnPropertyDescriptors||function(K){for(var ot=Object.keys(K),it={},ht=0;ht<ot.length;ht++)it[ot[ht]]=Object.getOwnPropertyDescriptor(K,ot[ht]);return it},n=/%[sdj%]/g;x.format=function(K){if(!O(K)){for(var ot=[],it=0;it<arguments.length;it++)ot.push(i(arguments[it]));return ot.join(" ")}it=1;for(var ht=arguments,St=ht.length,gt=String(K).replace(n,function(mt){if(mt==="%%")return"%";if(it>=St)return mt;switch(mt){case"%s":return String(ht[it++]);case"%d":return Number(ht[it++]);case"%j":try{return JSON.stringify(ht[it++])}catch(vt){return"[Circular]"}default:return mt}}),bt=ht[it];it<St;bt=ht[++it])b(bt)||!j(bt)?gt+=" "+bt:gt+=" "+i(bt);return gt},x.deprecate=function(K,ot){if(d!==void 0&&d.noDeprecation===!0)return K;if(d===void 0)return function(){return x.deprecate(K,ot).apply(this,arguments)};var it=!1;return function(){if(!it){if(d.throwDeprecation)throw new Error(ot);d.traceDeprecation?console.trace(ot):console.error(ot),it=!0}return K.apply(this,arguments)}};var a,u={};function i(K,ot){var it={seen:[],stylize:o};return arguments.length>=3&&(it.depth=arguments[2]),arguments.length>=4&&(it.colors=arguments[3]),m(ot)?it.showHidden=ot:ot&&x._extend(it,ot),E(it.showHidden)&&(it.showHidden=!1),E(it.depth)&&(it.depth=2),E(it.colors)&&(it.colors=!1),E(it.customInspect)&&(it.customInspect=!0),it.colors&&(it.stylize=r),c(it,K,it.depth)}function r(K,ot){var it=i.styles[ot];return it?"["+i.colors[it][0]+"m"+K+"["+i.colors[it][1]+"m":K}function o(K,ot){return K}function c(K,ot,it){if(K.customInspect&&ot&&I(ot.inspect)&&ot.inspect!==x.inspect&&(!ot.constructor||ot.constructor.prototype!==ot)){var ht=ot.inspect(it,K);return O(ht)||(ht=c(K,ht,it)),ht}var St=function(It,dt){if(E(dt))return It.stylize("undefined","undefined");if(O(dt)){var X="'"+JSON.stringify(dt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return It.stylize(X,"string")}if(M(dt))return It.stylize(""+dt,"number");if(m(dt))return It.stylize(""+dt,"boolean");if(b(dt))return It.stylize("null","null")}(K,ot);if(St)return St;var gt=Object.keys(ot),bt=function(It){var dt={};return It.forEach(function(X,V){dt[X]=!0}),dt}(gt);if(K.showHidden&&(gt=Object.getOwnPropertyNames(ot)),N(ot)&&(gt.indexOf("message")>=0||gt.indexOf("description")>=0))return h(ot);if(gt.length===0){if(I(ot)){var mt=ot.name?": "+ot.name:"";return K.stylize("[Function"+mt+"]","special")}if(C(ot))return K.stylize(RegExp.prototype.toString.call(ot),"regexp");if(B(ot))return K.stylize(Date.prototype.toString.call(ot),"date");if(N(ot))return h(ot)}var vt,_t="",Nt=!1,At=["{","}"];return f(ot)&&(Nt=!0,At=["[","]"]),I(ot)&&(_t=" [Function"+(ot.name?": "+ot.name:"")+"]"),C(ot)&&(_t=" "+RegExp.prototype.toString.call(ot)),B(ot)&&(_t=" "+Date.prototype.toUTCString.call(ot)),N(ot)&&(_t=" "+h(ot)),gt.length!==0||Nt&&ot.length!=0?it<0?C(ot)?K.stylize(RegExp.prototype.toString.call(ot),"regexp"):K.stylize("[Object]","special"):(K.seen.push(ot),vt=Nt?function(It,dt,X,V,Z){for(var W=[],rt=0,J=dt.length;rt<J;++rt)Q(dt,String(rt))?W.push(v(It,dt,X,V,String(rt),!0)):W.push("");return Z.forEach(function(tt){tt.match(/^\d+$/)||W.push(v(It,dt,X,V,tt,!0))}),W}(K,ot,it,bt,gt):gt.map(function(It){return v(K,ot,it,bt,It,Nt)}),K.seen.pop(),function(It,dt,X){return It.reduce(function(V,Z){return Z.indexOf(`
`)>=0,V+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?X[0]+(dt===""?"":dt+`
 `)+" "+It.join(`,
  `)+" "+X[1]:X[0]+dt+" "+It.join(", ")+" "+X[1]}(vt,_t,At)):At[0]+_t+At[1]}function h(K){return"["+Error.prototype.toString.call(K)+"]"}function v(K,ot,it,ht,St,gt){var bt,mt,vt;if((vt=Object.getOwnPropertyDescriptor(ot,St)||{value:ot[St]}).get?mt=vt.set?K.stylize("[Getter/Setter]","special"):K.stylize("[Getter]","special"):vt.set&&(mt=K.stylize("[Setter]","special")),Q(ht,St)||(bt="["+St+"]"),mt||(K.seen.indexOf(vt.value)<0?(mt=b(it)?c(K,vt.value,null):c(K,vt.value,it-1)).indexOf(`
`)>-1&&(mt=gt?mt.split(`
`).map(function(_t){return"  "+_t}).join(`
`).substr(2):`
`+mt.split(`
`).map(function(_t){return"   "+_t}).join(`
`)):mt=K.stylize("[Circular]","special")),E(bt)){if(gt&&St.match(/^\d+$/))return mt;(bt=JSON.stringify(""+St)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(bt=bt.substr(1,bt.length-2),bt=K.stylize(bt,"name")):(bt=bt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),bt=K.stylize(bt,"string"))}return bt+": "+mt}function f(K){return Array.isArray(K)}function m(K){return typeof K=="boolean"}function b(K){return K===null}function M(K){return typeof K=="number"}function O(K){return typeof K=="string"}function E(K){return K===void 0}function C(K){return j(K)&&F(K)==="[object RegExp]"}function j(K){return y(K)==="object"&&K!==null}function B(K){return j(K)&&F(K)==="[object Date]"}function N(K){return j(K)&&(F(K)==="[object Error]"||K instanceof Error)}function I(K){return typeof K=="function"}function F(K){return Object.prototype.toString.call(K)}function G(K){return K<10?"0"+K.toString(10):K.toString(10)}x.debuglog=function(K){if(E(a)&&(a=d.env.NODE_DEBUG||""),K=K.toUpperCase(),!u[K])if(new RegExp("\\b"+K+"\\b","i").test(a)){var ot=d.pid;u[K]=function(){var it=x.format.apply(x,arguments);console.error("%s %d: %s",K,ot,it)}}else u[K]=function(){};return u[K]},x.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},x.isArray=f,x.isBoolean=m,x.isNull=b,x.isNullOrUndefined=function(K){return K==null},x.isNumber=M,x.isString=O,x.isSymbol=function(K){return y(K)==="symbol"},x.isUndefined=E,x.isRegExp=C,x.isObject=j,x.isDate=B,x.isError=N,x.isFunction=I,x.isPrimitive=function(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||y(K)==="symbol"||K===void 0},x.isBuffer=s(554);var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var K=new Date,ot=[G(K.getHours()),G(K.getMinutes()),G(K.getSeconds())].join(":");return[K.getDate(),U[K.getMonth()],ot].join(" ")}function Q(K,ot){return Object.prototype.hasOwnProperty.call(K,ot)}x.log=function(){console.log("%s - %s",H(),x.format.apply(x,arguments))},x.inherits=s(555),x._extend=function(K,ot){if(!ot||!j(ot))return K;for(var it=Object.keys(ot),ht=it.length;ht--;)K[it[ht]]=ot[it[ht]];return K};var at=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function $(K,ot){if(!K){var it=new Error("Promise was rejected with a falsy value");it.reason=K,K=it}return ot(K)}x.promisify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');if(at&&K[at]){var ot;if(typeof(ot=K[at])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ot,at,{value:ot,enumerable:!1,writable:!1,configurable:!0}),ot}function ot(){for(var it,ht,St=new Promise(function(mt,vt){it=mt,ht=vt}),gt=[],bt=0;bt<arguments.length;bt++)gt.push(arguments[bt]);gt.push(function(mt,vt){mt?ht(mt):it(vt)});try{K.apply(this,gt)}catch(mt){ht(mt)}return St}return Object.setPrototypeOf(ot,Object.getPrototypeOf(K)),at&&Object.defineProperty(ot,at,{value:ot,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ot,p(K))},x.promisify.custom=at,x.callbackify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function ot(){for(var it=[],ht=0;ht<arguments.length;ht++)it.push(arguments[ht]);var St=it.pop();if(typeof St!="function")throw new TypeError("The last argument must be of type Function");var gt=this,bt=function(){return St.apply(gt,arguments)};K.apply(this,it).then(function(mt){d.nextTick(bt,null,mt)},function(mt){d.nextTick($,mt,bt)})}return Object.setPrototypeOf(ot,Object.getPrototypeOf(K)),Object.defineProperties(ot,p(K)),ot}}).call(this,s(152))},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y,p){if(!d.default(y))return y;for(var n=[],a=0;a<y.length;a++){var u=y[a];p(u,a)&&n.push(u)}return n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(139);x.default=function(p,n){var a=y.default(n),u=a.length;if(d.default(p))return!u;for(var i=0;i<u;i+=1){var r=a[i];if(n[r]!==p[r]||!(r in p))return!1}return!0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(14),p=Object.keys?function(n){return Object.keys(n)}:function(n){var a=[];return d.default(n,function(u,i){y.default(n)&&i==="prototype"||a.push(i)}),a};x.default=p},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21),y=Array.prototype.splice;x.default=function(p,n){if(!d.default(p))return[];for(var a=p?n.length:0,u=a-1;a--;){var i=void 0,r=n[a];a!==u&&r===i||(i=r,y.call(p,r,1))}return p}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(72),y=s(2);x.default=function(p){var n=[];return y.default(p,function(a){d.default(n,a)||n.push(a)}),n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(14),p=s(69);x.default=function(n,a){if(!a)return{0:n};if(!y.default(a)){var u=d.default(a)?a:a.replace(/\s+/g,"").split("*");a=function(r){for(var o="_",c=0,h=u.length;c<h;c++)o+=r[u[c]]&&r[u[c]].toString();return o}}return p.default(n,a)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){return d.hasOwnProperty(y)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(14),p=Object.values?function(n){return Object.values(n)}:function(n){var a=[];return d.default(n,function(u,i){y.default(n)&&i==="prototype"||a.push(u)}),a};x.default=p},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={}.toString;x.default=function(y){return d.call(y).replace(/^\[object /,"").replace(/]$/,"")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=Object.prototype;x.default=function(y){var p=y&&y.constructor;return y===(typeof p=="function"&&p.prototype||d)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(y){return setTimeout(y,16)})(d)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(d)}},function(A,x,s){var d=s(316),y={};for(var p in d)d.hasOwnProperty(p)&&(y[d[p]]=p);var n=A.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in n)if(n.hasOwnProperty(a)){if(!("channels"in n[a]))throw new Error("missing channels property: "+a);if(!("labels"in n[a]))throw new Error("missing channel labels property: "+a);if(n[a].labels.length!==n[a].channels)throw new Error("channel and label counts mismatch: "+a);var u=n[a].channels,i=n[a].labels;delete n[a].channels,delete n[a].labels,Object.defineProperty(n[a],"channels",{value:u}),Object.defineProperty(n[a],"labels",{value:i})}n.rgb.hsl=function(r){var o,c,h=r[0]/255,v=r[1]/255,f=r[2]/255,m=Math.min(h,v,f),b=Math.max(h,v,f),M=b-m;return b===m?o=0:h===b?o=(v-f)/M:v===b?o=2+(f-h)/M:f===b&&(o=4+(h-v)/M),(o=Math.min(60*o,360))<0&&(o+=360),c=(m+b)/2,[o,100*(b===m?0:c<=.5?M/(b+m):M/(2-b-m)),100*c]},n.rgb.hsv=function(r){var o,c,h,v,f,m=r[0]/255,b=r[1]/255,M=r[2]/255,O=Math.max(m,b,M),E=O-Math.min(m,b,M),C=function(B){return(O-B)/6/E+.5};return E===0?v=f=0:(f=E/O,o=C(m),c=C(b),h=C(M),m===O?v=h-c:b===O?v=1/3+o-h:M===O&&(v=2/3+c-o),v<0?v+=1:v>1&&(v-=1)),[360*v,100*f,100*O]},n.rgb.hwb=function(r){var o=r[0],c=r[1],h=r[2];return[n.rgb.hsl(r)[0],100*(1/255*Math.min(o,Math.min(c,h))),100*(h=1-1/255*Math.max(o,Math.max(c,h)))]},n.rgb.cmyk=function(r){var o,c=r[0]/255,h=r[1]/255,v=r[2]/255;return[100*((1-c-(o=Math.min(1-c,1-h,1-v)))/(1-o)||0),100*((1-h-o)/(1-o)||0),100*((1-v-o)/(1-o)||0),100*o]},n.rgb.keyword=function(r){var o=y[r];if(o)return o;var c,h,v,f=1/0;for(var m in d)if(d.hasOwnProperty(m)){var b=d[m],M=(h=r,v=b,Math.pow(h[0]-v[0],2)+Math.pow(h[1]-v[1],2)+Math.pow(h[2]-v[2],2));M<f&&(f=M,c=m)}return c},n.keyword.rgb=function(r){return d[r]},n.rgb.xyz=function(r){var o=r[0]/255,c=r[1]/255,h=r[2]/255;return[100*(.4124*(o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92)+.3576*(c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92)+.1805*(h=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92)),100*(.2126*o+.7152*c+.0722*h),100*(.0193*o+.1192*c+.9505*h)]},n.rgb.lab=function(r){var o=n.rgb.xyz(r),c=o[0],h=o[1],v=o[2];return h/=100,v/=108.883,c=(c/=95.047)>.008856?Math.pow(c,1/3):7.787*c+16/116,[116*(h=h>.008856?Math.pow(h,1/3):7.787*h+16/116)-16,500*(c-h),200*(h-(v=v>.008856?Math.pow(v,1/3):7.787*v+16/116))]},n.hsl.rgb=function(r){var o,c,h,v,f,m=r[0]/360,b=r[1]/100,M=r[2]/100;if(b===0)return[f=255*M,f,f];o=2*M-(c=M<.5?M*(1+b):M+b-M*b),v=[0,0,0];for(var O=0;O<3;O++)(h=m+1/3*-(O-1))<0&&h++,h>1&&h--,f=6*h<1?o+6*(c-o)*h:2*h<1?c:3*h<2?o+(c-o)*(2/3-h)*6:o,v[O]=255*f;return v},n.hsl.hsv=function(r){var o=r[0],c=r[1]/100,h=r[2]/100,v=c,f=Math.max(h,.01);return c*=(h*=2)<=1?h:2-h,v*=f<=1?f:2-f,[o,100*(h===0?2*v/(f+v):2*c/(h+c)),100*((h+c)/2)]},n.hsv.rgb=function(r){var o=r[0]/60,c=r[1]/100,h=r[2]/100,v=Math.floor(o)%6,f=o-Math.floor(o),m=255*h*(1-c),b=255*h*(1-c*f),M=255*h*(1-c*(1-f));switch(h*=255,v){case 0:return[h,M,m];case 1:return[b,h,m];case 2:return[m,h,M];case 3:return[m,b,h];case 4:return[M,m,h];case 5:return[h,m,b]}},n.hsv.hsl=function(r){var o,c,h,v=r[0],f=r[1]/100,m=r[2]/100,b=Math.max(m,.01);return h=(2-f)*m,c=f*b,[v,100*(c=(c/=(o=(2-f)*b)<=1?o:2-o)||0),100*(h/=2)]},n.hwb.rgb=function(r){var o,c,h,v,f,m,b,M=r[0]/360,O=r[1]/100,E=r[2]/100,C=O+E;switch(C>1&&(O/=C,E/=C),h=6*M-(o=Math.floor(6*M)),(1&o)!=0&&(h=1-h),v=O+h*((c=1-E)-O),o){default:case 6:case 0:f=c,m=v,b=O;break;case 1:f=v,m=c,b=O;break;case 2:f=O,m=c,b=v;break;case 3:f=O,m=v,b=c;break;case 4:f=v,m=O,b=c;break;case 5:f=c,m=O,b=v}return[255*f,255*m,255*b]},n.cmyk.rgb=function(r){var o=r[0]/100,c=r[1]/100,h=r[2]/100,v=r[3]/100;return[255*(1-Math.min(1,o*(1-v)+v)),255*(1-Math.min(1,c*(1-v)+v)),255*(1-Math.min(1,h*(1-v)+v))]},n.xyz.rgb=function(r){var o,c,h,v=r[0]/100,f=r[1]/100,m=r[2]/100;return c=-.9689*v+1.8758*f+.0415*m,h=.0557*v+-.204*f+1.057*m,o=(o=3.2406*v+-1.5372*f+-.4986*m)>.0031308?1.055*Math.pow(o,1/2.4)-.055:12.92*o,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:12.92*c,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:12.92*h,[255*(o=Math.min(Math.max(0,o),1)),255*(c=Math.min(Math.max(0,c),1)),255*(h=Math.min(Math.max(0,h),1))]},n.xyz.lab=function(r){var o=r[0],c=r[1],h=r[2];return c/=100,h/=108.883,o=(o/=95.047)>.008856?Math.pow(o,1/3):7.787*o+16/116,[116*(c=c>.008856?Math.pow(c,1/3):7.787*c+16/116)-16,500*(o-c),200*(c-(h=h>.008856?Math.pow(h,1/3):7.787*h+16/116))]},n.lab.xyz=function(r){var o,c,h,v=r[0];o=r[1]/500+(c=(v+16)/116),h=c-r[2]/200;var f=Math.pow(c,3),m=Math.pow(o,3),b=Math.pow(h,3);return c=f>.008856?f:(c-16/116)/7.787,o=m>.008856?m:(o-16/116)/7.787,h=b>.008856?b:(h-16/116)/7.787,[o*=95.047,c*=100,h*=108.883]},n.lab.lch=function(r){var o,c=r[0],h=r[1],v=r[2];return(o=360*Math.atan2(v,h)/2/Math.PI)<0&&(o+=360),[c,Math.sqrt(h*h+v*v),o]},n.lch.lab=function(r){var o,c=r[0],h=r[1];return o=r[2]/360*2*Math.PI,[c,h*Math.cos(o),h*Math.sin(o)]},n.rgb.ansi16=function(r){var o=r[0],c=r[1],h=r[2],v=1 in arguments?arguments[1]:n.rgb.hsv(r)[2];if((v=Math.round(v/50))===0)return 30;var f=30+(Math.round(h/255)<<2|Math.round(c/255)<<1|Math.round(o/255));return v===2&&(f+=60),f},n.hsv.ansi16=function(r){return n.rgb.ansi16(n.hsv.rgb(r),r[2])},n.rgb.ansi256=function(r){var o=r[0],c=r[1],h=r[2];return o===c&&c===h?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(c/255*5)+Math.round(h/255*5)},n.ansi16.rgb=function(r){var o=r%10;if(o===0||o===7)return r>50&&(o+=3.5),[o=o/10.5*255,o,o];var c=.5*(1+~~(r>50));return[(1&o)*c*255,(o>>1&1)*c*255,(o>>2&1)*c*255]},n.ansi256.rgb=function(r){if(r>=232){var o=10*(r-232)+8;return[o,o,o]}var c;return r-=16,[Math.floor(r/36)/5*255,Math.floor((c=r%36)/6)/5*255,c%6/5*255]},n.rgb.hex=function(r){var o=(((255&Math.round(r[0]))<<16)+((255&Math.round(r[1]))<<8)+(255&Math.round(r[2]))).toString(16).toUpperCase();return"000000".substring(o.length)+o},n.hex.rgb=function(r){var o=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!o)return[0,0,0];var c=o[0];o[0].length===3&&(c=c.split("").map(function(v){return v+v}).join(""));var h=parseInt(c,16);return[h>>16&255,h>>8&255,255&h]},n.rgb.hcg=function(r){var o,c=r[0]/255,h=r[1]/255,v=r[2]/255,f=Math.max(Math.max(c,h),v),m=Math.min(Math.min(c,h),v),b=f-m;return o=b<=0?0:f===c?(h-v)/b%6:f===h?2+(v-c)/b:4+(c-h)/b+4,o/=6,[360*(o%=1),100*b,100*(b<1?m/(1-b):0)]},n.hsl.hcg=function(r){var o=r[1]/100,c=r[2]/100,h=1,v=0;return(h=c<.5?2*o*c:2*o*(1-c))<1&&(v=(c-.5*h)/(1-h)),[r[0],100*h,100*v]},n.hsv.hcg=function(r){var o=r[1]/100,c=r[2]/100,h=o*c,v=0;return h<1&&(v=(c-h)/(1-h)),[r[0],100*h,100*v]},n.hcg.rgb=function(r){var o=r[0]/360,c=r[1]/100,h=r[2]/100;if(c===0)return[255*h,255*h,255*h];var v,f=[0,0,0],m=o%1*6,b=m%1,M=1-b;switch(Math.floor(m)){case 0:f[0]=1,f[1]=b,f[2]=0;break;case 1:f[0]=M,f[1]=1,f[2]=0;break;case 2:f[0]=0,f[1]=1,f[2]=b;break;case 3:f[0]=0,f[1]=M,f[2]=1;break;case 4:f[0]=b,f[1]=0,f[2]=1;break;default:f[0]=1,f[1]=0,f[2]=M}return v=(1-c)*h,[255*(c*f[0]+v),255*(c*f[1]+v),255*(c*f[2]+v)]},n.hcg.hsv=function(r){var o=r[1]/100,c=o+r[2]/100*(1-o),h=0;return c>0&&(h=o/c),[r[0],100*h,100*c]},n.hcg.hsl=function(r){var o=r[1]/100,c=r[2]/100*(1-o)+.5*o,h=0;return c>0&&c<.5?h=o/(2*c):c>=.5&&c<1&&(h=o/(2*(1-c))),[r[0],100*h,100*c]},n.hcg.hwb=function(r){var o=r[1]/100,c=o+r[2]/100*(1-o);return[r[0],100*(c-o),100*(1-c)]},n.hwb.hcg=function(r){var o=r[1]/100,c=1-r[2]/100,h=c-o,v=0;return h<1&&(v=(c-h)/(1-h)),[r[0],100*h,100*v]},n.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]},n.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]},n.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]},n.gray.hsl=n.gray.hsv=function(r){return[0,0,r[0]]},n.gray.hwb=function(r){return[0,100,r[0]]},n.gray.cmyk=function(r){return[0,0,0,r[0]]},n.gray.lab=function(r){return[r[0],0,0]},n.gray.hex=function(r){var o=255&Math.round(r[0]/100*255),c=((o<<16)+(o<<8)+o).toString(16).toUpperCase();return"000000".substring(c.length)+c},n.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]}},function(A,x){},function(A,x){},function(A,x){var s,d,y=A.exports={};function p(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(m){if(s===setTimeout)return setTimeout(m,0);if((s===p||!s)&&setTimeout)return s=setTimeout,setTimeout(m,0);try{return s(m,0)}catch(b){try{return s.call(null,m,0)}catch(M){return s.call(this,m,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:p}catch(m){s=p}try{d=typeof clearTimeout=="function"?clearTimeout:n}catch(m){d=n}})();var u,i=[],r=!1,o=-1;function c(){r&&u&&(r=!1,u.length?i=u.concat(i):o=-1,i.length&&h())}function h(){if(!r){var m=a(c);r=!0;for(var b=i.length;b;){for(u=i,i=[];++o<b;)u&&u[o].run();o=-1,b=i.length}u=null,r=!1,function(M){if(d===clearTimeout)return clearTimeout(M);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(M);try{d(M)}catch(O){try{return d.call(null,M)}catch(E){return d.call(this,M)}}}(m)}}function v(m,b){this.fun=m,this.array=b}function f(){}y.nextTick=function(m){var b=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)b[M-1]=arguments[M];i.push(new v(m,b)),i.length!==1||r||a(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=f,y.addListener=f,y.once=f,y.off=f,y.removeListener=f,y.removeAllListeners=f,y.emit=f,y.prependListener=f,y.prependOnceListener=f,y.listeners=function(m){return[]},y.binding=function(m){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(m){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},function(A,x,s){"use strict";var d=s(1),y=function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return Object(d.__extends)(n,p),n.prototype.isGroup=function(){return!0},n.prototype.isEntityGroup=function(){return!1},n.prototype.clone=function(){for(var a=p.prototype.clone.call(this),u=this.getChildren(),i=0;i<u.length;i++){var r=u[i];a.add(r.clone())}return a},n}(s(100).a);x.a=y},function(A,x,s){"use strict";var d=s(1),y=s(101),p=s(32),n=function(a){function u(i){return a.call(this,i)||this}return Object(d.__extends)(u,a),u.prototype._isInBBox=function(i,r){var o=this.getBBox();return o.minX<=i&&o.maxX>=i&&o.minY<=r&&o.maxY>=r},u.prototype.afterAttrsChange=function(i){a.prototype.afterAttrsChange.call(this,i),this.clearCacheBBox()},u.prototype.getBBox=function(){var i=this.cfg.bbox;return i||(i=this.calculateBBox(),this.set("bbox",i)),i},u.prototype.getCanvasBBox=function(){var i=this.cfg.canvasBBox;return i||(i=this.calculateCanvasBBox(),this.set("canvasBBox",i)),i},u.prototype.applyMatrix=function(i){a.prototype.applyMatrix.call(this,i),this.set("canvasBBox",null)},u.prototype.calculateCanvasBBox=function(){var i=this.getBBox(),r=this.getTotalMatrix(),o=i.minX,c=i.minY,h=i.maxX,v=i.maxY;if(r){var f=Object(p.c)(r,[i.minX,i.minY]),m=Object(p.c)(r,[i.maxX,i.minY]),b=Object(p.c)(r,[i.minX,i.maxY]),M=Object(p.c)(r,[i.maxX,i.maxY]);o=Math.min(f[0],m[0],b[0],M[0]),h=Math.max(f[0],m[0],b[0],M[0]),c=Math.min(f[1],m[1],b[1],M[1]),v=Math.max(f[1],m[1],b[1],M[1])}var O=this.attrs;if(O.shadowColor){var E=O.shadowBlur,C=E===void 0?0:E,j=O.shadowOffsetX,B=j===void 0?0:j,N=O.shadowOffsetY,I=N===void 0?0:N,F=o-C+B,G=h+C+B,U=c-C+I,H=v+C+I;o=Math.min(o,F),h=Math.max(h,G),c=Math.min(c,U),v=Math.max(v,H)}return{x:o,y:c,minX:o,minY:c,maxX:h,maxY:v,width:h-o,height:v-c}},u.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},u.prototype.isClipShape=function(){return this.get("isClipShape")},u.prototype.isInShape=function(i,r){return!1},u.prototype.isOnlyHitBox=function(){return!1},u.prototype.isHit=function(i,r){var o=this.get("startArrowShape"),c=this.get("endArrowShape"),h=[i,r,1],v=(h=this.invertFromMatrix(h))[0],f=h[1],m=this._isInBBox(v,f);return this.isOnlyHitBox()?m:!!(m&&!this.isClipped(v,f)&&(this.isInShape(v,f)||o&&o.isHit(v,f)||c&&c.isHit(v,f)))},u}(y.a);x.a=n},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.isAllowCapture=x.isParent=x.isBrowser=x.removeFromArray=void 0,x.removeFromArray=function(o,c){var h=o.indexOf(c);h!==-1&&o.splice(h,1)},x.isBrowser=typeof window!="undefined"&&window.document!==void 0;var d=s(10);Object.defineProperty(x,"isNil",{enumerable:!0,get:function(){return d.default}});var y=s(14);Object.defineProperty(x,"isFunction",{enumerable:!0,get:function(){return y.default}});var p=s(3);Object.defineProperty(x,"isString",{enumerable:!0,get:function(){return p.default}});var n=s(35);Object.defineProperty(x,"isObject",{enumerable:!0,get:function(){return n.default}});var a=s(4);Object.defineProperty(x,"isArray",{enumerable:!0,get:function(){return a.default}});var u=s(17);Object.defineProperty(x,"mix",{enumerable:!0,get:function(){return u.default}});var i=s(2);Object.defineProperty(x,"each",{enumerable:!0,get:function(){return i.default}});var r=s(49);Object.defineProperty(x,"upperFirst",{enumerable:!0,get:function(){return r.default}}),x.isParent=function(o,c){if(o.isCanvas())return!0;for(var h=c.getParent(),v=!1;h;){if(h===o){v=!0;break}h=h.getParent()}return v},x.isAllowCapture=function(o){return o.cfg.visible&&o.cfg.capture}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.parseRadius=x.parseStyle=x.parsePattern=x.parseRadialGradient=x.parseLineGradient=void 0;var d=s(18),y=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,p=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,n=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,a=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(c,h){var v=c.match(a);d.each(v,function(f){var m=f.split(":");h.addColorStop(m[0],m[1])})}function i(c,h,v){var f,m,b=y.exec(v),M=parseFloat(b[1])%360*(Math.PI/180),O=b[2],E=h.getBBox();M>=0&&M<.5*Math.PI?(f={x:E.minX,y:E.minY},m={x:E.maxX,y:E.maxY}):.5*Math.PI<=M&&M<Math.PI?(f={x:E.maxX,y:E.minY},m={x:E.minX,y:E.maxY}):Math.PI<=M&&M<1.5*Math.PI?(f={x:E.maxX,y:E.maxY},m={x:E.minX,y:E.minY}):(f={x:E.minX,y:E.maxY},m={x:E.maxX,y:E.minY});var C=Math.tan(M),j=C*C,B=(m.x-f.x+C*(m.y-f.y))/(j+1)+f.x,N=C*(m.x-f.x+C*(m.y-f.y))/(j+1)+f.y,I=c.createLinearGradient(f.x,f.y,B,N);return u(O,I),I}function r(c,h,v){var f=p.exec(v),m=parseFloat(f[1]),b=parseFloat(f[2]),M=parseFloat(f[3]),O=f[4];if(M===0){var E=O.match(a);return E[E.length-1].split(":")[1]}var C=h.getBBox(),j=C.maxX-C.minX,B=C.maxY-C.minY,N=Math.sqrt(j*j+B*B)/2,I=c.createRadialGradient(C.minX+j*m,C.minY+B*b,0,C.minX+j/2,C.minY+B/2,M*N);return u(O,I),I}function o(c,h,v){if(h.get("patternSource")&&h.get("patternSource")===v)return h.get("pattern");var f,m,b=n.exec(v),M=b[1],O=b[2];function E(){f=c.createPattern(m,M),h.set("pattern",f),h.set("patternSource",v)}switch(M){case"a":M="repeat";break;case"x":M="repeat-x";break;case"y":M="repeat-y";break;case"n":M="no-repeat";break;default:M="no-repeat"}return m=new Image,O.match(/^data:/i)||(m.crossOrigin="Anonymous"),m.src=O,m.complete?E():(m.onload=E,m.src=m.src),f}x.parseLineGradient=i,x.parseRadialGradient=r,x.parsePattern=o,x.parseStyle=function(c,h,v){if(d.isString(v)){if(v[1]==="("||v[2]==="("){if(v[0]==="l")return i(c,h,v);if(v[0]==="r")return r(c,h,v);if(v[0]==="p")return o(c,h,v)}return v}},x.parseRadius=function(c){var h=0,v=0,f=0,m=0;return d.isArray(c)?c.length===1?h=v=f=m=c[0]:c.length===2?(h=f=c[0],v=m=c[1]):c.length===3?(h=c[0],v=m=c[1],f=c[2]):(h=c[0],v=c[1],f=c[2],m=c[3]):h=v=f=m=c,[h,v,f,m]}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.getBBoxMethod=void 0;var d=s(322);Object.defineProperty(x,"getBBoxMethod",{enumerable:!0,get:function(){return d.getMethod}});var y=s(323),p=s(324),n=s(325),a=s(326),u=s(327),i=s(328),r=s(332),o=s(333);d.register("rect",y.default),d.register("image",y.default),d.register("circle",p.default),d.register("marker",p.default),d.register("polyline",n.default),d.register("polygon",a.default),d.register("text",u.default),d.register("path",i.default),d.register("line",r.default),d.register("ellipse",o.default)},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.assembleFont=x.getTextWidth=x.getLineSpaceing=x.getTextHeight=void 0;var d=s(155),y=s(159);function p(n,a){return a?a-n:.14*n}x.getTextHeight=function(n,a,u){var i=1;return d.isString(n)&&(i=n.split(`
`).length),i>1?a*i+p(a,u)*(i-1):a},x.getLineSpaceing=p,x.getTextWidth=function(n,a){var u=y.getOffScreenContext(),i=0;if(d.isNil(n)||n==="")return i;if(u.save(),u.font=a,d.isString(n)&&n.includes(`
`)){var r=n.split(`
`);d.each(r,function(o){var c=u.measureText(o).width;i<c&&(i=c)})}else i=u.measureText(n).width;return u.restore(),i},x.assembleFont=function(n){var a=n.fontSize,u=n.fontFamily,i=n.fontWeight;return[n.fontStyle,n.fontVariant,i,a+"px",u].join(" ").trim()}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.getOffScreenContext=void 0;var d=null;x.getOffScreenContext=function(){if(!d){var y=document.createElement("canvas");y.width=1,y.height=1,d=y.getContext("2d")}return d}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(40),y=s(33),p=s(161);function n(r,o,c,h){var v=1-h;return v*v*r+2*h*v*o+h*h*c}function a(r,o,c){var h=r+c-2*o;if(y.isNumberEqual(h,0))return[.5];var v=(r-o)/h;return v<=1&&v>=0?[v]:[]}function u(r,o,c,h){return 2*(1-h)*(o-r)+2*h*(c-o)}function i(r,o,c,h,v,f,m){var b=n(r,c,v,m),M=n(o,h,f,m),O=d.default.pointAt(r,o,c,h,m),E=d.default.pointAt(c,h,v,f,m);return[[r,o,O.x,O.y,b,M],[b,M,E.x,E.y,v,f]]}x.default={box:function(o,c,h,v,f,m){var b=a(o,h,f)[0],M=a(c,v,m)[0],O=[o,f],E=[c,m];return b!==void 0&&O.push(n(o,h,f,b)),M!==void 0&&E.push(n(c,v,m,M)),y.getBBoxByArray(O,E)},length:function(o,c,h,v,f,m){return function b(M,O,E,C,j,B,N){if(N===0)return(y.distance(M,O,E,C)+y.distance(E,C,j,B)+y.distance(M,O,j,B))/2;var I=i(M,O,E,C,j,B,.5),F=I[0],G=I[1];return F.push(N-1),G.push(N-1),b.apply(null,F)+b.apply(null,G)}(o,c,h,v,f,m,3)},nearestPoint:function(o,c,h,v,f,m,b,M){return p.nearestPoint([o,h,f],[c,v,m],b,M,n)},pointDistance:function(o,c,h,v,f,m,b,M){var O=this.nearestPoint(o,c,h,v,f,m,b,M);return y.distance(O.x,O.y,b,M)},interpolationAt:n,pointAt:function(o,c,h,v,f,m,b){return{x:n(o,h,f,b),y:n(c,v,m,b)}},divide:function(o,c,h,v,f,m,b){return i(o,c,h,v,f,m,b)},tangentAngle:function(o,c,h,v,f,m,b){var M=u(o,h,f,b),O=u(c,v,m,b),E=Math.atan2(O,M);return y.piMod(E)}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.snapLength=x.nearestPoint=void 0;var d=s(33);x.nearestPoint=function(y,p,n,a,u,i){var r,o=1/0,c=[n,a],h=20;i&&i>200&&(h=i/10);for(var v=1/h,f=v/10,m=0;m<=h;m++){var b=m*v,M=[u.apply(null,y.concat([b])),u.apply(null,p.concat([b]))];(j=d.distance(c[0],c[1],M[0],M[1]))<o&&(r=b,o=j)}if(r===0)return{x:y[0],y:p[0]};if(r===1){var O=y.length;return{x:y[O-1],y:p[O-1]}}for(o=1/0,m=0;m<32&&!(f<1e-4);m++){var E=r-f,C=r+f,j=(M=[u.apply(null,y.concat([E])),u.apply(null,p.concat([E]))],d.distance(c[0],c[1],M[0],M[1]));if(E>=0&&j<o)r=E,o=j;else{var B=[u.apply(null,y.concat([C])),u.apply(null,p.concat([C]))],N=d.distance(c[0],c[1],B[0],B[1]);C<=1&&N<o?(r=C,o=N):f*=.5}}return{x:u.apply(null,y.concat([r])),y:u.apply(null,p.concat([r]))}},x.snapLength=function(y,p){for(var n=0,a=y.length,u=0;u<a;u++){var i=y[u],r=p[u],o=y[(u+1)%a],c=p[(u+1)%a];n+=d.distance(i,r,o,c)}return n/2}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(163),y=s(163),p=s(331);function n(a,u){return[u[0]+(u[0]-a[0]),u[1]+(u[1]-a[1])]}x.default=function(a){for(var u=[],i=null,r=null,o=null,c=0,h=(a=p.default(a)).length,v=0;v<h;v++){var f=a[v];r=a[v+1];var m=f[0],b={command:m,prePoint:i,params:f,startTangent:null,endTangent:null};switch(m){case"M":o=[f[1],f[2]],c=v;break;case"A":var M=d.default(i,f);b.arcParams=M}if(m==="Z")i=o,r=a[c+1];else{var O=f.length;i=[f[O-2],f[O-1]]}r&&r[0]==="Z"&&(r=a[c],u[c]&&(u[c].prePoint=i)),b.currentPoint=i,u[c]&&y.isSamePoint(i,u[c].currentPoint)&&(u[c].prePoint=b.prePoint);var E=r?[r[r.length-2],r[r.length-1]]:null;b.nextPoint=E;var C=b.prePoint;if(["L","H","V"].includes(m))b.startTangent=[C[0]-i[0],C[1]-i[1]],b.endTangent=[i[0]-C[0],i[1]-C[1]];else if(m==="Q"){var j=[f[1],f[2]];b.startTangent=[C[0]-j[0],C[1]-j[1]],b.endTangent=[i[0]-j[0],i[1]-j[1]]}else if(m==="T")j=n((I=u[v-1]).currentPoint,C),I.command==="Q"?(b.command="Q",b.startTangent=[C[0]-j[0],C[1]-j[1]],b.endTangent=[i[0]-j[0],i[1]-j[1]]):(b.command="TL",b.startTangent=[C[0]-i[0],C[1]-i[1]],b.endTangent=[i[0]-C[0],i[1]-C[1]]);else if(m==="C"){var B=[f[1],f[2]],N=[f[3],f[4]];b.startTangent=[C[0]-B[0],C[1]-B[1]],b.endTangent=[i[0]-N[0],i[1]-N[1]]}else if(m==="S"){var I;B=n((I=u[v-1]).currentPoint,C),N=[f[1],f[2]],I.command==="C"?(b.command="C",b.startTangent=[C[0]-B[0],C[1]-B[1]],b.endTangent=[i[0]-N[0],i[1]-N[1]]):(b.command="SQ",b.startTangent=[C[0]-N[0],C[1]-N[1]],b.endTangent=[i[0]-N[0],i[1]-N[1]])}else if(m==="A"){var F=.001,G=b.arcParams||{},U=G.cx,H=U===void 0?0:U,Q=G.cy,at=Q===void 0?0:Q,$=G.rx,K=$===void 0?0:$,ot=G.ry,it=ot===void 0?0:ot,ht=G.sweepFlag,St=ht===void 0?0:ht,gt=G.startAngle,bt=gt===void 0?0:gt,mt=G.endAngle,vt=mt===void 0?0:mt;St===0&&(F*=-1);var _t=K*Math.cos(bt-F)+H,Nt=it*Math.sin(bt-F)+at;b.startTangent=[_t-o[0],Nt-o[1]];var At=K*Math.cos(bt+vt+F)+H,It=it*Math.sin(bt+vt-F)+at;b.endTangent=[C[0]-At,C[1]-It]}u.push(b)}return u}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(67),y=s(68);function p(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function n(i,r){return p(i)*p(r)?(i[0]*r[0]+i[1]*r[1])/(p(i)*p(r)):1}function a(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(n(i,r))}function u(i,r){return i[0]===r[0]&&i[1]===r[1]}x.isSamePoint=u,x.default=function(i,r){var o=r[1],c=r[2],h=d.default(y.default(r[3]),2*Math.PI),v=r[4],f=r[5],m=i[0],b=i[1],M=r[6],O=r[7],E=Math.cos(h)*(m-M)/2+Math.sin(h)*(b-O)/2,C=-1*Math.sin(h)*(m-M)/2+Math.cos(h)*(b-O)/2,j=E*E/(o*o)+C*C/(c*c);j>1&&(o*=Math.sqrt(j),c*=Math.sqrt(j));var B=o*o*(C*C)+c*c*(E*E),N=B?Math.sqrt((o*o*(c*c)-B)/B):1;v===f&&(N*=-1),isNaN(N)&&(N=0);var I=c?N*o*C/c:0,F=o?N*-c*E/o:0,G=(m+M)/2+Math.cos(h)*I-Math.sin(h)*F,U=(b+O)/2+Math.sin(h)*I+Math.cos(h)*F,H=[(E-I)/o,(C-F)/c],Q=[(-1*E-I)/o,(-1*C-F)/c],at=a([1,0],H),$=a(H,Q);return n(H,Q)<=-1&&($=Math.PI),n(H,Q)>=1&&($=0),f===0&&$>0&&($-=2*Math.PI),f===1&&$<0&&($+=2*Math.PI),{cx:G,cy:U,rx:u(i,[M,O])?0:o,ry:u(i,[M,O])?0:c,startAngle:at,endAngle:at+$,xRotation:h,arcFlag:v,sweepFlag:f}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(73),n=s(60),a=s(0),u=s(18),i=function(r){function o(){return r!==null&&r.apply(this,arguments)||this}return d.__extends(o,r),o.prototype.onCanvasChange=function(c){n.refreshElement(this,c)},o.prototype.getShapeBase=function(){return p},o.prototype.getGroupBase=function(){return o},o.prototype._applyClip=function(c,h){h&&(c.save(),n.applyAttrsToContext(c,h),h.createPath(c),c.restore(),c.clip(),h._afterDraw())},o.prototype.cacheCanvasBBox=function(){var c=this.cfg.children,h=[],v=[];a.each(c,function(j){var B=j.cfg.cacheCanvasBBox;B&&j.cfg.isInView&&(h.push(B.minX,B.maxX),v.push(B.minY,B.maxY))});var f=null;if(h.length){var m=Math.min.apply(null,h),b=Math.max.apply(null,h),M=Math.min.apply(null,v),O=Math.max.apply(null,v);f={minX:m,minY:M,x:m,y:M,maxX:b,maxY:O,width:b-m,height:O-M};var E=this.cfg.canvas;if(E){var C=E.getViewRange();this.set("isInView",u.intersectRect(f,C))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",f)},o.prototype.draw=function(c,h){var v=this.cfg.children,f=!h||this.cfg.refresh;v.length&&f&&(c.save(),n.applyAttrsToContext(c,this),this._applyClip(c,this.getClip()),n.drawChildren(c,v,h),c.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},o.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},o}(y.AbstractGroup);x.default=i},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(339),y=/[a-z]/;function p(n,a){return[a[0]+(a[0]-n[0]),a[1]+(a[1]-n[1])]}x.default=function(n){var a=d.default(n);if(!a||!a.length)return[["M",0,0]];for(var u=!1,i=0;i<a.length;i++){var r=a[i][0];if(y.test(r)||["V","H","T","S"].indexOf(r)>=0){u=!0;break}}if(!u)return a;var o=[],c=0,h=0,v=0,f=0,m=0,b=a[0];b[0]!=="M"&&b[0]!=="m"||(v=c=+b[1],f=h=+b[2],m++,o[0]=["M",c,h]),i=m;for(var M=a.length;i<M;i++){var O=a[i],E=o[i-1],C=[],j=(r=O[0]).toUpperCase();if(r!==j)switch(C[0]=j,j){case"A":C[1]=O[1],C[2]=O[2],C[3]=O[3],C[4]=O[4],C[5]=O[5],C[6]=+O[6]+c,C[7]=+O[7]+h;break;case"V":C[1]=+O[1]+h;break;case"H":C[1]=+O[1]+c;break;case"M":v=+O[1]+c,f=+O[2]+h;break;default:for(var B=1,N=O.length;B<N;B++)C[B]=+O[B]+(B%2?c:h)}else C=a[i];switch(j){case"Z":c=+v,h=+f;break;case"H":C=["L",c=C[1],h];break;case"V":C=["L",c,h=C[1]];break;case"T":c=C[1],h=C[2];var I=p([E[1],E[2]],[E[3],E[4]]);C=["Q",I[0],I[1],c,h];break;case"S":c=C[C.length-2],h=C[C.length-1];var F=E.length,G=p([E[F-4],E[F-3]],[E[F-2],E[F-1]]);C=["C",G[0],G[1],C[1],C[2],c,h];break;case"M":v=C[C.length-2],f=C[C.length-1];break;default:c=C[C.length-2],h=C[C.length-1]}o.push(C)}return o}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(159);x.default=function(y,p,n){var a=d.getOffScreenContext();return y.createPath(a),a.isPointInPath(p,n)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function d(p){return Math.abs(p)<1e-6?0:p<0?-1:1}function y(p,n,a){return(a[0]-p[0])*(n[1]-p[1])==(n[0]-p[0])*(a[1]-p[1])&&Math.min(p[0],n[0])<=a[0]&&a[0]<=Math.max(p[0],n[0])&&Math.min(p[1],n[1])<=a[1]&&a[1]<=Math.max(p[1],n[1])}x.default=function(p,n,a){var u=!1,i=p.length;if(i<=2)return!1;for(var r=0;r<i;r++){var o=p[r],c=p[(r+1)%i];if(y(o,c,[n,a]))return!0;d(o[1]-a)>0!=d(c[1]-a)>0&&d(n-(a-o[1])*(o[0]-c[0])/(o[1]-c[1])-o[0])<0&&(u=!u)}return u}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(18);x.default=function(y,p,n,a,u,i,r,o){var c=(Math.atan2(o-p,r-y)+2*Math.PI)%(2*Math.PI);if(c<a||c>u)return!1;var h={x:y+n*Math.cos(c),y:p+n*Math.sin(c)};return d.distance(h.x,h.y,r,o)<=i/2}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(75);x.default=function(y,p,n,a,u){var i=y.length;if(i<2)return!1;for(var r=0;r<i-1;r++){var o=y[r][0],c=y[r][1],h=y[r+1][0],v=y[r+1][1];if(d.default(o,c,h,v,p,n,a))return!0}if(u){var f=y[0],m=y[i-1];if(d.default(f[0],f[1],m[0],m[1],p,n,a))return!0}return!1}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(344),y=s(33);x.default={box:function(n){for(var a=[],u=[],i=0;i<n.length;i++){var r=n[i];a.push(r[0]),u.push(r[1])}return y.getBBoxByArray(a,u)},length:function(n){return d.lengthOfSegment(n)},pointAt:function(n,a){return d.pointAtSegments(n,a)},pointDistance:function(n,a,u){return d.distanceAtSegment(n,a,u)},tangentAngle:function(n,a){return d.angleAtSegments(n,a)}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(0),n=s(110),a=s(109),u=s(61),i=s(19),r=s(29),o=function(c){function h(){return c!==null&&c.apply(this,arguments)||this}return d.__extends(h,c),h.prototype.isEntityGroup=function(){return!0},h.prototype.createDom=function(){var v=r.createSVGElement("g");this.set("el",v);var f=this.getParent();if(f){var m=f.get("el");m||(m=f.createDom(),f.set("el",m)),m.appendChild(v)}return v},h.prototype.afterAttrsChange=function(v){c.prototype.afterAttrsChange.call(this,v);var f=this.get("canvas");if(f&&f.get("autoDraw")){var m=f.get("context");this.createPath(m,v)}},h.prototype.onCanvasChange=function(v){a.refreshElement(this,v)},h.prototype.getShapeBase=function(){return n},h.prototype.getGroupBase=function(){return h},h.prototype.draw=function(v){var f=this.getChildren(),m=this.get("el");this.get("destroyed")?m&&m.parentNode.removeChild(m):(m||this.createDom(),u.setClip(this,v),this.createPath(v),f.length&&a.drawChildren(v,f))},h.prototype.createPath=function(v,f){var m=this.attr(),b=this.get("el");p.each(f||m,function(M,O){i.SVG_ATTR_MAP[O]&&b.setAttribute(i.SVG_ATTR_MAP[O],M)}),u.setTransform(this)},h}(y.AbstractGroup);x.default=o},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(16);d.translate=function(y,p,n){var a=new Array(9);return d.fromTranslation(a,n),d.multiply(y,a,p)},d.rotate=function(y,p,n){var a=new Array(9);return d.fromRotation(a,n),d.multiply(y,a,p)},d.scale=function(y,p,n){var a=new Array(9);return d.fromScaling(a,n),d.multiply(y,a,p)},d.transform=function(y,p){for(var n=[].concat(y),a=0,u=p.length;a<u;a++){var i=p[a];switch(i[0]){case"t":d.translate(n,n,[i[1],i[2]]);break;case"s":d.scale(n,n,[i[1],i[2]]);break;case"r":d.rotate(n,n,i[1])}}return n},x.default=d},function(A,x,s){var d=s(76),y=s(114),p=s(81),n=s(403),a=s(409),u=s(179),i=s(180),r=s(412),o=s(413),c=s(184),h=s(414),v=s(54),f=s(418),m=s(419),b=s(189),M=s(15),O=s(53),E=s(423),C=s(25),j=s(425),B=s(41),N=s(46),I={};I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I["[object Function]"]=I["[object WeakMap]"]=!1,A.exports=function F(G,U,H,Q,at,$){var K,ot=1&U,it=2&U,ht=4&U;if(H&&(K=at?H(G,Q,at,$):H(G)),K!==void 0)return K;if(!C(G))return G;var St=M(G);if(St){if(K=f(G),!ot)return i(G,K)}else{var gt=v(G),bt=gt=="[object Function]"||gt=="[object GeneratorFunction]";if(O(G))return u(G,ot);if(gt=="[object Object]"||gt=="[object Arguments]"||bt&&!at){if(K=it||bt?{}:b(G),!ot)return it?o(G,a(K,G)):r(G,n(K,G))}else{if(!I[gt])return at?G:{};K=m(G,gt,ot)}}$||($=new d);var mt=$.get(G);if(mt)return mt;$.set(G,K),j(G)?G.forEach(function(_t){K.add(F(_t,U,H,_t,G,$))}):E(G)&&G.forEach(function(_t,Nt){K.set(Nt,F(_t,U,H,Nt,G,$))});var vt=St?void 0:(ht?it?h:c:it?N:B)(G);return y(vt||G,function(_t,Nt){vt&&(_t=G[Nt=_t]),p(K,Nt,F(_t,U,H,Nt,G,$))}),K}},function(A,x,s){(function(d){function y(n){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(n)}var p=(d===void 0?"undefined":y(d))=="object"&&d&&d.Object===Object&&d;A.exports=p}).call(this,s(385))},function(A,x){var s=Function.prototype.toString;A.exports=function(d){if(d!=null){try{return s.call(d)}catch(y){}try{return d+""}catch(y){}}return""}},function(A,x,s){var d=s(44),y=function(){try{var p=d(Object,"defineProperty");return p({},"",{}),p}catch(n){}}();A.exports=y},function(A,x,s){var d=s(404),y=s(64),p=s(15),n=s(53),a=s(83),u=s(65),i=Object.prototype.hasOwnProperty;A.exports=function(r,o){var c=p(r),h=!c&&y(r),v=!c&&!h&&n(r),f=!c&&!h&&!v&&u(r),m=c||h||v||f,b=m?d(r.length,String):[],M=b.length;for(var O in r)!o&&!i.call(r,O)||m&&(O=="length"||v&&(O=="offset"||O=="parent")||f&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||a(O,M))||b.push(O);return b}},function(A,x){A.exports=function(s,d){return function(y){return s(d(y))}}},function(A,x,s){(function(d){function y(r){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}var p=s(31),n=y(x)=="object"&&x&&!x.nodeType&&x,a=n&&y(d)=="object"&&d&&!d.nodeType&&d,u=a&&a.exports===n?p.Buffer:void 0,i=u?u.allocUnsafe:void 0;d.exports=function(r,o){if(o)return r.slice();var c=r.length,h=i?i(c):new r.constructor(c);return r.copy(h),h}}).call(this,s(115)(A))},function(A,x){A.exports=function(s,d){var y=-1,p=s.length;for(d||(d=Array(p));++y<p;)d[y]=s[y];return d}},function(A,x){A.exports=function(s,d){for(var y=-1,p=s==null?0:s.length,n=0,a=[];++y<p;){var u=s[y];d(u,y,s)&&(a[n++]=u)}return a}},function(A,x){A.exports=function(){return[]}},function(A,x,s){var d=s(120),y=s(86),p=s(119),n=s(182),a=Object.getOwnPropertySymbols?function(u){for(var i=[];u;)d(i,p(u)),u=y(u);return i}:n;A.exports=a},function(A,x,s){var d=s(185),y=s(119),p=s(41);A.exports=function(n){return d(n,p,y)}},function(A,x,s){var d=s(120),y=s(15);A.exports=function(p,n,a){var u=n(p);return y(p)?u:d(u,a(p))}},function(A,x,s){var d=s(44)(s(31),"Set");A.exports=d},function(A,x,s){var d=s(31).Uint8Array;A.exports=d},function(A,x,s){var d=s(121);A.exports=function(y,p){var n=p?d(y.buffer):y.buffer;return new y.constructor(n,y.byteOffset,y.length)}},function(A,x,s){var d=s(190),y=s(86),p=s(85);A.exports=function(n){return typeof n.constructor!="function"||p(n)?{}:d(y(n))}},function(A,x,s){var d=s(25),y=Object.create,p=function(){function n(){}return function(a){if(!d(a))return{};if(y)return y(a);n.prototype=a;var u=new n;return n.prototype=void 0,u}}();A.exports=p},function(A,x,s){A.exports=s(192)},function(A,x,s){var d=s(114),y=s(87),p=s(193),n=s(15);A.exports=function(a,u){return(n(a)?d:y)(a,p(u))}},function(A,x,s){var d=s(47);A.exports=function(y){return typeof y=="function"?y:d}},function(A,x,s){var d=s(181),y=s(429),p=s(39),n=s(15);A.exports=function(a,u){return(n(a)?d:y)(a,p(u,3))}},function(A,x,s){var d=s(432),y=s(34);A.exports=function p(n,a,u,i,r){return n===a||(n==null||a==null||!y(n)&&!y(a)?n!=n&&a!=a:d(n,a,u,i,p,r))}},function(A,x,s){var d=s(197),y=s(435),p=s(198);A.exports=function(n,a,u,i,r,o){var c=1&u,h=n.length,v=a.length;if(h!=v&&!(c&&v>h))return!1;var f=o.get(n),m=o.get(a);if(f&&m)return f==a&&m==n;var b=-1,M=!0,O=2&u?new d:void 0;for(o.set(n,a),o.set(a,n);++b<h;){var E=n[b],C=a[b];if(i)var j=c?i(C,E,b,a,n,o):i(E,C,b,n,a,o);if(j!==void 0){if(j)continue;M=!1;break}if(O){if(!y(a,function(B,N){if(!p(O,N)&&(E===B||r(E,B,u,i,o)))return O.push(N)})){M=!1;break}}else if(E!==C&&!r(E,C,u,i,o)){M=!1;break}}return o.delete(n),o.delete(a),M}},function(A,x,s){var d=s(113),y=s(433),p=s(434);function n(a){var u=-1,i=a==null?0:a.length;for(this.__data__=new d;++u<i;)this.add(a[u])}n.prototype.add=n.prototype.push=y,n.prototype.has=p,A.exports=n},function(A,x){A.exports=function(s,d){return s.has(d)}},function(A,x,s){var d=s(25);A.exports=function(y){return y==y&&!d(y)}},function(A,x){A.exports=function(s,d){return function(y){return y!=null&&y[s]===d&&(d!==void 0||s in Object(y))}}},function(A,x,s){var d=s(445);A.exports=function(y){return y==null?"":d(y)}},function(A,x,s){var d=s(446),y=s(203);A.exports=function(p,n){return p!=null&&y(p,n,d)}},function(A,x,s){var d=s(89),y=s(64),p=s(15),n=s(83),a=s(116),u=s(66);A.exports=function(i,r,o){for(var c=-1,h=(r=d(r,i)).length,v=!1;++c<h;){var f=u(r[c]);if(!(v=i!=null&&o(i,f)))break;i=i[f]}return v||++c!=h?v:!!(h=i==null?0:i.length)&&a(h)&&n(f,h)&&(p(i)||y(i))}},function(A,x){A.exports=function(s){return function(d){return d==null?void 0:d[s]}}},function(A,x,s){var d=s(449),y=s(203);A.exports=function(p,n){return p!=null&&y(p,n,d)}},function(A,x){A.exports=function(s){return s===void 0}},function(A,x,s){var d=s(90),y=s(39),p=s(208),n=s(15);A.exports=function(a,u){return(n(a)?d:p)(a,y(u,3))}},function(A,x,s){var d=s(87),y=s(38);A.exports=function(p,n){var a=-1,u=y(p)?Array(p.length):[];return d(p,function(i,r,o){u[++a]=n(i,r,o)}),u}},function(A,x,s){var d=s(451),y=s(87),p=s(39),n=s(452),a=s(15);A.exports=function(u,i,r){var o=a(u)?d:n,c=arguments.length<3;return o(u,p(i,4),r,c,y)}},function(A,x,s){var d=s(462),y=Math.max;A.exports=function(p,n,a){return n=y(n===void 0?p.length-1:n,0),function(){for(var u=arguments,i=-1,r=y(u.length-n,0),o=Array(r);++i<r;)o[i]=u[n+i];i=-1;for(var c=Array(n+1);++i<n;)c[i]=u[i];return c[n]=a(o),d(p,this,c)}}},function(A,x,s){var d=s(463),y=s(464)(d);A.exports=y},function(A,x){A.exports=function(s,d,y,p){for(var n=s.length,a=y+(p?1:-1);p?a--:++a<n;)if(d(s[a],a,s))return a;return-1}},function(A,x,s){var d=s(38),y=s(34);A.exports=function(p){return y(p)&&d(p)}},function(A,x,s){var d=s(473),y=s(41);A.exports=function(p){return p==null?[]:d(p,y(p))}},function(A,x,s){var d=s(24),y=s(216);A.exports=function(n,a,u,i){return function(r,o,c,h){var v,f,m={},b=new y,M=function(E){var C=E.v!==v?E.v:E.w,j=m[C],B=c(E),N=f.distance+B;if(B<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+E+" Weight: "+B);N<j.distance&&(j.distance=N,j.predecessor=v,b.decrease(C,N))};for(r.nodes().forEach(function(O){var E=O===o?0:Number.POSITIVE_INFINITY;m[O]={distance:E},b.add(O,E)});b.size()>0&&(v=b.removeMin(),(f=m[v]).distance!==Number.POSITIVE_INFINITY);)h(v).forEach(M);return m}(n,String(a),u||p,i||function(r){return n.outEdges(r)})};var p=d.constant(1)},function(A,x,s){var d=s(24);function y(){this._arr=[],this._keyIndices={}}A.exports=y,y.prototype.size=function(){return this._arr.length},y.prototype.keys=function(){return this._arr.map(function(p){return p.key})},y.prototype.has=function(p){return d.has(this._keyIndices,p)},y.prototype.priority=function(p){var n=this._keyIndices[p];if(n!==void 0)return this._arr[n].priority},y.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},y.prototype.add=function(p,n){var a=this._keyIndices;if(p=String(p),!d.has(a,p)){var u=this._arr,i=u.length;return a[p]=i,u.push({key:p,priority:n}),this._decrease(i),!0}return!1},y.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var p=this._arr.pop();return delete this._keyIndices[p.key],this._heapify(0),p.key},y.prototype.decrease=function(p,n){var a=this._keyIndices[p];if(n>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+p+" Old: "+this._arr[a].priority+" New: "+n);this._arr[a].priority=n,this._decrease(a)},y.prototype._heapify=function(p){var n=this._arr,a=2*p,u=a+1,i=p;a<n.length&&(i=n[a].priority<n[i].priority?a:i,u<n.length&&(i=n[u].priority<n[i].priority?u:i),i!==p&&(this._swap(p,i),this._heapify(i)))},y.prototype._decrease=function(p){for(var n,a=this._arr,u=a[p].priority;p!==0&&!(a[n=p>>1].priority<u);)this._swap(p,n),p=n},y.prototype._swap=function(p,n){var a=this._arr,u=this._keyIndices,i=a[p],r=a[n];a[p]=r,a[n]=i,u[r.key]=p,u[i.key]=n}},function(A,x,s){var d=s(24);A.exports=function(y){var p=0,n=[],a={},u=[];return y.nodes().forEach(function(i){d.has(a,i)||function r(o){var c=a[o]={onStack:!0,lowlink:p,index:p++};if(n.push(o),y.successors(o).forEach(function(f){d.has(a,f)?a[f].onStack&&(c.lowlink=Math.min(c.lowlink,a[f].index)):(r(f),c.lowlink=Math.min(c.lowlink,a[f].lowlink))}),c.lowlink===c.index){var h,v=[];do h=n.pop(),a[h].onStack=!1,v.push(h);while(o!==h);u.push(v)}}(i)}),u}},function(A,x,s){var d=s(24);function y(n){var a={},u={},i=[];if(d.each(n.sinks(),function r(o){if(d.has(u,o))throw new p;d.has(a,o)||(u[o]=!0,a[o]=!0,d.each(n.predecessors(o),r),delete u[o],i.push(o))}),d.size(a)!==n.nodeCount())throw new p;return i}function p(){}A.exports=y,y.CycleException=p,p.prototype=new Error},function(A,x,s){var d=s(24);A.exports=function(y,p,n){d.isArray(p)||(p=[p]);var a=(y.isDirected()?y.successors:y.neighbors).bind(y),u=[],i={};return d.each(p,function(r){if(!y.hasNode(r))throw new Error("Graph does not have node: "+r);(function o(c,h,v,f,m,b){d.has(f,h)||(f[h]=!0,v||b.push(h),d.each(m(h),function(M){o(c,M,v,f,m,b)}),v&&b.push(h))})(y,r,n==="post",i,a,u)}),u}},function(A,x,s){var d=s(492);A.exports=function(y){return y?(y=d(y))===1/0||y===-1/0?17976931348623157e292*(y<0?-1:1):y==y?y:0:y===0?y:0}},function(A,x,s){var d=s(127);A.exports=function(y){return(y==null?0:y.length)?d(y,1):[]}},function(A,x,s){var d=s(82),y=s(51);A.exports=function(p,n,a){(a!==void 0&&!y(p[n],a)||a===void 0&&!(n in p))&&d(p,n,a)}},function(A,x){A.exports=function(s,d){if((d!=="constructor"||typeof s[d]!="function")&&d!="__proto__")return s[d]}},function(A,x){A.exports=function(s,d){return s<d}},function(A,x,s){"use strict";var d=s(13),y=s(30).Graph,p=s(93).slack;function n(i,r){return d.forEach(i.nodes(),function o(c){d.forEach(r.nodeEdges(c),function(h){var v=h.v,f=c===v?h.w:v;i.hasNode(f)||p(r,h)||(i.setNode(f,{}),i.setEdge(c,f,{}),o(f))})}),i.nodeCount()}function a(i,r){return d.minBy(r.edges(),function(o){if(i.hasNode(o.v)!==i.hasNode(o.w))return p(r,o)})}function u(i,r,o){d.forEach(i.nodes(),function(c){r.node(c).rank+=o})}A.exports=function(i){var r,o,c=new y({directed:!1}),h=i.nodes()[0],v=i.nodeCount();for(c.setNode(h,{});n(c,i)<v;)r=a(c,i),o=c.hasNode(r.v)?p(i,r):-p(i,r),u(c,i,o);return c}},function(A,x,s){var d=s(48),y={getId:function(a){return a.id||a.name},getHGap:function(a){return a.hgap||18},getVGap:function(a){return a.vgap||18},getChildren:function(a){return a.children},getHeight:function(a){return a.height||36},getWidth:function(a){var u=a.label||" ";return a.width||18*u.split("").length}};function p(n,a){var u=this;if(u.vgap=u.hgap=0,n instanceof p)return n;u.data=n;var i=a.getHGap(n),r=a.getVGap(n);return u.width=a.getWidth(n),u.height=a.getHeight(n),u.id=a.getId(n),u.x=u.y=0,u.depth=0,u.children||(u.children=[]),u.addGap(i,r),u}d.assign(p.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(a,u){this.hgap+=a,this.vgap+=u,this.width+=2*a,this.height+=2*u},eachNode:function(a){for(var u,i=[this];u=i.shift();)a(u),i=u.children.concat(i)},DFTraverse:function(a){this.eachNode(a)},BFTraverse:function(a){for(var u,i=[this];u=i.shift();)a(u),i=i.concat(u.children)},getBoundingBox:function(){var a={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(u){a.left=Math.min(a.left,u.x),a.top=Math.min(a.top,u.y),a.width=Math.max(a.width,u.x+u.width),a.height=Math.max(a.height,u.y+u.height)}),a},translate:function(a,u){a===void 0&&(a=0),u===void 0&&(u=0),this.eachNode(function(i){i.x+=a,i.y+=u})},right2left:function(){var a=this.getBoundingBox();this.eachNode(function(u){u.x=u.x-2*(u.x-a.left)-u.width}),this.translate(a.width,0)},bottom2top:function(){var a=this.getBoundingBox();this.eachNode(function(u){u.y=u.y-2*(u.y-a.top)-u.height}),this.translate(0,a.height)}}),A.exports=function(n,a,u){a===void 0&&(a={});var i,r=new p(n,a=d.assign({},y,a)),o=[r];if(!u&&!n.collapsed){for(;i=o.shift();)if(!i.data.collapsed){var c=a.getChildren(i.data),h=c?c.length:0;if(i.children=new Array(h),c&&h)for(var v=0;v<h;v++){var f=new p(c[v],a);i.children[v]=f,o.push(f),f.parent=i,f.depth=i.depth+1}}}return r}},function(A,x,s){var d=s(226);A.exports=function(y,p){for(var n=d(y.data,p,!0),a=d(y.data,p,!0),u=y.children.length,i=Math.round(u/2),r=p.getSide||function(h,v){return v<i?"right":"left"},o=0;o<u;o++){var c=y.children[o];r(c,o)==="right"?a.children.push(c):n.children.push(c)}return n.eachNode(function(h){h.isRoot()||(h.side="left")}),a.eachNode(function(h){h.isRoot()||(h.side="right")}),{left:n,right:a}}},function(A,x,s){"use strict";var d={};s.r(d),s.d(d,"easeLinear",function(){return G}),s.d(d,"easeQuad",function(){return Q}),s.d(d,"easeQuadIn",function(){return U}),s.d(d,"easeQuadOut",function(){return H}),s.d(d,"easeQuadInOut",function(){return Q}),s.d(d,"easeCubic",function(){return K}),s.d(d,"easeCubicIn",function(){return at}),s.d(d,"easeCubicOut",function(){return $}),s.d(d,"easeCubicInOut",function(){return K}),s.d(d,"easePoly",function(){return ht}),s.d(d,"easePolyIn",function(){return ot}),s.d(d,"easePolyOut",function(){return it}),s.d(d,"easePolyInOut",function(){return ht}),s.d(d,"easeSin",function(){return vt}),s.d(d,"easeSinIn",function(){return bt}),s.d(d,"easeSinOut",function(){return mt}),s.d(d,"easeSinInOut",function(){return vt}),s.d(d,"easeExp",function(){return It}),s.d(d,"easeExpIn",function(){return Nt}),s.d(d,"easeExpOut",function(){return At}),s.d(d,"easeExpInOut",function(){return It}),s.d(d,"easeCircle",function(){return V}),s.d(d,"easeCircleIn",function(){return dt}),s.d(d,"easeCircleOut",function(){return X}),s.d(d,"easeCircleInOut",function(){return V}),s.d(d,"easeBounce",function(){return rt}),s.d(d,"easeBounceIn",function(){return W}),s.d(d,"easeBounceOut",function(){return rt}),s.d(d,"easeBounceInOut",function(){return J}),s.d(d,"easeBack",function(){return kt}),s.d(d,"easeBackIn",function(){return tt}),s.d(d,"easeBackOut",function(){return ft}),s.d(d,"easeBackInOut",function(){return kt}),s.d(d,"easeElastic",function(){return Rt}),s.d(d,"easeElasticIn",function(){return Bt}),s.d(d,"easeElasticOut",function(){return Rt}),s.d(d,"easeElasticInOut",function(){return Lt});var y=s(1),p=s(132),n=s(100),a=s(9),u=s(0);function i(xt){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt})(xt)}var r,o,c=0,h=0,v=0,f=0,m=0,b=0,M=(typeof performance=="undefined"?"undefined":i(performance))==="object"&&performance.now?performance:Date,O=(typeof window=="undefined"?"undefined":i(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(xt){setTimeout(xt,17)};function E(){return m||(O(C),m=M.now()+b)}function C(){m=0}function j(){this._call=this._time=this._next=null}function B(xt,lt,ct){var Et=new j;return Et.restart(xt,lt,ct),Et}function N(){m=(f=M.now())+b,c=h=0;try{(function(){E(),++c;for(var xt,lt=r;lt;)(xt=m-lt._time)>=0&&lt._call.call(null,xt),lt=lt._next;--c})()}finally{c=0,function(){for(var xt,lt,ct=r,Et=1/0;ct;)ct._call?(Et>ct._time&&(Et=ct._time),xt=ct,ct=ct._next):(lt=ct._next,ct._next=null,ct=xt?xt._next=lt:r=lt);o=xt,F(Et)}(),m=0}}function I(){var xt=M.now(),lt=xt-f;lt>1e3&&(b-=lt,f=xt)}function F(xt){c||(h&&(h=clearTimeout(h)),xt-m>24?(xt<1/0&&(h=setTimeout(N,xt-M.now()-b)),v&&(v=clearInterval(v))):(v||(f=M.now(),v=setInterval(I,1e3)),c=1,O(N)))}function G(xt){return+xt}function U(xt){return xt*xt}function H(xt){return xt*(2-xt)}function Q(xt){return((xt*=2)<=1?xt*xt:--xt*(2-xt)+1)/2}function at(xt){return xt*xt*xt}function $(xt){return--xt*xt*xt+1}function K(xt){return((xt*=2)<=1?xt*xt*xt:(xt-=2)*xt*xt+2)/2}j.prototype=B.prototype={constructor:j,restart:function(lt,ct,Et){if(typeof lt!="function")throw new TypeError("callback is not a function");Et=(Et==null?E():+Et)+(ct==null?0:+ct),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=lt,this._time=Et,F()},stop:function(){this._call&&(this._call=null,this._time=1/0,F())}};var ot=function xt(lt){function ct(Et){return Math.pow(Et,lt)}return lt=+lt,ct.exponent=xt,ct}(3),it=function xt(lt){function ct(Et){return 1-Math.pow(1-Et,lt)}return lt=+lt,ct.exponent=xt,ct}(3),ht=function xt(lt){function ct(Et){return((Et*=2)<=1?Math.pow(Et,lt):2-Math.pow(2-Et,lt))/2}return lt=+lt,ct.exponent=xt,ct}(3),St=Math.PI,gt=St/2;function bt(xt){return+xt==1?1:1-Math.cos(xt*gt)}function mt(xt){return Math.sin(xt*gt)}function vt(xt){return(1-Math.cos(St*xt))/2}function _t(xt){return 1.0009775171065494*(Math.pow(2,-10*xt)-.0009765625)}function Nt(xt){return _t(1-+xt)}function At(xt){return 1-_t(xt)}function It(xt){return((xt*=2)<=1?_t(1-xt):2-_t(xt-1))/2}function dt(xt){return 1-Math.sqrt(1-xt*xt)}function X(xt){return Math.sqrt(1- --xt*xt)}function V(xt){return((xt*=2)<=1?1-Math.sqrt(1-xt*xt):Math.sqrt(1-(xt-=2)*xt)+1)/2}var Z=7.5625;function W(xt){return 1-rt(1-xt)}function rt(xt){return(xt=+xt)<4/11?Z*xt*xt:xt<8/11?Z*(xt-=6/11)*xt+3/4:xt<10/11?Z*(xt-=9/11)*xt+15/16:Z*(xt-=21/22)*xt+63/64}function J(xt){return((xt*=2)<=1?1-rt(1-xt):rt(xt-1)+1)/2}var tt=function xt(lt){function ct(Et){return(Et=+Et)*Et*(lt*(Et-1)+Et)}return lt=+lt,ct.overshoot=xt,ct}(1.70158),ft=function xt(lt){function ct(Et){return--Et*Et*((Et+1)*lt+Et)+1}return lt=+lt,ct.overshoot=xt,ct}(1.70158),kt=function xt(lt){function ct(Et){return((Et*=2)<1?Et*Et*((lt+1)*Et-lt):(Et-=2)*Et*((lt+1)*Et+lt)+2)/2}return lt=+lt,ct.overshoot=xt,ct}(1.70158),jt=2*Math.PI,Bt=function xt(lt,ct){var Et=Math.asin(1/(lt=Math.max(1,lt)))*(ct/=jt);function Yt(Jt){return lt*_t(- --Jt)*Math.sin((Et-Jt)/ct)}return Yt.amplitude=function(Jt){return xt(Jt,ct*jt)},Yt.period=function(Jt){return xt(lt,Jt)},Yt}(1,.3),Rt=function xt(lt,ct){var Et=Math.asin(1/(lt=Math.max(1,lt)))*(ct/=jt);function Yt(Jt){return 1-lt*_t(Jt=+Jt)*Math.sin((Jt+Et)/ct)}return Yt.amplitude=function(Jt){return xt(Jt,ct*jt)},Yt.period=function(Jt){return xt(lt,Jt)},Yt}(1,.3),Lt=function xt(lt,ct){var Et=Math.asin(1/(lt=Math.max(1,lt)))*(ct/=jt);function Yt(Jt){return((Jt=2*Jt-1)<0?lt*_t(-Jt)*Math.sin((Et-Jt)/ct):2-lt*_t(Jt)*Math.sin((Et+Jt)/ct))/2}return Yt.amplitude=function(Jt){return xt(Jt,ct*jt)},Yt.period=function(Jt){return xt(lt,Jt)},Yt}(1,.3),Pt=function(lt,ct,Et){lt.prototype=ct.prototype=Et,Et.constructor=lt};function Ct(xt,lt){var ct=Object.create(xt.prototype);for(var Et in lt)ct[Et]=lt[Et];return ct}function Ht(){}var Xt="\\s*([+-]?\\d+)\\s*",ut="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pe=/^#([0-9a-f]{3,8})$/,de=new RegExp("^rgb\\("+[Xt,Xt,Xt]+"\\)$"),we=new RegExp("^rgb\\("+[re,re,re]+"\\)$"),fe=new RegExp("^rgba\\("+[Xt,Xt,Xt,ut]+"\\)$"),ue=new RegExp("^rgba\\("+[re,re,re,ut]+"\\)$"),ye=new RegExp("^hsl\\("+[ut,re,re]+"\\)$"),ve=new RegExp("^hsla\\("+[ut,re,re,ut]+"\\)$"),xe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ge(){return this.rgb().formatHex()}function je(){return this.rgb().formatRgb()}function Ne(xt){var lt,ct;return xt=(xt+"").trim().toLowerCase(),(lt=pe.exec(xt))?(ct=lt[1].length,lt=parseInt(lt[1],16),ct===6?Me(lt):ct===3?new Be(lt>>8&15|lt>>4&240,lt>>4&15|240&lt,(15&lt)<<4|15&lt,1):ct===8?De(lt>>24&255,lt>>16&255,lt>>8&255,(255&lt)/255):ct===4?De(lt>>12&15|lt>>8&240,lt>>8&15|lt>>4&240,lt>>4&15|240&lt,((15&lt)<<4|15&lt)/255):null):(lt=de.exec(xt))?new Be(lt[1],lt[2],lt[3],1):(lt=we.exec(xt))?new Be(255*lt[1]/100,255*lt[2]/100,255*lt[3]/100,1):(lt=fe.exec(xt))?De(lt[1],lt[2],lt[3],lt[4]):(lt=ue.exec(xt))?De(255*lt[1]/100,255*lt[2]/100,255*lt[3]/100,lt[4]):(lt=ye.exec(xt))?Tn(lt[1],lt[2]/100,lt[3]/100,1):(lt=ve.exec(xt))?Tn(lt[1],lt[2]/100,lt[3]/100,lt[4]):xe.hasOwnProperty(xt)?Me(xe[xt]):xt==="transparent"?new Be(NaN,NaN,NaN,0):null}function Me(xt){return new Be(xt>>16&255,xt>>8&255,255&xt,1)}function De(xt,lt,ct,Et){return Et<=0&&(xt=lt=ct=NaN),new Be(xt,lt,ct,Et)}function Xe(xt){return xt instanceof Ht||(xt=Ne(xt)),xt?new Be((xt=xt.rgb()).r,xt.g,xt.b,xt.opacity):new Be}function We(xt,lt,ct,Et){return arguments.length===1?Xe(xt):new Be(xt,lt,ct,Et==null?1:Et)}function Be(xt,lt,ct,Et){this.r=+xt,this.g=+lt,this.b=+ct,this.opacity=+Et}function an(){return"#"+Ve(this.r)+Ve(this.g)+Ve(this.b)}function tn(){var xt=this.opacity;return((xt=isNaN(xt)?1:Math.max(0,Math.min(1,xt)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(xt===1?")":", "+xt+")")}function Ve(xt){return((xt=Math.max(0,Math.min(255,Math.round(xt)||0)))<16?"0":"")+xt.toString(16)}function Tn(xt,lt,ct,Et){return Et<=0?xt=lt=ct=NaN:ct<=0||ct>=1?xt=lt=NaN:lt<=0&&(xt=NaN),new He(xt,lt,ct,Et)}function Nn(xt){if(xt instanceof He)return new He(xt.h,xt.s,xt.l,xt.opacity);if(xt instanceof Ht||(xt=Ne(xt)),!xt)return new He;if(xt instanceof He)return xt;var lt=(xt=xt.rgb()).r/255,ct=xt.g/255,Et=xt.b/255,Yt=Math.min(lt,ct,Et),Jt=Math.max(lt,ct,Et),he=NaN,ce=Jt-Yt,Vt=(Jt+Yt)/2;return ce?(he=lt===Jt?(ct-Et)/ce+6*(ct<Et):ct===Jt?(Et-lt)/ce+2:(lt-ct)/ce+4,ce/=Vt<.5?Jt+Yt:2-Jt-Yt,he*=60):ce=Vt>0&&Vt<1?0:he,new He(he,ce,Vt,xt.opacity)}function He(xt,lt,ct,Et){this.h=+xt,this.s=+lt,this.l=+ct,this.opacity=+Et}function en(xt,lt,ct){return 255*(xt<60?lt+(ct-lt)*xt/60:xt<180?ct:xt<240?lt+(ct-lt)*(240-xt)/60:lt)}function kn(xt,lt,ct,Et,Yt){var Jt=xt*xt,he=Jt*xt;return((1-3*xt+3*Jt-he)*lt+(4-6*Jt+3*he)*ct+(1+3*xt+3*Jt-3*he)*Et+he*Yt)/6}Pt(Ht,Ne,{copy:function(lt){return Object.assign(new this.constructor,this,lt)},displayable:function(){return this.rgb().displayable()},hex:Ge,formatHex:Ge,formatHsl:function(){return Nn(this).formatHsl()},formatRgb:je,toString:je}),Pt(Be,We,Ct(Ht,{brighter:function(lt){return lt=lt==null?1/.7:Math.pow(1/.7,lt),new Be(this.r*lt,this.g*lt,this.b*lt,this.opacity)},darker:function(lt){return lt=lt==null?.7:Math.pow(.7,lt),new Be(this.r*lt,this.g*lt,this.b*lt,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:an,formatHex:an,formatRgb:tn,toString:tn})),Pt(He,function(xt,lt,ct,Et){return arguments.length===1?Nn(xt):new He(xt,lt,ct,Et==null?1:Et)},Ct(Ht,{brighter:function(lt){return lt=lt==null?1/.7:Math.pow(1/.7,lt),new He(this.h,this.s,this.l*lt,this.opacity)},darker:function(lt){return lt=lt==null?.7:Math.pow(.7,lt),new He(this.h,this.s,this.l*lt,this.opacity)},rgb:function(){var lt=this.h%360+360*(this.h<0),ct=isNaN(lt)||isNaN(this.s)?0:this.s,Et=this.l,Yt=Et+(Et<.5?Et:1-Et)*ct,Jt=2*Et-Yt;return new Be(en(lt>=240?lt-240:lt+120,Jt,Yt),en(lt,Jt,Yt),en(lt<120?lt+240:lt-120,Jt,Yt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var lt=this.opacity;return((lt=isNaN(lt)?1:Math.max(0,Math.min(1,lt)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(lt===1?")":", "+lt+")")}}));var nn=function(lt){return function(){return lt}};function Pn(xt,lt){return function(ct){return xt+ct*lt}}function bn(xt){return(xt=+xt)==1?xn:function(lt,ct){return ct-lt?function(Et,Yt,Jt){return Et=Math.pow(Et,Jt),Yt=Math.pow(Yt,Jt)-Et,Jt=1/Jt,function(he){return Math.pow(Et+he*Yt,Jt)}}(lt,ct,xt):nn(isNaN(lt)?ct:lt)}}function xn(xt,lt){var ct=lt-xt;return ct?Pn(xt,ct):nn(isNaN(xt)?lt:xt)}var rn=function xt(lt){var ct=bn(lt);function Et(Yt,Jt){var he=ct((Yt=We(Yt)).r,(Jt=We(Jt)).r),ce=ct(Yt.g,Jt.g),Vt=ct(Yt.b,Jt.b),Mt=xn(Yt.opacity,Jt.opacity);return function(Ft){return Yt.r=he(Ft),Yt.g=ce(Ft),Yt.b=Vt(Ft),Yt.opacity=Mt(Ft),Yt+""}}return Et.gamma=xt,Et}(1);function qe(xt){return function(lt){var ct,Et,Yt=lt.length,Jt=new Array(Yt),he=new Array(Yt),ce=new Array(Yt);for(ct=0;ct<Yt;++ct)Et=We(lt[ct]),Jt[ct]=Et.r||0,he[ct]=Et.g||0,ce[ct]=Et.b||0;return Jt=xt(Jt),he=xt(he),ce=xt(ce),Et.opacity=1,function(Vt){return Et.r=Jt(Vt),Et.g=he(Vt),Et.b=ce(Vt),Et+""}}}qe(function(xt){var lt=xt.length-1;return function(ct){var Et=ct<=0?ct=0:ct>=1?(ct=1,lt-1):Math.floor(ct*lt),Yt=xt[Et],Jt=xt[Et+1],he=Et>0?xt[Et-1]:2*Yt-Jt,ce=Et<lt-1?xt[Et+2]:2*Jt-Yt;return kn((ct-Et/lt)*lt,he,Yt,Jt,ce)}}),qe(function(xt){var lt=xt.length;return function(ct){var Et=Math.floor(((ct%=1)<0?++ct:ct)*lt),Yt=xt[(Et+lt-1)%lt],Jt=xt[Et%lt],he=xt[(Et+1)%lt],ce=xt[(Et+2)%lt];return kn((ct-Et/lt)*lt,Yt,Jt,he,ce)}});var sn=function(lt,ct){ct||(ct=[]);var Et,Yt=lt?Math.min(ct.length,lt.length):0,Jt=ct.slice();return function(he){for(Et=0;Et<Yt;++Et)Jt[Et]=lt[Et]*(1-he)+ct[Et]*he;return Jt}};function on(xt){return ArrayBuffer.isView(xt)&&!(xt instanceof DataView)}function un(xt,lt){var ct,Et=lt?lt.length:0,Yt=xt?Math.min(Et,xt.length):0,Jt=new Array(Yt),he=new Array(Et);for(ct=0;ct<Yt;++ct)Jt[ct]=ln(xt[ct],lt[ct]);for(;ct<Et;++ct)he[ct]=lt[ct];return function(ce){for(ct=0;ct<Yt;++ct)he[ct]=Jt[ct](ce);return he}}var Re=function(lt,ct){var Et=new Date;return lt=+lt,ct=+ct,function(Yt){return Et.setTime(lt*(1-Yt)+ct*Yt),Et}},pn=function(lt,ct){return lt=+lt,ct=+ct,function(Et){return lt*(1-Et)+ct*Et}};function cn(xt){return(cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt})(xt)}var gn=function(lt,ct){var Et,Yt={},Jt={};for(Et in lt!==null&&cn(lt)==="object"||(lt={}),ct!==null&&cn(ct)==="object"||(ct={}),ct)Et in lt?Yt[Et]=ln(lt[Et],ct[Et]):Jt[Et]=ct[Et];return function(he){for(Et in Yt)Jt[Et]=Yt[Et](he);return Jt}},Ze=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hn=new RegExp(Ze.source,"g"),Cn=function(lt,ct){var Et,Yt,Jt,he=Ze.lastIndex=hn.lastIndex=0,ce=-1,Vt=[],Mt=[];for(lt+="",ct+="";(Et=Ze.exec(lt))&&(Yt=hn.exec(ct));)(Jt=Yt.index)>he&&(Jt=ct.slice(he,Jt),Vt[ce]?Vt[ce]+=Jt:Vt[++ce]=Jt),(Et=Et[0])===(Yt=Yt[0])?Vt[ce]?Vt[ce]+=Yt:Vt[++ce]=Yt:(Vt[++ce]=null,Mt.push({i:ce,x:pn(Et,Yt)})),he=hn.lastIndex;return he<ct.length&&(Jt=ct.slice(he),Vt[ce]?Vt[ce]+=Jt:Vt[++ce]=Jt),Vt.length<2?Mt[0]?function(Ft){return function(Ut){return Ft(Ut)+""}}(Mt[0].x):function(Ft){return function(){return Ft}}(ct):(ct=Mt.length,function(Ft){for(var Ut,$t=0;$t<ct;++$t)Vt[(Ut=Mt[$t]).i]=Ut.x(Ft);return Vt.join("")})};function Qn(xt){return(Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt})(xt)}var ln=function(lt,ct){var Et,Yt=Qn(ct);return ct==null||Yt==="boolean"?nn(ct):(Yt==="number"?pn:Yt==="string"?(Et=Ne(ct))?(ct=Et,rn):Cn:ct instanceof Ne?rn:ct instanceof Date?Re:on(ct)?sn:Array.isArray(ct)?un:typeof ct.valueOf!="function"&&typeof ct.toString!="function"||isNaN(ct)?gn:pn)(lt,ct)},wn=s(37),Jn=[1,0,0,0,1,0,0,0,1];function An(xt,lt,ct){var Et,Yt=lt.startTime;if(ct<Yt+lt.delay||lt._paused)return!1;var Jt=lt.duration,he=lt.easing;if(ct=ct-Yt-lt.delay,lt.repeat)Et=ct%Jt/Jt,Et=d[he](Et);else{if(!((Et=ct/Jt)<1))return lt.onFrame?xt.attr(lt.onFrame(1)):xt.attr(lt.toAttrs),!0;Et=d[he](Et)}if(lt.onFrame){var ce=lt.onFrame(Et);xt.attr(ce)}else(function(Vt,Mt,Ft){var Ut={},$t=Mt.fromAttrs,ie=Mt.toAttrs;if(!Vt.destroyed){var ge,Ee,Ie,Ke;for(var Te in ie)if(!Object(u.isEqual)($t[Te],ie[Te]))if(Te==="path"){var Mn=ie[Te],$e=$t[Te];Mn.length>$e.length?(Mn=wn.parsePathString(ie[Te]),$e=wn.parsePathString($t[Te]),$e=wn.fillPathByDiff($e,Mn),$e=wn.formatPath($e,Mn),Mt.fromAttrs.path=$e,Mt.toAttrs.path=Mn):Mt.pathFormatted||(Mn=wn.parsePathString(ie[Te]),$e=wn.parsePathString($t[Te]),$e=wn.formatPath($e,Mn),Mt.fromAttrs.path=$e,Mt.toAttrs.path=Mn,Mt.pathFormatted=!0),Ut[Te]=[];for(var zn=0;zn<Mn.length;zn++){for(var Br=Mn[zn],Ur=$e[zn],Xn=[],fr=0;fr<Br.length;fr++)Object(u.isNumber)(Br[fr])&&Ur&&Object(u.isNumber)(Ur[fr])?(ge=ln(Ur[fr],Br[fr]),Xn.push(ge(Ft))):Xn.push(Br[fr]);Ut[Te].push(Xn)}}else if(Te==="matrix"){var Pr=(Ie=$t[Te]||Jn,(on(Ke=ie[Te]||Jn)?sn:un)(Ie,Ke))(Ft);Ut[Te]=Pr}else["fill","stroke","fillStyle","strokeStyle"].includes(Te)&&(Ee=ie[Te],/^[r,R,L,l]{1}[\s]*\(/.test(Ee))?Ut[Te]=ie[Te]:Object(u.isFunction)(ie[Te])||(ge=ln($t[Te],ie[Te]),Ut[Te]=ge(Ft));Vt.attr(Ut)}})(xt,lt,Et);return!1}var Gn=function(){function xt(lt){this.animators=[],this.current=0,this.timer=null,this.canvas=lt}return xt.prototype.initTimer=function(){var lt,ct,Et,Yt=this;this.timer=B(function(Jt){if(Yt.current=Jt,Yt.animators.length>0){for(var he=Yt.animators.length-1;he>=0;he--)if((lt=Yt.animators[he]).destroyed)Yt.removeAnimator(he);else{if(!lt.isAnimatePaused())for(var ce=(ct=lt.get("animations")).length-1;ce>=0;ce--)Et=ct[ce],An(lt,Et,Jt)&&(ct.splice(ce,1),Et.callback&&Et.callback());ct.length===0&&Yt.removeAnimator(he)}Yt.canvas.get("autoDraw")||Yt.canvas.draw()}})},xt.prototype.addAnimator=function(lt){this.animators.push(lt)},xt.prototype.removeAnimator=function(lt){this.animators.splice(lt,1)},xt.prototype.isAnimating=function(){return!!this.animators.length},xt.prototype.stop=function(){this.timer&&this.timer.stop()},xt.prototype.stopAllAnimations=function(lt){lt===void 0&&(lt=!0),this.animators.forEach(function(ct){ct.stopAnimate(lt)}),this.animators=[],this.canvas.draw()},xt.prototype.getTime=function(){return this.current},xt}(),kr=s(96),cr=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function tr(xt,lt,ct){ct.name=lt,ct.target=xt,ct.currentTarget=xt,ct.delegateTarget=xt,xt.emit(lt,ct)}function gr(xt,lt,ct){if(ct.bubbles){var Et=void 0,Yt=!1;if(lt==="mouseenter"?(Et=ct.fromShape,Yt=!0):lt==="mouseleave"&&(Yt=!0,Et=ct.toShape),xt.isCanvas()&&Yt)return;if(Et&&Object(a.g)(xt,Et))return void(ct.bubbles=!1);ct.name=lt,ct.currentTarget=xt,ct.delegateTarget=xt,xt.emit(lt,ct)}}var er=function(){function xt(lt){var ct=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Et){var Yt=Et.type;ct._triggerEvent(Yt,Et)},this._onDocumentMove=function(Et){if(ct.canvas.get("el")!==Et.target&&(ct.dragging||ct.currentShape)){var Yt=ct._getPointInfo(Et);ct.dragging&&ct._emitEvent("drag",Et,Yt,ct.draggingShape)}},this._onDocumentMouseUp=function(Et){if(ct.canvas.get("el")!==Et.target&&ct.dragging){var Yt=ct._getPointInfo(Et);ct.draggingShape&&ct._emitEvent("drop",Et,Yt,null),ct._emitEvent("dragend",Et,Yt,ct.draggingShape),ct._afterDrag(ct.draggingShape,Yt,Et)}},this.canvas=lt.canvas}return xt.prototype.init=function(){this._bindEvents()},xt.prototype._bindEvents=function(){var lt=this,ct=this.canvas.get("el");Object(a.a)(cr,function(Et){ct.addEventListener(Et,lt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},xt.prototype._clearEvents=function(){var lt=this,ct=this.canvas.get("el");Object(a.a)(cr,function(Et){ct.removeEventListener(Et,lt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},xt.prototype._getEventObj=function(lt,ct,Et,Yt,Jt,he){var ce=new kr.a(lt,ct);return ce.fromShape=Jt,ce.toShape=he,ce.x=Et.x,ce.y=Et.y,ce.clientX=Et.clientX,ce.clientY=Et.clientY,ce.propagationPath.push(Yt),ce},xt.prototype._getShape=function(lt,ct){return this.canvas.getShape(lt.x,lt.y,ct)},xt.prototype._getPointInfo=function(lt){var ct=this.canvas,Et=ct.getClientByEvent(lt),Yt=ct.getPointByEvent(lt);return{x:Yt.x,y:Yt.y,clientX:Et.x,clientY:Et.y}},xt.prototype._triggerEvent=function(lt,ct){var Et=this._getPointInfo(ct),Yt=this._getShape(Et,ct),Jt=this["_on"+lt],he=!1;if(Jt)Jt.call(this,Et,Yt,ct);else{var ce=this.currentShape;lt==="mouseenter"||lt==="dragenter"||lt==="mouseover"?(this._emitEvent(lt,ct,Et,null,null,Yt),Yt&&this._emitEvent(lt,ct,Et,Yt,null,Yt),lt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",ct,Et,null)):lt==="mouseleave"||lt==="dragleave"||lt==="mouseout"?(he=!0,ce&&this._emitEvent(lt,ct,Et,ce,ce,null),this._emitEvent(lt,ct,Et,null,ce,null),lt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",ct,Et,null)):this._emitEvent(lt,ct,Et,Yt,null,null)}if(he||(this.currentShape=Yt),Yt&&!Yt.get("destroyed")){var Vt=this.canvas;Vt.get("el").style.cursor=Yt.attr("cursor")||Vt.get("cursor")}},xt.prototype._onmousedown=function(lt,ct,Et){Et.button===0&&(this.mousedownShape=ct,this.mousedownPoint=lt,this.mousedownTimeStamp=Et.timeStamp),this._emitEvent("mousedown",Et,lt,ct,null,null)},xt.prototype._emitMouseoverEvents=function(lt,ct,Et,Yt){var Jt=this.canvas.get("el");Et!==Yt&&(Et&&(this._emitEvent("mouseout",lt,ct,Et,Et,Yt),this._emitEvent("mouseleave",lt,ct,Et,Et,Yt),Yt&&!Yt.get("destroyed")||(Jt.style.cursor=this.canvas.get("cursor"))),Yt&&(this._emitEvent("mouseover",lt,ct,Yt,Et,Yt),this._emitEvent("mouseenter",lt,ct,Yt,Et,Yt)))},xt.prototype._emitDragoverEvents=function(lt,ct,Et,Yt,Jt){Yt?(Yt!==Et&&(Et&&this._emitEvent("dragleave",lt,ct,Et,Et,Yt),this._emitEvent("dragenter",lt,ct,Yt,Et,Yt)),Jt||this._emitEvent("dragover",lt,ct,Yt)):Et&&this._emitEvent("dragleave",lt,ct,Et,Et,Yt),Jt&&this._emitEvent("dragover",lt,ct,Yt)},xt.prototype._afterDrag=function(lt,ct,Et){lt&&(lt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Yt=this._getShape(ct,Et);Yt!==lt&&this._emitMouseoverEvents(Et,ct,lt,Yt),this.currentShape=Yt},xt.prototype._onmouseup=function(lt,ct,Et){if(Et.button===0){var Yt=this.draggingShape;this.dragging?(Yt&&this._emitEvent("drop",Et,lt,ct),this._emitEvent("dragend",Et,lt,Yt),this._afterDrag(Yt,lt,Et)):(this._emitEvent("mouseup",Et,lt,ct),ct===this.mousedownShape&&this._emitEvent("click",Et,lt,ct),this.mousedownShape=null,this.mousedownPoint=null)}},xt.prototype._ondragover=function(lt,ct,Et){Et.preventDefault();var Yt=this.currentShape;this._emitDragoverEvents(Et,lt,Yt,ct,!0)},xt.prototype._onmousemove=function(lt,ct,Et){var Yt=this.canvas,Jt=this.currentShape,he=this.draggingShape;if(this.dragging)he&&this._emitDragoverEvents(Et,lt,Jt,ct,!1),this._emitEvent("drag",Et,lt,he);else{var ce=this.mousedownPoint;if(ce){var Vt=this.mousedownShape,Mt=Et.timeStamp-this.mousedownTimeStamp,Ft=ce.clientX-lt.clientX,Ut=ce.clientY-lt.clientY;Mt>120||Ft*Ft+Ut*Ut>40?Vt&&Vt.get("draggable")?((he=this.mousedownShape).set("capture",!1),this.draggingShape=he,this.dragging=!0,this._emitEvent("dragstart",Et,lt,he),this.mousedownShape=null,this.mousedownPoint=null):!Vt&&Yt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Et,lt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Et,lt,Jt,ct),this._emitEvent("mousemove",Et,lt,ct)):(this._emitMouseoverEvents(Et,lt,Jt,ct),this._emitEvent("mousemove",Et,lt,ct))}else this._emitMouseoverEvents(Et,lt,Jt,ct),this._emitEvent("mousemove",Et,lt,ct)}},xt.prototype._emitEvent=function(lt,ct,Et,Yt,Jt,he){var ce=this._getEventObj(lt,ct,Et,Yt,Jt,he);if(Yt){ce.shape=Yt,tr(Yt,lt,ce);for(var Vt=Yt.getParent();Vt;)Vt.emitDelegation(lt,ce),ce.propagationStopped||gr(Vt,lt,ce),ce.propagationPath.push(Vt),Vt=Vt.getParent()}else tr(this.canvas,lt,ce)},xt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},xt}(),hr=Object(p.detect)(),lr=hr&&hr.name==="firefox",be=function(xt){function lt(ct){var Et=xt.call(this,ct)||this;return Et.initContainer(),Et.initDom(),Et.initEvents(),Et.initTimeline(),Et}return Object(y.__extends)(lt,xt),lt.prototype.getDefaultCfg=function(){var ct=xt.prototype.getDefaultCfg.call(this);return ct.cursor="default",ct.supportCSSTransform=!1,ct},lt.prototype.initContainer=function(){var ct=this.get("container");Object(a.h)(ct)&&(ct=document.getElementById(ct),this.set("container",ct))},lt.prototype.initDom=function(){var ct=this.createDom();this.set("el",ct),this.get("container").appendChild(ct),this.setDOMSize(this.get("width"),this.get("height"))},lt.prototype.initEvents=function(){var ct=new er({canvas:this});ct.init(),this.set("eventController",ct)},lt.prototype.initTimeline=function(){var ct=new Gn(this);this.set("timeline",ct)},lt.prototype.setDOMSize=function(ct,Et){var Yt=this.get("el");a.c&&(Yt.style.width=ct+"px",Yt.style.height=Et+"px")},lt.prototype.changeSize=function(ct,Et){this.setDOMSize(ct,Et),this.set("width",ct),this.set("height",Et),this.onCanvasChange("changeSize")},lt.prototype.getRenderer=function(){return this.get("renderer")},lt.prototype.getCursor=function(){return this.get("cursor")},lt.prototype.setCursor=function(ct){this.set("cursor",ct);var Et=this.get("el");a.c&&Et&&(Et.style.cursor=ct)},lt.prototype.getPointByEvent=function(ct){if(this.get("supportCSSTransform")){if(lr&&!Object(a.e)(ct.layerX)&&ct.layerX!==ct.offsetX)return{x:ct.layerX,y:ct.layerY};if(!Object(a.e)(ct.offsetX))return{x:ct.offsetX,y:ct.offsetY}}var Et=this.getClientByEvent(ct),Yt=Et.x,Jt=Et.y;return this.getPointByClient(Yt,Jt)},lt.prototype.getClientByEvent=function(ct){var Et=ct;return ct.touches&&(Et=ct.type==="touchend"?ct.changedTouches[0]:ct.touches[0]),{x:Et.clientX,y:Et.clientY}},lt.prototype.getPointByClient=function(ct,Et){var Yt=this.get("el").getBoundingClientRect();return{x:ct-Yt.left,y:Et-Yt.top}},lt.prototype.getClientByPoint=function(ct,Et){var Yt=this.get("el").getBoundingClientRect();return{x:ct+Yt.left,y:Et+Yt.top}},lt.prototype.draw=function(){},lt.prototype.removeDom=function(){var ct=this.get("el");ct.parentNode.removeChild(ct)},lt.prototype.clearEvents=function(){this.get("eventController").destroy()},lt.prototype.isCanvas=function(){return!0},lt.prototype.getParent=function(){return null},lt.prototype.destroy=function(){var ct=this.get("timeline");this.get("destroyed")||(this.clear(),ct&&ct.stop(),this.clearEvents(),this.removeDom(),xt.prototype.destroy.call(this))},lt}(n.a);x.a=be},function(A){A.exports=JSON.parse('{"a":"3.8.5"}')},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=function(){function y(p,n){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=p,this.name=p,this.originalEvent=n,this.timeStamp=n.timeStamp}return y.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},y.prototype.stopPropagation=function(){this.propagationStopped=!0},y.prototype.toString=function(){return"[Event (type="+this.type+")]"},y.prototype.save=function(){},y.prototype.restore=function(){},y}();x.default=d},function(A,x,s){"use strict";A.exports=function(d,y,p,n){try{try{var a;try{a=new window.Blob([d])}catch(o){(a=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(d),a=a.getBlob()}var u=window.URL||window.webkitURL,i=u.createObjectURL(a),r=new window[y](i,p);return u.revokeObjectURL(i),r}catch(o){return new window[y]("data:application/javascript,".concat(encodeURIComponent(d)),p)}}catch(o){if(!n)throw Error("Inline worker is not supported");return new window[y](n,p)}}},,,,,,,,,,,function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(137),y=s(72);x.default=function(p,n){return n===void 0&&(n=[]),d.default(p,function(a){return!y.default(n,a)})}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(14),y=s(138),p=s(4),n=s(58);x.default=function(a,u){if(!p.default(a))return null;var i;if(d.default(u)&&(i=u),n.default(u)&&(i=function(c){return y.default(c,u)}),i){for(var r=0;r<a.length;r+=1)if(i(a[r]))return a[r]}return null}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){p===void 0&&(p=0);for(var n=p;n<d.length;n++)if(y(d[n],n))return n;return-1}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(4);x.default=function(p,n){for(var a=null,u=0;u<p.length;u++){var i=p[u][n];if(!d.default(i)){a=y.default(i)?i[0]:i;break}}return a}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4);x.default=function(y){if(!d.default(y))return[];for(var p=[],n=0;n<y.length;n++)p=p.concat(y[n]);return p}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4);x.default=function y(p,n){if(n===void 0&&(n=[]),d.default(p))for(var a=0;a<p.length;a+=1)y(p[a],n);else n.push(p);return n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4);x.default=function(y){var p=y.filter(function(i){return!isNaN(i)});if(!p.length)return{min:0,max:0};if(d.default(y[0])){for(var n=[],a=0;a<y.length;a++)n=n.concat(y[a]);p=n}var u=Math.max.apply(null,p);return{min:Math.min.apply(null,p),max:u}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=Array.prototype,y=d.splice,p=d.indexOf;x.default=function(n){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];for(var i=0;i<a.length;i++)for(var r=a[i],o=-1;(o=p.call(n,r))>-1;)y.call(n,o,1);return n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(4),p=s(58);x.default=function(n,a,u){if(!y.default(n)&&!p.default(n))return n;var i=u;return d.default(n,function(r,o){i=a(i,r,o)}),i}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21),y=s(140);x.default=function(p,n){var a=[];if(!d.default(p))return a;for(var u=-1,i=[],r=p.length;++u<r;){var o=p[u];n(o,u,p)&&(a.push(o),i.push(u))}return y.default(p,i),a}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(3),p=s(14);x.default=function(n,a){var u;if(p.default(a))u=function(o,c){return a(o)-a(c)};else{var i=[];y.default(a)?i.push(a):d.default(a)&&(i=a),u=function(o,c){for(var h=0;h<i.length;h+=1){var v=i[h];if(o[v]>c[v])return 1;if(o[v]<c[v])return-1}return 0}}return n.sort(u),n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(141);x.default=function(){for(var y=[],p=0;p<arguments.length;p++)y[p]=arguments[p];return d.default([].concat.apply([],y))}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(10);x.default=function(p,n){for(var a=[],u={},i=0;i<p.length;i++){var r=p[i][n];if(!y.default(r)){d.default(r)||(r=[r]);for(var o=0;o<r.length;o++){var c=r[o];u[c]||(a.push(c),u[c]=!0)}}}return a}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y){if(d.default(y))return y[0]}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y){if(d.default(y))return y[y.length-1]}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(3);x.default=function(p,n){return!(!d.default(p)&&!y.default(p))&&p[0]===n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(3);x.default=function(p,n){return!(!d.default(p)&&!y.default(p))&&p[p.length-1]===n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){for(var p=0;p<d.length;p++)if(!y(d[p],p))return!1;return!0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){for(var p=0;p<d.length;p++)if(y(d[p],p))return!0;return!1}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(142);x.default=function(y,p){if(!p)return[y];var n=d.default(y,p),a=[];for(var u in n)a.push(n[u]);return a}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){return d["_wrap_"+y]}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={};x.default=function(y){var p=d[y];if(!p){for(var n=y.toString(16),a=n.length;a<6;a++)n="0"+n;p="#"+n,d[y]=p}return p}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4);x.default=function(y){var p=0,n=0,a=0,u=0;return d.default(y)?y.length===1?p=n=a=u=y[0]:y.length===2?(p=a=y[0],n=u=y[1]):y.length===3?(p=y[0],n=u=y[1],a=y[2]):(p=y[0],n=y[1],a=y[2],u=y[3]):p=n=a=u=y,{r1:p,r2:n,r3:a,r4:u}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){return d<y?y:d>p?p:d}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){var p=y.toString(),n=p.indexOf(".");if(n===-1)return Math.round(d);var a=p.substr(n+1).length;return a>20&&(a=20),parseFloat(d.toFixed(a))}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y%1!=0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y%2==0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11),y=Number.isInteger?Number.isInteger:function(p){return d.default(p)&&p%1==0};x.default=y},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y<0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y%2!=0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y>0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(4),p=s(14);x.default=function(n,a){if(y.default(n)){var u,i,r=n[0];return u=p.default(a)?a(n[0]):n[0][a],d.default(n,function(o){(i=p.default(a)?a(o):o[a])>u&&(r=o,u=i)}),r}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(4),p=s(14);x.default=function(n,a){if(y.default(n)){var u,i,r=n[0];return u=p.default(a)?a(n[0]):n[0][a],d.default(n,function(o){(i=p.default(a)?a(o):o[a])<u&&(r=o,u=i)}),r}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=180/Math.PI;x.default=function(y){return d*y}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=parseInt},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2);x.default=d.default},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(143);x.default=d.default},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(72),y=s(144);x.default=function(p,n){return d.default(y.default(p),n)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(59);x.default=function(y){return d.default(y).toLowerCase()}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(59);x.default=function(y){var p=d.default(y);return p.charAt(0).toLowerCase()+p.substring(1)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){return d&&y?d.replace(/\\?\{([^{}]+)\}/g,function(p,n){return p.charAt(0)==="\\"?p.slice(1):y[n]===void 0?"":y[n]}):d}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(59);x.default=function(y){return d.default(y).toUpperCase()}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Arguments")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Boolean")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Date")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Error")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&isFinite(y)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d===null}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"RegExp")}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d===void 0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d instanceof Element||d instanceof HTMLDocument}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(17),y=s(14);x.default=function(){for(var p=[],n=0;n<arguments.length;n++)p[n]=arguments[n];for(var a=p[0],u=1;u<p.length;u++){var i=p[u];y.default(i)&&(i=i.prototype),d.default(a.prototype,i)}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){var n;return function(){var a=this,u=arguments,i=function(){n=null,p||d.apply(a,u)},r=p&&!n;clearTimeout(n),n=setTimeout(i,y),r&&d.apply(a,u)}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(14);x.default=function(y,p){if(!d.default(y))throw new TypeError("Expected a function");var n=function a(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];var r=p?p.apply(this,u):u[0],o=a.cache;if(o.has(r))return o.get(r);var c=y.apply(this,u);return o.set(r,c),c};return n.cache=new Map,n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(17),y=s(14);x.default=function(p,n,a,u){y.default(n)||(a=n,n=p,p=function(){});var i=Object.create?function(o,c){return Object.create(o,{constructor:{value:c}})}:function(o,c){function h(){}h.prototype=o;var v=new h;return v.constructor=c,v},r=i(n.prototype,p);return p.prototype=d.default(r,p.prototype),p.superclass=i(n.prototype,n),d.default(r,a),d.default(p,u),p}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y,p){if(!d.default(y))return-1;var n=Array.prototype.indexOf;if(n)return n.call(y,p);for(var a=-1,u=0;u<y.length;u++)if(y[u]===p){a=u;break}return a}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(21),p=s(145),n=s(146),a=Object.prototype.hasOwnProperty;x.default=function(u){if(d.default(u))return!0;if(y.default(u))return!u.length;var i=p.default(u);if(i==="Map"||i==="Set")return!u.size;if(n.default(u))return!Object.keys(u).length;for(var r in u)if(a.call(u,r))return!1;return!0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(14),y=s(95);x.default=function(p,n,a){return d.default(a)?!!a(p,n):y.default(p,n)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y,p){if(!d.default(y))return y;for(var n=[],a=0;a<y.length;a++){var u=y[a];n.push(p(u,a))}return n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(35),p=function(a){return a};x.default=function(n,a){a===void 0&&(a=p);var u={};return y.default(n)&&!d.default(n)&&Object.keys(n).forEach(function(i){u[i]=a(n[i],i)}),u}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(35),y=s(3),p=s(11);x.default=function(n,a,u){var i=n,r=y.default(a)?a.split("."):a;return r.forEach(function(o,c){c<r.length-1?(d.default(i[o])||(i[o]=p.default(r[c+1])?[]:{}),i=i[o]):i[o]=u}),n}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(58),p=Object.prototype.hasOwnProperty;x.default=function(n,a){if(n===null||!y.default(n))return{};var u={};return d.default(a,function(i){p.call(n,i)&&(u[i]=n[i])}),u}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){var n,a,u,i,r=0;p||(p={});var o=function(){r=p.leading===!1?0:Date.now(),n=null,i=d.apply(a,u),n||(a=u=null)},c=function(){var v=Date.now();r||p.leading!==!1||(r=v);var f=y-(v-r);return a=this,u=arguments,f<=0||f>y?(n&&(clearTimeout(n),n=null),r=v,i=d.apply(a,u),n||(a=u=null)):n||p.trailing===!1||(n=setTimeout(o,f)),i};return c.cancel=function(){clearTimeout(n),r=0,n=a=u=null},c}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y){return d.default(y)?Array.prototype.slice.call(y):[]}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={};x.default=function(y){return d[y=y||"g"]?d[y]+=1:d[y]=1,y+d[y]}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(){}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(21);x.default=function(p){return d.default(p)?0:y.default(p)?p.length:Object.keys(p).length}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=function(){function y(){this.map={}}return y.prototype.has=function(p){return this.map[p]!==void 0},y.prototype.get=function(p,n){var a=this.map[p];return a===void 0?n:a},y.prototype.set=function(p,n){this.map[p]=n},y.prototype.clear=function(){this.map={}},y.prototype.delete=function(p){delete this.map[p]},y.prototype.size=function(){return Object.keys(this.map).length},y}();x.default=d},function(A,x,s){var d=s(312),y=s(313),p={};for(var n in d)d.hasOwnProperty(n)&&(p[d[n]]=n);var a=A.exports={to:{},get:{}};function u(r,o,c){return Math.min(Math.max(o,r),c)}function i(r){var o=r.toString(16).toUpperCase();return o.length<2?"0"+o:o}a.get=function(r){var o,c;switch(r.substring(0,3).toLowerCase()){case"hsl":o=a.get.hsl(r),c="hsl";break;case"hwb":o=a.get.hwb(r),c="hwb";break;default:o=a.get.rgb(r),c="rgb"}return o?{model:c,value:o}:null},a.get.rgb=function(r){if(!r)return null;var o,c,h,v=[0,0,0,1];if(o=r.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(h=o[2],o=o[1],c=0;c<3;c++){var f=2*c;v[c]=parseInt(o.slice(f,f+2),16)}h&&(v[3]=parseInt(h,16)/255)}else if(o=r.match(/^#([a-f0-9]{3,4})$/i)){for(h=(o=o[1])[3],c=0;c<3;c++)v[c]=parseInt(o[c]+o[c],16);h&&(v[3]=parseInt(h+h,16)/255)}else if(o=r.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(c=0;c<3;c++)v[c]=parseInt(o[c+1],0);o[4]&&(v[3]=parseFloat(o[4]))}else{if(!(o=r.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(o=r.match(/(\D+)/))?o[1]==="transparent"?[0,0,0,0]:(v=d[o[1]])?(v[3]=1,v):null:null;for(c=0;c<3;c++)v[c]=Math.round(2.55*parseFloat(o[c+1]));o[4]&&(v[3]=parseFloat(o[4]))}for(c=0;c<3;c++)v[c]=u(v[c],0,255);return v[3]=u(v[3],0,1),v},a.get.hsl=function(r){if(!r)return null;var o=r.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(o){var c=parseFloat(o[4]);return[(parseFloat(o[1])+360)%360,u(parseFloat(o[2]),0,100),u(parseFloat(o[3]),0,100),u(isNaN(c)?1:c,0,1)]}return null},a.get.hwb=function(r){if(!r)return null;var o=r.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(o){var c=parseFloat(o[4]);return[(parseFloat(o[1])%360+360)%360,u(parseFloat(o[2]),0,100),u(parseFloat(o[3]),0,100),u(isNaN(c)?1:c,0,1)]}return null},a.to.hex=function(){var r=y(arguments);return"#"+i(r[0])+i(r[1])+i(r[2])+(r[3]<1?i(Math.round(255*r[3])):"")},a.to.rgb=function(){var r=y(arguments);return r.length<4||r[3]===1?"rgb("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+")":"rgba("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+", "+r[3]+")"},a.to.rgb.percent=function(){var r=y(arguments),o=Math.round(r[0]/255*100),c=Math.round(r[1]/255*100),h=Math.round(r[2]/255*100);return r.length<4||r[3]===1?"rgb("+o+"%, "+c+"%, "+h+"%)":"rgba("+o+"%, "+c+"%, "+h+"%, "+r[3]+")"},a.to.hsl=function(){var r=y(arguments);return r.length<4||r[3]===1?"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)":"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+r[3]+")"},a.to.hwb=function(){var r=y(arguments),o="";return r.length>=4&&r[3]!==1&&(o=", "+r[3]),"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+o+")"},a.to.keyword=function(r){return p[r.slice(0,3)]}},function(A,x,s){"use strict";A.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(A,x,s){"use strict";var d=s(314),y=Array.prototype.concat,p=Array.prototype.slice,n=A.exports=function(a){for(var u=[],i=0,r=a.length;i<r;i++){var o=a[i];d(o)?u=y.call(u,p.call(o)):u.push(o)}return u};n.wrap=function(a){return function(){return a(n(arguments))}}},function(A,x){A.exports=function(s){return!(!s||typeof s=="string")&&(s instanceof Array||Array.isArray(s)||s.length>=0&&(s.splice instanceof Function||Object.getOwnPropertyDescriptor(s,s.length-1)&&s.constructor.name!=="String"))}},function(A,x,s){function d(a){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}var y=s(149),p=s(317),n={};Object.keys(y).forEach(function(a){n[a]={},Object.defineProperty(n[a],"channels",{value:y[a].channels}),Object.defineProperty(n[a],"labels",{value:y[a].labels});var u=p(a);Object.keys(u).forEach(function(i){var r=u[i];n[a][i]=function(o){var c=function(v){if(v==null)return v;arguments.length>1&&(v=Array.prototype.slice.call(arguments));var f=o(v);if(d(f)==="object")for(var m=f.length,b=0;b<m;b++)f[b]=Math.round(f[b]);return f};return"conversion"in o&&(c.conversion=o.conversion),c}(r),n[a][i].raw=function(o){var c=function(v){return v==null?v:(arguments.length>1&&(v=Array.prototype.slice.call(arguments)),o(v))};return"conversion"in o&&(c.conversion=o.conversion),c}(r)})}),A.exports=n},function(A,x,s){"use strict";A.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(A,x,s){var d=s(149);function y(a){var u=function(){for(var m={},b=Object.keys(d),M=b.length,O=0;O<M;O++)m[b[O]]={distance:-1,parent:null};return m}(),i=[a];for(u[a].distance=0;i.length;)for(var r=i.pop(),o=Object.keys(d[r]),c=o.length,h=0;h<c;h++){var v=o[h],f=u[v];f.distance===-1&&(f.distance=u[r].distance+1,f.parent=r,i.unshift(v))}return u}function p(a,u){return function(i){return u(a(i))}}function n(a,u){for(var i=[u[a].parent,a],r=d[u[a].parent][a],o=u[a].parent;u[o].parent;)i.unshift(u[o].parent),r=p(d[u[o].parent][o],r),o=u[o].parent;return r.conversion=i,r}A.exports=function(a){for(var u=y(a),i={},r=Object.keys(u),o=r.length,c=0;c<o;c++){var h=r[c];u[h].parent!==null&&(i[h]=n(h,u))}return i}},function(A){A.exports=JSON.parse('{"name":"@antv/g-base","version":"0.5.1","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive tests/unit","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.5","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":true,"gitHead":"ba7ecf8b8deac37682414ac0b7fc2c3e903398bd","_from":"@antv/g-base@0.5.1","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-base/download/@antv/g-base-0.5.1.tgz"}')},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.getShape=void 0;var d=s(155),y=s(320);function p(a,u,i){var r=a.getTotalMatrix();if(r){var o=function(c,h){if(h){var v=y.invert(h);return y.multiplyVec2(v,c)}return c}([u,i,1],r);return[o[0],o[1]]}return[u,i]}function n(a,u,i){if(a.isCanvas&&a.isCanvas())return!0;if(!d.isAllowCapture(a)||a.cfg.isInView===!1)return!1;if(a.cfg.clipShape){var r=p(a,u,i),o=r[0],c=r[1];if(a.isClipped(o,c))return!1}var h=a.cfg.cacheCanvasBBox||a.getCanvasBBox();return u>=h.minX&&u<=h.maxX&&i>=h.minY&&i<=h.maxY}x.getShape=function a(u,i,r){if(!n(u,i,r))return null;for(var o=null,c=u.getChildren(),h=c.length-1;h>=0;h--){var v=c[h];if(v.isGroup())o=a(v,i,r);else if(n(v,i,r)){var f=v,m=p(v,i,r),b=m[0],M=m[1];f.isInShape(b,M)&&(o=v)}if(o)break}return o}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.invert=x.multiplyVec2=x.multiplyMatrix=void 0,x.multiplyMatrix=function(d,y){var p=[],n=d[0],a=d[1],u=d[2],i=d[3],r=d[4],o=d[5],c=d[6],h=d[7],v=d[8],f=y[0],m=y[1],b=y[2],M=y[3],O=y[4],E=y[5],C=y[6],j=y[7],B=y[8];return p[0]=f*n+m*i+b*c,p[1]=f*a+m*r+b*h,p[2]=f*u+m*o+b*v,p[3]=M*n+O*i+E*c,p[4]=M*a+O*r+E*h,p[5]=M*u+O*o+E*v,p[6]=C*n+j*i+B*c,p[7]=C*a+j*r+B*h,p[8]=C*u+j*o+B*v,p},x.multiplyVec2=function(d,y){var p=[],n=y[0],a=y[1];return p[0]=d[0]*n+d[3]*a+d[6],p[1]=d[1]*n+d[4]*a+d[7],p},x.invert=function(d){var y=[],p=d[0],n=d[1],a=d[2],u=d[3],i=d[4],r=d[5],o=d[6],c=d[7],h=d[8],v=h*i-r*c,f=-h*u+r*o,m=c*u-i*o,b=p*v+n*f+a*m;return b?(b=1/b,y[0]=v*b,y[1]=(-h*n+a*c)*b,y[2]=(r*n-a*i)*b,y[3]=f*b,y[4]=(h*p-a*o)*b,y[5]=(-r*p+a*u)*b,y[6]=m*b,y[7]=(-c*p+n*o)*b,y[8]=(i*p-n*u)*b,y):null}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(18);function y(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function p(a,u){return y(a)*y(u)?(a[0]*u[0]+a[1]*u[1])/(y(a)*y(u)):1}function n(a,u){return(a[0]*u[1]<a[1]*u[0]?-1:1)*Math.acos(p(a,u))}x.default=function(a,u){var i=u[1],r=u[2],o=d.mod(d.toRadian(u[3]),2*Math.PI),c=u[4],h=u[5],v=a[0],f=a[1],m=u[6],b=u[7],M=Math.cos(o)*(v-m)/2+Math.sin(o)*(f-b)/2,O=-1*Math.sin(o)*(v-m)/2+Math.cos(o)*(f-b)/2,E=M*M/(i*i)+O*O/(r*r);E>1&&(i*=Math.sqrt(E),r*=Math.sqrt(E));var C=i*i*(O*O)+r*r*(M*M),j=C?Math.sqrt((i*i*(r*r)-C)/C):1;c===h&&(j*=-1),isNaN(j)&&(j=0);var B=r?j*i*O/r:0,N=i?j*-r*M/i:0,I=(v+m)/2+Math.cos(o)*B-Math.sin(o)*N,F=(f+b)/2+Math.sin(o)*B+Math.cos(o)*N,G=[(M-B)/i,(O-N)/r],U=[(-1*M-B)/i,(-1*O-N)/r],H=n([1,0],G),Q=n(G,U);return p(G,U)<=-1&&(Q=Math.PI),p(G,U)>=1&&(Q=0),h===0&&Q>0&&(Q-=2*Math.PI),h===1&&Q<0&&(Q+=2*Math.PI),{cx:I,cy:F,rx:d.isSamePoint(a,[m,b])?0:i,ry:d.isSamePoint(a,[m,b])?0:r,startAngle:H,endAngle:H+Q,xRotation:o,arcFlag:c,sweepFlag:h}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.getMethod=x.register=void 0;var d=new Map;x.register=function(y,p){d.set(y,p)},x.getMethod=function(y){return d.get(y)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){var y=d.attr();return{x:y.x,y:y.y,width:y.width,height:y.height}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){var y=d.attr(),p=y.x,n=y.y,a=y.r;return{x:p-a,y:n-a,width:2*a,height:2*a}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33),y=s(107);x.default=function(p){for(var n=p.attr().points,a=[],u=[],i=0;i<n.length;i++){var r=n[i];a.push(r[0]),u.push(r[1])}var o=d.getBBoxByArray(a,u),c=o.x,h=o.y,v={minX:c,minY:h,maxX:c+o.width,maxY:h+o.height};return{x:(v=y.mergeArrowBBox(p,v)).minX,y:v.minY,width:v.maxX-v.minX,height:v.maxY-v.minY}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33);x.default=function(y){for(var p=y.attr().points,n=[],a=[],u=0;u<p.length;u++){var i=p[u];n.push(i[0]),a.push(i[1])}return d.getBBoxByArray(n,a)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(158);x.default=function(y){var p=y.attr(),n=p.x,a=p.y,u=p.text,i=p.fontSize,r=p.lineHeight,o=p.font;o||(o=d.assembleFont(p));var c,h=d.getTextWidth(u,o);if(h){var v=p.textAlign,f=p.textBaseline,m=d.getTextHeight(u,i,r),b={x:n,y:a-m};v&&(v==="end"||v==="right"?b.x-=h:v==="center"&&(b.x-=h/2)),f&&(f==="top"?b.y+=m:f==="middle"&&(b.y+=m/2)),c={x:b.x,y:b.y,width:h,height:m}}else c={x:n,y:a,width:0,height:0};return c}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(160),y=s(108),p=s(329),n=s(162),a=s(103),u=s(107);function i(r,o){var c=r.prePoint,h=r.currentPoint,v=r.nextPoint,f=Math.pow(h[0]-c[0],2)+Math.pow(h[1]-c[1],2),m=Math.pow(h[0]-v[0],2)+Math.pow(h[1]-v[1],2),b=Math.pow(c[0]-v[0],2)+Math.pow(c[1]-v[1],2),M=Math.acos((f+m-b)/(2*Math.sqrt(f)*Math.sqrt(m)));if(!M||Math.sin(M)===0||a.default(M,0))return{xExtra:0,yExtra:0};var O=Math.abs(Math.atan2(v[1]-h[1],v[0]-h[0])),E=Math.abs(Math.atan2(v[0]-h[0],v[1]-h[1]));return O=O>Math.PI/2?Math.PI-O:O,E=E>Math.PI/2?Math.PI-E:E,{xExtra:Math.cos(M/2-O)*(o/2*(1/Math.sin(M/2)))-o/2||0,yExtra:Math.cos(E-M/2)*(o/2*(1/Math.sin(M/2)))-o/2||0}}x.default=function(r){var o=r.attr(),c=o.path,h=o.stroke?o.lineWidth:0,v=function(M,O){for(var E=[],C=[],j=[],B=0;B<M.length;B++){var N=(K=M[B]).currentPoint,I=K.params,F=K.prePoint,G=void 0;switch(K.command){case"Q":G=d.default.box(F[0],F[1],I[1],I[2],I[3],I[4]);break;case"C":G=y.default.box(F[0],F[1],I[1],I[2],I[3],I[4],I[5],I[6]);break;case"A":var U=K.arcParams;G=p.default.box(U.cx,U.cy,U.rx,U.ry,U.xRotation,U.startAngle,U.endAngle);break;default:E.push(N[0]),C.push(N[1])}G&&(K.box=G,E.push(G.x,G.x+G.width),C.push(G.y,G.y+G.height)),O&&(K.command==="L"||K.command==="M")&&K.prePoint&&K.nextPoint&&j.push(K)}E=E.filter(function(ot){return!Number.isNaN(ot)}),C=C.filter(function(ot){return!Number.isNaN(ot)});var H=Math.min.apply(null,E),Q=Math.min.apply(null,C),at=Math.max.apply(null,E),$=Math.max.apply(null,C);if(j.length===0)return{x:H,y:Q,width:at-H,height:$-Q};for(B=0;B<j.length;B++){var K;(N=(K=j[B]).currentPoint)[0]===H?H-=i(K,O).xExtra:N[0]===at&&(at+=i(K,O).xExtra),N[1]===Q?Q-=i(K,O).yExtra:N[1]===$&&($+=i(K,O).yExtra)}return{x:H,y:Q,width:at-H,height:$-Q}}(r.get("segments")||n.default(c),h),f=v.x,m=v.y,b={minX:f,minY:m,maxX:f+v.width,maxY:m+v.height};return{x:(b=u.mergeArrowBBox(r,b)).minX,y:b.minY,width:b.maxX-b.minX,height:b.maxY-b.minY}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33),y=s(330);function p(i,r,o,c,h,v){return o*Math.cos(h)*Math.cos(v)-c*Math.sin(h)*Math.sin(v)+i}function n(i,r,o,c,h,v){return o*Math.sin(h)*Math.cos(v)+c*Math.cos(h)*Math.sin(v)+r}function a(i,r,o){return{x:i*Math.cos(o),y:r*Math.sin(o)}}function u(i,r,o){var c=Math.cos(o),h=Math.sin(o);return[i*c-r*h,i*h+r*c]}x.default={box:function(r,o,c,h,v,f,m){for(var b=function(Q,at,$){return Math.atan(-at/Q*Math.tan($))}(c,h,v),M=1/0,O=-1/0,E=[f,m],C=2*-Math.PI;C<=2*Math.PI;C+=Math.PI){var j=b+C;f<m?f<j&&j<m&&E.push(j):m<j&&j<f&&E.push(j)}for(C=0;C<E.length;C++){var B=p(r,0,c,h,v,E[C]);B<M&&(M=B),B>O&&(O=B)}var N=function(Q,at,$){return Math.atan(at/(Q*Math.tan($)))}(c,h,v),I=1/0,F=-1/0,G=[f,m];for(C=2*-Math.PI;C<=2*Math.PI;C+=Math.PI){var U=N+C;f<m?f<U&&U<m&&G.push(U):m<U&&U<f&&G.push(U)}for(C=0;C<G.length;C++){var H=n(0,o,c,h,v,G[C]);H<I&&(I=H),H>F&&(F=H)}return{x:M,y:I,width:O-M,height:F-I}},length:function(r,o,c,h,v,f,m){},nearestPoint:function(r,o,c,h,v,f,m,b,M){var O=u(b-r,M-o,-v),E=O[0],C=O[1],j=y.default.nearestPoint(0,0,c,h,E,C),B=function(I,F,G,U){return(Math.atan2(U*I,G*F)+2*Math.PI)%(2*Math.PI)}(c,h,j.x,j.y);B<f?j=a(c,h,f):B>m&&(j=a(c,h,m));var N=u(j.x,j.y,v);return{x:N[0]+r,y:N[1]+o}},pointDistance:function(r,o,c,h,v,f,m,b,M){var O=this.nearestPoint(r,o,c,h,b,M);return d.distance(O.x,O.y,b,M)},pointAt:function(r,o,c,h,v,f,m,b){var M=(m-f)*b+f;return{x:p(r,0,c,h,v,M),y:n(0,o,c,h,v,M)}},tangentAngle:function(r,o,c,h,v,f,m,b){var M=(m-f)*b+f,O=function(C,j,B,N,I,F,G,U){return-1*B*Math.cos(I)*Math.sin(U)-N*Math.sin(I)*Math.cos(U)}(0,0,c,h,v,0,0,M),E=function(C,j,B,N,I,F,G,U){return-1*B*Math.sin(I)*Math.sin(U)+N*Math.cos(I)*Math.cos(U)}(0,0,c,h,v,0,0,M);return d.piMod(Math.atan2(E,O))}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33);function y(p,n){var a=Math.abs(p);return n>0?a:-1*a}x.default={box:function(n,a,u,i){return{x:n-u,y:a-i,width:2*u,height:2*i}},length:function(n,a,u,i){return Math.PI*(3*(u+i)-Math.sqrt((3*u+i)*(u+3*i)))},nearestPoint:function(n,a,u,i,r,o){var c=u,h=i;if(c===0||h===0)return{x:n,y:a};for(var v,f,m=r-n,b=o-a,M=Math.abs(m),O=Math.abs(b),E=c*c,C=h*h,j=Math.PI/4,B=0;B<4;B++){v=c*Math.cos(j),f=h*Math.sin(j);var N=(E-C)*Math.pow(Math.cos(j),3)/c,I=(C-E)*Math.pow(Math.sin(j),3)/h,F=v-N,G=f-I,U=M-N,H=O-I,Q=Math.hypot(G,F),at=Math.hypot(H,U);j+=Q*Math.asin((F*H-G*U)/(Q*at))/Math.sqrt(E+C-v*v-f*f),j=Math.min(Math.PI/2,Math.max(0,j))}return{x:n+y(v,m),y:a+y(f,b)}},pointDistance:function(n,a,u,i,r,o){var c=this.nearestPoint(n,a,u,i,r,o);return d.distance(c.x,c.y,r,o)},pointAt:function(n,a,u,i,r){var o=2*Math.PI*r;return{x:n+u*Math.cos(o),y:a+i*Math.sin(o)}},tangentAngle:function(n,a,u,i,r){var o=2*Math.PI*r,c=Math.atan2(i*Math.cos(o),-u*Math.sin(o));return d.piMod(c)}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(4),p=s(3),n=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi;x.default=function(u){var i=u||[];return y.default(i)?i:p.default(i)?(i=i.match(n),d.default(i,function(r,o){if((r=r.match(a))[0].length>1){var c=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=c}d.default(r,function(h,v){isNaN(h)||(r[v]=+h)}),i[o]=r}),i):void 0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(107);x.default=function(y){var p=y.attr(),n=p.x1,a=p.y1,u=p.x2,i=p.y2,r={minX:Math.min(n,u),maxX:Math.max(n,u),minY:Math.min(a,i),maxY:Math.max(a,i)};return{x:(r=d.mergeArrowBBox(y,r)).minX,y:r.minY,width:r.maxX-r.minX,height:r.maxY-r.minY}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){var y=d.attr(),p=y.x,n=y.y,a=y.rx,u=y.ry;return{x:p-a,y:n-u,width:2*a,height:2*u}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(18),n=function(a){function u(){return a!==null&&a.apply(this,arguments)||this}return d.__extends(u,a),u.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},i),{x:0,y:0,r:0})},u.prototype.isInStrokeOrPath=function(i,r,o,c,h){var v=this.attr(),f=v.x,m=v.y,b=v.r,M=h/2,O=p.distance(f,m,i,r);return c&&o?O<=b+M:c?O<=b:!!o&&O>=b-M&&O<=b+M},u.prototype.createPath=function(i){var r=this.attr(),o=r.x,c=r.y,h=r.r;i.beginPath(),i.arc(o,c,h,0,2*Math.PI,!1),i.closePath()},u}(y.default);x.default=n},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1);function y(n,a,u,i){return n/(u*u)+a/(i*i)}var p=function(n){function a(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(a,n),a.prototype.getDefaultAttrs=function(){var u=n.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},u),{x:0,y:0,rx:0,ry:0})},a.prototype.isInStrokeOrPath=function(u,i,r,o,c){var h=this.attr(),v=c/2,f=h.x,m=h.y,b=h.rx,M=h.ry,O=(u-f)*(u-f),E=(i-m)*(i-m);return o&&r?y(O,E,b+v,M+v)<=1:o?y(O,E,b,M)<=1:!!r&&y(O,E,b-v,M-v)>=1&&y(O,E,b+v,M+v)<=1},a.prototype.createPath=function(u){var i=this.attr(),r=i.x,o=i.y,c=i.rx,h=i.ry;if(u.beginPath(),u.ellipse)u.ellipse(r,o,c,h,0,0,2*Math.PI,!1);else{var v=c>h?c:h,f=c>h?1:c/h,m=c>h?h/c:1;u.save(),u.translate(r,o),u.scale(f,m),u.arc(0,0,v,0,2*Math.PI),u.restore(),u.closePath()}},a}(s(28).default);x.default=p},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(18);function n(u){return u instanceof HTMLElement&&p.isString(u.nodeName)&&u.nodeName.toUpperCase()==="CANVAS"}var a=function(u){function i(){return u!==null&&u.apply(this,arguments)||this}return d.__extends(i,u),i.prototype.getDefaultAttrs=function(){var r=u.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},r),{x:0,y:0,width:0,height:0})},i.prototype.initAttrs=function(r){this._setImage(r.img)},i.prototype.isStroke=function(){return!1},i.prototype.isOnlyHitBox=function(){return!0},i.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var r=this.get("canvas");r?r.draw():this.createPath(this.get("context"))}},i.prototype._setImage=function(r){var o=this,c=this.attrs;if(p.isString(r)){var h=new Image;h.onload=function(){if(o.destroyed)return!1;o.attr("img",h),o.set("loading",!1),o._afterLoading();var v=o.get("callback");v&&v.call(o)},h.crossOrigin="Anonymous",h.src=r,this.set("loading",!0)}else r instanceof Image?(c.width||(c.width=r.width),c.height||(c.height=r.height)):n(r)&&(c.width||(c.width=Number(r.getAttribute("width"))),c.height||(c.height,Number(r.getAttribute("height"))))},i.prototype.onAttrChange=function(r,o,c){u.prototype.onAttrChange.call(this,r,o,c),r==="img"&&this._setImage(o)},i.prototype.createPath=function(r){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",r);var o=this.attr(),c=o.x,h=o.y,v=o.width,f=o.height,m=o.sx,b=o.sy,M=o.swidth,O=o.sheight,E=o.img;(E instanceof Image||n(E))&&(p.isNil(m)||p.isNil(b)||p.isNil(M)||p.isNil(O)?r.drawImage(E,c,h,v,f):r.drawImage(E,m,b,M,O,c,h,v,f))},i}(y.default);x.default=a},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(40),p=s(28),n=s(75),a=s(74),u=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(r,i),r.prototype.getDefaultAttrs=function(){var o=i.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},o),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(o){this.setArrow()},r.prototype.onAttrChange=function(o,c,h){i.prototype.onAttrChange.call(this,o,c,h),this.setArrow()},r.prototype.setArrow=function(){var o=this.attr(),c=o.x1,h=o.y1,v=o.x2,f=o.y2,m=o.startArrow,b=o.endArrow;m&&a.addStartArrow(this,o,v,f,c,h),b&&a.addEndArrow(this,o,c,h,v,f)},r.prototype.isInStrokeOrPath=function(o,c,h,v,f){if(!h||!f)return!1;var m=this.attr(),b=m.x1,M=m.y1,O=m.x2,E=m.y2;return n.default(b,M,O,E,f,o,c)},r.prototype.createPath=function(o){var c=this.attr(),h=c.x1,v=c.y1,f=c.x2,m=c.y2,b=c.startArrow,M=c.endArrow,O={dx:0,dy:0},E={dx:0,dy:0};b&&b.d&&(O=a.getShortenOffset(h,v,f,m,c.startArrow.d)),M&&M.d&&(E=a.getShortenOffset(h,v,f,m,c.endArrow.d)),o.beginPath(),o.moveTo(h+O.dx,v+O.dy),o.lineTo(f-E.dx,m-E.dy)},r.prototype.afterDrawPath=function(o){var c=this.get("startArrowShape"),h=this.get("endArrowShape");c&&c.draw(o),h&&h.draw(o)},r.prototype.getTotalLength=function(){var o=this.attr(),c=o.x1,h=o.y1,v=o.x2,f=o.y2;return y.default.length(c,h,v,f)},r.prototype.getPoint=function(o){var c=this.attr(),h=c.x1,v=c.y1,f=c.x2,m=c.y2;return y.default.pointAt(h,v,f,m,o)},r}(p.default);x.default=u},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(165),n=s(28),a=s(18),u=s(60),i={circle:function(c,h,v){return[["M",c-v,h],["A",v,v,0,1,0,c+v,h],["A",v,v,0,1,0,c-v,h]]},square:function(c,h,v){return[["M",c-v,h-v],["L",c+v,h-v],["L",c+v,h+v],["L",c-v,h+v],["Z"]]},diamond:function(c,h,v){return[["M",c-v,h],["L",c,h-v],["L",c+v,h],["L",c,h+v],["Z"]]},triangle:function(c,h,v){var f=v*Math.sin(1/3*Math.PI);return[["M",c-v,h+f],["L",c,h-f],["L",c+v,h+f],["Z"]]},"triangle-down":function(c,h,v){var f=v*Math.sin(1/3*Math.PI);return[["M",c-v,h-f],["L",c+v,h-f],["L",c,h+f],["Z"]]}},r=function(o){function c(){return o!==null&&o.apply(this,arguments)||this}return d.__extends(c,o),c.prototype.initAttrs=function(h){this._resetParamsCache()},c.prototype._resetParamsCache=function(){this.set("paramsCache",{})},c.prototype.onAttrChange=function(h,v,f){o.prototype.onAttrChange.call(this,h,v,f),["symbol","x","y","r","radius"].indexOf(h)!==-1&&this._resetParamsCache()},c.prototype.isOnlyHitBox=function(){return!0},c.prototype._getR=function(h){return y.isNil(h.r)?h.radius:h.r},c.prototype._getPath=function(){var h,v,f=this.attr(),m=f.x,b=f.y,M=f.symbol||"circle",O=this._getR(f);return a.isFunction(M)?(v=(h=M)(m,b,O),v=p.default(v)):v=(h=c.Symbols[M])(m,b,O),h?v:(console.warn(M+" marker is not supported."),null)},c.prototype.createPath=function(h){var v=this._getPath(),f=this.get("paramsCache");u.drawPath(this,h,{path:v},f)},c.Symbols=i,c}(n.default);x.default=r},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,p=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),n=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig");x.default=function(a){if(!a)return null;if(d.default(a))return a;var u={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return String(a).replace(p,function(r,o,c){var h=[],v=o.toLowerCase();if(c.replace(n,function(f,m){m&&h.push(+m)}),v==="m"&&h.length>2&&(i.push([o].concat(h.splice(0,2))),v="l",o=o==="m"?"l":"L"),v==="o"&&h.length===1&&i.push([o,h[0]]),v==="r")i.push([o].concat(h));else for(;h.length>=u[v]&&(i.push([o].concat(h.splice(0,u[v]))),u[v]););return""}),i}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(108),p=s(0),n=s(28),a=s(165),u=s(162),i=s(60),r=s(166),o=s(167),c=s(341),h=s(74);function v(m,b,M){for(var O=!1,E=0;E<m.length;E++){var C=m[E];if(O=o.default(C,b,M))break}return O}var f=function(m){function b(){return m!==null&&m.apply(this,arguments)||this}return d.__extends(b,m),b.prototype.getDefaultAttrs=function(){var M=m.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},M),{startArrow:!1,endArrow:!1})},b.prototype.initAttrs=function(M){this._setPathArr(M.path),this.setArrow()},b.prototype.onAttrChange=function(M,O,E){m.prototype.onAttrChange.call(this,M,O,E),M==="path"&&this._setPathArr(O),this.setArrow()},b.prototype._setPathArr=function(M){this.attrs.path=a.default(M);var O=c.default.hasArc(M);this.set("hasArc",O),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},b.prototype.getSegments=function(){var M=this.get("segements");return M||(M=u.default(this.attr("path")),this.set("segments",M)),M},b.prototype.setArrow=function(){var M=this.attr(),O=M.startArrow,E=M.endArrow;if(O){var C=this.getStartTangent();h.addStartArrow(this,M,C[0][0],C[0][1],C[1][0],C[1][1])}E&&(C=this.getEndTangent(),h.addEndArrow(this,M,C[0][0],C[0][1],C[1][0],C[1][1]))},b.prototype.isInStrokeOrPath=function(M,O,E,C,j){var B=this.getSegments(),N=this.get("hasArc"),I=!1;if(E){var F=this.getTotalLength();I=c.default.isPointInStroke(B,j,M,O,F)}if(!I&&C)if(N)I=r.default(this,M,O);else{var G=this.attr("path"),U=c.default.extractPolygons(G);I=v(U.polygons,M,O)||v(U.polylines,M,O)}return I},b.prototype.createPath=function(M){var O=this.attr(),E=this.get("paramsCache");i.drawPath(this,M,O,E)},b.prototype.afterDrawPath=function(M){var O=this.get("startArrowShape"),E=this.get("endArrowShape");O&&O.draw(M),E&&E.draw(M)},b.prototype.getTotalLength=function(){var M=this.get("totalLength");return p.isNil(M)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):M},b.prototype.getPoint=function(M){var O,E,C=this.get("tCache");C||(this._calculateCurve(),this._setTcache(),C=this.get("tCache"));var j=this.get("curve");if(!C||C.length===0)return j?{x:j[0][1],y:j[0][2]}:null;p.each(C,function(F,G){M>=F[0]&&M<=F[1]&&(O=(M-F[0])/(F[1]-F[0]),E=G)});var B=j[E];if(p.isNil(B)||p.isNil(E))return null;var N=B.length,I=j[E+1];return y.default.pointAt(B[N-2],B[N-1],I[1],I[2],I[3],I[4],I[5],I[6],O)},b.prototype._calculateCurve=function(){var M=this.attr().path;this.set("curve",c.default.pathToCurve(M))},b.prototype._setTcache=function(){var M,O,E,C,j=0,B=0,N=[],I=this.get("curve");I&&(p.each(I,function(F,G){E=I[G+1],C=F.length,E&&(j+=y.default.length(F[C-2],F[C-1],E[1],E[2],E[3],E[4],E[5],E[6])||0)}),this.set("totalLength",j),j!==0?(p.each(I,function(F,G){E=I[G+1],C=F.length,E&&((M=[])[0]=B/j,O=y.default.length(F[C-2],F[C-1],E[1],E[2],E[3],E[4],E[5],E[6]),B+=O||0,M[1]=B/j,N.push(M))}),this.set("tCache",N)):this.set("tCache",[]))},b.prototype.getStartTangent=function(){var M,O=this.getSegments();if(O.length>1){var E=O[0].currentPoint,C=O[1].currentPoint,j=O[1].startTangent;M=[],j?(M.push([E[0]-j[0],E[1]-j[1]]),M.push([E[0],E[1]])):(M.push([C[0],C[1]]),M.push([E[0],E[1]]))}return M},b.prototype.getEndTangent=function(){var M,O=this.getSegments(),E=O.length;if(E>1){var C=O[E-2].currentPoint,j=O[E-1].currentPoint,B=O[E-1].endTangent;M=[],B?(M.push([j[0]-B[0],j[1]-B[1]]),M.push([j[0],j[1]])):(M.push([C[0],C[1]]),M.push([j[0],j[1]]))}return M},b}(n.default);x.default=f},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(160),n=s(108),a=s(18),u=s(75),i=s(168),r=s(133),o=s(106),c=r.ext.transform;x.default=d.__assign({hasArc:function(v){for(var f=!1,m=v.length,b=0;b<m;b++){var M=v[b][0];if(M==="C"||M==="A"||M==="Q"){f=!0;break}}return f},extractPolygons:function(v){for(var f=v.length,m=[],b=[],M=[],O=0;O<f;O++){var E=v[O],C=E[0];C==="M"?(M.length&&(b.push(M),M=[]),M.push([E[1],E[2]])):C==="Z"?M.length&&(m.push(M),M=[]):M.push([E[1],E[2]])}return M.length>0&&b.push(M),{polygons:m,polylines:b}},isPointInStroke:function(v,f,m,b,M){for(var O=!1,E=f/2,C=0;C<v.length;C++){var j=v[C],B=j.currentPoint,N=j.params,I=j.prePoint,F=j.box;if(!F||a.inBox(F.x-E,F.y-E,F.width+f,F.height+f,m,b)){switch(j.command){case"L":case"Z":O=u.default(I[0],I[1],B[0],B[1],f,m,b);break;case"Q":O=p.default.pointDistance(I[0],I[1],N[1],N[2],N[3],N[4],m,b)<=f/2;break;case"C":O=n.default.pointDistance(I[0],I[1],N[1],N[2],N[3],N[4],N[5],N[6],m,b,M)<=f/2;break;case"A":var G=j.arcParams,U=G.cx,H=G.cy,Q=G.rx,at=G.ry,$=G.startAngle,K=G.endAngle,ot=G.xRotation,it=[m,b,1],ht=Q>at?Q:at,St=c(null,[["t",-U,-H],["r",-ot],["s",1/(Q>at?1:Q/at),1/(Q>at?at/Q:1)]]);o.transformMat3(it,it,St),O=i.default(0,0,ht,$,K,f,it[0],it[1])}if(O)break}}return O}},y.PathUtil)},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(169),n=s(167),a=function(u){function i(){return u!==null&&u.apply(this,arguments)||this}return d.__extends(i,u),i.prototype.isInStrokeOrPath=function(r,o,c,h,v){var f=this.attr().points,m=!1;return c&&(m=p.default(f,v,r,o,!0)),!m&&h&&(m=n.default(f,r,o)),m},i.prototype.createPath=function(r){var o=this.attr().points;if(!(o.length<2)){r.beginPath();for(var c=0;c<o.length;c++){var h=o[c];c===0?r.moveTo(h[0],h[1]):r.lineTo(h[0],h[1])}r.closePath()}},i}(y.default);x.default=a},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(40),p=s(170),n=s(0),a=s(28),u=s(169),i=s(74),r=function(o){function c(){return o!==null&&o.apply(this,arguments)||this}return d.__extends(c,o),c.prototype.getDefaultAttrs=function(){var h=o.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},h),{startArrow:!1,endArrow:!1})},c.prototype.initAttrs=function(h){this.setArrow()},c.prototype.onAttrChange=function(h,v,f){o.prototype.onAttrChange.call(this,h,v,f),this.setArrow(),["points"].indexOf(h)!==-1&&this._resetCache()},c.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},c.prototype.setArrow=function(){var h=this.attr(),v=this.attrs,f=v.points,m=v.startArrow,b=v.endArrow,M=f.length,O=f[0][0],E=f[0][1],C=f[M-1][0],j=f[M-1][1];m&&i.addStartArrow(this,h,f[1][0],f[1][1],O,E),b&&i.addEndArrow(this,h,f[M-2][0],f[M-2][1],C,j)},c.prototype.isFill=function(){return!1},c.prototype.isInStrokeOrPath=function(h,v,f,m,b){if(!f||!b)return!1;var M=this.attr().points;return u.default(M,b,h,v,!1)},c.prototype.isStroke=function(){return!0},c.prototype.createPath=function(h){var v=this.attr(),f=v.points,m=v.startArrow,b=v.endArrow,M=f.length;if(!(f.length<2)){var O,E=f[0][0],C=f[0][1],j=f[M-1][0],B=f[M-1][1];m&&m.d&&(E+=(O=i.getShortenOffset(E,C,f[1][0],f[1][1],m.d)).dx,C+=O.dy),b&&b.d&&(j-=(O=i.getShortenOffset(f[M-2][0],f[M-2][1],j,B,b.d)).dx,B-=O.dy),h.beginPath(),h.moveTo(E,C);for(var N=0;N<M-1;N++){var I=f[N];h.lineTo(I[0],I[1])}h.lineTo(j,B)}},c.prototype.afterDrawPath=function(h){var v=this.get("startArrowShape"),f=this.get("endArrowShape");v&&v.draw(h),f&&f.draw(h)},c.prototype.getTotalLength=function(){var h=this.attr().points,v=this.get("totalLength");return n.isNil(v)?(this.set("totalLength",p.default.length(h)),this.get("totalLength")):v},c.prototype.getPoint=function(h){var v,f,m=this.attr().points,b=this.get("tCache");return b||(this._setTcache(),b=this.get("tCache")),n.each(b,function(M,O){h>=M[0]&&h<=M[1]&&(v=(h-M[0])/(M[1]-M[0]),f=O)}),y.default.pointAt(m[f][0],m[f][1],m[f+1][0],m[f+1][1],v)},c.prototype._setTcache=function(){var h=this.attr().points;if(h&&h.length!==0){var v=this.getTotalLength();if(!(v<=0)){var f,m,b=0,M=[];n.each(h,function(O,E){h[E+1]&&((f=[])[0]=b/v,m=y.default.length(O[0],O[1],h[E+1][0],h[E+1][1]),b+=m,f[1]=b/v,M.push(f))}),this.set("tCache",M)}}},c.prototype.getStartTangent=function(){var h=this.attr().points,v=[];return v.push([h[1][0],h[1][1]]),v.push([h[0][0],h[0][1]]),v},c.prototype.getEndTangent=function(){var h=this.attr().points,v=h.length-1,f=[];return f.push([h[v-1][0],h[v-1][1]]),f.push([h[v][0],h[v][1]]),f},c}(a.default);x.default=r},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.distanceAtSegment=x.angleAtSegments=x.pointAtSegments=x.lengthOfSegment=void 0;var d=s(40),y=s(33);function p(n){for(var a=0,u=[],i=0;i<n.length-1;i++){var r=n[i],o=n[i+1],c=y.distance(r[0],r[1],o[0],o[1]),h={from:r,to:o,length:c};u.push(h),a+=c}return{segments:u,totalLength:a}}x.lengthOfSegment=function(n){if(n.length<2)return 0;for(var a=0,u=0;u<n.length-1;u++){var i=n[u],r=n[u+1];a+=y.distance(i[0],i[1],r[0],r[1])}return a},x.pointAtSegments=function(n,a){if(a>1||a<0||n.length<2)return null;var u=p(n),i=u.segments,r=u.totalLength;if(r===0)return{x:n[0][0],y:n[0][1]};for(var o=0,c=null,h=0;h<i.length;h++){var v=i[h],f=v.from,m=v.to,b=v.length/r;if(a>=o&&a<=o+b){var M=(a-o)/b;c=d.default.pointAt(f[0],f[1],m[0],m[1],M);break}o+=b}return c},x.angleAtSegments=function(n,a){if(a>1||a<0||n.length<2)return 0;for(var u=p(n),i=u.segments,r=u.totalLength,o=0,c=0,h=0;h<i.length;h++){var v=i[h],f=v.from,m=v.to,b=v.length/r;if(a>=o&&a<=o+b){c=Math.atan2(m[1]-f[1],m[0]-f[0]);break}o+=b}return c},x.distanceAtSegment=function(n,a,u){for(var i=1/0,r=0;r<n.length-1;r++){var o=n[r],c=n[r+1],h=d.default.pointDistance(o[0],o[1],c[0],c[1],a,u);h<i&&(i=h)}return i}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(156),n=s(18),a=s(346),u=s(347),i=s(166),r=function(o){function c(){return o!==null&&o.apply(this,arguments)||this}return d.__extends(c,o),c.prototype.getDefaultAttrs=function(){var h=o.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},h),{x:0,y:0,width:0,height:0,radius:0})},c.prototype.isInStrokeOrPath=function(h,v,f,m,b){var M=this.attr(),O=M.x,E=M.y,C=M.width,j=M.height,B=M.radius;if(B){var N=!1;return f&&(N=u.default(O,E,C,j,B,b,h,v)),!N&&m&&(N=i.default(this,h,v)),N}var I=b/2;return m&&f?n.inBox(O-I,E-I,C+I,j+I,h,v):m?n.inBox(O,E,C,j,h,v):f?a.default(O,E,C,j,b,h,v):void 0},c.prototype.createPath=function(h){var v=this.attr(),f=v.x,m=v.y,b=v.width,M=v.height,O=v.radius;if(h.beginPath(),O===0)h.rect(f,m,b,M);else{var E=p.parseRadius(O),C=E[0],j=E[1],B=E[2],N=E[3];h.moveTo(f+C,m),h.lineTo(f+b-j,m),j!==0&&h.arc(f+b-j,m+j,j,-Math.PI/2,0),h.lineTo(f+b,m+M-B),B!==0&&h.arc(f+b-B,m+M-B,B,0,Math.PI/2),h.lineTo(f+N,m+M),N!==0&&h.arc(f+N,m+M-N,N,Math.PI/2,Math.PI),h.lineTo(f,m+C),C!==0&&h.arc(f+C,m+C,C,Math.PI,1.5*Math.PI),h.closePath()}},c}(y.default);x.default=r},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(18);x.default=function(y,p,n,a,u,i,r){var o=u/2;return d.inBox(y-o,p-o,n,u,i,r)||d.inBox(y+n-o,p-o,u,a,i,r)||d.inBox(y+o,p+a-o,n,u,i,r)||d.inBox(y-o,p+o,u,a,i,r)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(75),y=s(168);x.default=function(p,n,a,u,i,r,o,c){return d.default(p+i,n,p+a-i,n,r,o,c)||d.default(p+a,n+i,p+a,n+u-i,r,o,c)||d.default(p+a-i,n+u,p+i,n+u,r,o,c)||d.default(p,n+u-i,p,n+i,r,o,c)||y.default(p+a-i,n+i,i,1.5*Math.PI,2*Math.PI,r,o,c)||y.default(p+a-i,n+u-i,i,0,.5*Math.PI,r,o,c)||y.default(p+i,n+u-i,i,.5*Math.PI,Math.PI,r,o,c)||y.default(p+i,n+i,i,Math.PI,1.5*Math.PI,r,o,c)}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(18),n=s(158),a=function(u){function i(){return u!==null&&u.apply(this,arguments)||this}return d.__extends(i,u),i.prototype.getDefaultAttrs=function(){var r=u.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},r),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},i.prototype.isOnlyHitBox=function(){return!0},i.prototype.initAttrs=function(r){this._assembleFont(),r.text&&this._setText(r.text)},i.prototype._assembleFont=function(){var r=this.attrs;r.font=n.assembleFont(r)},i.prototype._setText=function(r){var o=null;p.isString(r)&&r.indexOf(`
`)!==-1&&(o=r.split(`
`)),this.set("textArr",o)},i.prototype.onAttrChange=function(r,o,c){u.prototype.onAttrChange.call(this,r,o,c),r.startsWith("font")&&this._assembleFont(),r==="text"&&this._setText(o)},i.prototype._getSpaceingY=function(){var r=this.attrs,o=r.lineHeight,c=1*r.fontSize;return o?o-c:.14*c},i.prototype._drawTextArr=function(r,o,c){var h,v=this.attrs,f=v.textBaseline,m=v.x,b=v.y,M=1*v.fontSize,O=this._getSpaceingY(),E=n.getTextHeight(v.text,v.fontSize,v.lineHeight);p.each(o,function(C,j){h=b+j*(O+M)-E+M,f==="middle"&&(h+=E-M-(E-M)/2),f==="top"&&(h+=E-M),c?r.fillText(C,m,h):r.strokeText(C,m,h)})},i.prototype._drawText=function(r,o){var c=this.attr(),h=c.x,v=c.y,f=this.get("textArr");if(f)this._drawTextArr(r,f,o);else{var m=c.text;o?r.fillText(m,h,v):r.strokeText(m,h,v)}},i.prototype.strokeAndFill=function(r){var o=this.attrs,c=o.lineWidth,h=o.opacity,v=o.strokeOpacity,f=o.fillOpacity;this.isStroke()&&c>0&&(p.isNil(v)||v===1||(r.globalAlpha=h),this.stroke(r)),this.isFill()&&(p.isNil(f)||f===1?this.fill(r):(r.globalAlpha=f,this.fill(r),r.globalAlpha=h)),this.afterDrawPath(r)},i.prototype.fill=function(r){this._drawText(r,!0)},i.prototype.stroke=function(r){this._drawText(r,!1)},i}(y.default);x.default=a},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(a){function u(){var i=a!==null&&a.apply(this,arguments)||this;return i.type="circle",i.canFill=!0,i.canStroke=!0,i}return d.__extends(u,a),u.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},i),{x:0,y:0,r:0})},u.prototype.createPath=function(i,r){var o=this.attr(),c=this.get("el");y.each(r||o,function(h,v){v==="x"||v==="y"?c.setAttribute("c"+v,h):p.SVG_ATTR_MAP[v]&&c.setAttribute(p.SVG_ATTR_MAP[v],h)})},u}(s(23).default);x.default=n},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(a){function u(){var i=a!==null&&a.apply(this,arguments)||this;return i.type="dom",i.canFill=!1,i.canStroke=!1,i}return d.__extends(u,a),u.prototype.createPath=function(i,r){var o=this.attr(),c=this.get("el");if(y.each(r||o,function(m,b){p.SVG_ATTR_MAP[b]&&c.setAttribute(p.SVG_ATTR_MAP[b],m)}),typeof o.html=="function"){var h=o.html.call(this,o);if(h instanceof Element||h instanceof HTMLDocument){for(var v=c.childNodes,f=v.length-1;f>=0;f--)c.removeChild(v[f]);c.appendChild(h)}else c.innerHTML=h}else c.innerHTML=o.html},u}(s(23).default);x.default=n},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(a){function u(){var i=a!==null&&a.apply(this,arguments)||this;return i.type="ellipse",i.canFill=!0,i.canStroke=!0,i}return d.__extends(u,a),u.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},i),{x:0,y:0,rx:0,ry:0})},u.prototype.createPath=function(i,r){var o=this.attr(),c=this.get("el");y.each(r||o,function(h,v){v==="x"||v==="y"?c.setAttribute("c"+v,h):p.SVG_ATTR_MAP[v]&&c.setAttribute(p.SVG_ATTR_MAP[v],h)})},u}(s(23).default);x.default=n},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(a){function u(){var i=a!==null&&a.apply(this,arguments)||this;return i.type="image",i.canFill=!1,i.canStroke=!1,i}return d.__extends(u,a),u.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},i),{x:0,y:0,width:0,height:0})},u.prototype.createPath=function(i,r){var o=this,c=this.attr(),h=this.get("el");y.each(r||c,function(v,f){f==="img"?o._setImage(c.img):p.SVG_ATTR_MAP[f]&&h.setAttribute(p.SVG_ATTR_MAP[f],v)})},u.prototype.setAttr=function(i,r){this.attrs[i]=r,i==="img"&&this._setImage(r)},u.prototype._setImage=function(i){var r=this.attr(),o=this.get("el");if(y.isString(i))o.setAttribute("href",i);else if(i instanceof window.Image)r.width||(o.setAttribute("width",i.width),this.attr("width",i.width)),r.height||(o.setAttribute("height",i.height),this.attr("height",i.height)),o.setAttribute("href",i.src);else if(i instanceof HTMLElement&&y.isString(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS")o.setAttribute("href",i.toDataURL());else if(i instanceof ImageData){var c=document.createElement("canvas");c.setAttribute("width",""+i.width),c.setAttribute("height",""+i.height),c.getContext("2d").putImageData(i,0,0),r.width||(o.setAttribute("width",""+i.width),this.attr("width",i.width)),r.height||(o.setAttribute("height",""+i.height),this.attr("height",i.height)),o.setAttribute("href",c.toDataURL())}},u}(s(23).default);x.default=n},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(40),p=s(0),n=s(19),a=function(u){function i(){var r=u!==null&&u.apply(this,arguments)||this;return r.type="line",r.canFill=!1,r.canStroke=!0,r}return d.__extends(i,u),i.prototype.getDefaultAttrs=function(){var r=u.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},r),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},i.prototype.createPath=function(r,o){var c=this.attr(),h=this.get("el");p.each(o||c,function(v,f){if(f==="startArrow"||f==="endArrow")if(v){var m=p.isObject(v)?r.addArrow(c,n.SVG_ATTR_MAP[f]):r.getDefaultArrow(c,n.SVG_ATTR_MAP[f]);h.setAttribute(n.SVG_ATTR_MAP[f],"url(#"+m+")")}else h.removeAttribute(n.SVG_ATTR_MAP[f]);else n.SVG_ATTR_MAP[f]&&h.setAttribute(n.SVG_ATTR_MAP[f],v)})},i.prototype.getTotalLength=function(){var r=this.attr(),o=r.x1,c=r.y1,h=r.x2,v=r.y2;return y.default.length(o,c,h,v)},i.prototype.getPoint=function(r){var o=this.attr(),c=o.x1,h=o.y1,v=o.x2,f=o.y2;return y.default.pointAt(c,h,v,f,r)},i}(s(23).default);x.default=a},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(23),n=s(355),a=function(u){function i(){var r=u!==null&&u.apply(this,arguments)||this;return r.type="marker",r.canFill=!0,r.canStroke=!0,r}return d.__extends(i,u),i.prototype.createPath=function(r){this.get("el").setAttribute("d",this._assembleMarker())},i.prototype._assembleMarker=function(){var r=this._getPath();return y.isArray(r)?r.map(function(o){return o.join(" ")}).join(""):r},i.prototype._getPath=function(){var r,o=this.attr(),c=o.x,h=o.y,v=o.r||o.radius,f=o.symbol||"circle";return(r=y.isFunction(f)?f:n.default.get(f))?r(c,h,v):(console.warn(r+" symbol is not exist."),null)},i.symbolsFactory=n.default,i}(p.default);x.default=a},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={circle:function(p,n,a){return[["M",p,n],["m",-a,0],["a",a,a,0,1,0,2*a,0],["a",a,a,0,1,0,2*-a,0]]},square:function(p,n,a){return[["M",p-a,n-a],["L",p+a,n-a],["L",p+a,n+a],["L",p-a,n+a],["Z"]]},diamond:function(p,n,a){return[["M",p-a,n],["L",p,n-a],["L",p+a,n],["L",p,n+a],["Z"]]},triangle:function(p,n,a){var u=a*Math.sin(1/3*Math.PI);return[["M",p-a,n+u],["L",p,n-u],["L",p+a,n+u],["z"]]},triangleDown:function(p,n,a){var u=a*Math.sin(1/3*Math.PI);return[["M",p-a,n-u],["L",p+a,n-u],["L",p,n+u],["Z"]]}};x.default={get:function(p){return d[p]},register:function(p,n){d[p]=n},remove:function(p){delete d[p]},getAll:function(){return d}}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(a){function u(){var i=a!==null&&a.apply(this,arguments)||this;return i.type="path",i.canFill=!0,i.canStroke=!0,i}return d.__extends(u,a),u.prototype.getDefaultAttrs=function(){var i=a.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},i),{startArrow:!1,endArrow:!1})},u.prototype.createPath=function(i,r){var o=this,c=this.attr(),h=this.get("el");y.each(r||c,function(v,f){if(f==="path"&&y.isArray(v))h.setAttribute("d",o._formatPath(v));else if(f==="startArrow"||f==="endArrow")if(v){var m=y.isObject(v)?i.addArrow(c,p.SVG_ATTR_MAP[f]):i.getDefaultArrow(c,p.SVG_ATTR_MAP[f]);h.setAttribute(p.SVG_ATTR_MAP[f],"url(#"+m+")")}else h.removeAttribute(p.SVG_ATTR_MAP[f]);else p.SVG_ATTR_MAP[f]&&h.setAttribute(p.SVG_ATTR_MAP[f],v)})},u.prototype._formatPath=function(i){var r=i.map(function(o){return o.join(" ")}).join("");return~r.indexOf("NaN")?"":r},u.prototype.getTotalLength=function(){var i=this.get("el");return i?i.getTotalLength():null},u.prototype.getPoint=function(i){var r=this.get("el"),o=this.getTotalLength();if(o===0)return null;var c=r?r.getPointAtLength(i*o):null;return c?{x:c.x,y:c.y}:null},u}(s(23).default);x.default=n},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(a){function u(){var i=a!==null&&a.apply(this,arguments)||this;return i.type="polygon",i.canFill=!0,i.canStroke=!0,i}return d.__extends(u,a),u.prototype.createPath=function(i,r){var o=this.attr(),c=this.get("el");y.each(r||o,function(h,v){v==="points"&&y.isArray(h)&&h.length>=2?c.setAttribute("points",h.map(function(f){return f[0]+","+f[1]}).join(" ")):p.SVG_ATTR_MAP[v]&&c.setAttribute(p.SVG_ATTR_MAP[v],h)})},u}(s(23).default);x.default=n},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(40),p=s(170),n=s(0),a=s(19),u=function(i){function r(){var o=i!==null&&i.apply(this,arguments)||this;return o.type="polyline",o.canFill=!0,o.canStroke=!0,o}return d.__extends(r,i),r.prototype.getDefaultAttrs=function(){var o=i.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},o),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(o,c,h){i.prototype.onAttrChange.call(this,o,c,h),["points"].indexOf(o)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(o,c){var h=this.attr(),v=this.get("el");n.each(c||h,function(f,m){m==="points"&&n.isArray(f)&&f.length>=2?v.setAttribute("points",f.map(function(b){return b[0]+","+b[1]}).join(" ")):a.SVG_ATTR_MAP[m]&&v.setAttribute(a.SVG_ATTR_MAP[m],f)})},r.prototype.getTotalLength=function(){var o=this.attr().points,c=this.get("totalLength");return n.isNil(c)?(this.set("totalLength",p.default.length(o)),this.get("totalLength")):c},r.prototype.getPoint=function(o){var c,h,v=this.attr().points,f=this.get("tCache");return f||(this._setTcache(),f=this.get("tCache")),n.each(f,function(m,b){o>=m[0]&&o<=m[1]&&(c=(o-m[0])/(m[1]-m[0]),h=b)}),y.default.pointAt(v[h][0],v[h][1],v[h+1][0],v[h+1][1],c)},r.prototype._setTcache=function(){var o=this.attr().points;if(o&&o.length!==0){var c=this.getTotalLength();if(!(c<=0)){var h,v,f=0,m=[];n.each(o,function(b,M){o[M+1]&&((h=[])[0]=f/c,v=y.default.length(b[0],b[1],o[M+1][0],o[M+1][1]),f+=v,h[1]=f/c,m.push(h))}),this.set("tCache",m)}}},r.prototype.getStartTangent=function(){var o=this.attr().points,c=[];return c.push([o[1][0],o[1][1]]),c.push([o[0][0],o[0][1]]),c},r.prototype.getEndTangent=function(){var o=this.attr().points,c=o.length-1,h=[];return h.push([o[c-1][0],o[c-1][1]]),h.push([o[c][0],o[c][1]]),h},r}(s(23).default);x.default=u},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(23),n=s(19),a=s(360),u=function(i){function r(){var o=i!==null&&i.apply(this,arguments)||this;return o.type="rect",o.canFill=!0,o.canStroke=!0,o}return d.__extends(r,i),r.prototype.getDefaultAttrs=function(){var o=i.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},o),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(o,c){var h=this,v=this.attr(),f=this.get("el"),m=!1,b=["x","y","width","height","radius"];y.each(c||v,function(M,O){b.indexOf(O)===-1||m?b.indexOf(O)===-1&&n.SVG_ATTR_MAP[O]&&f.setAttribute(n.SVG_ATTR_MAP[O],M):(f.setAttribute("d",h._assembleRect(v)),m=!0)})},r.prototype._assembleRect=function(o){var c=o.x,h=o.y,v=o.width,f=o.height,m=o.radius;if(!m)return"M "+c+","+h+" l "+v+",0 l 0,"+f+" l"+-v+" 0 z";var b=a.parseRadius(m);return y.isArray(m)?m.length===1?b.r1=b.r2=b.r3=b.r4=m[0]:m.length===2?(b.r1=b.r3=m[0],b.r2=b.r4=m[1]):m.length===3?(b.r1=m[0],b.r2=b.r4=m[1],b.r3=m[2]):(b.r1=m[0],b.r2=m[1],b.r3=m[2],b.r4=m[3]):b.r1=b.r2=b.r3=b.r4=m,[["M "+(c+b.r1)+","+h],["l "+(v-b.r1-b.r2)+",0"],["a "+b.r2+","+b.r2+",0,0,1,"+b.r2+","+b.r2],["l 0,"+(f-b.r2-b.r3)],["a "+b.r3+","+b.r3+",0,0,1,"+-b.r3+","+b.r3],["l "+(b.r3+b.r4-v)+",0"],["a "+b.r4+","+b.r4+",0,0,1,"+-b.r4+","+-b.r4],["l 0,"+(b.r4+b.r1-f)],["a "+b.r1+","+b.r1+",0,0,1,"+b.r1+","+-b.r1],["z"]].join(" ")},r}(p.default);x.default=u},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.parsePath=x.parseRadius=void 0;var d=s(0),y=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,p=/[^\s\,]+/gi;x.parseRadius=function(n){var a=0,u=0,i=0,r=0;return d.isArray(n)?n.length===1?a=u=i=r=n[0]:n.length===2?(a=i=n[0],u=r=n[1]):n.length===3?(a=n[0],u=r=n[1],i=n[2]):(a=n[0],u=n[1],i=n[2],r=n[3]):a=u=i=r=n,{r1:a,r2:u,r3:i,r4:r}},x.parsePath=function(n){return n=n||[],d.isArray(n)?n:d.isString(n)?(n=n.match(y),d.each(n,function(a,u){if((a=a.match(p))[0].length>1){var i=a[0].charAt(0);a.splice(1,0,a[0].substr(1)),a[0]=i}d.each(a,function(r,o){isNaN(r)||(a[o]=+r)}),n[u]=a}),n):void 0}},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(132),n=s(61),a=s(19),u=s(23),i={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},r={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},o={left:"left",start:"left",center:"middle",right:"end",end:"end"},c=function(h){function v(){var f=h!==null&&h.apply(this,arguments)||this;return f.type="text",f.canFill=!0,f.canStroke=!0,f}return d.__extends(v,h),v.prototype.getDefaultAttrs=function(){var f=h.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},f),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},v.prototype.createPath=function(f,m){var b=this,M=this.attr(),O=this.get("el");this._setFont(),y.each(m||M,function(E,C){C==="text"?b._setText(""+E):C==="matrix"&&E?n.setTransform(b):a.SVG_ATTR_MAP[C]&&O.setAttribute(a.SVG_ATTR_MAP[C],E)}),O.setAttribute("paint-order","stroke"),O.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},v.prototype._setFont=function(){var f=this.get("el"),m=this.attr(),b=m.textBaseline,M=m.textAlign,O=p.detect();O&&O.name==="firefox"?f.setAttribute("dominant-baseline",r[b]||"alphabetic"):f.setAttribute("alignment-baseline",i[b]||"baseline"),f.setAttribute("text-anchor",o[M]||"left")},v.prototype._setText=function(f){var m=this.get("el"),b=this.attr(),M=b.x,O=b.textBaseline,E=O===void 0?"bottom":O;if(f)if(~f.indexOf(`
`)){var C=f.split(`
`),j=C.length-1,B="";y.each(C,function(N,I){I===0?E==="alphabetic"?B+='<tspan x="'+M+'" dy="'+-j+'em">'+N+"</tspan>":E==="top"?B+='<tspan x="'+M+'" dy="0.9em">'+N+"</tspan>":E==="middle"?B+='<tspan x="'+M+'" dy="'+-(j-1)/2+'em">'+N+"</tspan>":E==="bottom"?B+='<tspan x="'+M+'" dy="-'+(j+.3)+'em">'+N+"</tspan>":E==="hanging"&&(B+='<tspan x="'+M+'" dy="'+(-(j-1)-.3)+'em">'+N+"</tspan>"):B+='<tspan x="'+M+'" dy="1em">'+N+"</tspan>"}),m.innerHTML=B}else m.innerHTML=f;else m.innerHTML=""},v}(u.default);x.default=c},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(363),p=s(364),n=s(365),a=s(366),u=s(367),i=s(29),r=function(){function o(c){var h=i.createSVGElement("defs"),v=d.uniqueId("defs_");h.id=v,c.appendChild(h),this.children=[],this.defaultArrow={},this.el=h,this.canvas=c}return o.prototype.find=function(c,h){for(var v=this.children,f=null,m=0;m<v.length;m++)if(v[m].match(c,h)){f=v[m].id;break}return f},o.prototype.findById=function(c){for(var h=this.children,v=null,f=0;f<h.length;f++)if(h[f].id===c){v=h[f];break}return v},o.prototype.add=function(c){this.children.push(c),c.canvas=this.canvas,c.parent=this},o.prototype.getDefaultArrow=function(c,h){var v=c.stroke||c.strokeStyle;if(this.defaultArrow[v])return this.defaultArrow[v].id;var f=new n.default(c,h);return this.defaultArrow[v]=f,this.el.appendChild(f.el),this.add(f),f.id},o.prototype.addGradient=function(c){var h=new y.default(c);return this.el.appendChild(h.el),this.add(h),h.id},o.prototype.addArrow=function(c,h){var v=new n.default(c,h);return this.el.appendChild(v.el),this.add(v),v.id},o.prototype.addShadow=function(c){var h=new p.default(c);return this.el.appendChild(h.el),this.add(h),h.id},o.prototype.addPattern=function(c){var h=new u.default(c);return this.el.appendChild(h.el),this.add(h),h.id},o.prototype.addClip=function(c){var h=new a.default(c);return this.el.appendChild(h.el),this.add(h),h.id},o}();x.default=r},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,n=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(r){var o=r.match(a);if(!o)return"";var c="";return o.sort(function(h,v){return h=h.split(":"),v=v.split(":"),Number(h[0])-Number(v[0])}),d.each(o,function(h){h=h.split(":"),c+='<stop offset="'+h[0]+'" stop-color="'+h[1]+'"></stop>'}),c}var i=function(){function r(o){this.cfg={};var c=null,h=d.uniqueId("gradient_");return o.toLowerCase()[0]==="l"?function(v,f){var m,b,M=p.exec(v),O=d.mod(d.toRadian(parseFloat(M[1])),2*Math.PI),E=M[2];O>=0&&O<.5*Math.PI?(m={x:0,y:0},b={x:1,y:1}):.5*Math.PI<=O&&O<Math.PI?(m={x:1,y:0},b={x:0,y:1}):Math.PI<=O&&O<1.5*Math.PI?(m={x:1,y:1},b={x:0,y:0}):(m={x:0,y:1},b={x:1,y:0});var C=Math.tan(O),j=C*C,B=(b.x-m.x+C*(b.y-m.y))/(j+1)+m.x,N=C*(b.x-m.x+C*(b.y-m.y))/(j+1)+m.y;f.setAttribute("x1",m.x),f.setAttribute("y1",m.y),f.setAttribute("x2",B),f.setAttribute("y2",N),f.innerHTML=u(E)}(o,c=y.createSVGElement("linearGradient")):function(v,f){var m=n.exec(v),b=parseFloat(m[1]),M=parseFloat(m[2]),O=parseFloat(m[3]),E=m[4];f.setAttribute("cx",b),f.setAttribute("cy",M),f.setAttribute("r",O),f.innerHTML=u(E)}(o,c=y.createSVGElement("radialGradient")),c.setAttribute("id",h),this.el=c,this.id=h,this.cfg=o,this}return r.prototype.match=function(o,c){return this.cfg===c},r}();x.default=i},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},n={x:"-40%",y:"-40%",width:"200%",height:"200%"},a=function(){function u(i){this.type="filter",this.cfg={},this.type="filter";var r=y.createSVGElement("filter");return d.each(n,function(o,c){r.setAttribute(c,o)}),this.el=r,this.id=d.uniqueId("filter_"),this.el.id=this.id,this.cfg=i,this._parseShadow(i,r),this}return u.prototype.match=function(i,r){if(this.type!==i)return!1;var o=!0,c=this.cfg;return d.each(Object.keys(c),function(h){if(c[h]!==r[h])return o=!1,!1}),o},u.prototype.update=function(i,r){var o=this.cfg;return o[p[i]]=r,this._parseShadow(o,this.el),this},u.prototype._parseShadow=function(i,r){var o=`<feDropShadow
      dx="`+(i.dx||0)+`"
      dy="`+(i.dy||0)+`"
      stdDeviation="`+(i.blur?i.blur/10:0)+`"
      flood-color="`+(i.color?i.color:"#000")+`"
      flood-opacity="`+(i.opacity?i.opacity:1)+`"
      />`;r.innerHTML=o},u}();x.default=a},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p=function(){function n(a,u){this.cfg={};var i=y.createSVGElement("marker"),r=d.uniqueId("marker_");i.setAttribute("id",r);var o=y.createSVGElement("path");o.setAttribute("stroke",a.stroke||"none"),o.setAttribute("fill",a.fill||"none"),i.appendChild(o),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto-start-reverse"),this.el=i,this.child=o,this.id=r;var c=a[u==="marker-start"?"startArrow":"endArrow"];return this.stroke=a.stroke||"#000",c===!0?this._setDefaultPath(u,o):(this.cfg=c,this._setMarker(a.lineWidth,o)),this}return n.prototype.match=function(){return!1},n.prototype._setDefaultPath=function(a,u){var i=this.el;u.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),i.setAttribute("refX",""+10*Math.cos(Math.PI/6)),i.setAttribute("refY","5")},n.prototype._setMarker=function(a,u){var i=this.el,r=this.cfg.path,o=this.cfg.d;d.isArray(r)&&(r=r.map(function(c){return c.join(" ")}).join("")),u.setAttribute("d",r),i.appendChild(u),o&&i.setAttribute("refX",""+o/a)},n.prototype.update=function(a){var u=this.child;u.attr?u.attr("fill",a):u.setAttribute("fill",a)},n}();x.default=p},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p=function(){function n(a){this.type="clip",this.cfg={};var u=y.createSVGElement("clipPath");this.el=u,this.id=d.uniqueId("clip_"),u.id=this.id;var i=a.cfg.el;return u.appendChild(i),this.cfg=a,this}return n.prototype.match=function(){return!1},n.prototype.remove=function(){var a=this.el;a.parentNode.removeChild(a)},n}();x.default=p},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,n=function(){function a(u){this.cfg={};var i=y.createSVGElement("pattern");i.setAttribute("patternUnits","userSpaceOnUse");var r=y.createSVGElement("image");i.appendChild(r);var o=d.uniqueId("pattern_");i.id=o,this.el=i,this.id=o,this.cfg=u;var c=p.exec(u)[2];r.setAttribute("href",c);var h=new Image;function v(){i.setAttribute("width",""+h.width),i.setAttribute("height",""+h.height)}return c.match(/^data:/i)||(h.crossOrigin="Anonymous"),h.src=c,h.complete?v():(h.onload=v,h.src=h.src),this}return a.prototype.match=function(u,i){return this.cfg===i},a}();x.default=n},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(26),y=s(0);d.angle=function(p,n){var a=d.dot(p,n)/(d.length(p)*d.length(n));return Math.acos(y.clamp(a,-1,1))},d.direction=function(p,n){return p[0]*n[1]-n[0]*p[1]},d.angleTo=function(p,n,a){var u=d.angle(p,n),i=d.direction(p,n)>=0;return a?i?2*Math.PI-u:u:i?u:2*Math.PI-u},d.vertical=function(p,n,a){return a?(p[0]=n[1],p[1]=-1*n[0]):(p[0]=-1*n[1],p[1]=n[0]),p},x.default=d},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(131);x.default=d},function(A,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(172);x.default=function(p,n){var a=p?d.clone(p):[1,0,0,0,1,0,0,0,1];return d.each(n,function(u){switch(u[0]){case"t":y.default.translate(a,a,[u[1],u[2]]);break;case"s":y.default.scale(a,a,[u[1],u[2]]);break;case"r":y.default.rotate(a,a,u[1]);break;case"m":y.default.multiply(a,a,u[1]);break;default:return!1}}),a}},function(A,x,s){var d=s(372);A.exports={Graph:d.Graph,json:s(475),alg:s(476),version:d.version}},function(A,x,s){A.exports={Graph:s(111),version:s(474)}},function(A,x,s){var d=s(173);A.exports=function(y){return d(y,4)}},function(A,x){A.exports=function(){this.__data__=[],this.size=0}},function(A,x,s){var d=s(78),y=Array.prototype.splice;A.exports=function(p){var n=this.__data__,a=d(n,p);return!(a<0)&&(a==n.length-1?n.pop():y.call(n,a,1),--this.size,!0)}},function(A,x,s){var d=s(78);A.exports=function(y){var p=this.__data__,n=d(p,y);return n<0?void 0:p[n][1]}},function(A,x,s){var d=s(78);A.exports=function(y){return d(this.__data__,y)>-1}},function(A,x,s){var d=s(78);A.exports=function(y,p){var n=this.__data__,a=d(n,y);return a<0?(++this.size,n.push([y,p])):n[a][1]=p,this}},function(A,x,s){var d=s(77);A.exports=function(){this.__data__=new d,this.size=0}},function(A,x){A.exports=function(s){var d=this.__data__,y=d.delete(s);return this.size=d.size,y}},function(A,x){A.exports=function(s){return this.__data__.get(s)}},function(A,x){A.exports=function(s){return this.__data__.has(s)}},function(A,x,s){var d=s(77),y=s(112),p=s(113);A.exports=function(n,a){var u=this.__data__;if(u instanceof d){var i=u.__data__;if(!y||i.length<199)return i.push([n,a]),this.size=++u.size,this;u=this.__data__=new p(i)}return u.set(n,a),this.size=u.size,this}},function(A,x,s){var d=s(62),y=s(388),p=s(25),n=s(175),a=/^\[object .+?Constructor\]$/,u=Function.prototype,i=Object.prototype,r=u.toString,o=i.hasOwnProperty,c=RegExp("^"+r.call(o).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");A.exports=function(h){return!(!p(h)||y(h))&&(d(h)?c:a).test(n(h))}},function(A,x){function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}var d;d=function(){return this}();try{d=d||new Function("return this")()}catch(y){(typeof window=="undefined"?"undefined":s(window))==="object"&&(d=window)}A.exports=d},function(A,x,s){var d=s(52),y=Object.prototype,p=y.hasOwnProperty,n=y.toString,a=d?d.toStringTag:void 0;A.exports=function(u){var i=p.call(u,a),r=u[a];try{u[a]=void 0;var o=!0}catch(h){}var c=n.call(u);return o&&(i?u[a]=r:delete u[a]),c}},function(A,x){var s=Object.prototype.toString;A.exports=function(d){return s.call(d)}},function(A,x,s){var d,y=s(389),p=(d=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";A.exports=function(n){return!!p&&p in n}},function(A,x,s){var d=s(31)["__core-js_shared__"];A.exports=d},function(A,x){A.exports=function(s,d){return s==null?void 0:s[d]}},function(A,x,s){var d=s(392),y=s(77),p=s(112);A.exports=function(){this.size=0,this.__data__={hash:new d,map:new(p||y),string:new d}}},function(A,x,s){var d=s(393),y=s(394),p=s(395),n=s(396),a=s(397);function u(i){var r=-1,o=i==null?0:i.length;for(this.clear();++r<o;){var c=i[r];this.set(c[0],c[1])}}u.prototype.clear=d,u.prototype.delete=y,u.prototype.get=p,u.prototype.has=n,u.prototype.set=a,A.exports=u},function(A,x,s){var d=s(79);A.exports=function(){this.__data__=d?d(null):{},this.size=0}},function(A,x){A.exports=function(s){var d=this.has(s)&&delete this.__data__[s];return this.size-=d?1:0,d}},function(A,x,s){var d=s(79),y=Object.prototype.hasOwnProperty;A.exports=function(p){var n=this.__data__;if(d){var a=n[p];return a==="__lodash_hash_undefined__"?void 0:a}return y.call(n,p)?n[p]:void 0}},function(A,x,s){var d=s(79),y=Object.prototype.hasOwnProperty;A.exports=function(p){var n=this.__data__;return d?n[p]!==void 0:y.call(n,p)}},function(A,x,s){var d=s(79);A.exports=function(y,p){var n=this.__data__;return this.size+=this.has(y)?0:1,n[y]=d&&p===void 0?"__lodash_hash_undefined__":p,this}},function(A,x,s){var d=s(80);A.exports=function(y){var p=d(this,y).delete(y);return this.size-=p?1:0,p}},function(A,x){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}A.exports=function(d){var y=s(d);return y=="string"||y=="number"||y=="symbol"||y=="boolean"?d!=="__proto__":d===null}},function(A,x,s){var d=s(80);A.exports=function(y){return d(this,y).get(y)}},function(A,x,s){var d=s(80);A.exports=function(y){return d(this,y).has(y)}},function(A,x,s){var d=s(80);A.exports=function(y,p){var n=d(this,y),a=n.size;return n.set(y,p),this.size+=n.size==a?0:1,this}},function(A,x,s){var d=s(63),y=s(41);A.exports=function(p,n){return p&&d(n,y(n),p)}},function(A,x){A.exports=function(s,d){for(var y=-1,p=Array(s);++y<s;)p[y]=d(y);return p}},function(A,x,s){var d=s(45),y=s(34);A.exports=function(p){return y(p)&&d(p)=="[object Arguments]"}},function(A,x){A.exports=function(){return!1}},function(A,x,s){var d=s(45),y=s(116),p=s(34),n={};n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,A.exports=function(a){return p(a)&&y(a.length)&&!!n[d(a)]}},function(A,x,s){var d=s(178)(Object.keys,Object);A.exports=d},function(A,x,s){var d=s(63),y=s(46);A.exports=function(p,n){return p&&d(n,y(n),p)}},function(A,x,s){var d=s(25),y=s(85),p=s(411),n=Object.prototype.hasOwnProperty;A.exports=function(a){if(!d(a))return p(a);var u=y(a),i=[];for(var r in a)(r!="constructor"||!u&&n.call(a,r))&&i.push(r);return i}},function(A,x){A.exports=function(s){var d=[];if(s!=null)for(var y in Object(s))d.push(y);return d}},function(A,x,s){var d=s(63),y=s(119);A.exports=function(p,n){return d(p,y(p),n)}},function(A,x,s){var d=s(63),y=s(183);A.exports=function(p,n){return d(p,y(p),n)}},function(A,x,s){var d=s(185),y=s(183),p=s(46);A.exports=function(n){return d(n,p,y)}},function(A,x,s){var d=s(44)(s(31),"DataView");A.exports=d},function(A,x,s){var d=s(44)(s(31),"Promise");A.exports=d},function(A,x,s){var d=s(44)(s(31),"WeakMap");A.exports=d},function(A,x){var s=Object.prototype.hasOwnProperty;A.exports=function(d){var y=d.length,p=new d.constructor(y);return y&&typeof d[0]=="string"&&s.call(d,"index")&&(p.index=d.index,p.input=d.input),p}},function(A,x,s){var d=s(121),y=s(420),p=s(421),n=s(422),a=s(188);A.exports=function(u,i,r){var o=u.constructor;switch(i){case"[object ArrayBuffer]":return d(u);case"[object Boolean]":case"[object Date]":return new o(+u);case"[object DataView]":return y(u,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(u,r);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(u);case"[object RegExp]":return p(u);case"[object Set]":return new o;case"[object Symbol]":return n(u)}}},function(A,x,s){var d=s(121);A.exports=function(y,p){var n=p?d(y.buffer):y.buffer;return new y.constructor(n,y.byteOffset,y.byteLength)}},function(A,x){var s=/\w*$/;A.exports=function(d){var y=new d.constructor(d.source,s.exec(d));return y.lastIndex=d.lastIndex,y}},function(A,x,s){var d=s(52),y=d?d.prototype:void 0,p=y?y.valueOf:void 0;A.exports=function(n){return p?Object(p.call(n)):{}}},function(A,x,s){var d=s(424),y=s(84),p=s(117),n=p&&p.isMap,a=n?y(n):d;A.exports=a},function(A,x,s){var d=s(54),y=s(34);A.exports=function(p){return y(p)&&d(p)=="[object Map]"}},function(A,x,s){var d=s(426),y=s(84),p=s(117),n=p&&p.isSet,a=n?y(n):d;A.exports=a},function(A,x,s){var d=s(54),y=s(34);A.exports=function(p){return y(p)&&d(p)=="[object Set]"}},function(A,x){A.exports=function(s){return function(d,y,p){for(var n=-1,a=Object(d),u=p(d),i=u.length;i--;){var r=u[s?i:++n];if(y(a[r],r,a)===!1)break}return d}}},function(A,x,s){var d=s(38);A.exports=function(y,p){return function(n,a){if(n==null)return n;if(!d(n))return y(n,a);for(var u=n.length,i=p?u:-1,r=Object(n);(p?i--:++i<u)&&a(r[i],i,r)!==!1;);return n}}},function(A,x,s){var d=s(87);A.exports=function(y,p){var n=[];return d(y,function(a,u,i){p(a,u,i)&&n.push(a)}),n}},function(A,x,s){var d=s(431),y=s(439),p=s(200);A.exports=function(n){var a=y(n);return a.length==1&&a[0][2]?p(a[0][0],a[0][1]):function(u){return u===n||d(u,n,a)}}},function(A,x,s){var d=s(76),y=s(195);A.exports=function(p,n,a,u){var i=a.length,r=i,o=!u;if(p==null)return!r;for(p=Object(p);i--;){var c=a[i];if(o&&c[2]?c[1]!==p[c[0]]:!(c[0]in p))return!1}for(;++i<r;){var h=(c=a[i])[0],v=p[h],f=c[1];if(o&&c[2]){if(v===void 0&&!(h in p))return!1}else{var m=new d;if(u)var b=u(v,f,h,p,n,m);if(!(b===void 0?y(f,v,3,u,m):b))return!1}}return!0}},function(A,x,s){var d=s(76),y=s(196),p=s(436),n=s(438),a=s(54),u=s(15),i=s(53),r=s(65),o="[object Object]",c=Object.prototype.hasOwnProperty;A.exports=function(h,v,f,m,b,M){var O=u(h),E=u(v),C=O?"[object Array]":a(h),j=E?"[object Array]":a(v),B=(C=C=="[object Arguments]"?o:C)==o,N=(j=j=="[object Arguments]"?o:j)==o,I=C==j;if(I&&i(h)){if(!i(v))return!1;O=!0,B=!1}if(I&&!B)return M||(M=new d),O||r(h)?y(h,v,f,m,b,M):p(h,v,C,f,m,b,M);if(!(1&f)){var F=B&&c.call(h,"__wrapped__"),G=N&&c.call(v,"__wrapped__");if(F||G){var U=F?h.value():h,H=G?v.value():v;return M||(M=new d),b(U,H,f,m,M)}}return!!I&&(M||(M=new d),n(h,v,f,m,b,M))}},function(A,x){A.exports=function(s){return this.__data__.set(s,"__lodash_hash_undefined__"),this}},function(A,x){A.exports=function(s){return this.__data__.has(s)}},function(A,x){A.exports=function(s,d){for(var y=-1,p=s==null?0:s.length;++y<p;)if(d(s[y],y,s))return!0;return!1}},function(A,x,s){var d=s(52),y=s(187),p=s(51),n=s(196),a=s(437),u=s(125),i=d?d.prototype:void 0,r=i?i.valueOf:void 0;A.exports=function(o,c,h,v,f,m,b){switch(h){case"[object DataView]":if(o.byteLength!=c.byteLength||o.byteOffset!=c.byteOffset)return!1;o=o.buffer,c=c.buffer;case"[object ArrayBuffer]":return!(o.byteLength!=c.byteLength||!m(new y(o),new y(c)));case"[object Boolean]":case"[object Date]":case"[object Number]":return p(+o,+c);case"[object Error]":return o.name==c.name&&o.message==c.message;case"[object RegExp]":case"[object String]":return o==c+"";case"[object Map]":var M=a;case"[object Set]":var O=1&v;if(M||(M=u),o.size!=c.size&&!O)return!1;var E=b.get(o);if(E)return E==c;v|=2,b.set(o,c);var C=n(M(o),M(c),v,f,m,b);return b.delete(o),C;case"[object Symbol]":if(r)return r.call(o)==r.call(c)}return!1}},function(A,x){A.exports=function(s){var d=-1,y=Array(s.size);return s.forEach(function(p,n){y[++d]=[n,p]}),y}},function(A,x,s){var d=s(184),y=Object.prototype.hasOwnProperty;A.exports=function(p,n,a,u,i,r){var o=1&a,c=d(p),h=c.length;if(h!=d(n).length&&!o)return!1;for(var v=h;v--;){var f=c[v];if(!(o?f in n:y.call(n,f)))return!1}var m=r.get(p),b=r.get(n);if(m&&b)return m==n&&b==p;var M=!0;r.set(p,n),r.set(n,p);for(var O=o;++v<h;){var E=p[f=c[v]],C=n[f];if(u)var j=o?u(C,E,f,n,p,r):u(E,C,f,p,n,r);if(!(j===void 0?E===C||i(E,C,a,u,r):j)){M=!1;break}O||(O=f=="constructor")}if(M&&!O){var B=p.constructor,N=n.constructor;B==N||!("constructor"in p)||!("constructor"in n)||typeof B=="function"&&B instanceof B&&typeof N=="function"&&N instanceof N||(M=!1)}return r.delete(p),r.delete(n),M}},function(A,x,s){var d=s(199),y=s(41);A.exports=function(p){for(var n=y(p),a=n.length;a--;){var u=n[a],i=p[u];n[a]=[u,i,d(i)]}return n}},function(A,x,s){var d=s(195),y=s(441),p=s(202),n=s(126),a=s(199),u=s(200),i=s(66);A.exports=function(r,o){return n(r)&&a(o)?u(i(r),o):function(c){var h=y(c,r);return h===void 0&&h===o?p(c,r):d(o,h,3)}}},function(A,x,s){var d=s(88);A.exports=function(y,p,n){var a=y==null?void 0:d(y,p);return a===void 0?n:a}},function(A,x,s){var d=s(443),y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,n=d(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(y,function(i,r,o,c){u.push(o?c.replace(p,"$1"):r||i)}),u});A.exports=n},function(A,x,s){var d=s(444);A.exports=function(y){var p=d(y,function(a){return n.size===500&&n.clear(),a}),n=p.cache;return p}},function(A,x,s){var d=s(113);function y(p,n){if(typeof p!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var a=function u(){var i=arguments,r=n?n.apply(this,i):i[0],o=u.cache;if(o.has(r))return o.get(r);var c=p.apply(this,i);return u.cache=o.set(r,c)||o,c};return a.cache=new(y.Cache||d),a}y.Cache=d,A.exports=y},function(A,x,s){var d=s(52),y=s(90),p=s(15),n=s(55),a=d?d.prototype:void 0,u=a?a.toString:void 0;A.exports=function i(r){if(typeof r=="string")return r;if(p(r))return y(r,i)+"";if(n(r))return u?u.call(r):"";var o=r+"";return o=="0"&&1/r==-1/0?"-0":o}},function(A,x){A.exports=function(s,d){return s!=null&&d in Object(s)}},function(A,x,s){var d=s(204),y=s(448),p=s(126),n=s(66);A.exports=function(a){return p(a)?d(n(a)):y(a)}},function(A,x,s){var d=s(88);A.exports=function(y){return function(p){return d(p,y)}}},function(A,x){var s=Object.prototype.hasOwnProperty;A.exports=function(d,y){return d!=null&&s.call(d,y)}},function(A,x,s){var d=s(118),y=s(54),p=s(64),n=s(15),a=s(38),u=s(53),i=s(85),r=s(65),o=Object.prototype.hasOwnProperty;A.exports=function(c){if(c==null)return!0;if(a(c)&&(n(c)||typeof c=="string"||typeof c.splice=="function"||u(c)||r(c)||p(c)))return!c.length;var h=y(c);if(h=="[object Map]"||h=="[object Set]")return!c.size;if(i(c))return!d(c).length;for(var v in c)if(o.call(c,v))return!1;return!0}},function(A,x){A.exports=function(s,d,y,p){var n=-1,a=s==null?0:s.length;for(p&&a&&(y=s[++n]);++n<a;)y=d(y,s[n],n,s);return y}},function(A,x){A.exports=function(s,d,y,p,n){return n(s,function(a,u,i){y=p?(p=!1,a):d(y,a,u,i)}),y}},function(A,x,s){var d=s(118),y=s(54),p=s(38),n=s(454),a=s(455);A.exports=function(u){if(u==null)return 0;if(p(u))return n(u)?a(u):u.length;var i=y(u);return i=="[object Map]"||i=="[object Set]"?u.size:d(u).length}},function(A,x,s){var d=s(45),y=s(15),p=s(34);A.exports=function(n){return typeof n=="string"||!y(n)&&p(n)&&d(n)=="[object String]"}},function(A,x,s){var d=s(456),y=s(457),p=s(458);A.exports=function(n){return y(n)?p(n):d(n)}},function(A,x,s){var d=s(204)("length");A.exports=d},function(A,x){var s=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");A.exports=function(d){return s.test(d)}},function(A,x){var s="[\\ud800-\\udfff]",d="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",y="\\ud83c[\\udffb-\\udfff]",p="[^\\ud800-\\udfff]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+d+"|"+y+")?",i="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[p,n,a].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),r="(?:"+[p+d+"?",d,n,a,s].join("|")+")",o=RegExp(y+"(?="+y+")|"+r+i,"g");A.exports=function(c){for(var h=o.lastIndex=0;o.test(c);)++h;return h}},function(A,x,s){var d=s(114),y=s(190),p=s(123),n=s(39),a=s(86),u=s(15),i=s(53),r=s(62),o=s(25),c=s(65);A.exports=function(h,v,f){var m=u(h),b=m||i(h)||c(h);if(v=n(v,4),f==null){var M=h&&h.constructor;f=b?m?new M:[]:o(h)&&r(M)?y(a(h)):{}}return(b?d:p)(h,function(O,E,C){return v(f,O,E,C)}),f}},function(A,x,s){var d=s(127),y=s(91),p=s(465),n=s(213),a=y(function(u){return p(d(u,1,n,!0))});A.exports=a},function(A,x,s){var d=s(52),y=s(64),p=s(15),n=d?d.isConcatSpreadable:void 0;A.exports=function(a){return p(a)||y(a)||!!(n&&a&&a[n])}},function(A,x){A.exports=function(s,d,y){switch(y.length){case 0:return s.call(d);case 1:return s.call(d,y[0]);case 2:return s.call(d,y[0],y[1]);case 3:return s.call(d,y[0],y[1],y[2])}return s.apply(d,y)}},function(A,x,s){var d=s(122),y=s(176),p=s(47),n=y?function(a,u){return y(a,"toString",{configurable:!0,enumerable:!1,value:d(u),writable:!0})}:p;A.exports=n},function(A,x){var s=Date.now;A.exports=function(d){var y=0,p=0;return function(){var n=s(),a=16-(n-p);if(p=n,a>0){if(++y>=800)return arguments[0]}else y=0;return d.apply(void 0,arguments)}}},function(A,x,s){var d=s(197),y=s(466),p=s(470),n=s(198),a=s(471),u=s(125);A.exports=function(i,r,o){var c=-1,h=y,v=i.length,f=!0,m=[],b=m;if(o)f=!1,h=p;else if(v>=200){var M=r?null:a(i);if(M)return u(M);f=!1,h=n,b=new d}else b=r?[]:m;t:for(;++c<v;){var O=i[c],E=r?r(O):O;if(O=o||O!==0?O:0,f&&E==E){for(var C=b.length;C--;)if(b[C]===E)continue t;r&&b.push(E),m.push(O)}else h(b,E,o)||(b!==m&&b.push(E),m.push(O))}return m}},function(A,x,s){var d=s(467);A.exports=function(y,p){return!!(y==null?0:y.length)&&d(y,p,0)>-1}},function(A,x,s){var d=s(212),y=s(468),p=s(469);A.exports=function(n,a,u){return a==a?p(n,a,u):d(n,y,u)}},function(A,x){A.exports=function(s){return s!=s}},function(A,x){A.exports=function(s,d,y){for(var p=y-1,n=s.length;++p<n;)if(s[p]===d)return p;return-1}},function(A,x){A.exports=function(s,d,y){for(var p=-1,n=s==null?0:s.length;++p<n;)if(y(d,s[p]))return!0;return!1}},function(A,x,s){var d=s(186),y=s(472),p=s(125),n=d&&1/p(new d([,-0]))[1]==1/0?function(a){return new d(a)}:y;A.exports=n},function(A,x){A.exports=function(){}},function(A,x,s){var d=s(90);A.exports=function(y,p){return d(p,function(n){return y[n]})}},function(A,x){A.exports="2.1.8"},function(A,x,s){var d=s(24),y=s(111);function p(a){return d.map(a.nodes(),function(u){var i=a.node(u),r=a.parent(u),o={v:u};return d.isUndefined(i)||(o.value=i),d.isUndefined(r)||(o.parent=r),o})}function n(a){return d.map(a.edges(),function(u){var i=a.edge(u),r={v:u.v,w:u.w};return d.isUndefined(u.name)||(r.name=u.name),d.isUndefined(i)||(r.value=i),r})}A.exports={write:function(u){var i={options:{directed:u.isDirected(),multigraph:u.isMultigraph(),compound:u.isCompound()},nodes:p(u),edges:n(u)};return d.isUndefined(u.graph())||(i.value=d.clone(u.graph())),i},read:function(u){var i=new y(u.options).setGraph(u.value);return d.each(u.nodes,function(r){i.setNode(r.v,r.value),r.parent&&i.setParent(r.v,r.parent)}),d.each(u.edges,function(r){i.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),i}}},function(A,x,s){A.exports={components:s(477),dijkstra:s(215),dijkstraAll:s(478),findCycles:s(479),floydWarshall:s(480),isAcyclic:s(481),postorder:s(482),preorder:s(483),prim:s(484),tarjan:s(217),topsort:s(218)}},function(A,x,s){var d=s(24);A.exports=function(y){var p,n={},a=[];function u(i){d.has(n,i)||(n[i]=!0,p.push(i),d.each(y.successors(i),u),d.each(y.predecessors(i),u))}return d.each(y.nodes(),function(i){p=[],u(i),p.length&&a.push(p)}),a}},function(A,x,s){var d=s(215),y=s(24);A.exports=function(p,n,a){return y.transform(p.nodes(),function(u,i){u[i]=d(p,i,n,a)},{})}},function(A,x,s){var d=s(24),y=s(217);A.exports=function(p){return d.filter(y(p),function(n){return n.length>1||n.length===1&&p.hasEdge(n[0],n[0])})}},function(A,x,s){var d=s(24);A.exports=function(p,n,a){return function(u,i,r){var o={},c=u.nodes();return c.forEach(function(h){o[h]={},o[h][h]={distance:0},c.forEach(function(v){h!==v&&(o[h][v]={distance:Number.POSITIVE_INFINITY})}),r(h).forEach(function(v){var f=v.v===h?v.w:v.v,m=i(v);o[h][f]={distance:m,predecessor:h}})}),c.forEach(function(h){var v=o[h];c.forEach(function(f){var m=o[f];c.forEach(function(b){var M=m[h],O=v[b],E=m[b],C=M.distance+O.distance;C<E.distance&&(E.distance=C,E.predecessor=O.predecessor)})})}),o}(p,n||y,a||function(u){return p.outEdges(u)})};var y=d.constant(1)},function(A,x,s){var d=s(218);A.exports=function(y){try{d(y)}catch(p){if(p instanceof d.CycleException)return!1;throw p}return!0}},function(A,x,s){var d=s(219);A.exports=function(y,p){return d(y,p,"post")}},function(A,x,s){var d=s(219);A.exports=function(y,p){return d(y,p,"pre")}},function(A,x,s){var d=s(24),y=s(111),p=s(216);A.exports=function(n,a){var u,i=new y,r={},o=new p;function c(v){var f=v.v===u?v.w:v.v,m=o.priority(f);if(m!==void 0){var b=a(v);b<m&&(r[f]=u,o.decrease(f,b))}}if(n.nodeCount()===0)return i;d.each(n.nodes(),function(v){o.add(v,Number.POSITIVE_INFINITY),i.setNode(v)}),o.decrease(n.nodes()[0],0);for(var h=!1;o.size()>0;){if(u=o.removeMin(),d.has(r,u))i.setEdge(u,r[u]);else{if(h)throw new Error("Input graph is not connected: "+n);h=!0}n.nodeEdges(u).forEach(c)}return i}},function(A,x,s){"use strict";var d=s(13),y=s(523),p=s(526),n=s(527),a=s(20).normalizeRanks,u=s(529),i=s(20).removeEmptyRanks,r=s(530),o=s(531),c=s(532),h=s(533),v=s(542),f=s(20),m=s(30).Graph;A.exports=function(G,U){var H=U&&U.debugTiming?f.time:f.notime;H("layout",function(){var Q=H("  buildLayoutGraph",function(){return function(at){var $=new m({multigraph:!0,compound:!0}),K=F(at.graph());return $.setGraph(d.merge({},M,I(K,b),d.pick(K,O))),d.forEach(at.nodes(),function(ot){var it=F(at.node(ot));$.setNode(ot,d.defaults(I(it,E),C)),$.setParent(ot,at.parent(ot))}),d.forEach(at.edges(),function(ot){var it=F(at.edge(ot));$.setEdge(ot,d.merge({},B,I(it,j),d.pick(it,N)))}),$}(G)});H("  runLayout",function(){(function(at,$){$("    makeSpaceForEdgeLabels",function(){(function(K){var ot=K.graph();ot.ranksep/=2,d.forEach(K.edges(),function(it){var ht=K.edge(it);ht.minlen*=2,ht.labelpos.toLowerCase()!=="c"&&(ot.rankdir==="TB"||ot.rankdir==="BT"?ht.width+=ht.labeloffset:ht.height+=ht.labeloffset)})})(at)}),$("    removeSelfEdges",function(){(function(K){d.forEach(K.edges(),function(ot){if(ot.v===ot.w){var it=K.node(ot.v);it.selfEdges||(it.selfEdges=[]),it.selfEdges.push({e:ot,label:K.edge(ot)}),K.removeEdge(ot)}})})(at)}),$("    acyclic",function(){y.run(at)}),$("    nestingGraph.run",function(){r.run(at)}),$("    rank",function(){n(f.asNonCompoundGraph(at))}),$("    injectEdgeLabelProxies",function(){(function(K){d.forEach(K.edges(),function(ot){var it=K.edge(ot);if(it.width&&it.height){var ht=K.node(ot.v),St={rank:(K.node(ot.w).rank-ht.rank)/2+ht.rank,e:ot};f.addDummyNode(K,"edge-proxy",St,"_ep")}})})(at)}),$("    removeEmptyRanks",function(){i(at)}),$("    nestingGraph.cleanup",function(){r.cleanup(at)}),$("    normalizeRanks",function(){a(at)}),$("    assignRankMinMax",function(){(function(K){var ot=0;d.forEach(K.nodes(),function(it){var ht=K.node(it);ht.borderTop&&(ht.minRank=K.node(ht.borderTop).rank,ht.maxRank=K.node(ht.borderBottom).rank,ot=d.max(ot,ht.maxRank))}),K.graph().maxRank=ot})(at)}),$("    removeEdgeLabelProxies",function(){(function(K){d.forEach(K.nodes(),function(ot){var it=K.node(ot);it.dummy==="edge-proxy"&&(K.edge(it.e).labelRank=it.rank,K.removeNode(ot))})})(at)}),$("    normalize.run",function(){p.run(at)}),$("    parentDummyChains",function(){u(at)}),$("    addBorderSegments",function(){o(at)}),$("    order",function(){h(at)}),$("    insertSelfEdges",function(){(function(K){var ot=f.buildLayerMatrix(K);d.forEach(ot,function(it){var ht=0;d.forEach(it,function(St,gt){var bt=K.node(St);bt.order=gt+ht,d.forEach(bt.selfEdges,function(mt){f.addDummyNode(K,"selfedge",{width:mt.label.width,height:mt.label.height,rank:bt.rank,order:gt+ ++ht,e:mt.e,label:mt.label},"_se")}),delete bt.selfEdges})})})(at)}),$("    adjustCoordinateSystem",function(){c.adjust(at)}),$("    position",function(){v(at)}),$("    positionSelfEdges",function(){(function(K){d.forEach(K.nodes(),function(ot){var it=K.node(ot);if(it.dummy==="selfedge"){var ht=K.node(it.e.v),St=ht.x+ht.width/2,gt=ht.y,bt=it.x-St,mt=ht.height/2;K.setEdge(it.e,it.label),K.removeNode(ot),it.label.points=[{x:St+2*bt/3,y:gt-mt},{x:St+5*bt/6,y:gt-mt},{x:St+bt,y:gt},{x:St+5*bt/6,y:gt+mt},{x:St+2*bt/3,y:gt+mt}],it.label.x=it.x,it.label.y=it.y}})})(at)}),$("    removeBorderNodes",function(){(function(K){d.forEach(K.nodes(),function(ot){if(K.children(ot).length){var it=K.node(ot),ht=K.node(it.borderTop),St=K.node(it.borderBottom),gt=K.node(d.last(it.borderLeft)),bt=K.node(d.last(it.borderRight));it.width=Math.abs(bt.x-gt.x),it.height=Math.abs(St.y-ht.y),it.x=gt.x+it.width/2,it.y=ht.y+it.height/2}}),d.forEach(K.nodes(),function(ot){K.node(ot).dummy==="border"&&K.removeNode(ot)})})(at)}),$("    normalize.undo",function(){p.undo(at)}),$("    fixupEdgeLabelCoords",function(){(function(K){d.forEach(K.edges(),function(ot){var it=K.edge(ot);if(d.has(it,"x"))switch(it.labelpos!=="l"&&it.labelpos!=="r"||(it.width-=it.labeloffset),it.labelpos){case"l":it.x-=it.width/2+it.labeloffset;break;case"r":it.x+=it.width/2+it.labeloffset}})})(at)}),$("    undoCoordinateSystem",function(){c.undo(at)}),$("    translateGraph",function(){(function(K){var ot=Number.POSITIVE_INFINITY,it=0,ht=Number.POSITIVE_INFINITY,St=0,gt=K.graph(),bt=gt.marginx||0,mt=gt.marginy||0;function vt(_t){var Nt=_t.x,At=_t.y,It=_t.width,dt=_t.height;ot=Math.min(ot,Nt-It/2),it=Math.max(it,Nt+It/2),ht=Math.min(ht,At-dt/2),St=Math.max(St,At+dt/2)}d.forEach(K.nodes(),function(_t){vt(K.node(_t))}),d.forEach(K.edges(),function(_t){var Nt=K.edge(_t);d.has(Nt,"x")&&vt(Nt)}),ot-=bt,ht-=mt,d.forEach(K.nodes(),function(_t){var Nt=K.node(_t);Nt.x-=ot,Nt.y-=ht}),d.forEach(K.edges(),function(_t){var Nt=K.edge(_t);d.forEach(Nt.points,function(At){At.x-=ot,At.y-=ht}),d.has(Nt,"x")&&(Nt.x-=ot),d.has(Nt,"y")&&(Nt.y-=ht)}),gt.width=it-ot+bt,gt.height=St-ht+mt})(at)}),$("    assignNodeIntersects",function(){(function(K){d.forEach(K.edges(),function(ot){var it,ht,St=K.edge(ot),gt=K.node(ot.v),bt=K.node(ot.w);St.points?(it=St.points[0],ht=St.points[St.points.length-1]):(St.points=[],it=bt,ht=gt),St.points.unshift(f.intersectRect(gt,it)),St.points.push(f.intersectRect(bt,ht))})})(at)}),$("    reversePoints",function(){(function(K){d.forEach(K.edges(),function(ot){var it=K.edge(ot);it.reversed&&it.points.reverse()})})(at)}),$("    acyclic.undo",function(){y.undo(at)})})(Q,H)}),H("  updateInputGraph",function(){(function(at,$){d.forEach(at.nodes(),function(K){var ot=at.node(K),it=$.node(K);ot&&(ot.x=it.x,ot.y=it.y,$.children(K).length&&(ot.width=it.width,ot.height=it.height))}),d.forEach(at.edges(),function(K){var ot=at.edge(K),it=$.edge(K);ot.points=it.points,d.has(it,"x")&&(ot.x=it.x,ot.y=it.y)}),at.graph().width=$.graph().width,at.graph().height=$.graph().height})(G,Q)})})};var b=["nodesep","edgesep","ranksep","marginx","marginy"],M={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},O=["acyclicer","ranker","rankdir","align"],E=["width","height"],C={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],B={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},N=["labelpos"];function I(G,U){return d.mapValues(d.pick(G,U),Number)}function F(G){var U={};return d.forEach(G,function(H,Q){U[Q.toLowerCase()]=H}),U}},function(A,x,s){var d=s(173);A.exports=function(y){return d(y,5)}},function(A,x,s){var d=s(91),y=s(51),p=s(92),n=s(46),a=Object.prototype,u=a.hasOwnProperty,i=d(function(r,o){r=Object(r);var c=-1,h=o.length,v=h>2?o[2]:void 0;for(v&&p(o[0],o[1],v)&&(h=1);++c<h;)for(var f=o[c],m=n(f),b=-1,M=m.length;++b<M;){var O=m[b],E=r[O];(E===void 0||y(E,a[O])&&!u.call(r,O))&&(r[O]=f[O])}return r});A.exports=i},function(A,x,s){var d=s(489)(s(490));A.exports=d},function(A,x,s){var d=s(39),y=s(38),p=s(41);A.exports=function(n){return function(a,u,i){var r=Object(a);if(!y(a)){var o=d(u,3);a=p(a),u=function(v){return o(r[v],v,r)}}var c=n(a,u,i);return c>-1?r[o?a[c]:c]:void 0}}},function(A,x,s){var d=s(212),y=s(39),p=s(491),n=Math.max;A.exports=function(a,u,i){var r=a==null?0:a.length;if(!r)return-1;var o=i==null?0:p(i);return o<0&&(o=n(r+o,0)),d(a,y(u,3),o)}},function(A,x,s){var d=s(220);A.exports=function(y){var p=d(y),n=p%1;return p==p?n?p-n:p:0}},function(A,x,s){var d=s(25),y=s(55),p=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,i=parseInt;A.exports=function(r){if(typeof r=="number")return r;if(y(r))return NaN;if(d(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=d(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=r.replace(p,"");var c=a.test(r);return c||u.test(r)?i(r.slice(2),c?2:8):n.test(r)?NaN:+r}},function(A,x,s){var d=s(124),y=s(193),p=s(46);A.exports=function(n,a){return n==null?n:d(n,y(a),p)}},function(A,x){A.exports=function(s){var d=s==null?0:s.length;return d?s[d-1]:void 0}},function(A,x,s){var d=s(82),y=s(123),p=s(39);A.exports=function(n,a){var u={};return a=p(a,3),y(n,function(i,r,o){d(u,r,a(i,r,o))}),u}},function(A,x,s){var d=s(128),y=s(497),p=s(47);A.exports=function(n){return n&&n.length?d(n,p,y):void 0}},function(A,x){A.exports=function(s,d){return s>d}},function(A,x,s){var d=s(499),y=s(503)(function(p,n,a){d(p,n,a)});A.exports=y},function(A,x,s){var d=s(76),y=s(222),p=s(124),n=s(500),a=s(25),u=s(46),i=s(223);A.exports=function r(o,c,h,v,f){o!==c&&p(c,function(m,b){if(f||(f=new d),a(m))n(o,c,b,h,r,v,f);else{var M=v?v(i(o,b),m,b+"",o,c,f):void 0;M===void 0&&(M=m),y(o,b,M)}},u)}},function(A,x,s){var d=s(222),y=s(179),p=s(188),n=s(180),a=s(189),u=s(64),i=s(15),r=s(213),o=s(53),c=s(62),h=s(25),v=s(501),f=s(65),m=s(223),b=s(502);A.exports=function(M,O,E,C,j,B,N){var I=m(M,E),F=m(O,E),G=N.get(F);if(G)d(M,E,G);else{var U=B?B(I,F,E+"",M,O,N):void 0,H=U===void 0;if(H){var Q=i(F),at=!Q&&o(F),$=!Q&&!at&&f(F);U=F,Q||at||$?i(I)?U=I:r(I)?U=n(I):at?(H=!1,U=y(F,!0)):$?(H=!1,U=p(F,!0)):U=[]:v(F)||u(F)?(U=I,u(I)?U=b(I):h(I)&&!c(I)||(U=a(F))):H=!1}H&&(N.set(F,U),j(U,F,C,B,N),N.delete(F)),d(M,E,U)}}},function(A,x,s){var d=s(45),y=s(86),p=s(34),n=Function.prototype,a=Object.prototype,u=n.toString,i=a.hasOwnProperty,r=u.call(Object);A.exports=function(o){if(!p(o)||d(o)!="[object Object]")return!1;var c=y(o);if(c===null)return!0;var h=i.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&u.call(h)==r}},function(A,x,s){var d=s(63),y=s(46);A.exports=function(p){return d(p,y(p))}},function(A,x,s){var d=s(91),y=s(92);A.exports=function(p){return d(function(n,a){var u=-1,i=a.length,r=i>1?a[i-1]:void 0,o=i>2?a[2]:void 0;for(r=p.length>3&&typeof r=="function"?(i--,r):void 0,o&&y(a[0],a[1],o)&&(r=i<3?void 0:r,i=1),n=Object(n);++u<i;){var c=a[u];c&&p(n,c,u,r)}return n})}},function(A,x,s){var d=s(128),y=s(224),p=s(47);A.exports=function(n){return n&&n.length?d(n,p,y):void 0}},function(A,x,s){var d=s(128),y=s(39),p=s(224);A.exports=function(n,a){return n&&n.length?d(n,y(a,2),p):void 0}},function(A,x,s){var d=s(31);A.exports=function(){return d.Date.now()}},function(A,x,s){var d=s(508),y=s(511)(function(p,n){return p==null?{}:d(p,n)});A.exports=y},function(A,x,s){var d=s(509),y=s(202);A.exports=function(p,n){return d(p,n,function(a,u){return y(p,u)})}},function(A,x,s){var d=s(88),y=s(510),p=s(89);A.exports=function(n,a,u){for(var i=-1,r=a.length,o={};++i<r;){var c=a[i],h=d(n,c);u(h,c)&&y(o,p(c,n),h)}return o}},function(A,x,s){var d=s(81),y=s(89),p=s(83),n=s(25),a=s(66);A.exports=function(u,i,r,o){if(!n(u))return u;for(var c=-1,h=(i=y(i,u)).length,v=h-1,f=u;f!=null&&++c<h;){var m=a(i[c]),b=r;if(m==="__proto__"||m==="constructor"||m==="prototype")return u;if(c!=v){var M=f[m];(b=o?o(M,m,f):void 0)===void 0&&(b=n(M)?M:p(i[c+1])?[]:{})}d(f,m,b),f=f[m]}return u}},function(A,x,s){var d=s(221),y=s(210),p=s(211);A.exports=function(n){return p(y(n,void 0,d),n+"")}},function(A,x,s){var d=s(513)();A.exports=d},function(A,x,s){var d=s(514),y=s(92),p=s(220);A.exports=function(n){return function(a,u,i){return i&&typeof i!="number"&&y(a,u,i)&&(u=i=void 0),a=p(a),u===void 0?(u=a,a=0):u=p(u),i=i===void 0?a<u?1:-1:p(i),d(a,u,i,n)}}},function(A,x){var s=Math.ceil,d=Math.max;A.exports=function(y,p,n,a){for(var u=-1,i=d(s((p-y)/(n||1)),0),r=Array(i);i--;)r[a?i:++u]=y,y+=n;return r}},function(A,x,s){var d=s(127),y=s(516),p=s(91),n=s(92),a=p(function(u,i){if(u==null)return[];var r=i.length;return r>1&&n(u,i[0],i[1])?i=[]:r>2&&n(i[0],i[1],i[2])&&(i=[i[0]]),y(u,d(i,1),[])});A.exports=a},function(A,x,s){var d=s(90),y=s(88),p=s(39),n=s(208),a=s(517),u=s(84),i=s(518),r=s(47),o=s(15);A.exports=function(c,h,v){h=h.length?d(h,function(b){return o(b)?function(M){return y(M,b.length===1?b[0]:b)}:b}):[r];var f=-1;h=d(h,u(p));var m=n(c,function(b,M,O){return{criteria:d(h,function(E){return E(b)}),index:++f,value:b}});return a(m,function(b,M){return i(b,M,v)})}},function(A,x){A.exports=function(s,d){var y=s.length;for(s.sort(d);y--;)s[y]=s[y].value;return s}},function(A,x,s){var d=s(519);A.exports=function(y,p,n){for(var a=-1,u=y.criteria,i=p.criteria,r=u.length,o=n.length;++a<r;){var c=d(u[a],i[a]);if(c)return a>=o?c:c*(n[a]=="desc"?-1:1)}return y.index-p.index}},function(A,x,s){var d=s(55);A.exports=function(y,p){if(y!==p){var n=y!==void 0,a=y===null,u=y==y,i=d(y),r=p!==void 0,o=p===null,c=p==p,h=d(p);if(!o&&!h&&!i&&y>p||i&&r&&c&&!o&&!h||a&&r&&c||!n&&c||!u)return 1;if(!a&&!i&&!h&&y<p||h&&n&&u&&!a&&!i||o&&n&&u||!r&&u||!c)return-1}return 0}},function(A,x,s){var d=s(201),y=0;A.exports=function(p){var n=++y;return d(p)+n}},function(A,x,s){var d=s(81),y=s(522);A.exports=function(p,n){return y(p||[],n||[],d)}},function(A,x){A.exports=function(s,d,y){for(var p=-1,n=s.length,a=d.length,u={};++p<n;){var i=p<a?d[p]:void 0;y(u,s[p],i)}return u}},function(A,x,s){"use strict";var d=s(13),y=s(524);A.exports={run:function(n){var a=n.graph().acyclicer==="greedy"?y(n,function(u){return function(i){return u.edge(i).weight}}(n)):function(u){var i=[],r={},o={};function c(h){d.has(o,h)||(o[h]=!0,r[h]=!0,d.forEach(u.outEdges(h),function(v){d.has(r,v.w)?i.push(v):c(v.w)}),delete r[h])}return d.forEach(u.nodes(),c),i}(n);d.forEach(a,function(u){var i=n.edge(u);n.removeEdge(u),i.forwardName=u.name,i.reversed=!0,n.setEdge(u.w,u.v,i,d.uniqueId("rev"))})},undo:function(n){d.forEach(n.edges(),function(a){var u=n.edge(a);if(u.reversed){n.removeEdge(a);var i=u.forwardName;delete u.reversed,delete u.forwardName,n.setEdge(a.w,a.v,u,i)}})}}},function(A,x,s){var d=s(13),y=s(30).Graph,p=s(525);A.exports=function(i,r){if(i.nodeCount()<=1)return[];var o=function(h,v){var f=new y,m=0,b=0;d.forEach(h.nodes(),function(E){f.setNode(E,{v:E,in:0,out:0})}),d.forEach(h.edges(),function(E){var C=f.edge(E.v,E.w)||0,j=v(E),B=C+j;f.setEdge(E.v,E.w,B),b=Math.max(b,f.node(E.v).out+=j),m=Math.max(m,f.node(E.w).in+=j)});var M=d.range(b+m+3).map(function(){return new p}),O=m+1;return d.forEach(f.nodes(),function(E){u(M,O,f.node(E))}),{graph:f,buckets:M,zeroIdx:O}}(i,r||n),c=function(h,v,f){for(var m,b=[],M=v[v.length-1],O=v[0];h.nodeCount();){for(;m=O.dequeue();)a(h,v,f,m);for(;m=M.dequeue();)a(h,v,f,m);if(h.nodeCount()){for(var E=v.length-2;E>0;--E)if(m=v[E].dequeue()){b=b.concat(a(h,v,f,m,!0));break}}}return b}(o.graph,o.buckets,o.zeroIdx);return d.flatten(d.map(c,function(h){return i.outEdges(h.v,h.w)}),!0)};var n=d.constant(1);function a(i,r,o,c,h){var v=h?[]:void 0;return d.forEach(i.inEdges(c.v),function(f){var m=i.edge(f),b=i.node(f.v);h&&v.push({v:f.v,w:f.w}),b.out-=m,u(r,o,b)}),d.forEach(i.outEdges(c.v),function(f){var m=i.edge(f),b=f.w,M=i.node(b);M.in-=m,u(r,o,M)}),i.removeNode(c.v),v}function u(i,r,o){o.out?o.in?i[o.out-o.in+r].enqueue(o):i[i.length-1].enqueue(o):i[0].enqueue(o)}},function(A,x){function s(){var p={};p._next=p._prev=p,this._sentinel=p}function d(p){p._prev._next=p._next,p._next._prev=p._prev,delete p._next,delete p._prev}function y(p,n){if(p!=="_next"&&p!=="_prev")return n}A.exports=s,s.prototype.dequeue=function(){var p=this._sentinel,n=p._prev;if(n!==p)return d(n),n},s.prototype.enqueue=function(p){var n=this._sentinel;p._prev&&p._next&&d(p),p._next=n._next,n._next._prev=p,n._next=p,p._prev=n},s.prototype.toString=function(){for(var p=[],n=this._sentinel,a=n._prev;a!==n;)p.push(JSON.stringify(a,y)),a=a._prev;return"["+p.join(", ")+"]"}},function(A,x,s){"use strict";var d=s(13),y=s(20);A.exports={run:function(n){n.graph().dummyChains=[],d.forEach(n.edges(),function(a){(function(u,i){var r,o,c,h=i.v,v=u.node(h).rank,f=i.w,m=u.node(f).rank,b=i.name,M=u.edge(i),O=M.labelRank;if(m!==v+1){for(u.removeEdge(i),c=0,++v;v<m;++c,++v)M.points=[],o={width:0,height:0,edgeLabel:M,edgeObj:i,rank:v},r=y.addDummyNode(u,"edge",o,"_d"),v===O&&(o.width=M.width,o.height=M.height,o.dummy="edge-label",o.labelpos=M.labelpos),u.setEdge(h,r,{weight:M.weight},b),c===0&&u.graph().dummyChains.push(r),h=r;u.setEdge(h,f,{weight:M.weight},b)}})(n,a)})},undo:function(n){d.forEach(n.graph().dummyChains,function(a){var u,i=n.node(a),r=i.edgeLabel;for(n.setEdge(i.edgeObj,r);i.dummy;)u=n.successors(a)[0],n.removeNode(a),r.points.push({x:i.x,y:i.y}),i.dummy==="edge-label"&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),a=u,i=n.node(a)})}}},function(A,x,s){"use strict";var d=s(93).longestPath,y=s(225),p=s(528);A.exports=function(u){switch(u.graph().ranker){case"network-simplex":a(u);break;case"tight-tree":(function(i){d(i),y(i)})(u);break;case"longest-path":n(u);break;default:a(u)}};var n=d;function a(u){p(u)}},function(A,x,s){"use strict";var d=s(13),y=s(225),p=s(93).slack,n=s(93).longestPath,a=s(30).alg.preorder,u=s(30).alg.postorder,i=s(20).simplify;function r(O){O=i(O),n(O);var E,C=y(O);for(h(C),o(C,O);E=f(C);)b(C,O,E,m(C,O,E))}function o(O,E){var C=u(O,O.nodes());C=C.slice(0,C.length-1),d.forEach(C,function(j){(function(B,N,I){var F=B.node(I).parent;B.edge(I,F).cutvalue=c(B,N,I)})(O,E,j)})}function c(O,E,C){var j=O.node(C).parent,B=!0,N=E.edge(C,j),I=0;return N||(B=!1,N=E.edge(j,C)),I=N.weight,d.forEach(E.nodeEdges(C),function(F){var G,U,H=F.v===C,Q=H?F.w:F.v;if(Q!==j){var at=H===B,$=E.edge(F).weight;if(I+=at?$:-$,G=C,U=Q,O.hasEdge(G,U)){var K=O.edge(C,Q).cutvalue;I+=at?-K:K}}}),I}function h(O,E){arguments.length<2&&(E=O.nodes()[0]),v(O,{},1,E)}function v(O,E,C,j,B){var N=C,I=O.node(j);return E[j]=!0,d.forEach(O.neighbors(j),function(F){d.has(E,F)||(C=v(O,E,C,F,j))}),I.low=N,I.lim=C++,B?I.parent=B:delete I.parent,C}function f(O){return d.find(O.edges(),function(E){return O.edge(E).cutvalue<0})}function m(O,E,C){var j=C.v,B=C.w;E.hasEdge(j,B)||(j=C.w,B=C.v);var N=O.node(j),I=O.node(B),F=N,G=!1;N.lim>I.lim&&(F=I,G=!0);var U=d.filter(E.edges(),function(H){return G===M(O,O.node(H.v),F)&&G!==M(O,O.node(H.w),F)});return d.minBy(U,function(H){return p(E,H)})}function b(O,E,C,j){var B=C.v,N=C.w;O.removeEdge(B,N),O.setEdge(j.v,j.w,{}),h(O),o(O,E),function(I,F){var G=d.find(I.nodes(),function(H){return!F.node(H).parent}),U=a(I,G);U=U.slice(1),d.forEach(U,function(H){var Q=I.node(H).parent,at=F.edge(H,Q),$=!1;at||(at=F.edge(Q,H),$=!0),F.node(H).rank=F.node(Q).rank+($?at.minlen:-at.minlen)})}(O,E)}function M(O,E,C){return C.low<=E.lim&&E.lim<=C.lim}A.exports=r,r.initLowLimValues=h,r.initCutValues=o,r.calcCutValue=c,r.leaveEdge=f,r.enterEdge=m,r.exchangeEdges=b},function(A,x,s){var d=s(13);A.exports=function(y){var p=function(n){var a={},u=0;function i(r){var o=u;d.forEach(n.children(r),i),a[r]={low:o,lim:u++}}return d.forEach(n.children(),i),a}(y);d.forEach(y.graph().dummyChains,function(n){for(var a=y.node(n),u=a.edgeObj,i=function(f,m,b,M){var O,E,C=[],j=[],B=Math.min(m[b].low,m[M].low),N=Math.max(m[b].lim,m[M].lim);O=b;do O=f.parent(O),C.push(O);while(O&&(m[O].low>B||N>m[O].lim));for(E=O,O=M;(O=f.parent(O))!==E;)j.push(O);return{path:C.concat(j.reverse()),lca:E}}(y,p,u.v,u.w),r=i.path,o=i.lca,c=0,h=r[c],v=!0;n!==u.w;){if(a=y.node(n),v){for(;(h=r[c])!==o&&y.node(h).maxRank<a.rank;)c++;h===o&&(v=!1)}if(!v){for(;c<r.length-1&&y.node(h=r[c+1]).minRank<=a.rank;)c++;h=r[c]}y.setParent(n,h),n=y.successors(n)[0]}})}},function(A,x,s){var d=s(13),y=s(20);A.exports={run:function(n){var a=y.addDummyNode(n,"root",{},"_root"),u=function(c){var h={};return d.forEach(c.children(),function(v){(function f(m,b){var M=c.children(m);M&&M.length&&d.forEach(M,function(O){f(O,b+1)}),h[m]=b})(v,1)}),h}(n),i=d.max(d.values(u))-1,r=2*i+1;n.graph().nestingRoot=a,d.forEach(n.edges(),function(c){n.edge(c).minlen*=r});var o=function(c){return d.reduce(c.edges(),function(h,v){return h+c.edge(v).weight},0)}(n)+1;d.forEach(n.children(),function(c){(function h(v,f,m,b,M,O,E){var C=v.children(E);if(!C.length)return void(E!==f&&v.setEdge(f,E,{weight:0,minlen:m}));var j=y.addBorderNode(v,"_bt"),B=y.addBorderNode(v,"_bb"),N=v.node(E);v.setParent(j,E),N.borderTop=j,v.setParent(B,E),N.borderBottom=B,d.forEach(C,function(I){h(v,f,m,b,M,O,I);var F=v.node(I),G=F.borderTop?F.borderTop:I,U=F.borderBottom?F.borderBottom:I,H=F.borderTop?b:2*b,Q=G!==U?1:M-O[E]+1;v.setEdge(j,G,{weight:H,minlen:Q,nestingEdge:!0}),v.setEdge(U,B,{weight:H,minlen:Q,nestingEdge:!0})}),v.parent(E)||v.setEdge(f,j,{weight:0,minlen:M+O[E]})})(n,a,r,o,i,u,c)}),n.graph().nodeRankFactor=r},cleanup:function(n){var a=n.graph();n.removeNode(a.nestingRoot),delete a.nestingRoot,d.forEach(n.edges(),function(u){n.edge(u).nestingEdge&&n.removeEdge(u)})}}},function(A,x,s){var d=s(13),y=s(20);function p(n,a,u,i,r,o){var c={width:0,height:0,rank:o,borderType:a},h=r[a][o-1],v=y.addDummyNode(n,"border",c,u);r[a][o]=v,n.setParent(v,i),h&&n.setEdge(h,v,{weight:1})}A.exports=function(n){d.forEach(n.children(),function a(u){var i=n.children(u),r=n.node(u);if(i.length&&d.forEach(i,a),d.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var o=r.minRank,c=r.maxRank+1;o<c;++o)p(n,"borderLeft","_bl",u,r,o),p(n,"borderRight","_br",u,r,o)}})}},function(A,x,s){"use strict";var d=s(13);function y(u){d.forEach(u.nodes(),function(i){p(u.node(i))}),d.forEach(u.edges(),function(i){p(u.edge(i))})}function p(u){var i=u.width;u.width=u.height,u.height=i}function n(u){u.y=-u.y}function a(u){var i=u.x;u.x=u.y,u.y=i}A.exports={adjust:function(i){var r=i.graph().rankdir.toLowerCase();r!=="lr"&&r!=="rl"||y(i)},undo:function(i){var r=i.graph().rankdir.toLowerCase();r!=="bt"&&r!=="rl"||function(o){d.forEach(o.nodes(),function(c){n(o.node(c))}),d.forEach(o.edges(),function(c){var h=o.edge(c);d.forEach(h.points,n),d.has(h,"y")&&n(h)})}(i),r!=="lr"&&r!=="rl"||(function(o){d.forEach(o.nodes(),function(c){a(o.node(c))}),d.forEach(o.edges(),function(c){var h=o.edge(c);d.forEach(h.points,a),d.has(h,"x")&&a(h)})}(i),y(i))}}},function(A,x,s){"use strict";var d=s(13),y=s(534),p=s(535),n=s(536),a=s(540),u=s(541),i=s(30).Graph,r=s(20);function o(v,f,m){return d.map(f,function(b){return a(v,b,m)})}function c(v,f){var m=new i;d.forEach(v,function(b){var M=b.graph().root,O=n(b,M,m,f);d.forEach(O.vs,function(E,C){b.node(E).order=C}),u(b,m,O.vs)})}function h(v,f){d.forEach(f,function(m){d.forEach(m,function(b,M){v.node(b).order=M})})}A.exports=function(v){var f=r.maxRank(v),m=o(v,d.range(1,f+1),"inEdges"),b=o(v,d.range(f-1,-1,-1),"outEdges"),M=y(v);h(v,M);for(var O,E=Number.POSITIVE_INFINITY,C=0,j=0;j<4;++C,++j){c(C%2?m:b,C%4>=2),M=r.buildLayerMatrix(v);var B=p(v,M);B<E&&(j=0,O=d.cloneDeep(M),E=B)}h(v,O)}},function(A,x,s){"use strict";var d=s(13);A.exports=function(y){var p={},n=d.filter(y.nodes(),function(r){return!y.children(r).length}),a=d.max(d.map(n,function(r){return y.node(r).rank})),u=d.map(d.range(a+1),function(){return[]}),i=d.sortBy(n,function(r){return y.node(r).rank});return d.forEach(i,function r(o){if(!d.has(p,o)){p[o]=!0;var c=y.node(o);u[c.rank].push(o),d.forEach(y.successors(o),r)}}),u}},function(A,x,s){"use strict";var d=s(13);function y(p,n,a){for(var u=d.zipObject(a,d.map(a,function(v,f){return f})),i=d.flatten(d.map(n,function(v){return d.sortBy(d.map(p.outEdges(v),function(f){return{pos:u[f.w],weight:p.edge(f).weight}}),"pos")}),!0),r=1;r<a.length;)r<<=1;var o=2*r-1;r-=1;var c=d.map(new Array(o),function(){return 0}),h=0;return d.forEach(i.forEach(function(v){var f=v.pos+r;c[f]+=v.weight;for(var m=0;f>0;)f%2&&(m+=c[f+1]),c[f=f-1>>1]+=v.weight;h+=v.weight*m})),h}A.exports=function(p,n){for(var a=0,u=1;u<n.length;++u)a+=y(p,n[u-1],n[u]);return a}},function(A,x,s){var d=s(13),y=s(537),p=s(538),n=s(539);A.exports=function a(u,i,r,o){var c=u.children(i),h=u.node(i),v=h?h.borderLeft:void 0,f=h?h.borderRight:void 0,m={};v&&(c=d.filter(c,function(j){return j!==v&&j!==f}));var b=y(u,c);d.forEach(b,function(j){if(u.children(j.v).length){var B=a(u,j.v,r,o);m[j.v]=B,d.has(B,"barycenter")&&(N=j,I=B,d.isUndefined(N.barycenter)?(N.barycenter=I.barycenter,N.weight=I.weight):(N.barycenter=(N.barycenter*N.weight+I.barycenter*I.weight)/(N.weight+I.weight),N.weight+=I.weight))}var N,I});var M=p(b,r);(function(j,B){d.forEach(j,function(N){N.vs=d.flatten(N.vs.map(function(I){return B[I]?B[I].vs:I}),!0)})})(M,m);var O=n(M,o);if(v&&(O.vs=d.flatten([v,O.vs,f],!0),u.predecessors(v).length)){var E=u.node(u.predecessors(v)[0]),C=u.node(u.predecessors(f)[0]);d.has(O,"barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+E.order+C.order)/(O.weight+2),O.weight+=2}return O}},function(A,x,s){var d=s(13);A.exports=function(y,p){return d.map(p,function(n){var a=y.inEdges(n);if(a.length){var u=d.reduce(a,function(i,r){var o=y.edge(r),c=y.node(r.v);return{sum:i.sum+o.weight*c.order,weight:i.weight+o.weight}},{sum:0,weight:0});return{v:n,barycenter:u.sum/u.weight,weight:u.weight}}return{v:n}})}},function(A,x,s){"use strict";var d=s(13);A.exports=function(y,p){var n={};return d.forEach(y,function(a,u){var i=n[a.v]={indegree:0,in:[],out:[],vs:[a.v],i:u};d.isUndefined(a.barycenter)||(i.barycenter=a.barycenter,i.weight=a.weight)}),d.forEach(p.edges(),function(a){var u=n[a.v],i=n[a.w];d.isUndefined(u)||d.isUndefined(i)||(i.indegree++,u.out.push(n[a.w]))}),function(a){var u=[];function i(c){return function(h){h.merged||(d.isUndefined(h.barycenter)||d.isUndefined(c.barycenter)||h.barycenter>=c.barycenter)&&function(v,f){var m=0,b=0;v.weight&&(m+=v.barycenter*v.weight,b+=v.weight),f.weight&&(m+=f.barycenter*f.weight,b+=f.weight),v.vs=f.vs.concat(v.vs),v.barycenter=m/b,v.weight=b,v.i=Math.min(f.i,v.i),f.merged=!0}(c,h)}}function r(c){return function(h){h.in.push(c),--h.indegree==0&&a.push(h)}}for(;a.length;){var o=a.pop();u.push(o),d.forEach(o.in.reverse(),i(o)),d.forEach(o.out,r(o))}return d.map(d.filter(u,function(c){return!c.merged}),function(c){return d.pick(c,["vs","i","barycenter","weight"])})}(d.filter(n,function(a){return!a.indegree}))}},function(A,x,s){var d=s(13),y=s(20);function p(n,a,u){for(var i;a.length&&(i=d.last(a)).i<=u;)a.pop(),n.push(i.vs),u++;return u}A.exports=function(n,a){var u=y.partition(n,function(b){return d.has(b,"barycenter")}),i=u.lhs,r=d.sortBy(u.rhs,function(b){return-b.i}),o=[],c=0,h=0,v=0;i.sort((f=!!a,function(b,M){return b.barycenter<M.barycenter?-1:b.barycenter>M.barycenter?1:f?M.i-b.i:b.i-M.i})),v=p(o,r,v),d.forEach(i,function(b){v+=b.vs.length,o.push(b.vs),c+=b.barycenter*b.weight,h+=b.weight,v=p(o,r,v)});var f,m={vs:d.flatten(o,!0)};return h&&(m.barycenter=c/h,m.weight=h),m}},function(A,x,s){var d=s(13),y=s(30).Graph;A.exports=function(p,n,a){var u=function(r){for(var o;r.hasNode(o=d.uniqueId("_root")););return o}(p),i=new y({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(r){return p.node(r)});return d.forEach(p.nodes(),function(r){var o=p.node(r),c=p.parent(r);(o.rank===n||o.minRank<=n&&n<=o.maxRank)&&(i.setNode(r),i.setParent(r,c||u),d.forEach(p[a](r),function(h){var v=h.v===r?h.w:h.v,f=i.edge(v,r),m=d.isUndefined(f)?0:f.weight;i.setEdge(v,r,{weight:p.edge(h).weight+m})}),d.has(o,"minRank")&&i.setNode(r,{borderLeft:o.borderLeft[n],borderRight:o.borderRight[n]}))}),i}},function(A,x,s){var d=s(13);A.exports=function(y,p,n){var a,u={};d.forEach(n,function(i){for(var r,o,c=y.parent(i);c;){if((r=y.parent(c))?(o=u[r],u[r]=c):(o=a,a=c),o&&o!==c)return void p.setEdge(o,c);c=r}})}},function(A,x,s){"use strict";var d=s(13),y=s(20),p=s(543).positionX;A.exports=function(n){(function(a){var u=y.buildLayerMatrix(a),i=a.graph().ranksep,r=0;d.forEach(u,function(o){var c=d.max(d.map(o,function(h){return a.node(h).height}));d.forEach(o,function(h){a.node(h).y=r+c/2}),r+=c+i})})(n=y.asNonCompoundGraph(n)),d.forEach(p(n),function(a,u){n.node(u).x=a})}},function(A,x,s){"use strict";var d=s(13),y=s(30).Graph,p=s(20);function n(f,m){var b={};return d.reduce(m,function(M,O){var E=0,C=0,j=M.length,B=d.last(O);return d.forEach(O,function(N,I){var F=function(U,H){if(U.node(H).dummy)return d.find(U.predecessors(H),function(Q){return U.node(Q).dummy})}(f,N),G=F?f.node(F).order:j;(F||N===B)&&(d.forEach(O.slice(C,I+1),function(U){d.forEach(f.predecessors(U),function(H){var Q=f.node(H),at=Q.order;!(at<E||G<at)||Q.dummy&&f.node(U).dummy||u(b,H,U)})}),C=I+1,E=G)}),O}),b}function a(f,m){var b={};function M(O,E,C,j,B){var N;d.forEach(d.range(E,C),function(I){N=O[I],f.node(N).dummy&&d.forEach(f.predecessors(N),function(F){var G=f.node(F);G.dummy&&(G.order<j||G.order>B)&&u(b,F,N)})})}return d.reduce(m,function(O,E){var C,j=-1,B=0;return d.forEach(E,function(N,I){if(f.node(N).dummy==="border"){var F=f.predecessors(N);F.length&&(C=f.node(F[0]).order,M(E,B,I,j,C),B=I,j=C)}M(E,B,E.length,C,O.length)}),E}),b}function u(f,m,b){if(m>b){var M=m;m=b,b=M}var O=f[m];O||(f[m]=O={}),O[b]=!0}function i(f,m,b){if(m>b){var M=m;m=b,b=M}return d.has(f[m],b)}function r(f,m,b,M){var O={},E={},C={};return d.forEach(m,function(j){d.forEach(j,function(B,N){O[B]=B,E[B]=B,C[B]=N})}),d.forEach(m,function(j){var B=-1;d.forEach(j,function(N){var I=M(N);if(I.length)for(var F=((I=d.sortBy(I,function(Q){return C[Q]})).length-1)/2,G=Math.floor(F),U=Math.ceil(F);G<=U;++G){var H=I[G];E[N]===N&&B<C[H]&&!i(b,N,H)&&(E[H]=N,E[N]=O[N]=O[H],B=C[H])}})}),{root:O,align:E}}function o(f,m,b,M,O){var E={},C=function(N,I,F,G){var U=new y,H=N.graph(),Q=function(at,$,K){return function(ot,it,ht){var St,gt=ot.node(it),bt=ot.node(ht),mt=0;if(mt+=gt.width/2,d.has(gt,"labelpos"))switch(gt.labelpos.toLowerCase()){case"l":St=-gt.width/2;break;case"r":St=gt.width/2}if(St&&(mt+=K?St:-St),St=0,mt+=(gt.dummy?$:at)/2,mt+=(bt.dummy?$:at)/2,mt+=bt.width/2,d.has(bt,"labelpos"))switch(bt.labelpos.toLowerCase()){case"l":St=bt.width/2;break;case"r":St=-bt.width/2}return St&&(mt+=K?St:-St),St=0,mt}}(H.nodesep,H.edgesep,G);return d.forEach(I,function(at){var $;d.forEach(at,function(K){var ot=F[K];if(U.setNode(ot),$){var it=F[$],ht=U.edge(it,ot);U.setEdge(it,ot,Math.max(Q(N,K,$),ht||0))}$=K})}),U}(f,m,b,O),j=O?"borderLeft":"borderRight";function B(N,I){for(var F=C.nodes(),G=F.pop(),U={};G;)U[G]?N(G):(U[G]=!0,F.push(G),F=F.concat(I(G))),G=F.pop()}return B(function(N){E[N]=C.inEdges(N).reduce(function(I,F){return Math.max(I,E[F.v]+C.edge(F))},0)},C.predecessors.bind(C)),B(function(N){var I=C.outEdges(N).reduce(function(G,U){return Math.min(G,E[U.w]-C.edge(U))},Number.POSITIVE_INFINITY),F=f.node(N);I!==Number.POSITIVE_INFINITY&&F.borderType!==j&&(E[N]=Math.max(E[N],I))},C.successors.bind(C)),d.forEach(M,function(N){E[N]=E[b[N]]}),E}function c(f,m){return d.minBy(d.values(m),function(b){var M=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY;return d.forIn(b,function(E,C){var j=function(B,N){return B.node(N).width}(f,C)/2;M=Math.max(E+j,M),O=Math.min(E-j,O)}),M-O})}function h(f,m){var b=d.values(m),M=d.min(b),O=d.max(b);d.forEach(["u","d"],function(E){d.forEach(["l","r"],function(C){var j,B=E+C,N=f[B];if(N!==m){var I=d.values(N);(j=C==="l"?M-d.min(I):O-d.max(I))&&(f[B]=d.mapValues(N,function(F){return F+j}))}})})}function v(f,m){return d.mapValues(f.ul,function(b,M){if(m)return f[m.toLowerCase()][M];var O=d.sortBy(d.map(f,M));return(O[1]+O[2])/2})}A.exports={positionX:function(m){var b,M=p.buildLayerMatrix(m),O=d.merge(n(m,M),a(m,M)),E={};d.forEach(["u","d"],function(j){b=j==="u"?M:d.values(M).reverse(),d.forEach(["l","r"],function(B){B==="r"&&(b=d.map(b,function(G){return d.values(G).reverse()}));var N=(j==="u"?m.predecessors:m.successors).bind(m),I=r(m,b,O,N),F=o(m,b,I.root,I.align,B==="r");B==="r"&&(F=d.mapValues(F,function(G){return-G})),E[j+B]=F})});var C=c(m,E);return h(E,C),v(E,m.graph().align)},findType1Conflicts:n,findType2Conflicts:a,addConflict:u,hasConflict:i,verticalAlignment:r,horizontalCompaction:o,alignCoordinates:h,findSmallestWidthAlignment:c,balance:v}},function(A,x,s){var d=s(13),y=s(20),p=s(30).Graph;A.exports={debugOrdering:function(a){var u=y.buildLayerMatrix(a),i=new p({compound:!0,multigraph:!0}).setGraph({});return d.forEach(a.nodes(),function(r){i.setNode(r,{label:r}),i.setParent(r,"layer"+a.node(r).rank)}),d.forEach(a.edges(),function(r){i.setEdge(r.v,r.w,{},r.name)}),d.forEach(u,function(r,o){var c="layer"+o;i.setNode(c,{rank:"same"}),d.reduce(r,function(h,v){return i.setEdge(h,v,{style:"invis"}),v})}),i}}},function(A,x){A.exports="0.8.5"},function(A,x,s){var d=s(94),y=s(547),p=s(129),n=s(48),a=function(i){var r,o;function c(){return i.apply(this,arguments)||this}return o=i,(r=c).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o,c.prototype.execute=function(){return p(this.rootNode,this.options,y)},c}(d),u={};A.exports=function(i,r){return r=n.assign({},u,r),new a(i,r).execute()}},function(A,x){function s(y,p,n,a){a===void 0&&(a=[]);var u=this;u.w=y||0,u.h=p||0,u.y=n||0,u.x=0,u.c=a||[],u.cs=a.length,u.prelim=0,u.mod=0,u.shift=0,u.change=0,u.tl=null,u.tr=null,u.el=null,u.er=null,u.msel=0,u.mser=0}function d(y,p){var n=function a(u,i){var r=i?u.y:u.x;return u.children.forEach(function(o){r=Math.min(a(o,i),r)}),r}(y,p);(function a(u,i,r){r?u.y+=i:u.x+=i,u.children.forEach(function(o){a(o,i,r)})})(y,-n,p)}s.fromNode=function(y,p){if(!y)return null;var n=[];return y.children.forEach(function(a){n.push(s.fromNode(a,p))}),p?new s(y.height,y.width,y.x,n):new s(y.width,y.height,y.y,n)},A.exports=function(y,p){p===void 0&&(p={});var n=p.isHorizontal;function a(f){f.cs===0?(f.el=f,f.er=f,f.msel=f.mser=0):(f.el=f.c[0].el,f.msel=f.c[0].msel,f.er=f.c[f.cs-1].er,f.mser=f.c[f.cs-1].mser)}function u(f,m,b){for(var M=f.c[m-1],O=M.mod,E=f.c[m],C=E.mod;M!==null&&E!==null;){c(M)>b.low&&(b=b.nxt);var j=O+M.prelim+M.w-(C+E.prelim);j>0&&(C+=j,i(f,m,b.index,j));var B=c(M),N=c(E);B<=N&&(M=o(M))!==null&&(O+=M.mod),B>=N&&(E=r(E))!==null&&(C+=E.mod)}!M&&E?function(I,F,G,U){var H=I.c[0].el;H.tl=G;var Q=U-G.mod-I.c[0].msel;H.mod+=Q,H.prelim-=Q,I.c[0].el=I.c[F].el,I.c[0].msel=I.c[F].msel}(f,m,E,C):M&&!E&&function(I,F,G,U){var H=I.c[F].er;H.tr=G;var Q=U-G.mod-I.c[F].mser;H.mod+=Q,H.prelim-=Q,I.c[F].er=I.c[F-1].er,I.c[F].mser=I.c[F-1].mser}(f,m,M,O)}function i(f,m,b,M){f.c[m].mod+=M,f.c[m].msel+=M,f.c[m].mser+=M,function(O,E,C,j){if(C!==E-1){var B=E-C;O.c[C+1].shift+=j/B,O.c[E].shift-=j/B,O.c[E].change-=j-j/B}}(f,m,b,M)}function r(f){return f.cs===0?f.tl:f.c[0]}function o(f){return f.cs===0?f.tr:f.c[f.cs-1]}function c(f){return f.y+f.h}function h(f,m,b){for(;b!==null&&f>=b.low;)b=b.nxt;return{low:f,index:m,nxt:b}}(function f(m,b,M){M===void 0&&(M=0),b?(m.x=M,M+=m.width):(m.y=M,M+=m.height),m.children.forEach(function(O){f(O,b,M)})})(y,n);var v=s.fromNode(y,n);return function f(m){if(m.cs!==0){f(m.c[0]);for(var b=h(c(m.c[0].el),0,null),M=1;M<m.cs;++M){f(m.c[M]);var O=c(m.c[M].er);u(m,M,b),b=h(O,M,b)}(function(E){E.prelim=(E.c[0].prelim+E.c[0].mod+E.c[E.cs-1].mod+E.c[E.cs-1].prelim+E.c[E.cs-1].w)/2-E.w/2})(m),a(m)}else a(m)}(v),function f(m,b){b+=m.mod,m.x=m.prelim+b,function(O){for(var E=0,C=0,j=0;j<O.cs;j++)E+=O.c[j].shift,C+=E+O.c[j].change,O.c[j].mod+=C}(m);for(var M=0;M<m.cs;M++)f(m.c[M],b)}(v,0),function f(m,b,M){M?b.y=m.x:b.x=m.x,m.c.forEach(function(O,E){f(O,b.children[E],M)})}(v,y,n),d(y,n),y}},function(A,x,s){var d=s(94),y=s(549),p=s(129),n=s(48),a=function(i){var r,o;function c(){return i.apply(this,arguments)||this}return o=i,(r=c).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o,c.prototype.execute=function(){return this.rootNode.width=0,p(this.rootNode,this.options,y)},c}(d),u={};A.exports=function(i,r){return r=n.assign({},u,r),new a(i,r).execute()}},function(A,x,s){var d=s(48);function y(n,a){n===void 0&&(n=0),a===void 0&&(a=[]);var u=this;u.x=u.y=0,u.leftChild=u.rightChild=null,u.height=0,u.children=a}var p={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};A.exports=function(n,a){a===void 0&&(a={}),a=d.assign({},p,a);var u,i=0,r=function o(c){if(!c)return null;c.width=0,c.depth&&c.depth>i&&(i=c.depth);var h=c.children,v=h.length,f=new y(c.height,[]);return h.forEach(function(m,b){var M=o(m);f.children.push(M),b===0&&(f.leftChild=M),b===v-1&&(f.rightChild=M)}),f.originNode=c,f.isLeaf=c.isLeaf(),f}(n);return function o(c){if(c.isLeaf||c.children.length===0)c.drawingDepth=i;else{var h=c.children.map(function(f){return o(f)}),v=Math.min.apply(null,h);c.drawingDepth=v-1}return c.drawingDepth}(r),function o(c){c.x=c.drawingDepth*a.rankSep,c.isLeaf?(c.y=0,u&&(c.y=u.y+u.height+a.nodeSep,c.originNode.parent!==u.originNode.parent&&(c.y+=a.subTreeSep)),u=c):(c.children.forEach(function(h){o(h)}),c.y=(c.leftChild.y+c.rightChild.y)/2)}(r),function o(c,h,v){v?(h.x=c.x,h.y=c.y):(h.x=c.y,h.y=c.x),c.children.forEach(function(f,m){o(f,h.children[m],v)})}(r,n,a.isHorizontal),n}},function(A,x,s){var d=s(94),y=s(551),p=s(227),n=s(48),a=["LR","RL","H"],u=a[0],i=function(o){var c,h;function v(){return o.apply(this,arguments)||this}return h=o,(c=v).prototype=Object.create(h.prototype),c.prototype.constructor=c,c.__proto__=h,v.prototype.execute=function(){var f=this.options,m=this.rootNode;f.isHorizontal=!0;var b=f.indent,M=b===void 0?20:b,O=f.dropCap,E=O===void 0||O,C=f.direction||u;if(C&&a.indexOf(C)===-1)throw new TypeError("Invalid direction: "+C);if(C===a[0])y(m,M,E);else if(C===a[1])y(m,M,E),m.right2left();else if(C===a[2]){var j=p(m,f),B=j.left,N=j.right;y(B,M,E),B.right2left(),y(N,M,E);var I=B.getBoundingBox();N.translate(I.width,0),m.x=N.x-m.width/2}return m},v}(d),r={};A.exports=function(o,c){return c=n.assign({},r,c),new i(o,c).execute()}},function(A,x){A.exports=function(s,d,y){var p=null;s.eachNode(function(n){(function(a,u,i,r){if(!r)try{if(a.id===a.parent.children[0].id)return a.x+=i*a.depth,void(a.y=u?u.y:0)}catch(o){}a.x+=i*a.depth,a.y=u?u.y+u.height:0})(n,p,d,y),p=n})}},function(A,x,s){var d=s(94),y=s(553),p=s(129),n=s(48),a=function(i){var r,o;function c(){return i.apply(this,arguments)||this}return o=i,(r=c).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o,c.prototype.execute=function(){return p(this.rootNode,this.options,y)},c}(d),u={};A.exports=function(i,r){return r=n.assign({},u,r),new a(i,r).execute()}},function(A,x,s){var d=s(48),y={getSubTreeSep:function(){return 0}};A.exports=function(p,n){n===void 0&&(n={}),n=d.assign({},y,n),p.parent={x:0,width:0,height:0,y:0},p.BFTraverse(function(a){a.x=a.parent.x+a.parent.width}),p.parent=null,function a(u,i){var r=0;return u.children.length?u.children.forEach(function(o){r+=a(o,i)}):r=u.height,u._subTreeSep=i.getSubTreeSep(u.data),u.totalHeight=Math.max(u.height,r)+2*u._subTreeSep,u.totalHeight}(p,n),p.startY=0,p.y=p.totalHeight/2-p.height/2,p.eachNode(function(a){var u=a.children,i=u.length;if(i){var r=u[0];if(r.startY=a.startY+a._subTreeSep,i===1)r.y=a.y+a.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var o=1;o<i;o++){var c=u[o];c.startY=u[o-1].startY+u[o-1].totalHeight,c.y=c.startY+c.totalHeight/2-c.height/2}}}}),function a(u){var i=u.children,r=i.length;if(r){i.forEach(function(m){a(m)});var o=i[0],c=i[r-1],h=c.y-o.y+c.height,v=0;if(i.forEach(function(m){v+=m.totalHeight}),h>u.height)u.y=o.y+h/2-u.height/2;else if(i.length!==1||u.height>v){var f=u.y+(u.height-h)/2-o.y;i.forEach(function(m){m.translate(0,f)})}else u.y=(o.y+o.height/2+c.y+c.height/2)/2-u.height/2}}(p)}},function(A,x){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}A.exports=function(d){return d&&s(d)==="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},function(A,x){typeof Object.create=="function"?A.exports=function(s,d){s.super_=d,s.prototype=Object.create(d.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:A.exports=function(s,d){s.super_=d;var y=function(){};y.prototype=d.prototype,s.prototype=new y,s.prototype.constructor=s}},function(A,x,s){"use strict";s.r(x),s.d(x,"registerNode",function(){return ul}),s.d(x,"registerCombo",function(){return hl}),s.d(x,"Graph",function(){return ho}),s.d(x,"TreeGraph",function(){return za}),s.d(x,"Util",function(){return $a}),s.d(x,"registerEdge",function(){return cl}),s.d(x,"Layout",function(){return Jr}),s.d(x,"Global",function(){return J}),s.d(x,"registerLayout",function(){return fl}),s.d(x,"Minimap",function(){return dl}),s.d(x,"Grid",function(){return pl}),s.d(x,"Bundling",function(){return gl}),s.d(x,"Menu",function(){return vl}),s.d(x,"Fisheye",function(){return Xs}),s.d(x,"registerBehavior",function(){return ll}),s.d(x,"Algorithm",function(){return i}),s.d(x,"ToolBar",function(){return ml}),s.d(x,"Tooltip",function(){return yl}),s.d(x,"TimeBar",function(){return Hs}),s.d(x,"ImageMinimap",function(){return Vs}),s.d(x,"EdgeFilterLens",function(){return Us});var d={};s.r(d),s.d(d,"formatPadding",function(){return U}),s.d(d,"cloneEvent",function(){return H}),s.d(d,"isViewportChanged",function(){return Q}),s.d(d,"isNaN",function(){return at}),s.d(d,"calculationItemsBBox",function(){return $}),s.d(d,"processParallelEdges",function(){return K});var y={};s.r(y),s.d(y,"mixColor",function(){return Z}),s.d(y,"getColorsWithSubjectColor",function(){return W});var p={};s.r(p),s.d(p,"getLineIntersect",function(){return nn}),s.d(p,"getRectIntersectByPoint",function(){return Pn}),s.d(p,"getCircleIntersectByPoint",function(){return bn}),s.d(p,"getEllipseIntersectByPoint",function(){return xn}),s.d(p,"applyMatrix",function(){return rn}),s.d(p,"invertMatrix",function(){return qe}),s.d(p,"getCircleCenterByPoints",function(){return sn}),s.d(p,"distance",function(){return on}),s.d(p,"scaleMatrix",function(){return un}),s.d(p,"floydWarshall",function(){return Re}),s.d(p,"getAdjMatrix",function(){return pn}),s.d(p,"translate",function(){return cn}),s.d(p,"move",function(){return gn}),s.d(p,"scale",function(){return Ze}),s.d(p,"rotate",function(){return hn}),s.d(p,"getDegree",function(){return Cn}),s.d(p,"isPointInPolygon",function(){return ln}),s.d(p,"intersectBBox",function(){return wn}),s.d(p,"isPolygonsIntersect",function(){return Jn}),s.d(p,"Line",function(){return An}),s.d(p,"getBBoxBoundLine",function(){return Gn}),s.d(p,"itemIntersectByLine",function(){return cr}),s.d(p,"fractionToLine",function(){return tr}),s.d(p,"getPointsCenter",function(){return gr}),s.d(p,"squareDist",function(){return er}),s.d(p,"pointLineSquareDist",function(){return hr}),s.d(p,"isPointsOverlap",function(){return lr}),s.d(p,"pointRectSquareDist",function(){return be});var n={};s.r(n),s.d(n,"getSpline",function(){return he}),s.d(n,"getControlPoint",function(){return ce}),s.d(n,"pointsToPolygon",function(){return Vt}),s.d(n,"pathToPoints",function(){return Mt}),s.d(n,"getClosedSpline",function(){return Ft}),s.d(n,"roundedHull",function(){return ge}),s.d(n,"paddedHull",function(){return Ee});var a={};s.r(a),s.d(a,"getBBox",function(){return pi}),s.d(a,"getLoopCfgs",function(){return Yo}),s.d(a,"getLabelPosition",function(){return gi}),s.d(a,"traverseTree",function(){return fn}),s.d(a,"traverseTreeUp",function(){return Bn}),s.d(a,"radialLayout",function(){return zo}),s.d(a,"getLetterWidth",function(){return Xo}),s.d(a,"getTextSize",function(){return Ho}),s.d(a,"plainCombosToTrees",function(){return Wi}),s.d(a,"reconstructTree",function(){return qi}),s.d(a,"getComboBBox",function(){return Zi}),s.d(a,"getChartRegion",function(){return cu});var u={};s.r(u),s.d(u,"default",function(){return bs}),s.d(u,"assign",function(){return mr}),s.d(u,"format",function(){return ms}),s.d(u,"parse",function(){return ys}),s.d(u,"defaultI18n",function(){return wo}),s.d(u,"setGlobalDateI18n",function(){return cs}),s.d(u,"setGlobalDateMasks",function(){return vs});var i={};s.r(i),s.d(i,"depthFirstSearch",function(){return Rs}),s.d(i,"breadthFirstSearch",function(){return Kh}),s.d(i,"detectDirectedCycle",function(){return Qh}),s.d(i,"degree",function(){return Ia}),s.d(i,"adjMatrix",function(){return ki}),s.d(i,"floydWarshall",function(){return Ba}),s.d(i,"getConnectedComponents",function(){return Fs}),s.d(i,"detectAllCycles",function(){return $h}),s.d(i,"detectAllDirectedCycle",function(){return Gs}),s.d(i,"detectAllUndirectedCycle",function(){return Ys}),s.d(i,"findShortestPath",function(){return tl}),s.d(i,"findAllPath",function(){return el}),s.d(i,"minimumSpanningTree",function(){return al}),s.d(i,"getPageRank",function(){return sl});var r,o=s(229),c=s(2),h=s.n(c),v=s(7),f={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,l=this.events;this.graph=e,this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||e.get("canvas").set("draggable",!0),h()(l,function(g,w){e.on(w,g)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events;this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||e.get("canvas").set("draggable",!1),h()(t,function(l,g){e.off(g,l)})},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},m=function(){function S(){}return S.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: "+e);var l=Object(v.clone)(f);Object.assign(l,t);var g=function(_){var k=this;Object.assign(this,this.getDefaultCfg(),_);var P=this.getEvents();this.events=null;var T={};P&&(Object(v.each)(P,function(D,R){T[R]=Object(v.wrapBehavior)(k,D)}),this.events=T)};g.prototype=l,S.types[e]=g},S.hasBehavior=function(e){return!!S.types[e]},S.getBehavior=function(e){return S.types[e]},S.types={},S}();(function(S){S.CLICK="click",S.DBLCLICK="dblclick",S.MOUSEDOWN="mousedown",S.MOUDEUP="mouseup",S.CONTEXTMENU="contextmenu",S.MOUSEENTER="mouseenter",S.MOUSEOUT="mouseout",S.MOUSEOVER="mouseover",S.MOUSEMOVE="mousemove",S.MOUSELEAVE="mouseleave",S.DRAGSTART="dragstart",S.DRAGEND="dragend",S.DRAG="drag",S.DRAGENTER="dragenter",S.DRAGLEAVE="dragleave",S.DRAGOVER="dragover",S.DRAGOUT="dragout",S.DDROP="drop",S.KEYUP="keyup",S.KEYDOWN="keydown",S.WHEEL="wheel",S.FOCUS="focus",S.BLUR="blur",S.TOUCHSTART="touchstart",S.TOUCHMOVE="touchmove",S.TOUCHEND="touchend",S.NODE_CONTEXTMENU="node:contextmenu",S.NODE_CLICK="node:click",S.NODE_DBLCLICK="node:dblclick",S.NODE_MOUSEDOWN="node:mousedown",S.NODE_MOUSEUP="node:mouseup",S.NODE_MOUSEENTER="node:mouseenter",S.NODE_MOUSELEAVE="node:mouseleave",S.NODE_MOUSEMOVE="node:mousemove",S.NODE_MOUSEOUT="node:mouseout",S.NODE_MOUSEOVER="node:mouseover",S.NODE_DROP="node:drop",S.NODE_DRAGOVER="node:dragover",S.NODE_DRAGENTER="node:dragenter",S.NODE_DRAGLEAVE="node:dragleave",S.NODE_DRAGSTART="node:dragstart",S.NODE_DRAG="node:drag",S.NODE_DRAGEND="node:dragend",S.COMBO_CONTEXTMENU="combo:contextmenu",S.COMBO_CLICK="combo:click",S.COMBO_DBLCLICK="combo:dblclick",S.COMBO_MOUSEDOWN="combo:mousedown",S.COMBO_MOUSEUP="combo:mouseup",S.COMBO_MOUSEENTER="combo:mouseenter",S.COMBO_MOUSELEAVE="combo:mouseleave",S.COMBO_MOUSEMOVE="combo:mousemove",S.COMBO_MOUSEOUT="combo:mouseout",S.COMBO_MOUSEOVER="combo:mouseover",S.COMBO_DROP="combo:drop",S.COMBO_DRAGOVER="combo:dragover",S.COMBO_DRAGENTER="combo:dragenter",S.COMBO_DRAGLEAVE="combo:dragleave",S.COMBO_DRAGSTART="combo:dragstart",S.COMBO_DRAG="combo:drag",S.COMBO_DRAGEND="combo:dragend",S.EDGE_CONTEXTMENU="edge:contextmenu",S.EDGE_CLICK="edge:click",S.EDGE_DBLCLICK="edge:dblclick",S.EDGE_MOUSEDOWN="edge:mousedown",S.EDGE_MOUSEUP="edge:mouseup",S.EDGE_MOUSEENTER="edge:mouseenter",S.EDGE_MOUSELEAVE="edge:mouseleave",S.EDGE_MOUSEMOVE="edge:mousemove",S.EDGE_MOUSEOUT="edge:mouseout",S.EDGE_MOUSEOVER="edge:mouseover",S.EDGE_DROP="edge:drop",S.EDGE_DRAGOVER="edge:dragover",S.EDGE_DRAGENTER="edge:dragenter",S.EDGE_DRAGLEAVE="edge:dragleave",S.CANVAS_CONTEXTMENU="canvas:contextmenu",S.CANVAS_CLICK="canvas:click",S.CANVAS_DBLCLICK="canvas:dblclick",S.CANVAS_MOUSEDOWN="canvas:mousedown",S.CANVAS_MOUSEUP="canvas:mouseup",S.CANVAS_MOUSEENTER="canvas:mouseenter",S.CANVAS_MOUSELEAVE="canvas:mouseleave",S.CANVAS_MOUSEMOVE="canvas:mousemove",S.CANVAS_MOUSEOUT="canvas:mouseout",S.CANVAS_MOUSEOVER="canvas:mouseover",S.CANVAS_DROP="canvas:drop",S.CANVAS_DRAGENTER="canvas:dragenter",S.CANVAS_DRAGLEAVE="canvas:dragleave",S.CANVAS_DRAGSTART="canvas:dragstart",S.CANVAS_DRAG="canvas:drag",S.CANVAS_DRAGEND="canvas:dragend",S.BEFORERENDER="beforerender",S.AFTERRENDER="afterrender",S.BEFOREADDITEM="beforeadditem",S.AFTERADDITEM="afteradditem",S.BEFOREREMOVEITEM="beforeremoveitem",S.AFTERREMOVEITEM="afterremoveitem",S.BEFOREUPDATEITEM="beforeupdateitem",S.AFTERUPDATEITEM="afterupdateitem",S.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",S.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",S.BEFOREITEMSTATECHANGE="beforeitemstatechange",S.AFTERITEMSTATECHANGE="afteritemstatechange",S.BEFOREITEMREFRESH="beforeitemrefresh",S.AFTERITEMREFRESH="afteritemrefresh",S.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",S.AFTERITEMSTATESCLEAR="afteritemstatesclear",S.BEFOREMODECHANGE="beforemodechange",S.AFTERMODECHANGE="aftermodechange",S.BEFORELAYOUT="beforelayout",S.AFTERLAYOUT="afterlayout",S.BEFORECREATEEDGE="beforecreateedge",S.AFTERCREATEEDGE="aftercreateedge",S.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",S.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",S.BEFOREGRAPHREFRESH="beforegraphrefresh",S.AFTERGRAPHREFRESH="aftergraphrefresh",S.BEFOREANIMATE="beforeanimate",S.AFTERANIMATE="afteranimate",S.BEFOREPAINT="beforepaint",S.AFTERPAINT="afterpaint",S.GRAPHSTATECHANGE="graphstatechange",S.AFTERACTIVATERELATIONS="afteractivaterelations",S.NODESELECTCHANGE="nodeselectchange",S.TOOLTIPCHANGE="tooltipchange",S.WHEELZOOM="wheelzoom",S.VIEWPORTCHANGE="viewportchange",S.DRAGNODEEND="dragnodeend",S.STACKCHANGE="stackchange"})(r||(r={}));var b=s(4),M=s.n(b),O=s(10),E=s.n(O),C=s(11),j=s.n(C),B=s(3),N=s.n(B),I=s(1),F=s(230),G=function(S){function e(t,l){var g=S.call(this,t,l)||this;return g.item=l.item,g.canvasX=l.canvasX,g.canvasY=l.canvasY,g.wheelDelta=l.wheelDelta,g.detail=l.detail,g}return Object(I.__extends)(e,S),e}(s.n(F).a),U=function(e){var t=0,l=0,g=0,w=0;return j()(e)?t=l=g=w=e:N()(e)?t=l=g=w=parseInt(e,10):M()(e)&&(t=e[0],g=E()(e[1])?e[0]:e[1],w=E()(e[2])?e[0]:e[2],l=E()(e[3])?g:e[3]),[t,g,w,l]},H=function(e){var t=new G(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},Q=function(e){if(!e)return!1;for(var t=[1,0,0,0,1,0,0,0,1],l=0;l<9;l++)if(e[l]!==t[l])return!0;return!1},at=function(e){return Number.isNaN(Number(e))},$=function(e){for(var t=1/0,l=-1/0,g=1/0,w=-1/0,_=0;_<e.length;_++){var k=e[_].getBBox(),P=k.minX,T=k.minY,D=k.maxX,R=k.maxY;P<t&&(t=P),T<g&&(g=T),D>l&&(l=D),R>w&&(w=R)}return{x:Math.floor(t),y:Math.floor(g),width:Math.ceil(l)-Math.floor(t),height:Math.ceil(w)-Math.floor(g),minX:t,minY:g,maxX:l,maxY:w}},K=function(e,t){t===void 0&&(t=15);for(var l=e.length,g=2*t,w=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],_={},k=[],P={},T=0;T<l;T++){var D=e[T],R=D.source,L=D.target,Y=R+"-"+L;if(!k[T]){_[Y]||(_[Y]=[]),k[T]=!0,_[Y].push(D);for(var z=0;z<l;z++)if(T!==z){var q=e[z],nt=q.source,et=q.target;k[z]||(R===et&&L===nt?(_[Y].push(q),k[z]=!0,P[nt+"|"+et+"|"+(_[Y].length-1)]=!0):R===nt&&L===et&&(_[Y].push(q),k[z]=!0))}}}for(var st in _)for(var pt=_[st],Ot=pt.length,wt=0;wt<Ot;wt++){var yt=pt[wt];if(yt.source!==yt.target){yt.type="quadratic";var Tt=(wt%2==0?1:-1)*(P[yt.source+"|"+yt.target+"|"+wt]?-1:1);yt.curveOffset=Ot%2==1?Tt*Math.ceil(wt/2)*g:Tt*(Math.floor(wt/2)*g+t)}else yt.type="loop",yt.loopCfg={position:w[wt%8],dist:20*Math.floor(wt/8)+50}}return e},ot=Math.abs,it=["shift","ctrl","alt","control"],ht={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,l=+e.clientX,g=+e.clientY;if(!at(l)&&!at(g)){var w=l-t.x,_=g-t.y;this.get("direction")==="x"?_=0:this.get("direction")==="y"&&(w=0),this.origin={x:l,y:g};var k=this.graph.get("width"),P=this.graph.get("height"),T=this.graph.get("canvas").getCanvasBBox();(T.minX<=k+this.scalableRange&&T.minX+w>k+this.scalableRange||T.maxX+this.scalableRange>=0&&T.maxX+this.scalableRange+w<0)&&(w=0),(T.minY<=P+this.scalableRange&&T.minY+_>P+this.scalableRange||T.maxY+this.scalableRange>=0&&T.maxY+this.scalableRange+_<0)&&(_=0),this.graph.translate(w,_)}},onMouseDown:function(e){var t=e.originalEvent;if((!t||t.button===0)&&(e.name===r.TOUCHSTART||!window||!window.event||typeof window=="undefined"||window.event.buttons||window.event.button)&&!this.keydown&&!e.shape&&(this.origin={x:e.clientX,y:e.clientY},this.dragging=!1,this.enableOptimize)){for(var l=this.graph,g=l.getEdges(),w=0,_=g.length;w<_;w++){var k=g[w].get("group").get("children");k&&k.forEach(function(z){z.hide()})}for(var P=l.getNodes(),T=0,D=P.length;T<D;T++)for(var R=0,L=P[T].getContainer().get("children");R<L.length;R++){var Y=L[R];Y.get("isKeyShape")||Y.hide()}}},onMouseMove:function(e){var t=this.graph;if(!this.keydown&&!e.shape&&(e=H(e),this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(ot(this.origin.x-e.clientX)+ot(this.origin.y-e.clientY)<10)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}},onMouseUp:function(e){var t=this.graph;if(!this.keydown&&!e.shape){if(this.enableOptimize){for(var l=t.getEdges(),g=0,w=l.length;g<w;g++){var _=l[g].get("group").get("children");_&&_.forEach(function(Y){Y.show()})}for(var k=t.getNodes(),P=0,T=k.length;P<T;P++)for(var D=0,R=k[P].getContainer().get("children");D<R.length;D++){var L=R[D];L.get("isKeyShape")||L.show()}}this.dragging?(e=H(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",t.emit("canvas:dragend",e),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=e.key;t&&(it.indexOf(t.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},St=s(70),gt=s.n(St),bt=s(71),mt=s.n(bt),vt=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function _t(S,e,t){var l;return(l=Math.round(S.h)>=60&&Math.round(S.h)<=240?t?Math.round(S.h)-2*e:Math.round(S.h)+2*e:t?Math.round(S.h)+2*e:Math.round(S.h)-2*e)<0?l+=360:l>=360&&(l-=360),l}function Nt(S,e,t){return S.h===0&&S.s===0?S.s:((l=t?S.s-.16*e:e===4?S.s+.16:S.s+.05*e)>1&&(l=1),t&&e===5&&l>.1&&(l=.1),l<.06&&(l=.06),Number(l.toFixed(2)));var l}function At(S,e,t){var l;return(l=t?S.v+.05*e:S.v-.15*e)>1&&(l=1),Number(l.toFixed(2))}function It(S){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],l=mt()(S),g=5;g>0;g-=1){var w=l.toHsv(),_=mt()({h:_t(w,g,!0),s:Nt(w,g,!0),v:At(w,g,!0)}).toHexString();t.push(_)}t.push(l.toHexString());for(var k=1;k<=4;k+=1){var P=l.toHsv(),T=mt()({h:_t(P,k),s:Nt(P,k),v:At(P,k)}).toHexString();t.push(T)}return e.theme==="dark"?vt.map(function(D){var R=D.index,L=D.opacity;return mt.a.mix(e.backgroundColor||"#141414",t[R],100*L).toHexString()}):t}var dt={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},X={},V={};Object.keys(dt).forEach(function(S){X[S]=It(dt[S]),X[S].primary=X[S][5],V[S]=It(dt[S],{theme:"dark",backgroundColor:"#141414"}),V[S].primary=V[S][5]}),X.red,X.volcano,X.gold,X.orange,X.yellow,X.lime,X.green,X.cyan,X.blue,X.geekblue,X.purple,X.magenta,X.grey;var Z=function(e,t,l){var g=gt()(e),w=gt()(t);return gt()([(1-l)*g.color[0]+l*w.color[0],(1-l)*g.color[1]+l*w.color[1],(1-l)*g.color[2]+l*w.color[2]]).rgb()},W=function(e,t,l,g){t===void 0&&(t="#fff"),l===void 0&&(l="default"),g===void 0&&(g="rgb(150, 150, 150)");var w=Z(t,e,.05).rgb().toString(),_=Z(t,g,.02).rgb().toString(),k=Z(t,g,.05).rgb().toString(),P=Z(t,g,.1).rgb().toString(),T=Z(t,g,.2).rgb().toString(),D=Z(t,g,.3).rgb().toString(),R=It(e,{theme:l,backgroundColor:t}),L=gt()(e).hex().toLowerCase(),Y=R.indexOf(L),z=e;return Y!==-1&&(z=R[Y+1]),{mainStroke:e,mainFill:Z(t,e,.1).rgb().toString(),activeStroke:e,activeFill:w,inactiveStroke:Z(t,e,.4).rgb().toString(),inactiveFill:w,selectedStroke:e,selectedFill:t,highlightStroke:z,highlightFill:Z(t,e,.2).rgb().toString(),disableStroke:D,disableFill:k,edgeMainStroke:D,edgeActiveStroke:e,edgeInactiveStroke:T,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:P,comboMainStroke:D,comboMainFill:_,comboActiveStroke:e,comboActiveFill:w,comboInactiveStroke:D,comboInactiveFill:_,comboSelectedStroke:e,comboSelectedFill:_,comboHighlightStroke:z,comboHighlightFill:_,comboDisableStroke:T,comboDisableFill:k}},rt=W("rgb(95, 149, 255)","rgb(255, 255, 255)"),J={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:rt.mainStroke,fill:rt.mainFill},size:20,color:rt.mainStroke,linkPoints:{size:8,lineWidth:1,fill:rt.activeFill,stroke:rt.activeStroke}},nodeStateStyles:{active:{fill:rt.activeFill,stroke:rt.activeStroke,lineWidth:2,shadowColor:rt.mainStroke,shadowBlur:10},selected:{fill:rt.selectedFill,stroke:rt.selectedStroke,lineWidth:4,shadowColor:rt.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:rt.highlightFill,stroke:rt.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:rt.inactiveFill,stroke:rt.inactiveStroke,lineWidth:1},disable:{fill:rt.disableFill,stroke:rt.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:rt.edgeMainStroke,lineAppendWidth:2},color:rt.edgeMainStroke},edgeStateStyles:{active:{stroke:rt.edgeActiveStroke,lineWidth:1},selected:{stroke:rt.edgeSelectedStroke,lineWidth:2,shadowColor:rt.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:rt.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:rt.edgeInactiveStroke,lineWidth:1},disable:{stroke:rt.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:rt.comboMainFill,lineWidth:1,stroke:rt.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:rt.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:rt.comboActiveStroke,lineWidth:1,fill:rt.comboActiveFill},selected:{stroke:rt.comboSelectedStroke,lineWidth:2,fill:rt.comboSelectedFill,shadowColor:rt.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:rt.comboHighlightStroke,lineWidth:2,fill:rt.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:rt.comboInactiveStroke,fill:rt.comboInactiveFill,lineWidth:1},disable:{stroke:rt.comboDisableStroke,fill:rt.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},tt={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(e){return!(!this.origin||!e||e.destroyed)&&e.getType()==="combo"},onDragStart:function(e){var t=this;if(this.shouldBegin.call(this,e)){var l=e.item;if(l&&!l.destroyed&&!l.hasLocked()){l.getContainer().set("capture",!1);var g=e.target;if(g&&g.get("isAnchorPoint"))return;var w=this.graph;this.targets=[],this.targetCombo=null;var _=w.findAllByState("node",this.selectedState),k=l.get("id");_.filter(function(T){var D=T.get("id");return k===D}).length===0?this.targets.push(l):_.length>1?_.forEach(function(T){T.hasLocked()||t.targets.push(T)}):this.targets.push(l);var P=[];this.targets.forEach(function(T){P.push(Object(v.clone)(T.getModel()))}),this.set("beforeDragNodes",P),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;this.origin&&this.shouldUpdate(this,e)&&(this.get("enableDelegate")?this.updateDelegate(e):this.targets.map(function(l){t.update(l,e)}))},onDragEnd:function(e){if(this.origin&&this.shouldEnd.call(this,e)){var t=e.item;t&&t.getContainer().set("capture",!0),this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(e);var l=this.graph;if(l.get("enabledStack")){var g={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(w){g.after.nodes.push(w.getModel())}),l.pushStack("update",Object(v.clone)(g))}l.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.validationCombo(t)){this.updatePositions(e);var l=this.graph;if(this.comboActiveState&&l.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)l.updateCombos();else{var g=t.getModel();this.targets.map(function(w){w.getModel().comboId!==g.id&&l.updateComboTree(w,g.id)}),l.updateCombo(t)}l.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.targets&&this.targets.length!==0&&(this.updatePositions(e),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(l){l.getModel().comboId&&t.updateComboTree(l)}))},onDropNode:function(e){if(this.targets&&this.targets.length!==0){var t=e.item;this.updatePositions(e);var l=this.graph,g=t.getModel().comboId;if(g){var w=l.findById(g);this.comboActiveState&&l.setItemState(w,this.comboActiveState,!1),this.targets.map(function(_){var k=_.getModel();g!==k.comboId&&l.updateComboTree(_,g)}),l.updateCombo(w)}else this.targets.map(function(_){_.getModel().comboId&&l.updateComboTree(_)});l.emit("dragnodeend",{items:this.targets,targetItem:t})}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var l=this.graph;this.comboActiveState&&l.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var l=this.graph;this.comboActiveState&&l.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e){var t=this;this.targets&&this.targets.length!==0&&this.get("enableDelegate")&&this.targets.map(function(l){return t.update(l,e)})},update:function(e,t){var l=this.origin,g=e.get("model"),w=e.get("id");this.point[w]||(this.point[w]={x:g.x||0,y:g.y||0});var _={x:t.x-l.x+this.point[w].x,y:t.y-l.y+this.point[w].y};this.get("updateEdge")?this.graph.updateItem(e,_,!1):e.updatePosition(_)},updateDelegate:function(e){if(this.graph,this.delegateRect){var t=e.x-this.origin.x+this.originPoint.minX,l=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:t,y:l})}else{var g=this.graph.get("group"),w=Object(v.deepMix)({},J.delegateStyle,this.delegateStyle),_=this.calculationGroupPosition(e),k=_.x,P=_.y,T=_.width,D=_.height,R=_.minX,L=_.minY;this.originPoint={x:k,y:P,width:T,height:D,minX:R,minY:L},this.delegateRect=g.addShape("rect",{attrs:Object(I.__assign)({width:T,height:D,x:k,y:P},w),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.graph.findAllByState("node",this.selectedState);t.length===0&&t.push(e.item);for(var l=1/0,g=-1/0,w=1/0,_=-1/0,k=0;k<t.length;k++){var P=t[k].getBBox(),T=P.minX,D=P.minY,R=P.maxX,L=P.maxY;T<l&&(l=T),D<w&&(w=D),R>g&&(g=R),L>_&&(_=L)}return{x:Math.floor(l),y:Math.floor(w),width:Math.ceil(g)-Math.floor(l),height:Math.ceil(_)-Math.floor(w),minX:l,minY:w}}},ft=Math.min,kt=Math.max,jt=Math.abs,Bt=["drag","shift","ctrl","alt","control"],Rt={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Bt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,l=this.brush;t||(this.trigger==="drag"||this.keydown)&&(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),l||(l=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},l.attr({width:0,height:0}),l.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&(this.trigger==="drag"||this.keydown)&&this.updateBrush(e)},onMouseUp:function(e){this.graph,(this.brush||this.dragging)&&(this.trigger==="drag"||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this.graph,t=this.selectedState,l=e.findAllByState("node",t),g=e.findAllByState("edge",t);l.forEach(function(w){return e.setItemState(w,t,!1)}),g.forEach(function(w){return e.setItemState(w,t,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,l=this.graph,g=this.originPoint,w=this.shouldUpdate,_=this.selectedState,k={x:e.x,y:e.y},P=l.getPointByCanvas(g.x,g.y),T=ft(k.x,P.x),D=kt(k.x,P.x),R=ft(k.y,P.y),L=kt(k.y,P.y),Y=[],z=[];l.getNodes().forEach(function(nt){var et=nt.getBBox();if(et.centerX>=T&&et.centerX<=D&&et.centerY>=R&&et.centerY<=L&&w(nt,"select")){Y.push(nt);var st=nt.getModel();z.push(st.id),l.setItemState(nt,_,!0)}});var q=[];this.includeEdges&&Y.forEach(function(nt){nt.getOutEdges().forEach(function(et){var st=et.getModel(),pt=st.source,Ot=st.target;z.includes(pt)&&z.includes(Ot)&&w(et,"select")&&(q.push(et),l.setItemState(et,t.selectedState,!0))})}),this.selectedEdges=q,this.selectedNodes=Y,this.onSelect&&this.onSelect(Y,q),l.emit("nodeselectchange",{selectedItems:{nodes:Y,edges:q},select:!0})},createBrush:function(){var e=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,e},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:jt(e.canvasX-t.x),height:jt(e.canvasY-t.y),x:ft(e.canvasX,t.x),y:ft(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var l=this.trigger.toLowerCase(),g=t.toLowerCase();this.keydown=g===l||g==="control"&&l==="ctrl"||g==="ctrl"&&l==="control"}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Lt=["shift","ctrl","alt","control"],Pt={getDefaultCfg:function(){return{multiple:!0,trigger:"shift",selectedState:"selected"}},getEvents:function(){return Lt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,l=e.item;if(l&&!l.destroyed){var g=l.getType(),w=this,_=w.graph,k=w.keydown,P=w.multiple,T=w.shouldUpdate;if(w.shouldBegin.call(this,e)){if(!k||!P){var D=_.findAllByState(g,this.selectedState);h()(D,function(Y){Y!==l&&_.setItemState(Y,t.selectedState,!1)})}if(l.hasState(this.selectedState)){T.call(this,e)&&_.setItemState(l,this.selectedState,!1);var R=_.findAllByState("node",this.selectedState),L=_.findAllByState("combo",this.selectedState);_.emit("nodeselectchange",{target:l,selectedItems:{nodes:R,combos:L},select:!1})}else T.call(this,e)&&_.setItemState(l,this.selectedState,!0),R=_.findAllByState("node",this.selectedState),L=_.findAllByState("combo",this.selectedState),_.emit("nodeselectchange",{target:l,selectedItems:{nodes:R,combos:L},select:!0})}}},onCanvasClick:function(){var e=this,t=this.graph,l=t.findAllByState("node",this.selectedState);h()(l,function(w){t.setItemState(w,e.selectedState,!1)});var g=t.findAllByState("combo",this.selectedState);h()(g,function(w){t.setItemState(w,e.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},Ct=s(16);Ct.translate=function(S,e,t){var l=new Array(9);return Ct.fromTranslation(l,t),Ct.multiply(S,l,e)},Ct.rotate=function(S,e,t){var l=new Array(9);return Ct.fromRotation(l,t),Ct.multiply(S,l,e)},Ct.scale=function(S,e,t){var l=new Array(9);return Ct.fromScaling(l,t),Ct.multiply(S,l,e)},Ct.transform=function(S,e){for(var t=[].concat(S),l=0,g=e.length;l<g;l++){var w=e[l];switch(w[0]){case"t":Ct.translate(t,t,[w[1],w[2]]);break;case"s":Ct.scale(t,t,[w[1],w[2]]);break;case"r":Ct.rotate(t,t,w[1])}}return t};var Ht=Ct,Xt=s(26),ut=s(0);Xt.angle=function(S,e){var t=Xt.dot(S,e)/(Xt.length(S)*Xt.length(e));return Math.acos(Object(ut.clamp)(t,-1,1))},Xt.direction=function(S,e){return S[0]*e[1]-e[0]*S[1]},Xt.angleTo=function(S,e,t){var l=Xt.angle(S,e),g=Xt.direction(S,e)>=0;return t?g?2*Math.PI-l:l:g?l:2*Math.PI-l},Xt.vertical=function(S,e,t){return t?(S[0]=e[1],S[1]=-1*e[0]):(S[0]=-1*e[1],S[1]=e[0]),S};var re=Xt,pe=s(131),de=function(e,t){var l=e?Object(ut.clone)(e):[1,0,0,0,1,0,0,0,1];return Object(ut.each)(t,function(g){switch(g[0]){case"t":Ht.translate(l,l,[g[1],g[2]]);break;case"s":Ht.scale(l,l,[g[1],g[2]]);break;case"r":Ht.rotate(l,l,g[1]);break;case"m":Ht.multiply(l,l,g[1]);break;default:return!1}}),l},we={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,l=t[0],g=t[1];e.preventDefault(),g&&(this.startPoint={pageX:l.pageX,pageY:l.pageY},this.moveable=!0,g&&(this.endPoint={pageX:g.pageX,pageY:g.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,l=t[0],g=t[1];if(g){this.endPoint||(this.endPoint={pageX:g.pageX,pageY:g.pageY});var w=function(R,L){return Math.hypot(L.x-R.x,L.y-R.y)},_=w({x:l.pageX,y:l.pageY},{x:g.pageX,y:g.pageY})/w({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),k=this.originScale*_;this.currentScale=k;var P=this.get("minZoom")||this.graph.get("minZoom");if(!(k>(this.get("maxZoom")||this.graph.get("maxZoom"))||k<P)){var T=this.graph.get("canvas").getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(k,{x:T.x,y:T.y}),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,l=this.graph,g=this.fixSelectedItems;if(this.shouldUpdate.call(this,e)){e.preventDefault();var w,_=l.get("canvas").getPointByClient(e.clientX,e.clientY),k=this.get("sensitivity"),P=l.getZoom();w=P*(e.wheelDelta<0?1-.05*k:1/(1-.05*k));var T=this.get("minZoom")||l.get("minZoom");if(!(w>(this.get("maxZoom")||l.get("maxZoom"))||w<T)){if(this.get("enableOptimize")){var D=this.get("optimizeZoom"),R=this.get("optimized"),L=l.getNodes(),Y=l.getEdges(),z=L.length,q=Y.length;if(!R){for(var nt=0;nt<z;nt++)if(!(zt=L[nt]).destroyed)for(var et=(Pe=zt.get("group").get("children")).length,st=0;st<et;st++)(ae=Pe[st]).destoryed||ae.get("isKeyShape")||ae.hide();for(var pt=0;pt<q;pt++)for(et=(Pe=(qn=Y[pt]).get("group").get("children")).length,st=0;st<et;st++)(ae=Pe[st]).hide();this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Ot=setTimeout(function(){var xr=l.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var Ir=0;Ir<z;Ir++){var Fe=L[Ir],pr=(ur=Fe.get("group").get("children")).length;if(xr<D)Fe.getKeyShape().show();else for(var Fn=0;Fn<pr;Fn++)(Mr=ur[Fn]).get("visible")||Mr.show()}for(var wr=0;wr<q;wr++){var ur,Tr=Y[wr];if(pr=(ur=Tr.get("group").get("children")).length,xr<D)Tr.getKeyShape().show();else for(Fn=0;Fn<pr;Fn++){var Mr;(Mr=ur[Fn]).get("visible")||Mr.show()}}}},500);this.set("timeout",Ot)}if(P<=1){var wt=void 0,yt=void 0;if(g.fixAll||g.fixLineWidth||g.fixLabel){wt=l.findAllByState("node",g.fixState),yt=l.findAllByState("edge",g.fixState);for(var Tt=P/w,Dt=wt.length,Gt=0;Gt<Dt;Gt++){var zt,Kt=(zt=wt[Gt]).getContainer(),qt=zt.getModel(),Wt=zt.getOriginStyle(),ne=zt.getStateStyle(g.fixState),Qt=zt.get("shapeFactory").getShape(qt.shape||qt.type).getStateStyle(g.fixState,zt)[g.fixState];if(g.fixAll){if(w<=1){var se=Object(ut.clone)(Kt.getMatrix());se||(se=[1,0,0,0,1,0,0,0,1]);var oe=zt.getModel(),le=oe.x,te=oe.y;Ht.translate(se,se,[-le,-te]),Ht.scale(se,se,[Tt,Tt]),Ht.translate(se,se,[le,te]),Kt.setMatrix(se)}}else for(et=(Pe=Kt.get("children")).length,st=0;st<et;st++){var ae=Pe[st],me=void 0,ke=void 0;if(g.fixLabel&&ae.get("type")==="text"){me=ae.attr("fontSize")||12;var Ce=ne[ae.get("name")],ze=Qt[ae.get("name")],Le=Ce?Ce.fontSize:12,ar=ze?ze.fontSize:12,sr=Le||ar||12;if(w<=1&&ae.attr("fontSize",sr/w),ke)break}if(g.fixLineWidth&&ae.get("isKeyShape")){ke=ae.attr("lineWidth")||0;var Wn=ne.lineWidth||Qt.lineWidth||Wt.lineWidth||0;if(w<=1&&ae.attr("lineWidth",Wn/w),me)break}}}for(var Oo=yt.length,dr=0;dr<Oo;dr++){var qn,Pe=(Kt=(qn=yt[dr]).getContainer()).get("children");for(qt=qn.getModel(),ne=qn.getStateStyle(g.fixState),Qt=qn.get("shapeFactory").getShape(qt.shape||qt.type).getStateStyle(g.fixState,qn)[g.fixState],et=Pe.length,st=0;st<et&&(ae=Pe[st],me=void 0,ke=void 0,!((g.fixLabel||g.fixAll)&&ae.get("type")==="text"&&(me=ae.attr("fontSize")||12,Ce=ne[ae.get("name")],ze=Qt[ae.get("name")],Le=Ce?Ce.fontSize:12,ar=ze?ze.fontSize:12,sr=Le||ar||12,w<=1&&ae.attr("fontSize",sr/w),ke)||(g.fixLineWidth||g.fixAll)&&ae.get("isKeyShape")&&(ke=ae.attr("lineWidth")||0,Wn=ne.lineWidth||Qt.lineWidth||1,w<=1&&ae.attr("lineWidth",Wn/w),me)));st++);}}}l.zoomTo(w,{x:_.x,y:_.y}),l.emit("wheelzoom",e)}}}},fe=s(5),ue=s.n(fe),ye=s(8),ve=s.n(ye),xe={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){this.shouldUpdate(e)?this.currentTarget&&e.item===this.currentTarget&&this.updatePosition(e):this.hideTooltip()},onMouseLeave:function(e){this.shouldEnd(e)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(e.item&&!e.item.destroyed){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var l=this.formatText(e.item.get("model"),e);t.innerHTML=l,ue()(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){ue()(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),l=this.width,g=this.height,w=this.container,_=this.graph;if(t(e)){var k=_.getPointByClient(e.clientX,e.clientY),P=_.getCanvasByPoint(k.x,k.y),T=P.x,D=P.y,R=w.getBoundingClientRect();T>l/2?T-=R.width:T+=this.offset,D>g/2?D-=R.height:D+=this.offset;var L=T+"px",Y=D+"px";ue()(this.container,{left:L,top:Y,visibility:"visible"})}else ue()(w,{visibility:"hidden"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var l=ve()('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(l),ue()(l,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=l,this.graph.get("tooltips").push(l),l}},Ge=Object(I.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},xe),je=Object(I.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},xe),Ne=s(12),Me=s.n(Ne),De={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(e){var t=this.graph,l=e.target.get("groupId");if(l){var g=t.get("customGroupControll"),w=g.customGroup,_=w[l].nodeGroup;this.targetGroup=_,this.mouseOrigin={x:e.x,y:e.y};for(var k=t.save().groups,P=null,T=0;T<k.length;T++){var D=k[T];if(l===D.id){P=D.parentId;break}}if(P){var R=w[P].nodeGroup;g.setGroupStyle(R.get("keyShape"),"hover")}}},onDrag:function(e){this.mouseOrigin&&this.updateDelegate(e)},onDragEnd:function(e){var t=this.graph,l=e.target.get("groupId");if(this.delegateShapes[l]&&(this.delegateShapeBBox=this.delegateShapes[l].getBBox(),this.delegateShapes[l].remove(),delete this.delegateShapes[l]),this.delegateShapeBBox){var g=t.get("customGroupControll"),w=this.delegateShapeBBoxs[l];g.updateGroup(l,w,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,g.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(e){var t=this.graph,l=e.target.get("groupId"),g=this.targetGroup.get("keyShape"),w=this.delegateShapes[l],_=g.getBBox(),k=g.get("type");if(w){var P=this.mouseOrigin,T=this.shapeOrigin,D=e.x-P.x,R=e.y-P.y,L=D+T.x,Y=R+T.y;w.attr({x:L,y:Y}),this.delegateShapeBBoxs[l]=w.getBBox()}else{var z=t.get("delegateGroup"),q=_.x,nt=_.y,et=_.width,st=_.height,pt=Object(I.__assign)({width:et,height:st},Me()({},J.delegateStyle,this.delegateStyle));if(k==="circle"){var Ot=et>st?et/2:st/2,wt=q+Ot,yt=nt+Ot;w=z.addShape("circle",{attrs:Object(I.__assign)({x:wt,y:yt,r:Ot},pt),name:"circle-delegate-shape"}),this.shapeOrigin={x:wt,y:yt}}else w=z.addShape("rect",{attrs:Object(I.__assign)({x:q,y:nt},pt),name:"rect-delegate-shape"}),this.shapeOrigin={x:q,y:nt};this.delegateShapes[l]=w,this.delegateShapeBBoxs[l]=w.getBBox()}},onOutOfRange:function(e){var t=this,l=this.graph.get("canvas").get("el"),g=function w(_){_.target!==l&&(t.onDragEnd(e),document.body.removeEventListener("mouseup",w,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",g,!0)}},Xe=document.body,We={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(e){var t=this.graph,l=e.target.get("groupId");if(l&&this.origin){var g=t.get("customGroupControll"),w=g.getDeletageGroupById(l);if(w){var _=w.nodeGroup.get("keyShape");this.inGroupId=l,g.setGroupStyle(_,"hover")}}},onDragLeave:function(e){var t=this.graph,l=e.target.get("groupId");if(l&&this.origin){var g=t.get("customGroupControll"),w=g.getDeletageGroupById(l);if(w){var _=w.nodeGroup.get("keyShape");g.setGroupStyle(_,"default")}}l||(this.inGroupId=null)},onDragStart:function(e){var t=this.graph;if(this.shouldBegin.call(this,e)){var l=e.item;this.target=l;var g=l.getModel().groupId;if(g){var w=t.get("customGroupControll"),_=w.getDeletageGroupById(g);if(_){var k=_.nodeGroup.get("keyShape");w.setGroupStyle(k,"hover"),this.inGroupId=g}}this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}},onDrag:function(e){if(this.origin&&this.get("shouldUpdate").call(this,e)){this.update(this.target,e,!0);var t=e.item,l=this.graph,g=t.getModel().groupId;if(g){var w=l.get("customGroupControll"),_=w.getDeletageGroupById(g);if(_){var k=_.nodeGroup.get("keyShape");this.inGroupId!==g?w.setGroupStyle(k,"default"):w.setGroupStyle(k,"hover")}}}},onDragEnd:function(e){if(this.origin&&this.shouldEnd.call(this,e)){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,e),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(e)}},setCurrentGroupStyle:function(e){var t=this.graph,l=e.item,g=l.getModel(),w=g.groupId,_=g.id,k=t.get("customGroupControll"),P=k.customGroup,T=t.get("groupNodes");if(this.inGroupId&&w){if(!(yt=P[w].nodeGroup))return;var D=yt.get("keyShape"),R=l.getBBox(),L=D.getBBox(),Y=R.centerX,z=R.centerY,q=L.minX,nt=L.minY,et=L.maxX,st=L.maxY;if(!(Y<et*this.maxMultiple&&Y>q*this.minMultiple&&z<st*this.maxMultiple&&z>nt*this.minMultiple)||this.inGroupId!==w){var pt=T[w];T[w]=pt.filter(function(Tt){return Tt!==_}),k.dynamicChangeGroupSize(e,yt,D),delete g.groupId}if(this.inGroupId!==w){if(!(wt=P[this.inGroupId].nodeGroup))return;var Ot=wt.get("keyShape");T[this.inGroupId].indexOf(_)===-1&&T[this.inGroupId].push(_),g.groupId=this.inGroupId,k.dynamicChangeGroupSize(e,wt,Ot)}k.setGroupStyle(D,"default")}else if(this.inGroupId&&!w){var wt;if(!(wt=P[this.inGroupId].nodeGroup))return;D=wt.get("keyShape"),T[this.inGroupId].indexOf(_)===-1&&T[this.inGroupId].push(_),g.groupId=this.inGroupId,k.dynamicChangeGroupSize(e,wt,D)}else if(!this.inGroupId&&w){var yt;if(Object.keys(T).forEach(function(Tt){var Dt=T[Tt];T[Tt]=Dt.filter(function(Gt){return Gt!==_})}),!(yt=P[w].nodeGroup))return;D=yt.get("keyShape"),k.dynamicChangeGroupSize(e,yt,D),delete g.groupId}this.inGroupId=null},onOutOfRange:function(e){var t=this,l=t.graph.get("canvas").get("el");t.origin&&Xe.addEventListener("mouseup",function g(w){w.target!==l&&(e.item=t.target,t.onDragEnd(e),document.body.removeEventListener("mouseup",g,!0))},!0)},update:function(e,t,l){var g=this.origin,w=e.get("model"),_=e.get("id");this.point[_]||(this.point[_]={x:w.x,y:w.y});var k=t.x-g.x+this.point[_].x,P=t.y-g.y+this.point[_].y;if(l)this.updateDelegate(t,k,P);else{var T={x:k,y:P};this.get("updateEdge")?this.graph.updateItem(e,T):(e.updatePosition(T),this.graph.paint())}},updateDelegate:function(e,t,l){var g=this.graph,w=e.item,_=g.get("groupType"),k=w.get("keyShape").getBBox();if(!this.shape){var P=g.get("delegateGroup"),T=Me()({},J.delegateStyle,this.delegateStyle);this.target&&(this.shape=P.addShape("rect",{attrs:Object(I.__assign)({width:k.width,height:k.height,x:t-k.width/2,y:l-k.height/2},T),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(_==="circle"?this.shape.attr({x:t-k.width/2,y:l-k.height/2}):_==="rect"&&this.shape.attr({x:t,y:l}))}},Be=["click","dblclick"],an={getDefaultCfg:function(){return{trigger:"dblclick"}},getEvents:function(){var e,t;return Be.includes(this.trigger)?t=this.trigger:(t="dblclick",console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(e={})[""+t]="onGroupClick",e},onGroupClick:function(e){var t=e.target,l=this.graph,g=t.get("groupId");g&&l.get("customGroupControll").collapseExpandGroup(g)}},tn=["click","dblclick"],Ve={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var e,t;return tn.includes(this.trigger)?t=this.trigger:(t="click",console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(e={})["node:"+t]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item,l=this.graph.findDataById(t.get("id"));if(l){var g=l.children;if(g&&g.length!==0){var w=!l.collapsed;if(this.shouldBegin(e,w)&&(l.collapsed=w,t.getModel().collapsed=w,this.graph.emit("itemcollapsed",{item:e.item,collapsed:w}),this.shouldUpdate(e,w))){try{this.onChange(t,w)}catch(_){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",_)}this.graph.layout()}}}}},Tn=function S(e,t){if(t(e)!==!1&&e){var l=e.get("combos");if(l.length===0)return!1;Object(v.each)(l,function(g){S(g,t)})}},Nn={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;return!(!t||t.destroyed)&&!!this.shouldUpdate(this,e)&&t.getType()==="combo"},onDragStart:function(e){var t=this,l=this.graph,g=e.item;if(this.validationCombo(e)){this.targets=[];var w=l.findAllByState("combo",this.selectedState),_=g.get("id");w.filter(function(k){var P=k.get("id");return _===P}).length===0?this.targets.push(g):this.targets=w,this.activeState&&this.targets.map(function(k){var P=k.getModel();if(P.parentId){var T=l.findById(P.parentId);T&&l.setItemState(T,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],Tn(g,function(k){if(k.destroyed)return!1;var P=k.getModel();return t.currentItemChildCombos.push(P.id),!0})}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var l=this.graph,g=e.item,w=g.getModel(),_=l.getCombos(),k=g.getBBox(),P=k.centerX,T=k.centerY,D=k.width;_.filter(function(R){var L=R.getModel();return w.parentId,L.id!==w.id&&!t.currentItemChildCombos.includes(L.id)}).map(function(R){var L=R.getBBox(),Y=L.centerX,z=L.centerY,q=L.width,nt=P-Y,et=T-z,st=2*Math.sqrt(nt*nt+et*et);D+q-st>.8*D?l.setItemState(R,t.activeState,!0):l.setItemState(R,t.activeState,!1)})}Object(v.each)(this.targets,function(R){t.updateCombo(R,e)})}},updatePositions:function(e){var t=this;this.enableDelegate&&Object(v.each)(this.targets,function(l){t.updateCombo(l,e)})},onDrop:function(e){var t=this,l=e.item;if(l&&this.targets&&!l.destroyed){this.updatePositions(e);var g=this.graph,w=l.getModel();this.targets.map(function(_){_.getModel().parentId!==w.id?(t.activeState&&g.setItemState(l,t.activeState,!1),t.onlyChangeComboSize?g.updateCombo(_):g.updateComboTree(_,w.id)):g.updateCombo(l)}),this.end(l,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(this.targets&&this.targets.length!==0){this.updatePositions(e);var l,g=this.graph,w=e.item.getModel().comboId;if(w){if(this.activeState){var _=g.findById(w);g.setItemState(_,this.activeState,!1)}this.targets.map(function(k){t.onlyChangeComboSize?g.updateCombo(k):w!==k.getID()&&(l=g.findById(w),w!==k.getModel().parentId&&g.updateComboTree(k,w))})}else this.targets.map(function(k){t.onlyChangeComboSize?g.updateCombo(k):k.getModel().comboId&&g.updateComboTree(k)});this.endComparison=!0,this.end(l,e)}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,l=this.graph;this.activeState&&l.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,l=this.graph;this.activeState&&l.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(this.targets&&this.targets.length!==0){var t=e.item;this.updatePositions(e);var l=this.getParentCombo(t.getModel().parentId),g=this.graph;l&&this.activeState&&g.setItemState(l,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var l=this;if(this.origin){var g=this.graph;this.delegateShape&&(g.get("delegateGroup").clear(),this.delegateShape=null),e&&this.activeState&&g.setItemState(e,this.activeState,!1),e||this.targets.map(function(w){l.onlyChangeComboSize?g.updateCombo(w):g.updateComboTree(w)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var l=this;if(t(e)!==!1&&e){var g=e.get("combos");Object(v.each)(g,function(_){l.traverse(_,t)});var w=e.get("nodes");Object(v.each)(w,function(_){l.traverse(_,t)})}},updateCombo:function(e,t){var l=this;this.traverse(e,function(g){return!g.destroyed&&(l.updateSignleItem(g,t),!0)})},updateSignleItem:function(e,t){var l=this.origin,g=this.graph,w=e.getModel(),_=e.get("id");this.point[_]||(this.point[_]={x:w.x,y:w.y});var k=t.x-l.x+this.point[_].x,P=t.y-l.y+this.point[_].y;g.updateItem(e,{x:k,y:P})},getParentCombo:function(e){var t=this.graph;if(e){var l=t.findById(e);if(l)return l}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var l=e.x-this.origin.x+this.originPoint.minX,g=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:l,y:g})}else{var w=t.get("delegateGroup"),_=null,k=(_=this.targets.length>1?$(this.targets):this.targets[0].getBBox()).x,P=_.y,T=_.width,D=_.height,R=_.minX,L=_.minY;this.originPoint={x:k,y:P,width:T,height:D,minX:R,minY:L};var Y=Object(I.__assign)(Object(I.__assign)({},J.delegateStyle),this.delegateStyle);this.delegateShape=w.addShape("rect",{attrs:Object(I.__assign)({width:_.width,height:_.height,x:_.x,y:_.y},Y),name:"combo-delegate-shape"})}}},He=["click","dblclick"],en={getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var e,t;return He.includes(this.trigger)?t=this.trigger:(t="dblclick",console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(e={})["combo:"+t]="onComboClick",e},onComboClick:function(e){var t=e.item,l=this.graph,g=this.relayout;if(t&&!t.destroyed&&t.getType()==="combo"){var w=t.getModel().id;w&&(l.collapseExpandCombo(w),g&&l.get("layout")?l.layout():l.refreshPositions())}}},kn=function(e,t,l){return e>=t&&e<=l},nn=function(e,t,l,g){var w=l.x-e.x,_=l.y-e.y,k=t.x-e.x,P=t.y-e.y,T=g.x-l.x,D=g.y-l.y,R=k*D-P*T,L=null;if(R*R>.001*(k*k+P*P)*(T*T+D*D)){var Y=(w*D-_*T)/R,z=(w*P-_*k)/R;kn(Y,0,1)&&kn(z,0,1)&&(L={x:e.x+Y*k,y:e.y+Y*P})}return L},Pn=function(e,t){var l=e.x,g=e.y,w=e.width,_=e.height,k=[],P={x:l+w/2,y:g+_/2};k.push({x:l,y:g}),k.push({x:l+w,y:g}),k.push({x:l+w,y:g+_}),k.push({x:l,y:g+_}),k.push({x:l,y:g});for(var T=null,D=1;D<k.length&&!(T=nn(k[D-1],k[D],P,t));D++);return T},bn=function(e,t){var l=e.x,g=e.y,w=e.r,_=t.x-l,k=t.y-g;if(Math.sqrt(_*_+k*k)<w)return null;var P=Math.sign(_),T=Math.sign(k),D=Math.atan(k/_);return{x:l+Math.abs(w*Math.cos(D))*P,y:g+Math.abs(w*Math.sin(D))*T}},xn=function(e,t){var l=e.rx,g=e.ry,w=e.x,_=e.y,k=t.x-w,P=t.y-_,T=Math.atan2(P/g,k/l);return T<0&&(T+=2*Math.PI),{x:w+l*Math.cos(T),y:_+g*Math.sin(T)}},rn=function(e,t,l){l===void 0&&(l=1);var g=[e.x,e.y,l];return t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]),pe.transformMat3(g,g,t),{x:g[0],y:g[1]}},qe=function(e,t,l){l===void 0&&(l=1),t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]);var g=Ht.invert([],t);g||(g=[1,0,0,0,1,0,0,0,1]);var w=[e.x,e.y,l];return pe.transformMat3(w,w,g),{x:w[0],y:w[1]}},sn=function(e,t,l){var g=e.x-t.x,w=e.y-t.y,_=e.x-l.x,k=e.y-l.y,P=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,T=(e.x*e.x-l.x*l.x-l.y*l.y+e.y*e.y)/2,D=w*_-g*k;return{x:-(k*P-w*T)/D,y:-(g*T-_*P)/D}},on=function(e,t){var l=e.x-t.x,g=e.y-t.y;return Math.sqrt(l*l+g*g)},un=function(e,t){var l=[];return e.forEach(function(g){var w=[];g.forEach(function(_){w.push(_*t)}),l.push(w)}),l},Re=function(e){for(var t=[],l=e.length,g=0;g<l;g+=1){t[g]=[];for(var w=0;w<l;w+=1)g===w?t[g][w]=0:e[g][w]!==0&&e[g][w]?t[g][w]=e[g][w]:t[g][w]=1/0}for(var _=0;_<l;_+=1)for(g=0;g<l;g+=1)for(w=0;w<l;w+=1)t[g][w]>t[g][_]+t[_][w]&&(t[g][w]=t[g][_]+t[_][w]);return t},pn=function(e,t){var l=e.nodes,g=e.edges,w=[],_={};if(!l)throw new Error("invalid nodes data!");return l&&l.forEach(function(k,P){_[k.id]=P,w.push([])}),g&&g.forEach(function(k){var P=k.source,T=k.target,D=_[P],R=_[T];w[D][R]=1,t||(w[R][D]=1)}),w},cn=function(e,t){e.translate(t.x,t.y)},gn=function(e,t){var l=e.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]);var g=e.getCanvasBBox(),w=t.x-g.minX,_=t.y-g.minY,k=de(l,[["t",w,_]]);e.setMatrix(k)},Ze=function(e,t){var l=e.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]);var g=t;M()(t)||(g=[t,t]),M()(t)&&t.length===1&&(g=[t[0],t[0]]),l=de(l,[["s",g[0],g[1]]]),e.setMatrix(l)},hn=function(e,t){var l=e.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),l=de(l,[["r",t]]),e.setMatrix(l)},Cn=function(e,t,l){for(var g=[],w=0;w<e;w++)g[w]=0;return l.forEach(function(_){_.source&&(g[t[_.source]]+=1),_.target&&(g[t[_.target]]+=1)}),g};function Qn(S,e,t){return(t[0]-S[0])*(e[1]-S[1])==(e[0]-S[0])*(t[1]-S[1])&&Math.min(S[0],e[0])<=t[0]&&t[0]<=Math.max(S[0],e[0])&&Math.min(S[1],e[1])<=t[1]&&t[1]<=Math.max(S[1],e[1])}var ln=function(e,t,l){var g=!1,w=e.length;function _(D){return Math.abs(D)<1e-6?0:D<0?-1:1}if(w<=2)return!1;for(var k=0;k<w;k++){var P=e[k],T=e[(k+1)%w];if(Qn(P,T,[t,l]))return!0;_(P[1]-l)>0!=_(T[1]-l)>0&&_(t-(l-P[1])*(P[0]-T[0])/(P[1]-T[1])-P[0])<0&&(g=!g)}return g},wn=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},Jn=function(e,t){var l=function(L){var Y=L.map(function(q){return q[0]}),z=L.map(function(q){return q[1]});return{minX:Math.min.apply(null,Y),maxX:Math.max.apply(null,Y),minY:Math.min.apply(null,z),maxY:Math.max.apply(null,z)}},g=function(L){for(var Y=[],z=L.length,q=0;q<z-1;q++){var nt=L[q],et=L[q+1];Y.push({from:{x:nt[0],y:nt[1]},to:{x:et[0],y:et[1]}})}if(Y.length>1){var st=L[0],pt=L[z-1];Y.push({from:{x:pt[0],y:pt[1]},to:{x:st[0],y:st[1]}})}return Y};if(e.length<2||t.length<2)return!1;var w=l(e),_=l(t);if(!wn(w,_))return!1;var k=!1;if(Object(ut.each)(t,function(R){if(ln(e,R[0],R[1]))return k=!0,!1}),k||(Object(ut.each)(e,function(R){if(ln(t,R[0],R[1]))return k=!0,!1}),k))return!0;var P=g(e),T=g(t),D=!1;return Object(ut.each)(T,function(R){if(function(L,Y){var z=!1;return Object(ut.each)(L,function(q){if(nn(q.from,q.to,Y.from,Y.to))return z=!0,!1}),z}(P,R))return D=!0,!1}),D},An=function(){function S(e,t,l,g){this.x1=e,this.y1=t,this.x2=l,this.y2=g}return S.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),l=Math.max(this.x1,this.x2),g=Math.max(this.y1,this.y2);return{x:e,y:t,minX:e,minY:t,maxX:l,maxY:g,width:l-e,height:g-t}},S}(),Gn=function(e,t){return{top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]}[t]},kr=function(e,t){var l=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),g=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),w=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(w){var _=l/w,k=g/w;if(_>=0&&_<=1&&k>=0&&k<=1)return _}return Number.POSITIVE_INFINITY},cr=function(e,t){for(var l=["top","left","bottom","right"],g=e.getBBox(),w=0,_=[],k=0;k<4;k++){var P=Gn(g,l[k]),T=P[0],D=P[1],R=P[2],L=P[3];_[k]=nn({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:T,y:D},{x:R,y:L}),_[k]&&(w+=1)}return[_,w]},tr=function(e,t){for(var l=["top","left","bottom","right"],g=e.getBBox(),w=Number.POSITIVE_INFINITY,_=0,k=0;k<4;k++){var P=Gn(g,l[k]),T=P[0],D=P[1],R=P[2],L=P[3],Y=kr(t,new An(T,D,R,L));(Y=Math.abs(Y-.5))>=0&&Y<=1&&(_+=1,w=Y<w?Y:w)}return _===0?-1:w},gr=function(e){var t=0,l=0;if(e.length>0){for(var g=0,w=e;g<w.length;g++){var _=w[g];t+=_.x,l+=_.y}t/=e.length,l/=e.length}return{x:t,y:l}},er=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},hr=function(e,t){var l,g=t.x1,w=t.y1,_=t.x2-g,k=t.y2-w,P=e.x-g,T=e.y-w,D=P*_+T*k;l=D<=0||(D=(P=_-P)*_+(T=k-T)*k)<=0?0:D*D/(_*_+k*k);var R=P*P+T*T-l;return R<0&&(R=0),R},lr=function(e,t,l){return l===void 0&&(l=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(l,2)},be=function(e,t){var l=e.x<t.x,g=e.x>t.x+t.width,w=e.y>t.y+t.height,_=e.y<t.y;if(!(l||g||w||_))return 0;if(w&&!l&&!g)return Math.pow(t.y+t.height-e.y,2);if(_&&!l&&!g)return Math.pow(e.y-t.y,2);if(l&&!w&&!_)return Math.pow(t.x-e.x,2);if(g&&!w&&!_)return Math.pow(t.x+t.width-e.x,2);var k=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),P=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return k*k+P*P};function xt(S,e){for(var t=[],l=0,g=S.length;g-2*!e>l;l+=2){var w=[{x:+S[l-2],y:+S[l-1]},{x:+S[l],y:+S[l+1]},{x:+S[l+2],y:+S[l+3]},{x:+S[l+4],y:+S[l+5]}];e?l?g-4===l?w[3]={x:+S[0],y:+S[1]}:g-2===l&&(w[2]={x:+S[0],y:+S[1]},w[3]={x:+S[2],y:+S[3]}):w[0]={x:+S[g-2],y:+S[g-1]}:g-4===l?w[3]=w[2]:l||(w[0]={x:+S[l],y:+S[l+1]}),t.push(["C",(-w[0].x+6*w[1].x+w[2].x)/6,(-w[0].y+6*w[1].y+w[2].y)/6,(w[1].x+6*w[2].x-w[3].x)/6,(w[1].y+6*w[2].y-w[3].y)/6,w[2].x,w[2].y])}return t}s(95);var lt=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,ct=new RegExp("([a-z])["+lt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+lt+"]*,?["+lt+"]*)+)","ig"),Et=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+lt+"]*,?["+lt+"]*","ig");function Yt(S){if(!S)return null;if(M()(S))return S;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(S).replace(ct,function(l,g,w){var _=[],k=g.toLowerCase();if(w.replace(Et,function(P,T){T&&_.push(+T)}),k==="m"&&_.length>2&&(t.push([g].concat(_.splice(0,2))),k="l",g=g==="m"?"l":"L"),k==="o"&&_.length===1&&t.push([g,_[0]]),k==="r")t.push([g].concat(_));else for(;_.length>=e[k]&&(t.push([g].concat(_.splice(0,e[k]))),e[k]););return""}),t}s(67),s(68);var Jt=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,function(l,g){if(l.charAt(0)==="\\")return l.slice(1);var w=t[g];return w===0&&(w="0"),w||""}):e},he=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);for(var l=0,g=e;l<g.length;l++){var w=g[l],_=w.x,k=w.y;t.push(_),t.push(k)}var P=xt(t);return P.unshift(["M",e[0].x,e[0].y]),P},ce=function(e,t,l,g){l===void 0&&(l=0),g===void 0&&(g=0);var w={x:(1-l)*e.x+l*t.x,y:(1-l)*e.y+l*t.y},_=[];re.normalize(_,[t.x-e.x,t.y-e.y]),_.length===0&&(_=[0,0]);var k=[-_[1]*g,_[0]*g];return w.x+=k[0],w.y+=k[1],w},Vt=function(e,t){var l=e.length;if(!l)return"";for(var g="",w=0;w<l;w++){var _=e[w];g+=Jt(w===0?"M{x} {y}":"L{x} {y}",_)}return t&&(g+="Z"),g},Mt=function(e){var t=[];return e.forEach(function(l){if(l[0]!=="A")for(var g=1;g<l.length;g+=2)t.push([l[g],l[g+1]]);else{var w=l.length;t.push([l[w-2],l[w-1]])}}),t},Ft=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);var t=e[0],l=e[1],g=e[e.length-1],w=e[e.length-2];e.unshift(g),e.unshift(w),e.push(t),e.push(l);for(var _=[],k=1;k<e.length-2;k+=1){var P=e[k-1].x,T=e[k-1].y,D=e[k].x,R=e[k].y,L=e[k+1].x,Y=e[k+1].y,z=D+(L-P)/6,q=R+(Y-T)/6,nt=L-((k!==e.length-2?e[k+2].x:L)-D)/6,et=Y-((k!==e.length-2?e[k+2].y:Y)-R)/6;_.push(["C",z,q,nt,et,L,Y])}return _.unshift(["M",g.x,g.y]),_},Ut=function(e,t){return re.scale([],re.normalize([],e),t)},$t=function(e,t){var l=[e[1]-t[1],t[0]-e[0]],g=Math.sqrt(l[0]*l[0]+l[1]*l[1]);if(g===0)throw new Error("p0 should not be equal to p1");return[l[0]/g,l[1]/g]},ie=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function ge(S,e){if(!S||S.length<1)return"";if(S.length===1)return function(P){var T=[P[0][0],P[0][1]-e],D=[P[0][0],P[0][1]+e];return"M "+T+" A "+e+","+e+",0,0,0,"+D+" A "+e+","+e+",0,0,0,"+T}(S);if(S.length===2)return function(P){var T=re.scale([],$t(P[0],P[1]),e),D=re.scale([],T,-1),R=re.add([],P[0],T),L=re.add([],P[1],T),Y=re.add([],P[1],D),z=re.add([],P[0],D);return"M "+R+" L "+L+" A "+[e,e,"0,0,0",Y].join(",")+" L "+z+" A "+[e,e,"0,0,0",R].join(",")}(S);for(var t=new Array(S.length),l=0;l<t.length;++l){var g=l===0?S[S.length-1]:S[l-1],w=S[l],_=re.scale([],$t(g,w),e);t[l]=[re.add([],g,_),re.add([],w,_)]}var k="A "+[e,e,"0,0,0,"].join(",");return(t=t.map(function(P,T){var D="";return T===0&&(D="M "+t[t.length-1][1]+" "),D+=k+P[0]+" L "+P[1]})).join(" ")}function Ee(S,e){var t,l,g,w=S.length;if(!S||w<1)return"";if(w===1)return l=[(t=S)[0][0],t[0][1]-e],g=[t[0][0],t[0][1]+e],"M "+l+" A "+[e,e,"0,0,0",g].join(",")+" A "+[e,e,"0,0,0",l].join(",");if(w===2)return function(D){var R=ie(D[0],D[1]),L=Ut(R,e),Y=re.add([],D[0],re.scale([],L,-1)),z=re.add([],D[1],L),q=1.2*e,nt=Ut(re.normalize([],R),q),et=re.scale([],nt,-1),st=re.add([],Y,et),pt=re.add([],z,et),Ot=re.add([],Y,nt);return"M "+Y+" C "+[st,pt,z].join(",")+" S "+[Ot,Y].join(",")+" Z"}(S);for(var _=S.map(function(D,R){var L=S[(R+1)%w];return{p:D,v:re.normalize([],ie(D,L))}}),k=0;k<_.length;++k){var P=k>0?k-1:w-1,T=re.normalize([],re.add([],_[P].v,re.scale([],_[k].v,-1)));_[k].p=re.add([],_[k].p,re.scale([],T,e))}return _.map(function(D){var R=D.p;return{x:R[0],y:R[1]}})}var Ie=["drag","shift","ctrl","alt","control"],Ke=["click","drag"],Te=["shift","ctrl","control","alt","meta",void 0],Mn=["shift","ctrl","alt","control"],$e={"drag-canvas":ht,"zoom-canvas":we,"drag-node":tt,"activate-relations":{getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(e){var t=e.item,l=this.graph;if(this.item=t,this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var g=this.activeState,w=this.inactiveState,_=l.getNodes(),k=l.getEdges(),P=_.length,T=k.length,D=0;D<P;D++){var R=_[D],L=R.hasState("selected");this.resetSelected&&L&&l.setItemState(R,"selected",!1),l.setItemState(R,g,!1),w&&l.setItemState(R,w,!0)}for(D=0;D<T;D++){var Y=k[D];l.setItemState(Y,g,!1),w&&l.setItemState(Y,w,!0)}w&&l.setItemState(t,w,!1),l.setItemState(t,g,!0);var z=t.getEdges(),q=z.length;for(D=0;D<q;D++){var nt=void 0;nt=(Y=z[D]).getSource()===t?Y.getTarget():Y.getSource(),w&&l.setItemState(nt,w,!1),l.setItemState(nt,g,!0),l.setItemState(Y,w,!1),l.setItemState(Y,g,!0),Y.toFront()}l.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this.get("graph");if(this.shouldUpdate(e.item,{event:e,action:"deactivate"})){var l=this.activeState,g=this.inactiveState,w=t.get("autoPaint");t.setAutoPaint(!1);for(var _=t.getNodes(),k=t.getEdges(),P=_.length,T=k.length,D=0;D<P;D++){var R=_[D];t.clearItemStates(R,[l,g])}for(D=0;D<T;D++){var L=k[D];t.clearItemStates(L,[l,g,"deactivate"])}t.paint(),t.setAutoPaint(w),t.emit("afteractivaterelations",{item:e.item||this.get("item"),action:"deactivate"})}},clearAllItemStates:function(e){var t=this.graph;if(this.shouldUpdate(e.item,{event:e,action:"deactivate"})){for(var l=this.activeState,g=this.inactiveState,w=t.getNodes(),_=t.getEdges(),k=w.length,P=_.length,T=0;T<k;T++){var D=w[T];t.clearItemStates(D,[l,g])}for(T=0;T<P;T++){var R=_[T];t.clearItemStates(R,[l,g,"deactivate"])}t.emit("afteractivaterelations",{item:e.item||this.get("item"),action:"deactivate"})}}},"brush-select":Rt,"click-select":Pt,"lasso-select":{getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Ie.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso;e.item||(this.trigger==="drag"||this.keydown)&&(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&(this.trigger==="drag"||this.keydown)&&(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){(this.lasso||this.dragging)&&(this.trigger==="drag"||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(l,g){g===0?t.push(["M",l.x,l.y]):t.push(["L",l.x,l.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(){var e=this.graph,t=this.selectedState,l=e.findAllByState("node",t),g=e.findAllByState("edge",t);l.forEach(function(w){return e.setItemState(w,t,!1)}),g.forEach(function(w){return e.setItemState(w,t,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this.graph,l=this.shouldUpdate,g=this.points.map(function(T){return[t.getCanvasByPoint(T.x,T.y).x,t.getCanvasByPoint(T.x,T.y).y]}),w=this.selectedState,_=[],k=[];t.getNodes().forEach(function(T){if(function(R,L){var Y,z=R.getKeyShape();if(R.get("type")==="path")Y=Mt(z.attr("path"));else{var q=z.getCanvasBBox();Y=[[q.minX,q.minY],[q.maxX,q.minY],[q.maxX,q.maxY],[q.minX,q.maxY]]}return Jn(L,Y)}(T,g)&&l(T,"select")){_.push(T);var D=T.getModel();k.push(D.id),t.setItemState(T,w,!0)}});var P=[];this.includeEdges&&_.forEach(function(T){T.getOutEdges().forEach(function(D){var R=D.getModel(),L=R.source,Y=R.target;k.includes(L)&&k.includes(Y)&&l(D,"select")&&(P.push(D),t.setItemState(D,e.selectedState,!0))})}),this.selectedEdges=P,this.selectedNodes=_,this.onSelect&&this.onSelect(_,P),t.emit("nodeselectchange",{selectedItems:{nodes:_,edges:P},select:!0})},createLasso:function(){var e=this.graph.get("delegateGroup").addShape("path",{attrs:Object(I.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.points=[],e},updateLasso:function(e){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:Ge,"edge-tooltip":je,"drag-group":De,"drag-node-with-group":We,"collapse-expand-group":an,"collapse-expand":Ve,"drag-combo":Nn,"collapse-expand-combo":en,"create-edge":{getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{}}},getEvents:function(){var e;return Ke.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="click",console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),this.key&&Te.indexOf(this.key.toLowerCase())===-1&&(this.trigger=void 0,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined")),this.trigger==="drag"?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:this.trigger==="click"&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),this.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(e){if(!this.key||this.keydown){var t=e.item;t&&t.getID()!==this.source&&t.getType()==="node"||this.cancelCreating({item:this.edge,x:e.x,y:e.y})}},onClick:function(e){if(!this.key||this.keydown){var t=e.item,l=this.graph,g=t.getModel();if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,e))return;var w={target:g.id};this.source===g.id&&(w.type="loop"),l.emit("beforecreateedge",{}),l.updateItem(this.edge,w),l.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,e))return;this.edge=l.addItem("edge",Object(I.__assign)({source:g.id,target:g.id},this.edgeConfig),!1),this.source=g.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){if(!this.key||this.keydown){var t={x:e.x,y:e.y};this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:t},!1):this.addingEdge=!1}},cancelCreating:function(e){if(!this.key||this.keydown){var t=this.graph,l=e.item;if(this.addingEdge&&e.target&&e.target.isCanvas&&e.target.isCanvas())return t.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1);if(this.addingEdge&&this.edge===l){var g=!0;if(!t.get("groupByTypes"))for(var w=e.x,_=e.y,k=t.getNodes(),P=k.length,T=0;T<P;T++){var D=k[T],R=D.getModel(),L=D.getBBox();if(w<=L.maxX&&w>=L.minX&&_<=L.maxY&&_>=L.minY){if(!this.shouldEnd.call(this,{x:e.x,y:e.y,canvasX:e.canvasX,canvasY:e.canvasY,clientX:e.clientX,clientY:e.clientY,item:D}))return;t.emit("beforecreateedge",{}),t.updateItem(this.edge,{target:R.id}),t.emit("aftercreateedge",{edge:this.edge}),g=!1;break}}g&&t.removeItem(this.edge,!1),this.edge=null,this.addingEdge=!1}}},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}},"shortcuts-call":{getDefaultCfg:function(){return{trigger:"ctrl",combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return Mn.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="ctrl",console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var l=this.trigger.toLowerCase(),g=t.toLowerCase();this.triggerKeydown||(this.triggerKeydown=g===l||g==="control"&&l==="ctrl"||g==="ctrl"&&l==="control");var w=this.graph;if(!w[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(!this.triggerKeydown||this.combinedKey){var _=this.combinedKey.toLowerCase();this.triggerKeydown&&(g===_||g==="control"&&_==="ctrl"||g==="ctrl"&&_==="control")&&(this.functionParams&&this.functionParams.length?w[this.functionName].apply(w,this.functionParams):w[this.functionName]())}else this.functionParams&&this.functionParams.length?w[this.functionName].apply(w,this.functionParams):w[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}}};h()($e,function(S,e){m.registerBehavior(e,S)});var zn=m,Br=s(99),Ur=s(36),Xn=s.n(Ur),fr=s(42),Pr=s.n(fr),Hn=s(22),Ks=s(69),Bo=s.n(Ks),$s=function(){function S(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return S.prototype.formatModes=function(){var e=this.modes;h()(e,function(t){h()(t,function(l,g){N()(l)&&(t[g]={type:l})})})},S.prototype.setBehaviors=function(e){var t,l=this.graph,g=this.modes[e],w=[];h()(g||[],function(_){var k=m.getBehavior(_.type);k&&(t=new k(_))&&(t.bind(l),w.push(t))}),this.currentBehaves=w},S.mergeBehaviors=function(e,t){return h()(t,function(l){e.indexOf(l)<0&&(N()(l)&&(l={type:l}),e.push(l))}),e},S.filterBehaviors=function(e,t){var l=[];return e.forEach(function(g){var w="";w=N()(g)?g:g.type,t.indexOf(w)<0&&l.push(g)}),l},S.prototype.setMode=function(e){var t=this.modes,l=this.graph,g=e;t[g]&&(l.emit("beforemodechange",{mode:e}),h()(this.currentBehaves,function(w){w.unbind(l)}),this.setBehaviors(g),l.emit("aftermodechange",{mode:e}),this.mode=e)},S.prototype.getMode=function(){return this.mode},S.prototype.manipulateBehaviors=function(e,t,l){var g,w=this;if(g=M()(e)?e:[e],M()(t))return h()(t,function(k){w.modes[k]?w.modes[k]=l?S.mergeBehaviors(w.modes[k]||[],g):S.filterBehaviors(w.modes[k]||[],g):l&&(w.modes[k]=g)}),this;var _=t;return t||(_=this.mode),this.modes[_]||l&&(this.modes[_]=g),this.modes[_]=l?S.mergeBehaviors(this.modes[_]||[],g):S.filterBehaviors(this.modes[_]||[],g),this.setMode(this.mode),this},S.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},S}(),Qs=function(){function S(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return S.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,l=this.graph.get("width"),g=t.get("height");return{x:(l-e[1]-e[3])/2+e[3],y:(g-e[0]-e[2])/2+e[0]}},S.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var l=t.getCanvasBBox();if(l.width!==0&&l.height!==0){var g=this.getViewCenter(),w=l.x+l.width/2,_=l.y+l.height/2;e.translate(g.x-w,g.y-_)}},S.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),l=e.get("width"),g=e.get("height"),w=e.get("group");w.resetMatrix();var _=w.getCanvasBBox();if(_.width!==0&&_.height!==0){var k=this.getViewCenter(),P=_.x+_.width/2,T=_.y+_.height/2;e.translate(k.x-P,k.y-T);var D=(l-t[1]-t[3])/_.width,R=(g-t[0]-t[2])/_.height,L=D;D>R&&(L=R),e.zoom(L,k)}},S.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return U(e)},S.prototype.focusPoint=function(e,t,l){var g=this,w=this.getViewCenter(),_=this.getPointByCanvas(w.x,w.y),k=this.graph.get("group").getMatrix();if(k||(k=[1,0,0,0,1,0,0,0,1]),t){var P=(_.x-e.x)*k[0],T=(_.y-e.y)*k[4],D=0,R=0,L=0,Y=0;this.graph.get("canvas").animate(function(z){L=P*z,Y=T*z,g.graph.translate(L-D,Y-R),D=L,R=Y},Object(I.__assign)({},l))}else this.graph.translate((_.x-e.x)*k[0],(_.y-e.y)*k[4])},S.prototype.getPointByCanvas=function(e,t){var l=this.graph.get("group").getMatrix();return l||(l=[1,0,0,0,1,0,0,0,1]),qe({x:e,y:t},l)},S.prototype.getPointByClient=function(e,t){var l=this.graph.get("canvas").getPointByClient(e,t);return this.getPointByCanvas(l.x,l.y)},S.prototype.getClientByPoint=function(e,t){var l=this.graph.get("canvas"),g=this.getCanvasByPoint(e,t),w=l.getClientByPoint(g.x,g.y);return{x:w.x,y:w.y}},S.prototype.getCanvasByPoint=function(e,t){var l=this.graph.get("group").getMatrix();return l||(l=[1,0,0,0,1,0,0,0,1]),rn({x:e,y:t},l)},S.prototype.focus=function(e,t,l){N()(e)&&(e=this.graph.findById(e));var g=e.get("group").getMatrix();g||(g=[1,0,0,0,1,0,0,0,1]),e&&this.focusPoint({x:g[6],y:g[7]},t,l)},S.prototype.changeSize=function(e,t){var l=this.graph;if(!j()(e)||!j()(t))throw Error("invalid canvas width & height, please make sure width & height type is number");l.set({width:e,height:t}),l.get("canvas").changeSize(e,t),l.get("plugins").forEach(function(g){if(g.get("gridContainer")){var w=l.get("minZoom");ue()(g.get("container"),{width:e+"px",height:t+"px"}),ue()(g.get("gridContainer"),{width:e/w+"px",height:t/w+"px",left:0,top:0})}})},S.prototype.destroy=function(){this.graph=null,this.destroyed=!1},S}(),Js=s(57),Wr=s.n(Js),tu=s(50),di=s.n(tu),eu=function(){function S(e){this.preItem=null,this.graph=e,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return S.prototype.initEvents=function(){var e=this.graph,t=this.extendEvents,l=e.get("canvas"),g=l.get("el"),w=di()(this,"onCanvasEvents"),_=di()(this,"onExtendEvents"),k=di()(this,"onWheelEvent");l.on("*",w),this.canvasHandler=w,t.push(Wr()(g,"DOMMouseScroll",k)),t.push(Wr()(g,"mousewheel",k)),typeof window!="undefined"&&(t.push(Wr()(window,"keydown",_)),t.push(Wr()(window,"keyup",_)),t.push(Wr()(window,"focus",_)))},S.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},S.prototype.onCanvasEvents=function(e){var t=this.graph,l=t.get("canvas"),g=e.target,w=e.type;e.canvasX=e.x,e.canvasY=e.y;var _={x:e.canvasX,y:e.canvasY},k=t.get("group").getMatrix();if(k||(k=[1,0,0,0,1,0,0,0,1]),Q(k)&&(_=t.getPointByClient(e.clientX,e.clientY)),e.x=_.x,e.y=_.y,e.currentTarget=t,g===l)return w==="mousemove"&&this.handleMouseMove(e,"canvas"),e.target=l,e.item=null,t.emit(w,e),void t.emit("canvas:"+w,e);var P=S.getItemRoot(g);if(P){var T=P.get("item");if(!T.destroyed){var D=T.getType();if(e.target=g,e.item=T,e.canvasX===e.x&&e.canvasY===e.y){var R=t.getCanvasByPoint(e.x,e.y);e.canvasX=R.x,e.canvasY=R.y}t.emit(w,e),e.name&&!e.name.includes(":")?t.emit(D+":"+w,e):t.emit(e.name,e),w==="dragstart"&&(this.dragging=!0),w==="dragend"&&(this.dragging=!1),w==="mousemove"&&this.handleMouseMove(e,D)}}else t.emit(w,e)},S.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},S.prototype.onWheelEvent=function(e){E()(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},S.prototype.handleMouseMove=function(e,t){var l=this.graph,g=this.preItem,w=l.get("canvas"),_=e.target===w?null:e.item;e=H(e),g&&g!==_&&!g.destroyed&&(e.item=g,this.emitCustomEvent(g.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(g.getType(),"dragleave",e)),_&&g!==_&&(e.item=_,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=_},S.prototype.emitCustomEvent=function(e,t,l){l.type=t,this.graph.emit(e+":"+t,l)},S.prototype.destroy=function(){var e=this.graph,t=this.canvasHandler,l=this.extendEvents;e.get("canvas").off("*",t),h()(l,function(g){g.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},S}(),nu=s(98),Ro=s.n(nu),ru=s(35),Lo=s.n(ru),iu=s(49),Fo=s.n(iu),ou=s(130),au=s.n(ou),su={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Dn=Math.PI,Vi=Math.sin,Ui=Math.cos,Qe=Vi(Dn/8),Je=Ui(Dn/8),pi=function(e,t){var l=e.getBBox(),g={x:l.minX,y:l.minY},w={x:l.maxX,y:l.maxY};if(t){var _=t.getMatrix();_||(_=[1,0,0,0,1,0,0,0,1]),g=rn(g,_),w=rn(w,_)}var k=g.x,P=g.y,T=w.x,D=w.y;return{x:k,y:P,minX:k,minY:P,maxX:T,maxY:D,width:T-k,height:D-P}},Yo=function(e){var t=e.sourceNode||e.targetNode,l=t.get("group").getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]);var g=t.getKeyShape().getBBox(),w=e.loopCfg||{},_=w.dist||2*Math.max(g.width,g.height),k=w.position||J.defaultLoopPosition,P=[l[6],l[7]],T=[e.startPoint.x,e.startPoint.y],D=[e.endPoint.x,e.endPoint.y],R=g.height/2,L=g.height/2,Y=R*Qe,z=R*Je,q=L*Qe,nt=L*Je;if(T[0]===D[0]&&T[1]===D[1]){switch(k){case"top":T=[P[0]-Y,P[1]-z],D=[P[0]+q,P[1]-nt];break;case"top-right":R=g.height/2,L=g.width/2,T=[P[0]+(Y=R*Qe),P[1]-(z=R*Je)],D=[P[0]+(nt=L*Je),P[1]-(q=L*Qe)];break;case"right":R=g.width/2,L=g.width/2,T=[P[0]+(z=R*Je),P[1]-(Y=R*Qe)],D=[P[0]+(nt=L*Je),P[1]+(q=L*Qe)];break;case"bottom-right":R=g.width/2,L=g.height/2,T=[P[0]+(z=R*Je),P[1]+(Y=R*Qe)],D=[P[0]+(q=L*Qe),P[1]+(nt=L*Je)];break;case"bottom":R=g.height/2,L=g.height/2,T=[P[0]+(Y=R*Qe),P[1]+(z=R*Je)],D=[P[0]-(q=L*Qe),P[1]+(nt=L*Je)];break;case"bottom-left":R=g.height/2,L=g.width/2,T=[P[0]-(Y=R*Qe),P[1]+(z=R*Je)],D=[P[0]-(nt=L*Je),P[1]+(q=L*Qe)];break;case"left":R=g.width/2,L=g.width/2,T=[P[0]-(z=R*Je),P[1]+(Y=R*Qe)],D=[P[0]-(nt=L*Je),P[1]-(q=L*Qe)];break;case"top-left":R=g.width/2,L=g.height/2,T=[P[0]-(z=R*Je),P[1]-(Y=R*Qe)],D=[P[0]-(q=L*Qe),P[1]-(nt=L*Je)];break;default:R=g.width/2,L=g.width/2,T=[P[0]-(Y=R*Qe),P[1]-(z=R*Je)],D=[P[0]+(q=L*Qe),P[1]-(nt=L*Je)]}if(w.clockwise===!1){var et=[T[0],T[1]];T=[D[0],D[1]],D=[et[0],et[1]]}}var st=[T[0]-P[0],T[1]-P[1]],pt=(R+_)/R,Ot=(L+_)/L;w.clockwise===!1&&(pt=(L+_)/L,Ot=(R+_)/R);var wt=re.scale([],st,pt),yt=[P[0]+wt[0],P[1]+wt[1]],Tt=[D[0]-P[0],D[1]-P[1]],Dt=re.scale([],Tt,Ot),Gt=[P[0]+Dt[0],P[1]+Dt[1]];return e.startPoint={x:T[0],y:T[1]},e.endPoint={x:D[0],y:D[1]},e.controlPoints=[{x:yt[0],y:yt[1]},{x:Gt[0],y:Gt[1]}],e},gi=function(e,t,l,g,w){var _=[],k=e.getPoint(t);if(k===null)return{x:0,y:0,angle:0};if(t<1e-4)_=e.getStartTangent().reverse();else if(t>.9999)_=e.getEndTangent();else{var P=e.getPoint(t+1e-4);_.push([k.x,k.y]),_.push([P.x,P.y])}var T=Math.atan2(_[1][1]-_[0][1],_[1][0]-_[0][0]);if(T<0&&(T+=2*Dn),l&&(k.x+=Ui(T)*l,k.y+=Vi(T)*l),g){var D=T-Dn/2;T>.5*Dn&&T<1.5*Dn&&(D-=Dn),k.x+=Ui(D)*g,k.y+=Vi(D)*g}var R={x:k.x,y:k.y,angle:T};return w?(T>.5*Dn&&T<1.5*Dn&&(T-=Dn),Object(I.__assign)({rotate:T},R)):R},Go=function S(e,t){if(t(e)===!1)return!1;if(e&&e.children){for(var l=e.children.length-1;l>=0;l--)if(!S(e.children[l],t))return!1}return!0},uu=function S(e,t){if(e&&e.children){for(var l=e.children.length-1;l>=0;l--)if(!S(e.children[l],t))return}return t(e)!==!1},fn=function(e,t){typeof t=="function"&&Go(e,t)},Bn=function(e,t){typeof t=="function"&&uu(e,t)},zo=function(e,t){var l={x:1/0,y:1/0},g={x:-1/0,y:-1/0},w="x",_="y";t&&["V","TB","BT"].indexOf(t)>=0&&(_="x",w="y");var k=0;fn(e,function(D){return k++,D.x>g.x&&(g.x=D.x),D.x<l.x&&(l.x=D.x),D.y>g.y&&(g.y=D.y),D.y<l.y&&(l.y=D.y),!0});var P=2*Dn/k,T=g[_]-l[_];return T===0||fn(e,function(D){var R=(D[_]-l[_])/T*(2*Dn-P)+P,L=Math.abs(w==="x"?D.x-e.x:D.y-e.y);return D.x=L*Math.cos(R),D.y=L*Math.sin(R),!0}),e},Xo=function(e,t){return t*(su[e]||1)},Ho=function(e,t){var l=0,g=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(w){g.test(w)?l+=t:l+=Xo(w,t)}),[l,t]},Wi=function(e,t){var l=[],g={},w={};e.forEach(function(k){w[k.id]=k}),e.forEach(function(k,P){var T=Object(ut.clone)(k);T.itemType="combo",T.children=void 0,T.parentId===T.id?(console.warn("The parentId for combo "+T.id+" can not be the same as the combo's id"),delete T.parentId):T.parentId&&!w[T.parentId]&&(console.warn("The parent combo for combo "+T.id+" does not exist!"),delete T.parentId);var D=g[T.id];if(D){if(T.children=D.children,g[T.id]=T,!(D=T).parentId)return void l.push(D);var R=g[D.parentId];if(R)R.children?R.children.push(T):R.children=[T];else{var L={id:D.parentId,children:[D]};g[D.parentId]=L,g[T.id]=T}}else if(Object(ut.isString)(k.parentId))if(L=g[k.parentId])L.children?L.children.push(T):L.children=[T],g[T.id]=T;else{var Y={id:k.parentId,children:[T]};g[Y.id]=Y,g[T.id]=T}else l.push(T),g[T.id]=T});var _={};return(t||[]).forEach(function(k){_[k.id]=k;var P=g[k.comboId];if(P){var T={id:k.id,comboId:k.comboId};P.children?P.children.push(T):P.children=[T],T.itemType="node",g[k.id]=T}}),l.forEach(function(k){k.depth=0,Go(k,function(P){var T,D=g[P.id].itemType;T=D==="node"?g[P.comboId]:g[P.parentId],P.depth=T?D==="node"?T.depth+1:T.depth+2:0;var R=_[P.id];return R&&(R.depth=P.depth),!0})}),l},qi=function(e,t,l){var g,w=e,_={root:{children:e}},k=!1,P="root";(e||[]).forEach(function(Y){if(!k)return Y.id===t?(g=Y,Y.itemType==="combo"?g.parentId=l:g.comboId=l,void(k=!0)):void fn(Y,function(z){return _[z.id]={children:z.children},w=_[z.parentId||z.comboId||"root"].children,!z||!z.removed&&t!==z.id||!w||(P=z.parentId||z.comboId||"root",g=z,z.itemType==="combo"?g.parentId=l:g.comboId=l,k=!0,!1)})});var T=(w=_[P].children)?w.indexOf(g):-1;if(T>-1&&w.splice(T,1),k||(g={id:t,itemType:"node",comboId:l},_[t]={children:void 0}),t){var D=!1;if(l){var R=0;(e||[]).forEach(function(Y){D||fn(Y,function(z){return l!==z.id||(D=!0,z.children?z.children.push(g):z.children=[g],R=z.depth,g.itemType==="node"?g.depth=R+2:g.depth=R+1,!1)})})}else l&&D||g.itemType==="node"||e.push(g);var L=g.depth;fn(g,function(Y){return Y.itemType==="node"?L+=2:L+=1,Y.depth=L,!0})}return e},Zi=function(e,t){var l={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return e&&e.length!==0&&(e.forEach(function(g){var w=t.findById(g.id);if(w&&w.isVisible()){w.set("bboxCanvasCache",void 0);var _=w.getCanvasBBox();_.x&&l.minX>_.minX&&(l.minX=_.minX),_.y&&l.minY>_.minY&&(l.minY=_.minY),_.x&&l.maxX<_.maxX&&(l.maxX=_.maxX),_.y&&l.maxY<_.maxY&&(l.maxY=_.maxY)}}),l.x=(l.minX+l.maxX)/2,l.y=(l.minY+l.maxY)/2,l.width=l.maxX-l.minX,l.height=l.maxY-l.minY,l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2,Object.keys(l).forEach(function(g){l[g]!==1/0&&l[g]!==-1/0||(l[g]=void 0)})),l},cu=function(e){var t=e.group,l=e.height,g=e.width,w=e.x,_=e.y,k=t.get("canvas"),P=k.get("width"),T=k.get("height"),D={start:{x:0,y:0},end:{x:0,y:0}};return D.start.x=w/P,D.start.y=_/T,D.end.x=(w+g)/P,D.end.y=(_+l)/T,D};function Vo(S){if(typeof S!="string")return S;var e=function(yt){if(typeof yt!="string")return yt;try{return JSON.parse(yt.trim())}catch(Tt){return yt.trim()}},t=e(S);if(typeof t!="string")return t;for(var l=function(yt){return yt[yt.length-1]},g=S.trim(),w=[],_=[],k=function(){for(var yt=[],Tt=0;Tt<arguments.length;Tt++)yt[Tt]=arguments[Tt];return yt.some(function(Dt){return l(_)===Dt})},P=null,T=0,D="";T<g.length;){var R=g[T],L=k('"',"'");if(L||R.trim()){var Y=g[T-1]==="\\",z=k("}"),q=k("]"),nt=k(","),et=l(w);if(L)if(l(_)!==R||Y)D+=R;else{_.pop();var st=e(D);et.push(st),P=st,D=""}else if(q&&R===",")D&&(et.push(e(D)),D="");else if(z&&R===":")_.push(","),D&&(et.push(D),D="");else if(nt&&R===",")D&&(et.push(e(D)),D=""),_.pop();else if(R==="}"&&(z||nt)){D&&(et.push(e(D)),D=""),nt&&_.pop();for(var pt={},Ot=1;Ot<et.length;Ot+=2)pt[et[Ot-1]]=et[Ot];w.pop(),w.length&&l(w).push(pt),_.pop(),P=pt}else R==="]"&&q?(D&&(et.push(e(D)),D=""),w.pop(),w.length&&l(w).push(et),_.pop(),P=et):R==="{"?(w.push([]),_.push("}")):R==="["?(w.push([]),_.push("]")):R==='"'?_.push('"'):R==="'"?_.push("'"):D+=R;T+=1}else T+=1}return P||D}function Uo(S,e){var t;e===void 0&&(e={x:0,y:0});var l=Object(I.__assign)({x:0,y:0,width:0,height:0},e);if((t=S.children)===null||t===void 0?void 0:t.length){var g=S.attrs,w=g===void 0?{}:g,_=w.marginTop,k=Object(I.__assign)({},e);_&&(k.y+=_);for(var P=0;P<S.children.length;P++){S.children[P].attrs.key=(w.key||"root")+" -"+P+" ";var T=Uo(S.children[P],k);if(T.bbox){var D=T.bbox;T.attrs.next==="inline"?k.x+=T.bbox.width:k.y+=T.bbox.height,D.width+D.x>l.width&&(l.width=D.width+D.x),D.height+D.y>l.height&&(l.height=D.height+D.y)}}}return S.bbox=function(R,L,Y){var z,q,nt=R.attrs,et=nt===void 0?{}:nt,st={x:L.x||0,y:L.y||0,width:Y.width||0,height:Y.height||0};switch(R.type){case"maker":case"circle":et.r&&(q=2*et.r,z=2*et.r);break;case"text":et.text&&(q=Ho(et.text,et.fontSize||12)[0],z=16,st.y+=z,st.height=z,st.width=q,R.attrs=Object(I.__assign)({fontSize:12,fill:"#000"},et));break;default:et.width&&(q=et.width),et.height&&(z=et.height)}return z>=0&&(st.height=z),q>=0&&(st.width=q),et.marginTop&&(st.y+=et.marginTop),et.marginLeft&&(st.x+=et.marginLeft),st}(S,e,l),S.attrs=Object(I.__assign)(Object(I.__assign)({},S.attrs),S.bbox),S}function Wo(S){var e={},t=function(g){var w=function(P){return function(T){for(var D=P.length,R=[],L=0,Y="";L<D;)if(P[L]==="{"&&P[L+1]==="{")R.push(Y),Y="",L+=2;else if(P[L]==="}"&&P[L+1]==="}"){if(R.length){var z=R.pop();Y=au()(T,Y,z.endsWith("=")?'"{'+Y+'}"':Y),R.push(z+Y)}L+=2,Y=""}else Y+=P[L],L+=1;return R.push(Y),R.map(function(q,nt){return R[nt-1]&&R[nt-1].endsWith("=")?'"{'+q+'}"':q}).join("")}}(typeof S=="function"?S(g):S)(g),_=document.createElement("div");_.innerHTML=w;var k=Uo(function P(T,D){var R={},L=T.getAttributeNames&&T.getAttributeNames()||[],Y=T.children&&Array.from(T.children).map(function(nt){return P(nt,D)}),z={},q=T.tagName?T.tagName.toLowerCase():"group";return q==="text"&&(R.text=T.innerText),z.type=q,q==="img"&&(z.type="image"),Array.from(L).forEach(function(nt){var et=nt.split("-").reduce(function(Ot,wt){return Ot+wt.charAt(0).toUpperCase()+wt.slice(1)}),st=T.getAttribute(nt);try{if(et==="style"||et==="attrs"){var pt=Vo(st);R=Object(I.__assign)(Object(I.__assign)({},R),pt)}else z[et]=Vo(st)}catch(Ot){if(et==="style")throw Ot;z[et]=st}}),z.attrs=R,D&&D.style&&z.name&&typeof D.style[z.name]=="object"&&(z.attrs=Object(I.__assign)(Object(I.__assign)({},z.attrs),D.style[z.name])),D&&D.style&&z.keyshape&&(z.attrs=Object(I.__assign)(Object(I.__assign)({},z.attrs),D.style)),Y.length&&(z.children=Y),z}(_.children[0],g));return _.remove(),k};return{draw:function(g,w){var _=t(g),k=w,P=function T(D){var R=D.attrs,L=R===void 0?{}:R,Y=D.bbox,z=D.type,q=D.children,nt=Object(I.__rest)(D,["attrs","bbox","type","children"]);if(D.type!=="group"){var et=w.addShape(D.type,Object(I.__assign)({attrs:L,origin:{bbox:Y,type:z,children:q}},nt));D.keyshape&&(k=et)}D.children&&D.children.forEach(function(st){return T(st)})};return P(_),e[g.id]=[_],k},update:function(g,w){e[g.id]||(e[g.id]=[]);var _=w.getContainer(),k=_.get("children"),P=t(g),T=function Y(z,q){var nt,et,st,pt,Ot=(z||{}).type,wt=((q==null?void 0:q.attrs)||{}).key;if(wt&&z&&(z.attrs.key=wt),!z&&q)return{action:"delete",val:q,type:Ot,key:wt};if(z&&!q)return{action:"add",val:z,type:Ot};if(!z&&!q)return{action:"same",type:Ot};var yt=[];if(((nt=z.children)===null||nt===void 0?void 0:nt.length)>0||((et=q.children)===null||et===void 0?void 0:et.length)>0)for(var Tt=Math.max((st=z.children)===null||st===void 0?void 0:st.length,(pt=q.children)===null||pt===void 0?void 0:pt.length),Dt=q.children||[],Gt=z.children||[],zt=0;zt<Tt;zt+=1)yt.push(Y(Gt[zt],Dt[zt]));var Kt=Object.keys(q.attrs),qt=Object.keys(z.attrs);return q.type!==z.type?{action:"restructure",nowTarget:z,formerTarget:q,key:wt,children:yt}:Kt.filter(function(Wt){return Wt!=="children"}).some(function(Wt){return z.attrs[Wt]!==q.attrs[Wt]||!qt.includes(Wt)})?{action:"change",val:z,children:yt,type:Ot,key:wt}:{action:"same",children:yt,type:Ot,key:wt}}(P,e[g.id].pop()),D=function Y(z){var q;z.type!=="group"&&_.addShape(z.type,{attrs:z.attrs}),((q=z.children)===null||q===void 0?void 0:q.length)&&z.children.map(function(nt){return Y(nt)})},R=function Y(z){var q,nt=k.find(function(et){return et.attrs.key===z.attrs.key});nt&&_.removeChild(nt),((q=z.children)===null||q===void 0?void 0:q.length)&&z.children.map(function(et){return Y(et)})},L=function Y(z){var q=z.key;if(z.type!=="group"){var nt=k.find(function(st){return st.attrs.key===q});switch(z.action){case"change":if(nt){var et=z.val.keyshape?w.getOriginStyle():{};nt.attr(Object(I.__assign)(Object(I.__assign)({},et),z.val.attrs))}break;case"add":D(z.val);break;case"delete":R(z.val);break;case"restructure":R(z.formerTarget),D(z.nowTarget)}}z.children&&z.children.forEach(function(st){return Y(st)})};L(T),e[g.id].push(P)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Ki={};function qo(S){return Ki[S]||(Ki[S]=Object(ut.upperFirst)(S)),Ki[S]}var hu={defaultShapeType:"defaultType",className:null,getShape:function(e){return this[e]||this[this.defaultShapeType]},draw:function(e,t,l){var g=this.getShape(e),w=g.draw(t,l);return g.afterDraw&&g.afterDraw(t,l,w),w},baseUpdate:function(e,t,l){var g=this.getShape(e);g.update&&g.update(t,l),g.afterUpdate&&g.afterUpdate(t,l)},setState:function(e,t,l,g){this.getShape(e).setState(t,l,g)},shouldUpdate:function(e){return!!this.getShape(e).update},getControlPoints:function(e,t){return this.getShape(e).getControlPoints(t)},getAnchorPoints:function(e,t){return this.getShape(e).getAnchorPoints(t)}},$i={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints;return e.anchorPoints||t}},vi=function(){function S(){}return S.registerFactory=function(e,t){var l=qo(e),g=hu,w=Object(I.__assign)(Object(I.__assign)({},g),t);return S[l]=w,w.className=l,w},S.getFactory=function(e){return S[qo(e)]},S.registerNode=function(e,t,l){var g,w=S.Node;if(typeof t=="string"||typeof t=="function"){var _=Wo(t);g=Object(I.__assign)(Object(I.__assign)({},w.getShape("single-node")),_)}else if(t.jsx)_=Wo(t.jsx),g=Object(I.__assign)(Object(I.__assign)(Object(I.__assign)({},w.getShape("single-node")),_),t);else{var k=l?w.getShape(l):$i;g=Object(I.__assign)(Object(I.__assign)({},k),t)}return g.type=e,g.itemType="node",w[e]=g,g},S.registerEdge=function(e,t,l){var g=S.Edge,w=l?g.getShape(l):$i,_=Object(I.__assign)(Object(I.__assign)({},w),t);return _.type=e,_.itemType="edge",g[e]=_,_},S.registerCombo=function(e,t,l){var g=S.Combo,w=l?g.getShape(l):$i,_=Object(I.__assign)(Object(I.__assign)({},w),t);return _.type=e,_.itemType="combo",g[e]=_,_},S}(),Ye=vi;vi.registerFactory("node",{defaultShapeType:"circle"}),vi.registerFactory("edge",{defaultShapeType:"line"}),vi.registerFactory("combo",{defaultShapeType:"circle"});var Zo=function(){function S(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var l=this.get("model"),g=l.id,w=this.get("type");g||(g=Object(ut.uniqueId)(w),this.get("model").id=g),this.set("id",g);var _=e.group;_&&(_.set("item",this),_.set("id",g)),this.init(),this.draw();var k=l.shape||l.type||(w==="edge"?"line":"circle"),P=this.get("shapeFactory");if(P&&P[k]){var T=P[k].options;if(T&&T.stateStyles){var D=this.get("styles")||l.stateStyles;D=Object(ut.deepMix)({},T.stateStyles,D),this.set("styles",D)}}}return S.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),l=pi(e,t);return l.x=l.minX,l.y=l.minY,l.width=l.maxX-l.minX,l.height=l.maxY-l.minY,l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2,l},S.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),l=pi(e,t);return l.x=l.minX,l.y=l.minY,l.width=l.maxX-l.minX,l.height=l.maxY-l.minY,l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2,l},S.prototype.drawInner=function(){var e=this.get("shapeFactory"),t=this.get("group"),l=this.get("model");t.clear();var g=l.visible;if(g===void 0||g||this.changeVisibility(g),e){this.updatePosition(l);var w=this.getShapeCfg(l),_=w.shape||w.type,k=e.draw(_,w,t);k&&(this.set("keyShape",k),k.set("isKeyShape",!0),k.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",_),this.restoreStates(e,_)}},S.prototype.setOriginStyle=function(e){var t={},l=this.get("group").get("children"),g=this.getKeyShape(),w=this;Object(ut.each)(l,function(P){var T=P.get("name");if(T)t[T]=w.getShapeStyleByName(T);else{var D=g.get("name"),R=w.getShapeStyleByName();D?t[D]=R:Object.assign(t,R)}});var _=this.getOriginStyle(),k={};k=e?Object(ut.deepMix)({},_,t,e.style,{labelCfg:e.labelCfg}):Object(ut.deepMix)({},_,t),w.set("originStyle",k)},S.prototype.restoreStates=function(e,t){var l=this,g=l.get("states");Object(ut.each)(g,function(w){e.setState(t,w,!0,l)})},S.prototype.init=function(){var e=Ye.getFactory(this.get("type"));this.set("shapeFactory",e)},S.prototype.get=function(e){return this._cfg[e]},S.prototype.set=function(e,t){Object(ut.isPlainObject)(e)?this._cfg=Object(I.__assign)(Object(I.__assign)({},this._cfg),e):this._cfg[e]=t},S.prototype.getDefaultCfg=function(){return{}},S.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},S.prototype.beforeDraw=function(){},S.prototype.afterDraw=function(){},S.prototype.afterUpdate=function(){},S.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},S.prototype.getShapeStyleByName=function(e){var t=this.get("group"),l=this.getKeyShape();if(e&&(l=t.find(function(w){return w.get("name")===e})),l){var g={};return Object(ut.each)(l.attr(),function(w,_){_!=="img"&&(g[_]=w)}),g}return{}},S.prototype.getShapeCfg=function(e){var t=this.get("styles");if(t){var l=e;return l.style=Object(I.__assign)(Object(I.__assign)({},t),e.style),l}return e},S.prototype.getStateStyle=function(e){var t=this.get("styles");return t&&t[e]},S.prototype.getOriginStyle=function(){return this.get("originStyle")},S.prototype.getCurrentStatesStyle=function(){var e=this,t={};return Object(ut.each)(e.getStates(),function(l){t=Object.assign(t,e.getStateStyle(l))}),t},S.prototype.setState=function(e,t){var l=this.get("states"),g=this.get("shapeFactory"),w=e,_=e;Object(ut.isString)(t)&&(w=e+":"+t,_=e+":");var k=l;if(Object(ut.isBoolean)(t)){var P=l.indexOf(_);if(t){if(P>-1)return;l.push(w)}else P>-1&&l.splice(P,1)}else if(Object(ut.isString)(t)){var T=l.filter(function(L){return L.includes(_)});T.length>0&&this.clearStates(T),(k=k.filter(function(L){return!L.includes(_)})).push(w),this.set("states",k)}if(g){var D=this.get("model"),R=D.shape||D.type;g.setState(R,e,t,this)}},S.prototype.clearStates=function(e){var t=this,l=t.getStates(),g=t.get("shapeFactory"),w=t.get("model"),_=w.shape||w.type;e||(e=l),Object(ut.isString)(e)&&(e=[e]);var k=l.filter(function(P){return e.indexOf(P)===-1});t.set("states",k),e.forEach(function(P){g.setState(_,P,!1,t)})},S.prototype.getContainer=function(){return this.get("group")},S.prototype.getKeyShape=function(){return this.get("keyShape")},S.prototype.getModel=function(){return this.get("model")},S.prototype.getType=function(){return this.get("type")},S.prototype.getID=function(){return this.get("id")},S.prototype.isItem=function(){return!0},S.prototype.getStates=function(){return this.get("states")},S.prototype.hasState=function(e){return this.getStates().indexOf(e)>=0},S.prototype.refresh=function(){var e=this.get("model");this.updatePosition(e),this.updateShape(),this.afterUpdate(),this.clearCache()},S.prototype.isOnlyMove=function(e){return!1},S.prototype.update=function(e){var t=this.get("model"),l=t.visible,g=e.visible;l!==g&&g!==void 0&&this.changeVisibility(g);var w=t.x,_=t.y;e.x=isNaN(e.x)?t.x:e.x,e.y=isNaN(e.y)?t.y:e.y;var k=this.get("styles");if(e.stateStyles){var P=e.stateStyles;Object(ut.mix)(k,P),delete e.stateStyles}Object.assign(t,e),this.isOnlyMove(e)?this.updatePosition(e):(w===e.x&&_===e.y||this.updatePosition(e),this.updateShape()),this.afterUpdate(),this.clearCache()},S.prototype.updateShape=function(){var e=this.get("shapeFactory"),t=this.get("model"),l=t.shape||t.type;if(e.shouldUpdate(l)&&l===this.get("currentShape")){var g=this.getShapeCfg(t);e.baseUpdate(l,g,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(e,l)},S.prototype.updatePosition=function(e){var t=this.get("model"),l=Object(ut.isNil)(e.x)?t.x:e.x,g=Object(ut.isNil)(e.y)?t.y:e.y,w=this.get("group");Object(ut.isNil)(l)||Object(ut.isNil)(g)||(w.resetMatrix(),cn(w,{x:l,y:g}),t.x=l,t.y=g,this.clearCache())},S.prototype.getBBox=function(){var e=this.get("bboxCache");return e||(e=this.calculateBBox(),this.set("bboxCache",e)),e},S.prototype.getCanvasBBox=function(){var e=this.get("bboxCanvasCache");return e||(e=this.calculateCanvasBBox(),this.set("bboxCanvasCache",e)),e},S.prototype.toFront=function(){this.get("group").toFront()},S.prototype.toBack=function(){this.get("group").toBack()},S.prototype.show=function(){this.changeVisibility(!0)},S.prototype.hide=function(){this.changeVisibility(!1)},S.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},S.prototype.isVisible=function(){return this.get("visible")},S.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},S.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},S}(),mi={source:"start",target:"end"},lu=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,l){var g=mi[t]+"Point",w=t+"Node",_=this.get(w);_&&!_.destroyed&&_.removeEdge(this),Object(ut.isPlainObject)(l)?(this.set(g,l),this.set(w,null)):(l.addEdge(this),this.set(w,l),this.set(g,null))},e.prototype.getLinkPoint=function(t,l,g){var w=mi[t]+"Point",_=t+"Node",k=this.get(w);if(!k){var P=this.get(_),T=t+"Anchor",D=this.getPrePoint(t,g),R=l[T];Object(ut.isNil)(R)||(k=P.getLinkPointByAnchor(R)),k=k||P.getLinkPoint(D),Object(ut.isNil)(k.index)||this.set(t+"AnchorIndex",k.index)}return k},e.prototype.getPrePoint=function(t,l){if(l&&l.length)return l[t==="source"?0:l.length-1];var g=t==="source"?"target":"source";return this.getEndPoint(g)},e.prototype.getEndPoint=function(t){var l=t+"Node",g=mi[t]+"Point",w=this.get(l);return w?w.get("model"):this.get(g)},e.prototype.getControlPointsByCenter=function(t){var l=this.getEndPoint("source"),g=this.getEndPoint("target"),w=this.get("shapeFactory"),_=t.shape||t.type;return w.getControlPoints(_,{startPoint:l,endPoint:g})},e.prototype.getEndCenter=function(t){var l=t+"Node",g=mi[t]+"Point",w=this.get(l);if(w){var _=w.getBBox();return{x:_.centerX,y:_.centerY}}return this.get(g)},e.prototype.init=function(){S.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t){var l=this.get("linkCenter"),g=S.prototype.getShapeCfg.call(this,t);if(l)g.startPoint=this.getEndCenter("source"),g.endPoint=this.getEndCenter("target");else{var w=g.controlPoints||this.getControlPointsByCenter(g);g.startPoint=this.getLinkPoint("source",t,w),g.endPoint=this.getLinkPoint("target",t,w)}return g.sourceNode=this.get("sourceNode"),g.targetNode=this.get("targetNode"),g},e.prototype.getModel=function(){var t=this.get("model"),l=this.get("sourceNode"),g=this.get("targetNode");return l?delete t.sourceNode:t.source=this.get("startPoint"),g?delete t.targetNode:t.target=this.get("endPoint"),Object(ut.isString)(t.source)||Object(ut.isPlainObject)(t.source)||(t.source=t.source.getID()),Object(ut.isString)(t.target)||Object(ut.isPlainObject)(t.target)||(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){},e.prototype.update=function(t){var l=this.get("model"),g=l.visible,w=t.visible;g!==w&&w!==void 0&&this.changeVisibility(w);var _=this.get("styles");if(t.stateStyles){var k=t.stateStyles;Object(ut.mix)(_,k),delete t.stateStyles}Object.assign(l,t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var t=this.get("sourceNode"),l=this.get("targetNode");t&&!t.destroyed&&t.removeEdge(this),l&&!l.destroyed&&l.removeEdge(this),S.prototype.destroy.call(this)},e}(Zo),fu=s(17),qr=s.n(fu),Ko=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getNearestPoint=function(t,l){for(var g=0,w=t[0],_=on(t[0],l),k=0;k<t.length;k++){var P=t[k],T=on(P,l);T<_&&(w=P,_=T,g=k)}return w.anchorIndex=g,w},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(l){return l.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(l){return l.get("source")===t})},e.prototype.getNeighbors=function(t){var l=this,g=this.get("edges");return t==="target"?g.filter(function(w){return w.getSource()===l}).map(function(w){return w.getTarget()}):t==="source"?g.filter(function(w){return w.getTarget()===l}).map(function(w){return w.getSource()}):g.map(function(w){return w.getSource()===l?w.getTarget():w.getSource()})},e.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},e.prototype.getLinkPoint=function(t){var l,g,w=this.get("keyShape").get("type"),_=this.get("type"),k=this.getBBox();_==="combo"?(l=(k.maxX+k.minX)/2,g=(k.maxY+k.minY)/2):(l=k.centerX,g=k.centerY);var P,T=this.getAnchorPoints();switch(w){case"circle":P=bn({x:l,y:g,r:k.width/2},t);break;case"ellipse":P=xn({x:l,y:g,rx:k.width/2,ry:k.height/2},t);break;default:P=Pn(k,t)}var D=P;return T.length&&(D||(D=t),D=this.getNearestPoint(T,D)),D||(D={x:l,y:g}),D},e.prototype.getAnchorPoints=function(){var t=this.get("anchorPointsCache");if(!t){t=[];var l=this.get("shapeFactory"),g=this.getBBox(),w=this.get("model"),_=this.getShapeCfg(w),k=w.shape||w.type,P=l.getAnchorPoints(k,_)||[];h()(P,function(T,D){var R=qr()({x:g.minX+T[0]*g.width,y:g.minY+T[1]*g.height},T[2],{index:D});t.push(R)}),this.set("anchorPointsCache",t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var l=this.getEdges(),g=l.indexOf(t);g>-1&&l.splice(g,1)},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},e.prototype.isOnlyMove=function(t){if(!t)return!1;var l=!E()(t.x),g=!E()(t.y),w=Object.keys(t);return w.length===1&&(l||g)||w.length===2&&l&&g},e}(Zo),du=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var l=this.get("styles"),g=this.get("bbox");if(l&&g){var w=t,_={r:Math.hypot(g.height,g.width)/2||J.defaultCombo.size[0]/2,width:g.width||J.defaultCombo.size[0],height:g.height||J.defaultCombo.size[1]};w.style=Object(I.__assign)(Object(I.__assign)(Object(I.__assign)({},l),t.style),_);var k=t.padding||J.defaultCombo.padding;return j()(k)?(_.r+=k,_.width+=2*k,_.height+=2*k):(_.r+=k[0],_.width+=k[1]+k[3]||2*k[1],_.height+=k[0]+k[2]||2*k[0]),this.set("sizeCache",_),w}return t},e.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),l=this.get("group"),g=pi(t,l);g.x=g.minX,g.y=g.minY,g.centerX=(g.minX+g.maxX)/2,g.centerY=(g.minY+g.maxY)/2;var w=this.get("sizeCache");return w?(t.get("type")==="circle"?(g.width=2*w.r,g.height=2*w.r):(g.width=w.width,g.height=w.height),g.minX=g.centerX-g.width/2,g.minY=g.centerY-g.height/2,g.maxX=g.centerX+g.width/2,g.maxY=g.centerY+g.height/2):(g.width=g.maxX-g.minX,g.height=g.maxY-g.minY,g.centerX=(g.minX+g.maxX)/2,g.centerY=(g.minY+g.maxY)/2),g},e.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.addChild=function(t){switch(t.getType()){case"node":this.addNode(t);break;case"combo":this.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){return this.get("combos").push(t),!0},e.prototype.addNode=function(t){return this.get("nodes").push(t),!0},e.prototype.removeChild=function(t){switch(t.getType()){case"node":this.removeNode(t);break;case"combo":this.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var l=this.getCombos(),g=l.indexOf(t);return g>-1&&(l.splice(g,1),!0)}},e.prototype.removeNode=function(t){if(t){var l=this.getNodes(),g=l.indexOf(t);return g>-1&&(l.splice(g,1),!0)}},e.prototype.isOnlyMove=function(t){return!1},e.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),l=this.get("group");t&&l.stopAnimate(),this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),l.remove(),this._cfg=null,this.destroyed=!0}},e}(Ko),pu=Object.hasOwnProperty,gu=function(){function S(e){this.graph=e,this.destroyed=!1}return S.prototype.addItem=function(e,t){var l=this,g=this.graph,w=e==="vedge"?"edge":e,_=g.get(w+"Group")||g.get("group"),k=Fo()(w),P=null,T=g.get(w+Fo()("stateStyles"))||{},D=g.get("default"+k);t.stateStyles&&(T=t.stateStyles);var R=g.get(w+"Mapper");if(R){var L=R(t);L.stateStyles&&(T=L.stateStyles,delete L.stateStyles),t=Me()({},D,t,L)}else D&&h()(D,function(pt,Ot){pu.call(t,Ot)||(Lo()(pt)?t[Ot]=Ro()(pt):t[Ot]=D[Ot])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),g.emit("beforeadditem",{type:e,model:t}),e==="edge"||e==="vedge"){var Y=void 0,z=void 0;if(Y=t.source,z=t.target,Y&&N()(Y)&&(Y=g.findById(Y)),z&&N()(z)&&(z=g.findById(z)),!Y||!z)return void console.warn("The source or target node of edge "+t.id+" does not exist!");Y.getType&&Y.getType()==="combo"&&(t.isComboEdge=!0,g.updateCombo(Y)),z.getType&&z.getType()==="combo"&&(t.isComboEdge=!0,g.updateCombo(z)),P=new lu({model:t,source:Y,target:z,styles:T,linkCenter:g.get("linkCenter"),group:_.addGroup()})}else if(e==="node")P=new Ko({model:t,styles:T,group:_.addGroup()});else if(e==="combo"){var q=t.children,nt=Zi(q,g);t.x=nt.x||t.x||100*Math.random(),t.y=nt.y||t.y||100*Math.random();var et=_.addGroup();et.setZIndex(t.depth);var st=(P=new du({model:t,styles:T,bbox:nt,group:et})).getModel();(q||[]).forEach(function(pt){var Ot=g.findById(pt.id);P.addChild(Ot),pt.depth=st.depth+2}),t.collapsed&&setTimeout(function(){g.collapseCombo(P),l.updateCombo(P,[])},250)}if(P)return g.get(e+"s").push(P),g.get("itemMap")[P.get("id")]=P,g.emit("afteradditem",{item:P,model:t}),P},S.prototype.updateItem=function(e,t){var l=this.graph;if(N()(e)&&(e=l.findById(e)),e&&!e.destroyed){var g="";e.getType&&(g=e.getType());var w=l.get(g+"Mapper"),_=e.getModel();if(w){var k=w(Me()({},_,t)),P=Me()({},_,k,t);k.stateStyles&&(e.set("styles",P.stateStyles),delete P.stateStyles),h()(P,function(L,Y){t[Y]=L})}else h()(t,function(L,Y){_[Y]&&Lo()(L)&&!M()(L)&&(t[Y]=Object(I.__assign)(Object(I.__assign)({},_[Y]),t[Y]))});if(l.emit("beforeupdateitem",{item:e,cfg:t}),g==="edge"){if(t.source){var T=t.source;N()(T)&&(T=l.findById(T)),e.setSource(T)}if(t.target){var D=t.target;N()(D)&&(D=l.findById(D)),e.setTarget(D)}}if(e.update(t),g==="node"||g==="combo"){var R=e.getEdges();h()(R,function(L){L.refresh()})}l.emit("afterupdateitem",{item:e,cfg:t})}},S.prototype.updateCombo=function(e,t){var l=this.graph;if(N()(e)&&(e=l.findById(e)),e&&!e.destroyed){var g=Zi(t,l);e.set("bbox",g),e.update({x:g.x,y:g.y});for(var w=e.getEdges()||[],_=w.length,k=0;k<_;k++){var P=w[k];P==null||P.refresh()}}},S.prototype.collapseCombo=function(e){var t=this.graph;N()(e)&&(e=t.findById(e));var l=e.getChildren();l.nodes.forEach(function(g){t.hideItem(g)}),l.combos.forEach(function(g){t.hideItem(g)})},S.prototype.expandCombo=function(e){var t=this.graph;N()(e)&&(e=t.findById(e));var l=e.getChildren();l.nodes.forEach(function(g){t.showItem(g)}),l.combos.forEach(function(g){g.getModel().collapsed?g.show():t.showItem(g)})},S.prototype.removeItem=function(e){var t=this,l=this.graph;if(N()(e)&&(e=l.findById(e)),e&&!e.destroyed){var g=Ro()(e.getModel());l.emit("beforeremoveitem",{item:g});var w="";e.getType&&(w=e.getType());var _=l.get(w+"s"),k=_.indexOf(e);if(k>-1&&_.splice(k,1),w==="edge"){var P=l.get("v"+w+"s"),T=P.indexOf(e);T>-1&&P.splice(T,1)}var D=e.get("id");delete l.get("itemMap")[D];var R=l.get("comboTrees"),L=e.get("id");if(w==="node"){var Y=e.getModel().comboId;if(R){var z=R,q=!1;R.forEach(function(wt){q||fn(wt,function(yt){if(yt.id===L&&z){var Tt=z.indexOf(yt);return z.splice(Tt,1),q=!0,!1}return z=yt.children,!0})})}for(var nt=(Ot=e.getEdges()).length-1;nt>=0;nt--)l.removeItem(Ot[nt],!1);Y&&l.updateCombo(Y)}else if(w==="combo"){var et,st=e.getModel().parentId,pt=!1;(R||[]).forEach(function(wt){pt||fn(wt,function(yt){return yt.id!==L||(et=yt,pt=!0,!1)})}),et.removed=!0,et&&et.children&&et.children.forEach(function(wt){t.removeItem(wt.id)});var Ot;for(nt=(Ot=e.getEdges()).length;nt>=0;nt--)l.removeItem(Ot[nt],!1);st&&l.updateCombo(st)}e.destroy(),l.emit("afterremoveitem",{item:g})}},S.prototype.setItemState=function(e,t,l){var g=this.graph,w=t;N()(l)&&(w=t+":"+l),e.hasState(w)===l||N()(l)&&e.hasState(w)||(g.emit("beforeitemstatechange",{item:e,state:w,enabled:l}),e.setState(t,l),g.autoPaint(),g.emit("afteritemstatechange",{item:e,state:w,enabled:l}))},S.prototype.priorityState=function(e,t){var l=this.graph,g=e;N()(e)&&(g=l.findById(e)),this.setItemState(g,t,!1),this.setItemState(g,t,!0)},S.prototype.clearItemStates=function(e,t){var l=this.graph;N()(e)&&(e=l.findById(e)),l.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),l.emit("afteritemstatesclear",{item:e,states:t})},S.prototype.refreshItem=function(e){var t=this.graph;N()(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},S.prototype.addCombos=function(e,t){var l=this,g=this.graph;(e||[]).forEach(function(_){Bn(_,function(k){var P;return t.forEach(function(T){T.id===k.id&&(T.children=k.children,T.depth=k.depth,P=T)}),P&&l.addItem("combo",P),!0})});var w=g.get("comboGroup");w&&w.sort()},S.prototype.changeItemVisibility=function(e,t){var l=this,g=this.graph;if(N()(e)&&(e=g.findById(e)),e){if(g.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()==="node"){var w=e.getEdges();h()(w,function(D){(!t||D.get("source").isVisible()&&D.get("target").isVisible())&&l.changeItemVisibility(D,t)})}else if(e.getType&&e.getType()==="combo"){var _=g.get("comboTrees"),k=e.get("id"),P=[],T=!1;(_||[]).forEach(function(D){T||D.children&&D.children.length!==0&&fn(D,function(R){return R.id!==k||(P=R.children,T=!0,!1)})}),P.forEach(function(D){var R=g.findById(D.id);l.changeItemVisibility(R,t)}),w=e.getEdges(),h()(w,function(D){(!t||D.get("source").isVisible()&&D.get("target").isVisible())&&l.changeItemVisibility(D,t)})}return g.emit("afteritemvisibilitychange",{item:e,visible:t}),e}console.warn("The item to be shown or hidden does not exist!")},S.prototype.destroy=function(){this.graph=null,this.destroyed=!0},S}(),Rn=function(){function S(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return S.prototype.init=function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[]},S.prototype.execute=function(){},S.prototype.layout=function(e){this.init(e),this.execute()},S.prototype.getDefaultCfg=function(){return{}},S.prototype.updateCfg=function(e){qr()(this,e)},S.prototype.destroy=function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},S}(),$o={registerLayout:function(e,t,l){if(l===void 0&&(l=Rn),!t)throw new Error("please specify handler for this layout: "+e);var g=function(w){function _(k){var P=w.call(this)||this,T=P,D={},R=T.getDefaultCfg();return qr()(D,R,t,k),h()(D,function(L,Y){T[Y]=L}),P}return Object(I.__extends)(_,w),_}(l);$o[e]=g}},Qo=$o;function vu(S,e){return S.degree<e.degree?-1:S.degree>e.degree?1:0}var mu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t=this.nodes,l=this.edges,g=t.length,w=this.center;if(g!==0){if(g===1)return t[0].x=w[0],void(t[0].y=w[1]);var _=this.radius,k=this.startRadius,P=this.endRadius,T=this.divisions,D=this.startAngle,R=this.endAngle,L=(R-D)/g,Y={};t.forEach(function(Tt,Dt){Y[Tt.id]=Dt}),this.nodeMap=Y;var z=Cn(t.length,Y,l);this.degrees=z,this.width||typeof window=="undefined"||(this.width=window.innerWidth),this.height||typeof window=="undefined"||(this.height=window.innerHeight),_||k||P?!k&&P?k=P:k&&!P&&(P=k):_=this.height>this.width?this.width/2:this.height/2;var q=L*this.angleRatio;this.astep=q;var nt=this.ordering,et=[];et=nt==="topology"?this.topologyOrdering():nt==="topology-directed"?this.topologyOrdering(!0):nt==="degree"?this.degreeOrdering():t;for(var st=this.clockwise,pt=Math.ceil(g/T),Ot=0;Ot<g;++Ot){var wt=_;wt||k===null||P===null||(wt=k+Ot*(P-k)/(g-1)),wt||(wt=10+100*Ot/(g-1));var yt=D+Ot%pt*q+2*Math.PI/T*Math.floor(Ot/pt);st||(yt=R-Ot%pt*q-2*Math.PI/T*Math.floor(Ot/pt)),et[Ot].x=w[0]+Math.cos(yt)*wt,et[Ot].y=w[1]+Math.sin(yt)*wt,et[Ot].weight=z[Ot]}}},e.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var l=this.degrees,g=this.edges,w=this.nodes,_=Object(ut.clone)(w),k=this.nodeMap,P=[_[0]],T=[w[0]],D=[],R=w.length;D[0]=!0,function(Y,z,q,nt){Y.forEach(function(et,st){Y[st].children=[],Y[st].parent=[]}),nt?z.forEach(function(et){var st=0;et.source&&(st=q[et.source]);var pt=0;et.target&&(pt=q[et.target]),Y[st].children.push(Y[pt].id),Y[pt].parent.push(Y[st].id)}):z.forEach(function(et){var st=0;et.source&&(st=q[et.source]);var pt=0;et.target&&(pt=q[et.target]),Y[st].children.push(Y[pt].id),Y[pt].children.push(Y[st].id)})}(_,g,k,t);var L=0;return _.forEach(function(Y,z){if(z!==0)if(z!==R-1&&l[z]===l[z+1]&&!function(Ot,wt,yt){for(var Tt=yt.length,Dt=0;Dt<Tt;Dt++)if(Ot.id===yt[Dt].source&&wt.id===yt[Dt].target||wt.id===yt[Dt].source&&Ot.id===yt[Dt].target)return!0;return!1}(P[L],Y,g)||D[z]===!0){for(var q=P[L].children,nt=!1,et=0;et<q.length;et++){var st=k[q[et]];if(l[st]===l[z]&&D[st]!==!0){P.push(_[st]),T.push(w[k[_[st].id]]),D[st]=!0,nt=!0;break}}for(var pt=0;!nt&&(D[pt]||(P.push(_[pt]),T.push(w[k[_[pt].id]]),D[pt]=!0,nt=!0),++pt!==R););}else P.push(Y),T.push(w[k[Y.id]]),D[z]=!0,L++}),T},e.prototype.degreeOrdering=function(){var t=this.nodes,l=[],g=this.degrees;return t.forEach(function(w,_){w.degree=g[_],l.push(w)}),l.sort(vu),l},e}(Rn),yu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=1.5*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t=this,l=t.nodes,g=t.edges,w=l.length,_=t.center;if(w!==0){if(w===1)return l[0].x=_[0],void(l[0].y=_[1]);var k,P=[];k=M()(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,l.forEach(function(yt){P.push(yt);var Tt=k;M()(yt.size)?Tt=Math.max(yt.size[0],yt.size[1]):Object(ut.isNumber)(yt.size)&&(Tt=yt.size),k=Math.max(k,Tt)}),t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var T={},D={};if(P.forEach(function(yt,Tt){T[yt.id]=yt,D[yt.id]=Tt}),!(t.sortBy!=="degree"&&N()(t.sortBy)&&P[0][t.sortBy]!==void 0||(t.sortBy="degree",Object(ut.isNumber)(l[0].degree)))){var R=Cn(l.length,D,g);P.forEach(function(yt,Tt){yt.degree=R[Tt]})}P.sort(function(yt,Tt){return Tt[t.sortBy]-yt[t.sortBy]}),t.maxValueNode=P[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var L=[[]],Y=L[0];P.forEach(function(yt){if(Y.length>0){var Tt=Math.abs(Y[0][t.sortBy]-yt[t.sortBy]);t.maxLevelDiff&&Tt>=t.maxLevelDiff&&(Y=[],L.push(Y))}Y.push(yt)});var z=k+t.minNodeSpacing;if(!t.preventOverlap){var q=L.length>0&&L[0].length>1,nt=(Math.min(t.width,t.height)/2-z)/(L.length+(q?1:0));z=Math.min(z,nt)}var et=0;if(L.forEach(function(yt){var Tt=t.sweep;Tt===void 0&&(Tt=2*Math.PI-2*Math.PI/yt.length);var Dt=yt.dTheta=Tt/Math.max(1,yt.length-1);if(yt.length>1&&t.preventOverlap){var Gt=Math.cos(Dt)-Math.cos(0),zt=Math.sin(Dt)-Math.sin(0),Kt=Math.sqrt(z*z/(Gt*Gt+zt*zt));et=Math.max(Kt,et)}yt.r=et,et+=z}),t.equidistant){for(var st=0,pt=0,Ot=0;Ot<L.length;Ot++){var wt=L[Ot].r-pt;st=Math.max(st,wt)}pt=0,L.forEach(function(yt,Tt){Tt===0&&(pt=yt.r),yt.r=pt,pt+=st})}L.forEach(function(yt){var Tt=yt.dTheta,Dt=yt.r;yt.forEach(function(Gt,zt){var Kt=t.startAngle+(t.clockwise?1:-1)*Tt*zt;Gt.x=_[0]+Dt*Math.cos(Kt),Gt.y=_[1]+Dt*Math.sin(Kt)})})}},e}(Rn),bu=s(134),Jo=s.n(bu),xu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},e.prototype.execute=function(){var t=this,l=t.nodes,g=t.nodeSize,w=t.rankdir;if(l){var _,k=t.edges||[],P=new Jo.a.graphlib.Graph;_=g?M()(g)?function(){return g}:function(){return[g,g]}:function(L){return L.size?M()(L.size)?L.size:[L.size,L.size]:[40,40]};var T,D=yi(t.nodesepFunc,t.nodesep,50),R=yi(t.ranksepFunc,t.ranksep,50);w!=="LR"&&w!=="RL"||(D=yi(t.ranksepFunc,t.ranksep,50),R=yi(t.nodesepFunc,t.nodesep,50)),P.setDefaultEdgeLabel(function(){return{}}),P.setGraph(t),l.forEach(function(L){var Y=_(L),z=R(L),q=D(L),nt=Y[0]+2*q,et=Y[1]+2*z;P.setNode(L.id,{width:nt,height:et})}),k.forEach(function(L){P.setEdge(L.source,L.target,{weight:L.weight||1})}),Jo.a.layout(P),P.nodes().forEach(function(L){T=P.node(L);var Y=l.findIndex(function(z){return z.id===L});l[Y].x=T.x,l[Y].y=T.y}),P.edges().forEach(function(L){T=P.edge(L);var Y=k.findIndex(function(z){return z.source===L.v&&z.target===L.w});t.controlPoints&&k[Y].type!=="loop"&&k[Y].shape!=="loop"&&(k[Y].controlPoints=T.points.slice(1,T.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},e.prototype.sortLevel=function(t){var l=this.nodes,g={};l.forEach(function(w){g[w.y]||(g[w.y]={y:w.y,nodes:[]}),g[w.y].nodes.push(w)}),Object.keys(g).forEach(function(w){var _=g[w].nodes,k=_.length,P={};if(_.forEach(function(L){var Y=L.comboId;P[Y]||(P[Y]={x:0,y:0,count:0}),P[Y].x+=L.x,P[Y].y+=L.y,P[Y].count++}),Object.keys(P).forEach(function(L){P[L].x/=P[L].count,P[L].y/=P[L].count}),k!==1){var T=_.sort(function(L,Y){return L.x-Y.x}),D=T[0].x,R=(T[k-1].x-D)/(k-1);_.sort(function(L,Y){var z=L[t]||"undefined",q=Y[t]||"undefined";return z<q?-1:z>q?1:0}).forEach(function(L,Y){L.x=D+Y*R})}})},e}(Rn);function yi(S,e,t){return S||(Object(ut.isNumber)(e)?function(){return e}:function(){return t})}function ta(S,e,t,l){if(isNaN(e)||isNaN(t))return S;var g,w,_,k,P,T,D,R,L,Y=S._root,z={data:l},q=S._x0,nt=S._y0,et=S._x1,st=S._y1;if(!Y)return S._root=z,S;for(;Y.length;)if((T=e>=(w=(q+et)/2))?q=w:et=w,(D=t>=(_=(nt+st)/2))?nt=_:st=_,g=Y,!(Y=Y[R=D<<1|T]))return g[R]=z,S;if(k=+S._x.call(null,Y.data),P=+S._y.call(null,Y.data),e===k&&t===P)return z.next=Y,g?g[R]=z:S._root=z,S;do g=g?g[R]=new Array(4):S._root=new Array(4),(T=e>=(w=(q+et)/2))?q=w:et=w,(D=t>=(_=(nt+st)/2))?nt=_:st=_;while((R=D<<1|T)==(L=(P>=_)<<1|k>=w));return g[L]=Y,g[R]=z,S}var vn=function(e,t,l,g,w){this.node=e,this.x0=t,this.y0=l,this.x1=g,this.y1=w};function wu(S){return S[0]}function Mu(S){return S[1]}function Qi(S,e,t){var l=new Ji(e==null?wu:e,t==null?Mu:t,NaN,NaN,NaN,NaN);return S==null?l:l.addAll(S)}function Ji(S,e,t,l,g,w){this._x=S,this._y=e,this._x0=t,this._y0=l,this._x1=g,this._y1=w,this._root=void 0}function ea(S){for(var e={data:S.data},t=e;S=S.next;)t=t.next={data:S.data};return e}var mn=Qi.prototype=Ji.prototype;mn.copy=function(){var S,e,t=new Ji(this._x,this._y,this._x0,this._y0,this._x1,this._y1),l=this._root;if(!l)return t;if(!l.length)return t._root=ea(l),t;for(S=[{source:l,target:t._root=new Array(4)}];l=S.pop();)for(var g=0;g<4;++g)(e=l.source[g])&&(e.length?S.push({source:e,target:l.target[g]=new Array(4)}):l.target[g]=ea(e));return t},mn.add=function(S){var e=+this._x.call(null,S),t=+this._y.call(null,S);return ta(this.cover(e,t),e,t,S)},mn.addAll=function(S){var e,t,l,g,w=S.length,_=new Array(w),k=new Array(w),P=1/0,T=1/0,D=-1/0,R=-1/0;for(t=0;t<w;++t)isNaN(l=+this._x.call(null,e=S[t]))||isNaN(g=+this._y.call(null,e))||(_[t]=l,k[t]=g,l<P&&(P=l),l>D&&(D=l),g<T&&(T=g),g>R&&(R=g));if(P>D||T>R)return this;for(this.cover(P,T).cover(D,R),t=0;t<w;++t)ta(this,_[t],k[t],S[t]);return this},mn.cover=function(S,e){if(isNaN(S=+S)||isNaN(e=+e))return this;var t=this._x0,l=this._y0,g=this._x1,w=this._y1;if(isNaN(t))g=(t=Math.floor(S))+1,w=(l=Math.floor(e))+1;else{for(var _,k,P=g-t||1,T=this._root;t>S||S>=g||l>e||e>=w;)switch(k=(e<l)<<1|S<t,(_=new Array(4))[k]=T,T=_,P*=2,k){case 0:g=t+P,w=l+P;break;case 1:t=g-P,w=l+P;break;case 2:g=t+P,l=w-P;break;case 3:t=g-P,l=w-P}this._root&&this._root.length&&(this._root=T)}return this._x0=t,this._y0=l,this._x1=g,this._y1=w,this},mn.data=function(){var S=[];return this.visit(function(e){if(!e.length)do S.push(e.data);while(e=e.next)}),S},mn.extent=function(S){return arguments.length?this.cover(+S[0][0],+S[0][1]).cover(+S[1][0],+S[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},mn.find=function(S,e,t){var l,g,w,_,k,P,T,D=this._x0,R=this._y0,L=this._x1,Y=this._y1,z=[],q=this._root;for(q&&z.push(new vn(q,D,R,L,Y)),t==null?t=1/0:(D=S-t,R=e-t,L=S+t,Y=e+t,t*=t);P=z.pop();)if(!(!(q=P.node)||(g=P.x0)>L||(w=P.y0)>Y||(_=P.x1)<D||(k=P.y1)<R))if(q.length){var nt=(g+_)/2,et=(w+k)/2;z.push(new vn(q[3],nt,et,_,k),new vn(q[2],g,et,nt,k),new vn(q[1],nt,w,_,et),new vn(q[0],g,w,nt,et)),(T=(e>=et)<<1|S>=nt)&&(P=z[z.length-1],z[z.length-1]=z[z.length-1-T],z[z.length-1-T]=P)}else{var st=S-+this._x.call(null,q.data),pt=e-+this._y.call(null,q.data),Ot=st*st+pt*pt;if(Ot<t){var wt=Math.sqrt(t=Ot);D=S-wt,R=e-wt,L=S+wt,Y=e+wt,l=q.data}}return l},mn.remove=function(S){if(isNaN(w=+this._x.call(null,S))||isNaN(_=+this._y.call(null,S)))return this;var e,t,l,g,w,_,k,P,T,D,R,L,Y=this._root,z=this._x0,q=this._y0,nt=this._x1,et=this._y1;if(!Y)return this;if(Y.length)for(;;){if((T=w>=(k=(z+nt)/2))?z=k:nt=k,(D=_>=(P=(q+et)/2))?q=P:et=P,e=Y,!(Y=Y[R=D<<1|T]))return this;if(!Y.length)break;(e[R+1&3]||e[R+2&3]||e[R+3&3])&&(t=e,L=R)}for(;Y.data!==S;)if(l=Y,!(Y=Y.next))return this;return(g=Y.next)&&delete Y.next,l?(g?l.next=g:delete l.next,this):e?(g?e[R]=g:delete e[R],(Y=e[0]||e[1]||e[2]||e[3])&&Y===(e[3]||e[2]||e[1]||e[0])&&!Y.length&&(t?t[L]=Y:this._root=Y),this):(this._root=g,this)},mn.removeAll=function(S){for(var e=0,t=S.length;e<t;++e)this.remove(S[e]);return this},mn.root=function(){return this._root},mn.size=function(){var S=0;return this.visit(function(e){if(!e.length)do++S;while(e=e.next)}),S},mn.visit=function(S){var e,t,l,g,w,_,k=[],P=this._root;for(P&&k.push(new vn(P,this._x0,this._y0,this._x1,this._y1));e=k.pop();)if(!S(P=e.node,l=e.x0,g=e.y0,w=e.x1,_=e.y1)&&P.length){var T=(l+w)/2,D=(g+_)/2;(t=P[3])&&k.push(new vn(t,T,D,w,_)),(t=P[2])&&k.push(new vn(t,l,D,T,_)),(t=P[1])&&k.push(new vn(t,T,g,w,D)),(t=P[0])&&k.push(new vn(t,l,g,T,D))}return this},mn.visitAfter=function(S){var e,t=[],l=[];for(this._root&&t.push(new vn(this._root,this._x0,this._y0,this._x1,this._y1));e=t.pop();){var g=e.node;if(g.length){var w,_=e.x0,k=e.y0,P=e.x1,T=e.y1,D=(_+P)/2,R=(k+T)/2;(w=g[0])&&t.push(new vn(w,_,k,D,R)),(w=g[1])&&t.push(new vn(w,D,k,P,R)),(w=g[2])&&t.push(new vn(w,_,R,D,T)),(w=g[3])&&t.push(new vn(w,D,R,P,T))}l.push(e)}for(;e=l.pop();)S(e.node,e.x0,e.y0,e.x1,e.y1);return this},mn.x=function(S){return arguments.length?(this._x=S,this):this._x},mn.y=function(S){return arguments.length?(this._y=S,this):this._y};var yn=function(e){return function(){return e}},vr=function(e){return 1e-6*(e()-.5)},Su={value:function(){}};function na(){for(var S,e=0,t=arguments.length,l={};e<t;++e){if(!(S=arguments[e]+"")||S in l||/[\s.]/.test(S))throw new Error("illegal type: "+S);l[S]=[]}return new bi(l)}function bi(S){this._=S}function _u(S,e){return S.trim().split(/^|\s+/).map(function(t){var l="",g=t.indexOf(".");if(g>=0&&(l=t.slice(g+1),t=t.slice(0,g)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:l}})}function Ou(S,e){for(var t,l=0,g=S.length;l<g;++l)if((t=S[l]).name===e)return t.value}function ra(S,e,t){for(var l=0,g=S.length;l<g;++l)if(S[l].name===e){S[l]=Su,S=S.slice(0,l).concat(S.slice(l+1));break}return t!=null&&S.push({name:e,value:t}),S}bi.prototype=na.prototype={constructor:bi,on:function(e,t){var l,g=this._,w=_u(e+"",g),_=-1,k=w.length;if(!(arguments.length<2)){if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++_<k;)if(l=(e=w[_]).type)g[l]=ra(g[l],e.name,t);else if(t==null)for(l in g)g[l]=ra(g[l],e.name,null);return this}for(;++_<k;)if((l=(e=w[_]).type)&&(l=Ou(g[l],e.name)))return l},copy:function(){var e={},t=this._;for(var l in t)e[l]=t[l].slice();return new bi(e)},call:function(e,t){if((l=arguments.length-2)>0)for(var l,g,w=new Array(l),_=0;_<l;++_)w[_]=arguments[_+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(_=0,l=(g=this._[e]).length;_<l;++_)g[_].value.apply(t,w)},apply:function(e,t,l){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var g=this._[e],w=0,_=g.length;w<_;++w)g[w].value.apply(t,l)}};var Eu=na;function to(S){return(to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}var xi,Zr,Rr=0,Kr=0,$r=0,wi=0,Cr=0,Mi=0,Qr=(typeof performance=="undefined"?"undefined":to(performance))==="object"&&performance.now?performance:Date,ia=(typeof window=="undefined"?"undefined":to(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(S){setTimeout(S,17)};function oa(){return Cr||(ia(ku),Cr=Qr.now()+Mi)}function ku(){Cr=0}function eo(){this._call=this._time=this._next=null}function aa(S,e,t){var l=new eo;return l.restart(S,e,t),l}function sa(){Cr=(wi=Qr.now())+Mi,Rr=Kr=0;try{(function(){oa(),++Rr;for(var S,e=xi;e;)(S=Cr-e._time)>=0&&e._call.call(null,S),e=e._next;--Rr})()}finally{Rr=0,function(){for(var S,e,t=xi,l=1/0;t;)t._call?(l>t._time&&(l=t._time),S=t,t=t._next):(e=t._next,t._next=null,t=S?S._next=e:xi=e);Zr=S,no(l)}(),Cr=0}}function Pu(){var S=Qr.now(),e=S-wi;e>1e3&&(Mi-=e,wi=S)}function no(S){Rr||(Kr&&(Kr=clearTimeout(Kr)),S-Cr>24?(S<1/0&&(Kr=setTimeout(sa,S-Qr.now()-Mi)),$r&&($r=clearInterval($r))):($r||(wi=Qr.now(),$r=setInterval(Pu,1e3)),Rr=1,ia(sa)))}eo.prototype=aa.prototype={constructor:eo,restart:function(e,t,l){if(typeof e!="function")throw new TypeError("callback is not a function");l=(l==null?oa():+l)+(t==null?0:+t),this._next||Zr===this||(Zr?Zr._next=this:xi=this,Zr=this),this._call=e,this._time=l,no()},stop:function(){this._call&&(this._call=null,this._time=1/0,no())}};function Cu(S){return S.x}function Au(S){return S.y}var ju=Math.PI*(3-Math.sqrt(5)),ua=function(e){var t,l,g=1,w=.001,_=1-Math.pow(w,1/300),k=0,P=.6,T=new Map,D=aa(Y),R=Eu("tick","end"),L=(l=1,function(){return(l=(1664525*l+1013904223)%4294967296)/4294967296});function Y(){z(),R.call("tick",t),g<w&&(D.stop(),R.call("end",t))}function z(et){var st,pt,Ot=e.length;et===void 0&&(et=1);for(var wt=0;wt<et;++wt)for(g+=(k-g)*_,T.forEach(function(yt){yt(g)}),st=0;st<Ot;++st)(pt=e[st]).fx==null?pt.x+=pt.vx*=P:(pt.x=pt.fx,pt.vx=0),pt.fy==null?pt.y+=pt.vy*=P:(pt.y=pt.fy,pt.vy=0);return t}function q(){for(var et,st=0,pt=e.length;st<pt;++st){if((et=e[st]).index=st,et.fx!=null&&(et.x=et.fx),et.fy!=null&&(et.y=et.fy),isNaN(et.x)||isNaN(et.y)){var Ot=10*Math.sqrt(.5+st),wt=st*ju;et.x=Ot*Math.cos(wt),et.y=Ot*Math.sin(wt)}(isNaN(et.vx)||isNaN(et.vy))&&(et.vx=et.vy=0)}}function nt(et){return et.initialize&&et.initialize(e,L),et}return e==null&&(e=[]),q(),t={tick:z,restart:function(){return D.restart(Y),t},stop:function(){return D.stop(),t},nodes:function(st){return arguments.length?(e=st,q(),T.forEach(nt),t):e},alpha:function(st){return arguments.length?(g=+st,t):g},alphaMin:function(st){return arguments.length?(w=+st,t):w},alphaDecay:function(st){return arguments.length?(_=+st,t):+_},alphaTarget:function(st){return arguments.length?(k=+st,t):k},velocityDecay:function(st){return arguments.length?(P=1-st,t):1-P},randomSource:function(st){return arguments.length?(L=st,T.forEach(nt),t):L},force:function(st,pt){return arguments.length>1?(pt==null?T.delete(st):T.set(st,nt(pt)),t):T.get(st)},find:function(st,pt,Ot){var wt,yt,Tt,Dt,Gt,zt=0,Kt=e.length;for(Ot==null?Ot=1/0:Ot*=Ot,zt=0;zt<Kt;++zt)(Tt=(wt=st-(Dt=e[zt]).x)*wt+(yt=pt-Dt.y)*yt)<Ot&&(Gt=Dt,Ot=Tt);return Gt},on:function(st,pt){return arguments.length>1?(R.on(st,pt),t):R.on(st)}}},ca=function(){var e,t,l,g,w,_=yn(-30),k=1,P=1/0,T=.81;function D(z){var q,nt=e.length,et=Qi(e,Cu,Au).visitAfter(L);for(g=z,q=0;q<nt;++q)t=e[q],et.visit(Y)}function R(){if(e){var z,q,nt=e.length;for(w=new Array(nt),z=0;z<nt;++z)q=e[z],w[q.index]=+_(q,z,e)}}function L(z){var q,nt,et,st,pt,Ot=0,wt=0;if(z.length){for(et=st=pt=0;pt<4;++pt)(q=z[pt])&&(nt=Math.abs(q.value))&&(Ot+=q.value,wt+=nt,et+=nt*q.x,st+=nt*q.y);z.x=et/wt,z.y=st/wt}else{(q=z).x=q.data.x,q.y=q.data.y;do Ot+=w[q.data.index];while(q=q.next)}z.value=Ot}function Y(z,q,nt,et){if(!z.value)return!0;var st=z.x-t.x,pt=z.y-t.y,Ot=et-q,wt=st*st+pt*pt;if(Ot*Ot/T<wt)return wt<P&&(st===0&&(wt+=(st=vr(l))*st),pt===0&&(wt+=(pt=vr(l))*pt),wt<k&&(wt=Math.sqrt(k*wt)),t.vx+=st*z.value*g/wt,t.vy+=pt*z.value*g/wt),!0;if(!(z.length||wt>=P)){(z.data!==t||z.next)&&(st===0&&(wt+=(st=vr(l))*st),pt===0&&(wt+=(pt=vr(l))*pt),wt<k&&(wt=Math.sqrt(k*wt)));do z.data!==t&&(Ot=w[z.data.index]*g/wt,t.vx+=st*Ot,t.vy+=pt*Ot);while(z=z.next)}}return D.initialize=function(z,q){e=z,l=q,R()},D.strength=function(z){return arguments.length?(_=typeof z=="function"?z:yn(+z),R(),D):_},D.distanceMin=function(z){return arguments.length?(k=z*z,D):Math.sqrt(k)},D.distanceMax=function(z){return arguments.length?(P=z*z,D):Math.sqrt(P)},D.theta=function(z){return arguments.length?(T=z*z,D):Math.sqrt(T)},D};function ro(S){return(ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}function Iu(S){return S.index}function ha(S,e){var t=S.get(e);if(!t)throw new Error("node not found: "+e);return t}var la=function(e){var t,l,g,w,_,k,P=Iu,T=function(et){return 1/Math.min(w[et.source.index],w[et.target.index])},D=yn(30),R=1;function L(nt){for(var et=0,st=e.length;et<R;++et)for(var pt,Ot,wt,yt,Tt,Dt,Gt,zt=0;zt<st;++zt)Ot=(pt=e[zt]).source,yt=(wt=pt.target).x+wt.vx-Ot.x-Ot.vx||vr(k),Tt=wt.y+wt.vy-Ot.y-Ot.vy||vr(k),yt*=Dt=((Dt=Math.sqrt(yt*yt+Tt*Tt))-l[zt])/Dt*nt*t[zt],Tt*=Dt,wt.vx-=yt*(Gt=_[zt]),wt.vy-=Tt*Gt,Ot.vx+=yt*(Gt=1-Gt),Ot.vy+=Tt*Gt}function Y(){if(g){var nt,et,st=g.length,pt=e.length,Ot=new Map(g.map(function(wt,yt){return[P(wt,yt,g),wt]}));for(nt=0,w=new Array(st);nt<pt;++nt)(et=e[nt]).index=nt,ro(et.source)!=="object"&&(et.source=ha(Ot,et.source)),ro(et.target)!=="object"&&(et.target=ha(Ot,et.target)),w[et.source.index]=(w[et.source.index]||0)+1,w[et.target.index]=(w[et.target.index]||0)+1;for(nt=0,_=new Array(pt);nt<pt;++nt)et=e[nt],_[nt]=w[et.source.index]/(w[et.source.index]+w[et.target.index]);t=new Array(pt),z(),l=new Array(pt),q()}}function z(){if(g)for(var nt=0,et=e.length;nt<et;++nt)t[nt]=+T(e[nt],nt,e)}function q(){if(g)for(var nt=0,et=e.length;nt<et;++nt)l[nt]=+D(e[nt],nt,e)}return e==null&&(e=[]),L.initialize=function(nt,et){g=nt,k=et,Y()},L.links=function(nt){return arguments.length?(e=nt,Y(),L):e},L.id=function(nt){return arguments.length?(P=nt,L):P},L.iterations=function(nt){return arguments.length?(R=+nt,L):R},L.strength=function(nt){return arguments.length?(T=typeof nt=="function"?nt:yn(+nt),z(),L):T},L.distance=function(nt){return arguments.length?(D=typeof nt=="function"?nt:yn(+nt),q(),L):D},L};function Tu(S){return S.x+S.vx}function Nu(S){return S.y+S.vy}var fa=function(e){var t,l,g,w=1,_=1;function k(){for(var D,R,L,Y,z,q,nt,et=t.length,st=0;st<_;++st)for(R=Qi(t,Tu,Nu).visitAfter(P),D=0;D<et;++D)L=t[D],q=l[L.index],nt=q*q,Y=L.x+L.vx,z=L.y+L.vy,R.visit(pt);function pt(Ot,wt,yt,Tt,Dt){var Gt=Ot.data,zt=Ot.r,Kt=q+zt;if(!Gt)return wt>Y+Kt||Tt<Y-Kt||yt>z+Kt||Dt<z-Kt;if(Gt.index>L.index){var qt=Y-Gt.x-Gt.vx,Wt=z-Gt.y-Gt.vy,ne=qt*qt+Wt*Wt;ne<Kt*Kt&&(qt===0&&(ne+=(qt=vr(g))*qt),Wt===0&&(ne+=(Wt=vr(g))*Wt),ne=(Kt-(ne=Math.sqrt(ne)))/ne*w,L.vx+=(qt*=ne)*(Kt=(zt*=zt)/(nt+zt)),L.vy+=(Wt*=ne)*Kt,Gt.vx-=qt*(Kt=1-Kt),Gt.vy-=Wt*Kt)}}}function P(D){if(D.data)return D.r=l[D.data.index];for(var R=D.r=0;R<4;++R)D[R]&&D[R].r>D.r&&(D.r=D[R].r)}function T(){if(t){var D,R,L=t.length;for(l=new Array(L),D=0;D<L;++D)R=t[D],l[R.index]=+e(R,D,t)}}return typeof e!="function"&&(e=yn(e==null?1:+e)),k.initialize=function(D,R){t=D,g=R,T()},k.iterations=function(D){return arguments.length?(_=+D,k):_},k.strength=function(D){return arguments.length?(w=+D,k):w},k.radius=function(D){return arguments.length?(e=typeof D=="function"?D:yn(+D),T(),k):e},k};function Du(){function S(yt){return function(){return yt}}var e,t=function(Tt){return Tt.cluster},l=S(1),g=S(-1),w=S(100),_=S(.1),k=[0,0],P=[],T={},D=[],R=100,L=100,Y={none:{x:0,y:0}},z=[],q="force",nt=!0,et=.1;function st(yt){if(!nt)return st;e.tick(),Ot();for(var Tt=0,Dt=P.length,Gt=void 0,zt=yt*et;Tt<Dt;++Tt)(Gt=P[Tt]).vx+=(Y[t(Gt)].x-Gt.x)*zt,Gt.vy+=(Y[t(Gt)].y-Gt.y)*zt}function pt(){P&&function(){if(!(!P||!P.length)){if(t(P[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var yt=(Dt=[],Gt=[],zt={},Kt=[],Tt=function(qt){var Wt={};return qt.forEach(function(ne){var Qt=t(ne);Wt[Qt]||(Wt[Qt]={count:0,sumforceNodeSize:0})}),qt.forEach(function(ne){var Qt=t(ne),se=l(ne),oe=Wt[Qt];oe.count=oe.count+1,oe.sumforceNodeSize=oe.sumforceNodeSize+Math.PI*(se*se)*1.3,Wt[Qt]=oe}),Wt}(P),Kt=function(qt){var Wt={},ne=[];return qt.forEach(function(Qt){var se=function(le){var te=t(T[le.source]),ae=t(T[le.target]);return te<=ae?te+"~"+ae:ae+"~"+te}(Qt),oe=0;Wt[se]!==void 0&&(oe=Wt[se]),oe+=1,Wt[se]=oe}),Object.entries(Wt).forEach(function(Qt){var se=Qt[0],oe=Qt[1],le=se.split("~")[0],te=se.split("~")[1];le!==void 0&&te!==void 0&&ne.push({source:le,target:te,count:oe})}),ne}(D),Object.keys(Tt).forEach(function(qt,Wt){var ne=Tt[qt];Dt.push({id:qt,size:ne.count,r:Math.sqrt(ne.sumforceNodeSize/Math.PI)}),zt[qt]=Wt}),Kt.forEach(function(qt){var Wt=zt[qt.source],ne=zt[qt.target];Wt!==void 0&&ne!==void 0&&Gt.push({source:Wt,target:ne,count:qt.count})}),{nodes:Dt,links:Gt}),Tt,Dt,Gt,zt,Kt;e=ua(yt.nodes).force("x",function(qt){var Wt,ne,Qt,se=yn(.1);function oe(te){for(var ae,me=0,ke=Wt.length;me<ke;++me)(ae=Wt[me]).vx+=(Qt[me]-ae.x)*ne[me]*te}function le(){if(Wt){var te,ae=Wt.length;for(ne=new Array(ae),Qt=new Array(ae),te=0;te<ae;++te)ne[te]=isNaN(Qt[te]=+qt(Wt[te],te,Wt))?0:+se(Wt[te],te,Wt)}}return typeof qt!="function"&&(qt=yn(qt==null?0:+qt)),oe.initialize=function(te){Wt=te,le()},oe.strength=function(te){return arguments.length?(se=typeof te=="function"?te:yn(+te),le(),oe):se},oe.x=function(te){return arguments.length?(qt=typeof te=="function"?te:yn(+te),le(),oe):qt},oe}(R).strength(.1)).force("y",function(qt){var Wt,ne,Qt,se=yn(.1);function oe(te){for(var ae,me=0,ke=Wt.length;me<ke;++me)(ae=Wt[me]).vy+=(Qt[me]-ae.y)*ne[me]*te}function le(){if(Wt){var te,ae=Wt.length;for(ne=new Array(ae),Qt=new Array(ae),te=0;te<ae;++te)ne[te]=isNaN(Qt[te]=+qt(Wt[te],te,Wt))?0:+se(Wt[te],te,Wt)}}return typeof qt!="function"&&(qt=yn(qt==null?0:+qt)),oe.initialize=function(te){Wt=te,le()},oe.strength=function(te){return arguments.length?(se=typeof te=="function"?te:yn(+te),le(),oe):se},oe.y=function(te){return arguments.length?(qt=typeof te=="function"?te:yn(+te),le(),oe):qt},oe}(L).strength(.1)).force("collide",fa(function(qt){return qt.r}).iterations(4)).force("charge",ca().strength(g)).force("links",la(yt.nodes.length?yt.links:[]).distance(w).strength(_)),z=e.nodes(),Ot()}}()}function Ot(){return Y={none:{x:0,y:0}},z.forEach(function(yt){Y[yt.id]={x:yt.x-k[0],y:yt.y-k[1]}}),Y}function wt(yt){T={},yt.forEach(function(Tt){T[Tt.id]=Tt})}return st.initialize=function(yt){P=yt,pt()},st.template=function(yt){return arguments.length?(q=yt,pt(),st):q},st.groupBy=function(yt){return arguments.length?typeof yt=="string"?(t=function(Dt){return Dt[yt]},st):(t=yt,st):t},st.enableGrouping=function(yt){return arguments.length?(nt=yt,st):nt},st.strength=function(yt){return arguments.length?(et=yt,st):et},st.centerX=function(yt){return arguments.length?(R=yt,st):R},st.centerY=function(yt){return arguments.length?(L=yt,st):L},st.nodes=function(yt){return arguments.length?(wt(yt||[]),P=yt||[],st):P},st.links=function(yt){return arguments.length?(D=yt||[],pt(),st):D},st.forceNodeSize=function(yt){return arguments.length?(l=typeof yt=="function"?yt:S(+yt),pt(),st):l},st.nodeSize=st.forceNodeSize,st.forceCharge=function(yt){return arguments.length?(g=typeof yt=="function"?yt:S(+yt),pt(),st):g},st.forceLinkDistance=function(yt){return arguments.length?(w=typeof yt=="function"?yt:S(+yt),pt(),st):w},st.forceLinkStrength=function(yt){return arguments.length?(_=typeof yt=="function"?yt:S(+yt),pt(),st):_},st.offset=function(yt){return arguments.length?(k=yt,st):k},st.getFocis=Ot,st}var Bu=s(14),io=s.n(Bu),Ru="LAYOUT_RUN",Lu="LAYOUT_END",da="LAYOUT_TICK",Fu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},e.prototype.init=function(t){this.nodes=t.nodes||[];var l=t.edges||[];this.edges=l.map(function(g){var w={},_=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(g).forEach(function(k){_.indexOf(k)>-1||(w[k]=g[k])}),w}),this.ticking=!1},e.prototype.execute=function(t){var l=this,g=l.nodes,w=l.edges;if(!l.ticking){var _=l.forceSimulation,k=l.alphaMin,P=l.alphaDecay,T=l.alpha;if(_)t&&(l.clustering&&l.clusterForce&&(l.clusterForce.nodes(g),l.clusterForce.links(w)),_.nodes(g),l.edgeForce.links(w)),l.preventOverlap&&l.overlapProcess(_),_.alpha(T).restart(),this.ticking=!0;else try{var D=ca();if(l.nodeStrength&&D.strength(l.nodeStrength),_=ua().nodes(g),l.clustering){var R=Du();R.centerX(l.center[0]).centerY(l.center[1]).template("force").strength(l.clusterFociStrength),w&&R.links(w),g&&R.nodes(g),R.forceLinkDistance(l.clusterEdgeDistance).forceLinkStrength(l.clusterEdgeStrength).forceCharge(l.clusterNodeStrength).forceNodeSize(l.clusterNodeSize),l.clusterForce=R,_.force("group",R)}if(_.force("center",function(q,nt){var et,st=1;function pt(){var Ot,wt,yt=et.length,Tt=0,Dt=0;for(Ot=0;Ot<yt;++Ot)Tt+=(wt=et[Ot]).x,Dt+=wt.y;for(Tt=(Tt/yt-q)*st,Dt=(Dt/yt-nt)*st,Ot=0;Ot<yt;++Ot)(wt=et[Ot]).x-=Tt,wt.y-=Dt}return q==null&&(q=0),nt==null&&(nt=0),pt.initialize=function(Ot){et=Ot},pt.x=function(Ot){return arguments.length?(q=+Ot,pt):q},pt.y=function(Ot){return arguments.length?(nt=+Ot,pt):nt},pt.strength=function(Ot){return arguments.length?(st=+Ot,pt):st},pt}(l.center[0],l.center[1])).force("charge",D).alpha(T).alphaDecay(P).alphaMin(k),l.preventOverlap&&l.overlapProcess(_),w){var L=la().id(function(q){return q.id}).links(w);l.edgeStrength&&L.strength(l.edgeStrength),l.linkDistance&&L.distance(l.linkDistance),l.edgeForce=L,_.force("link",L)}if(l.workerEnabled&&!Yu()&&(l.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),l.workerEnabled){_.stop();for(var Y=function(q){var nt=q.alphaMin(),et=q.alphaTarget(),st=q.alpha(),pt=Math.log((nt-et)/(st-et))/Math.log(1-q.alphaDecay());return Math.ceil(pt)}(_),z=1;z<=Y;z++)_.tick(),postMessage({type:da,currentTick:z,totalTicks:Y,nodes:g},void 0);l.ticking=!1}else _.on("tick",function(){l.tick()}).on("end",function(){l.ticking=!1,l.onLayoutEnd&&l.onLayoutEnd()}),l.ticking=!0;l.forceSimulation=_,l.ticking=!0}catch(q){l.ticking=!1,console.warn(q)}}},e.prototype.overlapProcess=function(t){var l,g,w=this.nodeSize,_=this.nodeSpacing,k=this.collideStrength;if(g=j()(_)?function(){return _}:io()(_)?_:function(){return 0},w)if(io()(w))l=function(R){return w(R)+g(R)};else if(M()(w)){var P=(w[0]>w[1]?w[0]:w[1])/2;l=function(R){return P+g(R)}}else if(j()(w)){var T=w/2;l=function(R){return T+g(R)}}else l=function(){return 10};else l=function(R){return R.size?M()(R.size)?(R.size[0]>R.size[1]?R.size[0]:R.size[1])/2+g(R):R.size/2+g(R):10+g(R)};t.force("collisionForce",fa(l).strength(k))},e.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,qr()(this,t)},e.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},e}(Rn);function Yu(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var Gu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},e.prototype.execute=function(){var t=this.nodes,l=this.center;if(t&&t.length!==0){if(t.length===1)return t[0].x=l[0],void(t[0].y=l[1]);var g={},w={};t.forEach(function(_,k){g[_.id]=_,w[_.id]=k}),this.nodeMap=g,this.nodeIdxMap=w,this.run()}},e.prototype.run=function(){var t=this,l=t.nodes,g=t.edges,w=t.maxIteration;t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var _,k=t.center,P=t.velocityDecay,T=t.clustering;t.initVals(),T&&(_=t.getClusterMap());for(var D=function(nt){var et=[];l.forEach(function(st,pt){et[pt]={x:0,y:0}}),t.applyCalculate(l,g,et),T&&t.applyClusterForce(_,et),l.forEach(function(st,pt){Object(ut.isNumber)(st.x)&&Object(ut.isNumber)(st.y)&&(st.x+=et[pt].x*P,st.y+=et[pt].y*P)}),R.alpha+=(R.alphaTarget-R.alpha)*R.alphaDecay,t.tick()},R=this,L=0;L<w;L++)D();var Y=[0,0];l.forEach(function(q){Object(ut.isNumber)(q.x)&&Object(ut.isNumber)(q.y)&&(Y[0]+=q.x,Y[1]+=q.y)}),Y[0]/=l.length,Y[1]/=l.length;var z=[k[0]-Y[0],k[1]-Y[1]];l.forEach(function(q,nt){Object(ut.isNumber)(q.x)&&Object(ut.isNumber)(q.y)&&(q.x+=z[0],q.y+=z[1])})},e.prototype.initVals=function(){for(var t=this.edges,l={},g=0;g<t.length;++g)l[t[g].source]?l[t[g].source]++:l[t[g].source]=1,l[t[g].target]?l[t[g].target]++:l[t[g].target]=1;var w=[];for(g=0;g<t.length;++g)w[g]=l[t[g].source]/(l[t[g].source]+l[t[g].target]);this.bias=w;var _,k,P=this.nodeSize,T=this.nodeSpacing;if(k=Object(ut.isNumber)(T)?function(){return T}:Object(ut.isFunction)(T)?T:function(){return 0},P)if(Object(ut.isFunction)(P))_=function(pt){return P(pt)+k(pt)};else if(Object(ut.isArray)(P)){var D=(P[0]>P[1]?P[0]:P[1])/2;_=function(pt){return D+k(pt)}}else if(Object(ut.isNumber)(P)){var R=P/2;_=function(pt){return R+k(pt)}}else _=function(){return 10};else _=function(pt){return pt.size?Object(ut.isArray)(pt.size)?(pt.size[0]>pt.size[1]?pt.size[0]:pt.size[1])/2+k(pt):pt.size/2+k(pt):10+k(pt)};this.nodeSize=_;var L,Y=this.linkDistance;Y||(Y=50),Object(ut.isNumber)(Y)&&(L=function(pt){return Y}),this.linkDistance=L;var z,q=this.linkStrength;q||(q=1),Object(ut.isNumber)(q)&&(z=function(pt){return q}),this.linkStrength=z;var nt,et=this.nodeStrength;et||(et=30),Object(ut.isNumber)(et)&&(nt=function(pt){return et}),this.nodeStrength=nt},e.prototype.getClusterMap=function(){var t=this.nodes,l={};for(var g in t.forEach(function(w){if(l[w.cluster]===void 0){var _={name:w.cluster,cx:0,cy:0,count:0};l[w.cluster]=_}var k=l[w.cluster];Object(ut.isNumber)(w.x)&&(k.cx+=w.x),Object(ut.isNumber)(w.y)&&(k.cy+=w.y),k.count++}),l)l[g].cx/=l[g].count,l[g].cy/=l[g].count;return l},e.prototype.applyClusterForce=function(t,l){var g=this.gravity,w=this.nodes,_=this.clusterGravity||g,k=this.alpha;for(var P in w.forEach(function(T,D){if(Object(ut.isNumber)(T.x)&&Object(ut.isNumber)(T.y)){var R=t[T.cluster],L=T.x-R.cx,Y=T.y-R.cy,z=Math.sqrt(L*L+Y*Y);l[D].x-=L*_*k/z,l[D].y-=Y*_*k/z}}),t)t[P].cx=0,t[P].cy=0,t[P].count=0;for(var P in w.forEach(function(D){var R=t[D.cluster];Object(ut.isNumber)(D.x)&&(R.cx+=D.x),Object(ut.isNumber)(D.y)&&(R.cy+=D.y),R.count++}),t)t[P].cx/=t[P].count,t[P].cy/=t[P].count},e.prototype.applyCalculate=function(t,l,g){var w={};t.forEach(function(_,k){g[k]={x:0,y:0},t.forEach(function(P,T){if(!(k<T)){var D=_.x-P.x,R=_.y-P.y,L=D*D+R*R;L<1&&(L=Math.sqrt(L)),D===0&&(L+=(D=.01*Math.random())*D),R===0&&(L+=(R=.01*Math.random())*R);var Y=Math.sqrt(L);w[_.id+"-"+P.id]={vx:D,vy:R,vl:L,sqrtVl:Y},w[P.id+"-"+_.id]={vx:-D,vy:-R,vl:L,sqrtVl:Y}}})}),this.calRepulsive(t,g,w),this.calAttractive(l,g,w)},e.prototype.calRepulsive=function(t,l,g){var w=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,_=this.nodeStrength,k=this.alpha,P=this.collideStrength,T=this.preventOverlap,D=this.nodeSize;t.forEach(function(R,L){t.forEach(function(Y,z){if(L!==z&&Object(ut.isNumber)(R.x)&&Object(ut.isNumber)(Y.x)&&Object(ut.isNumber)(R.y)&&Object(ut.isNumber)(Y.y)){var q=g[R.id+"-"+Y.id],nt=q.vl,et=q.vx,st=q.vy;if(!(nt>w)&&(l[L].x+=et*_(Y)*k/nt,l[L].y+=st*_(Y)*k/nt,T&&L<z)){var pt=D(R),Ot=D(Y),wt=pt+Ot;if(nt<wt*wt){var yt=g[R.id+"-"+Y.id].sqrtVl,Tt=(wt-yt)/yt*P,Dt=Ot*Ot/(pt*pt+Ot*Ot),Gt=et*Tt,zt=st*Tt;l[L].x+=Gt*Dt,l[L].y+=zt*Dt,Dt=1-Dt,l[z].x-=Gt*Dt,l[z].y-=zt*Dt}}}})})},e.prototype.calAttractive=function(t,l,g){var w=this,_=this.linkDistance,k=this.alpha,P=this.linkStrength,T=this.bias;t.forEach(function(D,R){if(D.source&&D.target){var L=w.nodeIdxMap[D.source],Y=w.nodeIdxMap[D.target];if(L!==Y){var z=w.nodeMap[D.source],q=w.nodeMap[D.target];if(Object(ut.isNumber)(q.x)&&Object(ut.isNumber)(z.x)&&Object(ut.isNumber)(q.y)&&Object(ut.isNumber)(z.y)){var nt=g[D.target+"-"+D.source],et=(nt.vl,nt.sqrtVl),st=nt.vx,pt=nt.vy,Ot=(et-_(D))/et*k*P(D),wt=st*Ot,yt=pt*Ot,Tt=T[R];l[Y].x-=wt*Tt,l[Y].y-=yt*Tt,l[L].x+=wt*(1-Tt),l[L].y+=yt*(1-Tt)}}}})},e}(Rn),zu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){var t=this,l=this.nodes,g=this.center;if(l&&l.length!==0){if(l.length===1)return l[0].x=g[0],void(l[0].y=g[1]);var w={},_={};l.forEach(function(k,P){Object(ut.isNumber)(k.x)||(k.x=Math.random()*t.width),Object(ut.isNumber)(k.y)||(k.y=Math.random()*t.height),w[k.id]=k,_[k.id]=P}),this.nodeMap=w,this.nodeIdxMap=_,this.run()}},e.prototype.run=function(){var t=this,l=t.nodes,g=t.edges,w=t.maxIteration;t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var _=t.center,k=t.width/10,P=Math.sqrt(t.width*t.height/(l.length+1)),T=t.gravity,D=t.speed,R=t.clustering,L={};if(R)for(var Y in l.forEach(function(nt){if(L[nt.cluster]===void 0){var et={name:nt.cluster,cx:0,cy:0,count:0};L[nt.cluster]=et}var st=L[nt.cluster];Object(ut.isNumber)(nt.x)&&(st.cx+=nt.x),Object(ut.isNumber)(nt.y)&&(st.cy+=nt.y),st.count++}),L)L[Y].cx/=L[Y].count,L[Y].cy/=L[Y].count;for(var z=function(et){var st=[];if(l.forEach(function(wt,yt){st[yt]={x:0,y:0}}),t.applyCalculate(l,g,st,P),R){var pt=t.clusterGravity||T;for(var Ot in l.forEach(function(wt,yt){if(Object(ut.isNumber)(wt.x)&&Object(ut.isNumber)(wt.y)){var Tt=L[wt.cluster],Dt=Math.sqrt((wt.x-Tt.cx)*(wt.x-Tt.cx)+(wt.y-Tt.cy)*(wt.y-Tt.cy)),Gt=P*pt;st[yt].x-=Gt*(wt.x-Tt.cx)/Dt,st[yt].y-=Gt*(wt.y-Tt.cy)/Dt}}),L)L[Ot].cx=0,L[Ot].cy=0,L[Ot].count=0;for(var Ot in l.forEach(function(yt){var Tt=L[yt.cluster];Object(ut.isNumber)(yt.x)&&(Tt.cx+=yt.x),Object(ut.isNumber)(yt.y)&&(Tt.cy+=yt.y),Tt.count++}),L)L[Ot].cx/=L[Ot].count,L[Ot].cy/=L[Ot].count}l.forEach(function(wt,yt){if(Object(ut.isNumber)(wt.x)&&Object(ut.isNumber)(wt.y)){var Tt=.01*P*T;st[yt].x-=Tt*(wt.x-_[0]),st[yt].y-=Tt*(wt.y-_[1])}}),l.forEach(function(wt,yt){if(Object(ut.isNumber)(wt.x)&&Object(ut.isNumber)(wt.y)){var Tt=Math.sqrt(st[yt].x*st[yt].x+st[yt].y*st[yt].y);if(Tt>0){var Dt=Math.min(k*(D/800),Tt);wt.x+=st[yt].x/Tt*Dt,wt.y+=st[yt].y/Tt*Dt}}})},q=0;q<w;q++)z()},e.prototype.applyCalculate=function(t,l,g,w){this.calRepulsive(t,g,w),this.calAttractive(l,g,w)},e.prototype.calRepulsive=function(t,l,g){t.forEach(function(w,_){l[_]={x:0,y:0},t.forEach(function(k,P){if(_!==P&&Object(ut.isNumber)(w.x)&&Object(ut.isNumber)(k.x)&&Object(ut.isNumber)(w.y)&&Object(ut.isNumber)(k.y)){var T=w.x-k.x,D=w.y-k.y,R=T*T+D*D;if(R===0){R=1;var L=_>P?1:-1;T=.01*L,D=.01*L}var Y=g*g/R;l[_].x+=T*Y,l[_].y+=D*Y}})})},e.prototype.calAttractive=function(t,l,g){var w=this;t.forEach(function(_){if(_.source&&_.target){var k=w.nodeIdxMap[_.source],P=w.nodeIdxMap[_.target];if(k!==P){var T=w.nodeMap[_.source],D=w.nodeMap[_.target];if(Object(ut.isNumber)(D.x)&&Object(ut.isNumber)(T.x)&&Object(ut.isNumber)(D.y)&&Object(ut.isNumber)(T.y)){var R=D.x-T.x,L=D.y-T.y,Y=Math.sqrt(R*R+L*L),z=Y*Y/g;l[P].x-=R/Y*z,l[P].y-=L/Y*z,l[k].x+=R/Y*z,l[k].y+=L/Y*z}}}})},e}(Rn),Xu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,l=t.nodes,g=l.length,w=t.center;if(g!==0){if(g===1)return l[0].x=w[0],void(l[0].y=w[1]);var _=t.edges,k=[];l.forEach(function(st){k.push(st)});var P={};if(k.forEach(function(st,pt){P[st.id]=pt}),(t.sortBy==="degree"||!N()(t.sortBy)||k[0][t.sortBy]===void 0)&&(t.sortBy="degree",at(l[0].degree))){var T=Cn(k.length,P,_);k.forEach(function(st,pt){st.degree=T[pt]})}k.sort(function(st,pt){return pt[t.sortBy]-st[t.sortBy]}),t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var D=t.rows,R=t.cols!=null?t.cols:t.columns;if(t.cells=g,D!=null&&R!=null?(t.rows=D,t.cols=R):D!=null&&R==null?(t.rows=D,t.cols=Math.ceil(t.cells/t.rows)):D==null&&R!=null?(t.cols=R,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells)((Y=t.small())-1)*(L=t.large())>=t.cells?t.small(Y-1):(L-1)*Y>=t.cells&&t.large(L-1);else for(;t.cols*t.rows<t.cells;){var L,Y=t.small();((L=t.large())+1)*Y>=t.cells?t.large(L+1):t.small(Y+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&k.forEach(function(st){var pt,Ot;st.x&&st.y||(st.x=0,st.y=0),Object(ut.isArray)(st.size)?(pt=st.size[0],Ot=st.size[1]):Object(ut.isNumber)(st.size)&&(pt=st.size,Ot=st.size),pt!==void 0&&Ot!==void 0||(Object(ut.isArray)(t.nodeSize)?(pt=t.nodeSize[0],Ot=t.nodeSize[1]):Object(ut.isNumber)(t.nodeSize)?(pt=t.nodeSize,Ot=t.nodeSize):(pt=30,Ot=30));var wt=t.preventOverlapPadding,yt=pt+wt,Tt=Ot+wt;t.cellWidth=Math.max(t.cellWidth,yt),t.cellHeight=Math.max(t.cellHeight,Tt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var z=0;z<k.length;z++){var q=k[z],nt=void 0;if(t.position&&(nt=t.position(q)),nt&&(nt.row!==void 0||nt.col!==void 0)){var et={row:nt.row,col:nt.col};if(et.col===void 0)for(et.col=0;t.used(et.row,et.col);)et.col++;else if(et.row===void 0)for(et.row=0;t.used(et.row,et.col);)et.row++;t.id2manPos[q.id]=et,t.use(et.row,et.col)}t.getPos(q)}}},e.prototype.small=function(t){var l,g=this.rows||5,w=this.cols||5;return t==null?l=Math.min(g,w):Math.min(g,w)===this.rows?this.rows=t:this.cols=t,l},e.prototype.large=function(t){var l,g=this.rows||5,w=this.cols||5;return t==null?l=Math.max(g,w):Math.max(g,w)===this.rows?this.rows=t:this.cols=t,l},e.prototype.used=function(t,l){return this.cellUsed["c-"+t+"-"+l]||!1},e.prototype.use=function(t,l){this.cellUsed["c-"+t+"-"+l]=!0},e.prototype.moveToNextCell=function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)},e.prototype.getPos=function(t){var l,g,w=this.begin,_=this.cellWidth,k=this.cellHeight,P=this.id2manPos[t.id];if(P)l=P.col*_+_/2+w[0],g=P.row*k+k/2+w[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();l=this.col*_+_/2+w[0],g=this.row*k+k/2+w[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=l,t.y=g},e}(Rn),Hu=Object.prototype.toString;function Si(S){return Hu.call(S).endsWith("Array]")}var Vu=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Si(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var l=t.fromIndex,g=l===void 0?0:l,w=t.toIndex,_=w===void 0?e.length:w;if(g<0||g>=e.length||!Number.isInteger(g))throw new Error("fromIndex must be a positive integer smaller than length");if(_<=g||_>e.length||!Number.isInteger(_))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var k=e[g],P=g+1;P<_;P++)e[P]>k&&(k=e[P]);return k},Uu=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Si(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var l=t.fromIndex,g=l===void 0?0:l,w=t.toIndex,_=w===void 0?e.length:w;if(g<0||g>=e.length||!Number.isInteger(g))throw new Error("fromIndex must be a positive integer smaller than length");if(_<=g||_>e.length||!Number.isInteger(_))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var k=e[g],P=g+1;P<_;P++)e[P]<k&&(k=e[P]);return k},pa=function(e){var t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Si(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");if(l.output!==void 0){if(!Si(l.output))throw new TypeError("output option must be an array if specified");t=l.output}else t=new Array(e.length);var g=Uu(e),w=Vu(e);if(g===w)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var _=l.min,k=_===void 0?l.autoMinMax?g:0:_,P=l.max,T=P===void 0?l.autoMinMax?w:1:P;if(k>=T)throw new RangeError("min option must be smaller than max option");for(var D=(T-k)/(w-g),R=0;R<e.length;R++)t[R]=(e[R]-g)*D+k;return t},_i=" ".repeat(2),ga=" ".repeat(4);function va(S){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxRows,l=t===void 0?15:t,g=e.maxColumns,w=g===void 0?10:g,_=e.maxNumSize,k=_===void 0?8:_;return"".concat(S.constructor.name,` {
`).concat(_i,`[
`).concat(ga).concat(Wu(S,l,w,k),`
`).concat(_i,`]
`).concat(_i,"rows: ").concat(S.rows,`
`).concat(_i,"columns: ").concat(S.columns,`
}`)}function Wu(S,e,t,l){for(var g=S.rows,w=S.columns,_=Math.min(g,e),k=Math.min(w,t),P=[],T=0;T<_;T++){for(var D=[],R=0;R<k;R++)D.push(qu(S.get(T,R),l));P.push("".concat(D.join(" ")))}return k!==w&&(P[P.length-1]+=" ... ".concat(w-t," more columns")),_!==g&&P.push("... ".concat(g-e," more rows")),P.join(`
`.concat(ga))}function qu(S,e){var t=String(S);if(t.length<=e)return t.padEnd(e," ");var l=S.toPrecision(e-2);if(l.length<=e)return l;var g=S.toExponential(e-2),w=g.indexOf("e"),_=g.slice(w);return g.slice(0,e-_.length)+_}function oo(S){return(oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}function Vn(S,e,t){var l=t?S.rows:S.rows-1;if(e<0||e>l)throw new RangeError("Row index out of range")}function Un(S,e,t){var l=t?S.columns:S.columns-1;if(e<0||e>l)throw new RangeError("Column index out of range")}function Lr(S,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==S.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function Fr(S,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==S.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function Zu(S,e){if(oo(e)!=="object")throw new TypeError("unexpected type for row indices");if(e.some(function(t){return t<0||t>=S.rows}))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function Ku(S,e){if(oo(e)!=="object")throw new TypeError("unexpected type for column indices");if(e.some(function(t){return t<0||t>=S.columns}))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function ma(S,e,t,l,g){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Ei("startRow",e),Ei("endRow",t),Ei("startColumn",l),Ei("endColumn",g),e>t||l>g||e<0||e>=S.rows||t<0||t>=S.rows||l<0||l>=S.columns||g<0||g>=S.columns)throw new RangeError("Submatrix indices are out of range")}function Oi(S){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],l=0;l<S;l++)t.push(e);return t}function Ei(S,e){if(typeof e!="number")throw new TypeError("".concat(S," must be a number"))}function $u(S,e,t){for(var l=S.rows,g=S.columns,w=[],_=0;_<l;_++){for(var k=0,P=0,T=0,D=0;D<g;D++)k+=T=S.get(_,D)-t[_],P+=T*T;e?w.push((P-k*k/g)/(g-1)):w.push((P-k*k/g)/g)}return w}function Qu(S,e,t){for(var l=S.rows,g=S.columns,w=[],_=0;_<g;_++){for(var k=0,P=0,T=0,D=0;D<l;D++)k+=T=S.get(D,_)-t[_],P+=T*T;e?w.push((P-k*k/l)/(l-1)):w.push((P-k*k/l)/l)}return w}function Ju(S,e,t){for(var l=S.rows,g=S.columns,w=l*g,_=0,k=0,P=0,T=0;T<l;T++)for(var D=0;D<g;D++)_+=P=S.get(T,D)-t,k+=P*P;return e?(k-_*_/w)/(w-1):(k-_*_/w)/w}function tc(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)-e[t])}function ec(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)-e[l])}function nc(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)-e)}function rc(S){for(var e=[],t=0;t<S.rows;t++){for(var l=0,g=0;g<S.columns;g++)l+=Math.pow(S.get(t,g),2)/(S.columns-1);e.push(Math.sqrt(l))}return e}function ic(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)/e[t])}function oc(S){for(var e=[],t=0;t<S.columns;t++){for(var l=0,g=0;g<S.rows;g++)l+=Math.pow(S.get(g,t),2)/(S.rows-1);e.push(Math.sqrt(l))}return e}function ac(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)/e[l])}function sc(S){for(var e=S.size-1,t=0,l=0;l<S.columns;l++)for(var g=0;g<S.rows;g++)t+=Math.pow(S.get(g,l),2)/e;return Math.sqrt(t)}function uc(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)/e)}function ya(S,e){return(ya=Object.setPrototypeOf||function(t,l){return t.__proto__=l,t})(S,e)}function cc(S){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,l=ao(S);if(e){var g=ao(this).constructor;t=Reflect.construct(l,arguments,g)}else t=l.apply(this,arguments);return ba(this,t)}}function ba(S,e){return!e||Sn(e)!=="object"&&typeof e!="function"?function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(S):e}function ao(S){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(S)}function Sn(S){return(Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}function xa(S,e){if(!(S instanceof e))throw new TypeError("Cannot call a class as a function")}function wa(S,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function Ma(S,e,t){return e&&wa(S.prototype,e),t&&wa(S,t),S}var Ue=function(){function S(){xa(this,S)}return Ma(S,[{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t.call(this,l,g);return this}},{key:"to1DArray",value:function(){for(var t=[],l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t.push(this.get(l,g));return t}},{key:"to2DArray",value:function(){for(var t=[],l=0;l<this.rows;l++){t.push([]);for(var g=0;g<this.columns;g++)t[l].push(this.get(l,g))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var l=0;l<=t;l++)if(this.get(t,l)!==this.get(l,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,l=0,g=-1,w=!0,_=!1;t<this.rows&&w;){for(l=0,_=!1;l<this.columns&&_===!1;)this.get(t,l)===0?l++:this.get(t,l)===1&&l>g?(_=!0,g=l):(w=!1,_=!0);t++}return w}},{key:"isReducedEchelonForm",value:function(){for(var t=0,l=0,g=-1,w=!0,_=!1;t<this.rows&&w;){for(l=0,_=!1;l<this.columns&&_===!1;)this.get(t,l)===0?l++:this.get(t,l)===1&&l>g?(_=!0,g=l):(w=!1,_=!0);for(var k=l+1;k<this.rows;k++)this.get(t,k)!==0&&(w=!1);t++}return w}},{key:"echelonForm",value:function(){for(var t=this.clone(),l=0,g=0;l<t.rows&&g<t.columns;){for(var w=l,_=l;_<t.rows;_++)t.get(_,g)>t.get(w,g)&&(w=_);if(t.get(w,g)===0)g++;else{t.swapRows(l,w);for(var k=t.get(l,g),P=g;P<t.columns;P++)t.set(l,P,t.get(l,P)/k);for(var T=l+1;T<t.rows;T++){var D=t.get(T,g)/t.get(l,g);t.set(T,g,0);for(var R=g+1;R<t.columns;R++)t.set(T,R,t.get(T,R)-t.get(l,R)*D)}l++,g++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),l=t.columns,g=t.rows,w=g-1;w>=0;)if(t.maxRow(w)===0)w--;else{for(var _=0,k=!1;_<g&&k===!1;)t.get(w,_)===1?k=!0:_++;for(var P=0;P<w;P++)for(var T=t.get(P,_),D=_;D<l;D++){var R=t.get(P,D)-T*t.get(w,D);t.set(P,D,R)}w--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Sn(t)!=="object")throw new TypeError("options must be an object");var l=t.rows,g=l===void 0?1:l,w=t.columns,_=w===void 0?1:w;if(!Number.isInteger(g)||g<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(_)||_<=0)throw new TypeError("columns must be a positive integer");for(var k=new Oe(this.rows*g,this.columns*_),P=0;P<g;P++)for(var T=0;T<_;T++)k.setSubMatrix(this,this.rows*P,this.columns*T);return k}},{key:"fill",value:function(t){for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Vn(this,t);for(var l=[],g=0;g<this.columns;g++)l.push(this.get(t,g));return l}},{key:"getRowVector",value:function(t){return Oe.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,l){Vn(this,t),l=Lr(this,l);for(var g=0;g<this.columns;g++)this.set(t,g,l[g]);return this}},{key:"swapRows",value:function(t,l){Vn(this,t),Vn(this,l);for(var g=0;g<this.columns;g++){var w=this.get(t,g);this.set(t,g,this.get(l,g)),this.set(l,g,w)}return this}},{key:"getColumn",value:function(t){Un(this,t);for(var l=[],g=0;g<this.rows;g++)l.push(this.get(g,t));return l}},{key:"getColumnVector",value:function(t){return Oe.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,l){Un(this,t),l=Fr(this,l);for(var g=0;g<this.rows;g++)this.set(g,t,l[g]);return this}},{key:"swapColumns",value:function(t,l){Un(this,t),Un(this,l);for(var g=0;g<this.rows;g++){var w=this.get(g,t);this.set(g,t,this.get(g,l)),this.set(g,l,w)}return this}},{key:"addRowVector",value:function(t){t=Lr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)+t[g]);return this}},{key:"subRowVector",value:function(t){t=Lr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)-t[g]);return this}},{key:"mulRowVector",value:function(t){t=Lr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)*t[g]);return this}},{key:"divRowVector",value:function(t){t=Lr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)/t[g]);return this}},{key:"addColumnVector",value:function(t){t=Fr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)+t[l]);return this}},{key:"subColumnVector",value:function(t){t=Fr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)-t[l]);return this}},{key:"mulColumnVector",value:function(t){t=Fr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)*t[l]);return this}},{key:"divColumnVector",value:function(t){t=Fr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)/t[l]);return this}},{key:"mulRow",value:function(t,l){Vn(this,t);for(var g=0;g<this.columns;g++)this.set(t,g,this.get(t,g)*l);return this}},{key:"mulColumn",value:function(t,l){Un(this,t);for(var g=0;g<this.rows;g++)this.set(g,t,this.get(g,t)*l);return this}},{key:"max",value:function(){for(var t=this.get(0,0),l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.get(l,g)>t&&(t=this.get(l,g));return t}},{key:"maxIndex",value:function(){for(var t=this.get(0,0),l=[0,0],g=0;g<this.rows;g++)for(var w=0;w<this.columns;w++)this.get(g,w)>t&&(t=this.get(g,w),l[0]=g,l[1]=w);return l}},{key:"min",value:function(){for(var t=this.get(0,0),l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.get(l,g)<t&&(t=this.get(l,g));return t}},{key:"minIndex",value:function(){for(var t=this.get(0,0),l=[0,0],g=0;g<this.rows;g++)for(var w=0;w<this.columns;w++)this.get(g,w)<t&&(t=this.get(g,w),l[0]=g,l[1]=w);return l}},{key:"maxRow",value:function(t){Vn(this,t);for(var l=this.get(t,0),g=1;g<this.columns;g++)this.get(t,g)>l&&(l=this.get(t,g));return l}},{key:"maxRowIndex",value:function(t){Vn(this,t);for(var l=this.get(t,0),g=[t,0],w=1;w<this.columns;w++)this.get(t,w)>l&&(l=this.get(t,w),g[1]=w);return g}},{key:"minRow",value:function(t){Vn(this,t);for(var l=this.get(t,0),g=1;g<this.columns;g++)this.get(t,g)<l&&(l=this.get(t,g));return l}},{key:"minRowIndex",value:function(t){Vn(this,t);for(var l=this.get(t,0),g=[t,0],w=1;w<this.columns;w++)this.get(t,w)<l&&(l=this.get(t,w),g[1]=w);return g}},{key:"maxColumn",value:function(t){Un(this,t);for(var l=this.get(0,t),g=1;g<this.rows;g++)this.get(g,t)>l&&(l=this.get(g,t));return l}},{key:"maxColumnIndex",value:function(t){Un(this,t);for(var l=this.get(0,t),g=[0,t],w=1;w<this.rows;w++)this.get(w,t)>l&&(l=this.get(w,t),g[0]=w);return g}},{key:"minColumn",value:function(t){Un(this,t);for(var l=this.get(0,t),g=1;g<this.rows;g++)this.get(g,t)<l&&(l=this.get(g,t));return l}},{key:"minColumnIndex",value:function(t){Un(this,t);for(var l=this.get(0,t),g=[0,t],w=1;w<this.rows;w++)this.get(w,t)<l&&(l=this.get(w,t),g[0]=w);return g}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),l=[],g=0;g<t;g++)l.push(this.get(g,g));return l}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",l=0;if(t==="max")return this.max();if(t==="frobenius"){for(var g=0;g<this.rows;g++)for(var w=0;w<this.columns;w++)l+=this.get(g,w)*this.get(g,w);return Math.sqrt(l)}throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t+=this.get(l,g),this.set(l,g,t);return this}},{key:"dot",value:function(t){S.isMatrix(t)&&(t=t.to1DArray());var l=this.to1DArray();if(l.length!==t.length)throw new RangeError("vectors do not have the same size");for(var g=0,w=0;w<l.length;w++)g+=l[w]*t[w];return g}},{key:"mmul",value:function(t){t=Oe.checkMatrix(t);for(var l=this.rows,g=this.columns,w=t.columns,_=new Oe(l,w),k=new Float64Array(g),P=0;P<w;P++){for(var T=0;T<g;T++)k[T]=t.get(T,P);for(var D=0;D<l;D++){for(var R=0,L=0;L<g;L++)R+=this.get(D,L)*k[L];_.set(D,P,R)}}return _}},{key:"strassen2x2",value:function(t){t=Oe.checkMatrix(t);var l=new Oe(2,2),g=this.get(0,0),w=t.get(0,0),_=this.get(0,1),k=t.get(0,1),P=this.get(1,0),T=t.get(1,0),D=this.get(1,1),R=t.get(1,1),L=(g+D)*(w+R),Y=(P+D)*w,z=g*(k-R),q=D*(T-w),nt=(g+_)*R,et=L+q-nt+(_-D)*(T+R),st=z+nt,pt=Y+q,Ot=L-Y+z+(P-g)*(w+k);return l.set(0,0,et),l.set(0,1,st),l.set(1,0,pt),l.set(1,1,Ot),l}},{key:"strassen3x3",value:function(t){t=Oe.checkMatrix(t);var l=new Oe(3,3),g=this.get(0,0),w=this.get(0,1),_=this.get(0,2),k=this.get(1,0),P=this.get(1,1),T=this.get(1,2),D=this.get(2,0),R=this.get(2,1),L=this.get(2,2),Y=t.get(0,0),z=t.get(0,1),q=t.get(0,2),nt=t.get(1,0),et=t.get(1,1),st=t.get(1,2),pt=t.get(2,0),Ot=t.get(2,1),wt=t.get(2,2),yt=(g-k)*(-z+et),Tt=(-g+k+P)*(Y-z+et),Dt=(k+P)*(-Y+z),Gt=g*Y,zt=(-g+D+R)*(Y-q+st),Kt=(-g+D)*(q-st),qt=(D+R)*(-Y+q),Wt=(-_+R+L)*(et+pt-Ot),ne=(_-L)*(et-Ot),Qt=_*pt,se=(R+L)*(-pt+Ot),oe=(-_+P+T)*(st+pt-wt),le=(_-T)*(st-wt),te=(P+T)*(-pt+wt),ae=Gt+Qt+w*nt,me=(g+w+_-k-P-R-L)*et+Tt+Dt+Gt+Wt+Qt+se,ke=Gt+zt+qt+(g+w+_-P-T-D-R)*st+Qt+oe+te,Ce=yt+P*(-Y+z+nt-et-st-pt+wt)+Tt+Gt+Qt+oe+le,ze=yt+Tt+Dt+Gt+T*Ot,Le=Qt+oe+le+te+k*q,ar=Gt+zt+Kt+R*(-Y+q+nt-et-st-pt+Ot)+Wt+ne+Qt,sr=Wt+ne+Qt+se+D*z,Wn=Gt+zt+Kt+qt+L*wt;return l.set(0,0,ae),l.set(0,1,me),l.set(0,2,ke),l.set(1,0,Ce),l.set(1,1,ze),l.set(1,2,Le),l.set(2,0,ar),l.set(2,1,sr),l.set(2,2,Wn),l}},{key:"mmulStrassen",value:function(t){t=Oe.checkMatrix(t);var l=this.clone(),g=l.rows,w=l.columns,_=t.rows,k=t.columns;function P(R,L,Y){var z=R.rows,q=R.columns;if(z===L&&q===Y)return R;var nt=S.zeros(L,Y);return nt=nt.setSubMatrix(R,0,0)}w!==_&&console.warn("Multiplying ".concat(g," x ").concat(w," and ").concat(_," x ").concat(k," matrix: dimensions do not match."));var T=Math.max(g,_),D=Math.max(w,k);return function R(L,Y,z,q){if(z<=512||q<=512)return L.mmul(Y);z%2==1&&q%2==1?(L=P(L,z+1,q+1),Y=P(Y,z+1,q+1)):z%2==1?(L=P(L,z+1,q),Y=P(Y,z+1,q)):q%2==1&&(L=P(L,z,q+1),Y=P(Y,z,q+1));var nt=parseInt(L.rows/2,10),et=parseInt(L.columns/2,10),st=L.subMatrix(0,nt-1,0,et-1),pt=Y.subMatrix(0,nt-1,0,et-1),Ot=L.subMatrix(0,nt-1,et,L.columns-1),wt=Y.subMatrix(0,nt-1,et,Y.columns-1),yt=L.subMatrix(nt,L.rows-1,0,et-1),Tt=Y.subMatrix(nt,Y.rows-1,0,et-1),Dt=L.subMatrix(nt,L.rows-1,et,L.columns-1),Gt=Y.subMatrix(nt,Y.rows-1,et,Y.columns-1),zt=R(S.add(st,Dt),S.add(pt,Gt),nt,et),Kt=R(S.add(yt,Dt),pt,nt,et),qt=R(st,S.sub(wt,Gt),nt,et),Wt=R(Dt,S.sub(Tt,pt),nt,et),ne=R(S.add(st,Ot),Gt,nt,et),Qt=R(S.sub(yt,st),S.add(pt,wt),nt,et),se=R(S.sub(Ot,Dt),S.add(Tt,Gt),nt,et),oe=S.add(zt,Wt);oe.sub(ne),oe.add(se);var le=S.add(qt,ne),te=S.add(Kt,Wt),ae=S.sub(zt,Kt);ae.add(qt),ae.add(Qt);var me=S.zeros(2*oe.rows,2*oe.columns);return(me=(me=(me=(me=me.setSubMatrix(oe,0,0)).setSubMatrix(le,oe.rows,0)).setSubMatrix(te,0,oe.columns)).setSubMatrix(ae,oe.rows,oe.columns)).subMatrix(0,z-1,0,q-1)}(l=P(l,T,D),t=P(t,T,D),T,D)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Sn(t)!=="object")throw new TypeError("options must be an object");var l=t.min,g=l===void 0?0:l,w=t.max,_=w===void 0?1:w;if(!Number.isFinite(g))throw new TypeError("min must be a number");if(!Number.isFinite(_))throw new TypeError("max must be a number");if(g>=_)throw new RangeError("min must be smaller than max");for(var k=new Oe(this.rows,this.columns),P=0;P<this.rows;P++){var T=this.getRow(P);pa(T,{min:g,max:_,output:T}),k.setRow(P,T)}return k}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Sn(t)!=="object")throw new TypeError("options must be an object");var l=t.min,g=l===void 0?0:l,w=t.max,_=w===void 0?1:w;if(!Number.isFinite(g))throw new TypeError("min must be a number");if(!Number.isFinite(_))throw new TypeError("max must be a number");if(g>=_)throw new RangeError("min must be smaller than max");for(var k=new Oe(this.rows,this.columns),P=0;P<this.columns;P++){var T=this.getColumn(P);pa(T,{min:g,max:_,output:T}),k.setColumn(P,T)}return k}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),l=0;l<this.rows;l++)for(var g=0;g<t;g++){var w=this.get(l,g),_=this.get(l,this.columns-1-g);this.set(l,g,_),this.set(l,this.columns-1-g,w)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),l=0;l<this.columns;l++)for(var g=0;g<t;g++){var w=this.get(g,l),_=this.get(this.rows-1-g,l);this.set(g,l,_),this.set(this.rows-1-g,l,w)}return this}},{key:"kroneckerProduct",value:function(t){t=Oe.checkMatrix(t);for(var l=this.rows,g=this.columns,w=t.rows,_=t.columns,k=new Oe(l*w,g*_),P=0;P<l;P++)for(var T=0;T<g;T++)for(var D=0;D<w;D++)for(var R=0;R<_;R++)k.set(w*P+D,_*T+R,this.get(P,T)*t.get(D,R));return k}},{key:"transpose",value:function(){for(var t=new Oe(this.columns,this.rows),l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t.set(g,l,this.get(l,g));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sa,l=0;l<this.rows;l++)this.setRow(l,this.getRow(l).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sa,l=0;l<this.columns;l++)this.setColumn(l,this.getColumn(l).sort(t));return this}},{key:"subMatrix",value:function(t,l,g,w){ma(this,t,l,g,w);for(var _=new Oe(l-t+1,w-g+1),k=t;k<=l;k++)for(var P=g;P<=w;P++)_.set(k-t,P-g,this.get(k,P));return _}},{key:"subMatrixRow",value:function(t,l,g){if(l===void 0&&(l=0),g===void 0&&(g=this.columns-1),l>g||l<0||l>=this.columns||g<0||g>=this.columns)throw new RangeError("Argument out of range");for(var w=new Oe(t.length,g-l+1),_=0;_<t.length;_++)for(var k=l;k<=g;k++){if(t[_]<0||t[_]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[_]));w.set(_,k-l,this.get(t[_],k))}return w}},{key:"subMatrixColumn",value:function(t,l,g){if(l===void 0&&(l=0),g===void 0&&(g=this.rows-1),l>g||l<0||l>=this.rows||g<0||g>=this.rows)throw new RangeError("Argument out of range");for(var w=new Oe(g-l+1,t.length),_=0;_<t.length;_++)for(var k=l;k<=g;k++){if(t[_]<0||t[_]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[_]));w.set(k-l,_,this.get(k,t[_]))}return w}},{key:"setSubMatrix",value:function(t,l,g){ma(this,l,l+(t=Oe.checkMatrix(t)).rows-1,g,g+t.columns-1);for(var w=0;w<t.rows;w++)for(var _=0;_<t.columns;_++)this.set(l+w,g+_,t.get(w,_));return this}},{key:"selection",value:function(t,l){for(var g=function(D,R,L){return{row:Zu(D,R),column:Ku(D,L)}}(this,t,l),w=new Oe(t.length,l.length),_=0;_<g.row.length;_++)for(var k=g.row[_],P=0;P<g.column.length;P++){var T=g.column[P];w.set(_,P,this.get(k,T))}return w}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),l=0,g=0;g<t;g++)l+=this.get(g,g);return l}},{key:"clone",value:function(){for(var t=new Oe(this.rows,this.columns),l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t.set(l,g,this.get(l,g));return t}},{key:"sum",value:function(t){switch(t){case"row":return function(l){for(var g=Oi(l.rows),w=0;w<l.rows;++w)for(var _=0;_<l.columns;++_)g[w]+=l.get(w,_);return g}(this);case"column":return function(l){for(var g=Oi(l.columns),w=0;w<l.rows;++w)for(var _=0;_<l.columns;++_)g[_]+=l.get(w,_);return g}(this);case void 0:return function(l){for(var g=0,w=0;w<l.rows;w++)for(var _=0;_<l.columns;_++)g+=l.get(w,_);return g}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return function(l){for(var g=Oi(l.rows,1),w=0;w<l.rows;++w)for(var _=0;_<l.columns;++_)g[w]*=l.get(w,_);return g}(this);case"column":return function(l){for(var g=Oi(l.columns,1),w=0;w<l.rows;++w)for(var _=0;_<l.columns;++_)g[_]*=l.get(w,_);return g}(this);case void 0:return function(l){for(var g=1,w=0;w<l.rows;w++)for(var _=0;_<l.columns;_++)g*=l.get(w,_);return g}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var l=this.sum(t);switch(t){case"row":for(var g=0;g<this.rows;g++)l[g]/=this.columns;return l;case"column":for(var w=0;w<this.columns;w++)l[w]/=this.rows;return l;case void 0:return l/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Sn(t)==="object"&&(l=t,t=void 0),Sn(l)!=="object")throw new TypeError("options must be an object");var g=l,w=g.unbiased,_=w===void 0||w,k=g.mean,P=k===void 0?this.mean(t):k;if(typeof _!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(P))throw new TypeError("mean must be an array");return $u(this,_,P);case"column":if(!Array.isArray(P))throw new TypeError("mean must be an array");return Qu(this,_,P);case void 0:if(typeof P!="number")throw new TypeError("mean must be a number");return Ju(this,_,P);default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,l){Sn(t)==="object"&&(l=t,t=void 0);var g=this.variance(t,l);if(t===void 0)return Math.sqrt(g);for(var w=0;w<g.length;w++)g[w]=Math.sqrt(g[w]);return g}},{key:"center",value:function(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Sn(t)==="object"&&(l=t,t=void 0),Sn(l)!=="object")throw new TypeError("options must be an object");var g=l,w=g.center,_=w===void 0?this.mean(t):w;switch(t){case"row":if(!Array.isArray(_))throw new TypeError("center must be an array");return tc(this,_),this;case"column":if(!Array.isArray(_))throw new TypeError("center must be an array");return ec(this,_),this;case void 0:if(typeof _!="number")throw new TypeError("center must be a number");return nc(this,_),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Sn(t)==="object"&&(l=t,t=void 0),Sn(l)!=="object")throw new TypeError("options must be an object");var g=l.scale;switch(t){case"row":if(g===void 0)g=rc(this);else if(!Array.isArray(g))throw new TypeError("scale must be an array");return ic(this,g),this;case"column":if(g===void 0)g=oc(this);else if(!Array.isArray(g))throw new TypeError("scale must be an array");return ac(this,g),this;case void 0:if(g===void 0)g=sc(this);else if(typeof g!="number")throw new TypeError("scale must be a number");return uc(this,g),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return va(this,t)}},{key:"size",get:function(){return this.rows*this.columns}}],[{key:"from1DArray",value:function(t,l,g){if(t*l!==g.length)throw new RangeError("data length does not match given dimensions");for(var w=new Oe(t,l),_=0;_<t;_++)for(var k=0;k<l;k++)w.set(_,k,g[_*l+k]);return w}},{key:"rowVector",value:function(t){for(var l=new Oe(1,t.length),g=0;g<t.length;g++)l.set(0,g,t[g]);return l}},{key:"columnVector",value:function(t){for(var l=new Oe(t.length,1),g=0;g<t.length;g++)l.set(g,0,t[g]);return l}},{key:"zeros",value:function(t,l){return new Oe(t,l)}},{key:"ones",value:function(t,l){return new Oe(t,l).fill(1)}},{key:"rand",value:function(t,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Sn(g)!=="object")throw new TypeError("options must be an object");for(var w=g.random,_=w===void 0?Math.random:w,k=new Oe(t,l),P=0;P<t;P++)for(var T=0;T<l;T++)k.set(P,T,_());return k}},{key:"randInt",value:function(t,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Sn(g)!=="object")throw new TypeError("options must be an object");var w=g.min,_=w===void 0?0:w,k=g.max,P=k===void 0?1e3:k,T=g.random,D=T===void 0?Math.random:T;if(!Number.isInteger(_))throw new TypeError("min must be an integer");if(!Number.isInteger(P))throw new TypeError("max must be an integer");if(_>=P)throw new RangeError("min must be smaller than max");for(var R=P-_,L=new Oe(t,l),Y=0;Y<t;Y++)for(var z=0;z<l;z++){var q=_+Math.round(D()*R);L.set(Y,z,q)}return L}},{key:"eye",value:function(t,l,g){l===void 0&&(l=t),g===void 0&&(g=1);for(var w=Math.min(t,l),_=this.zeros(t,l),k=0;k<w;k++)_.set(k,k,g);return _}},{key:"diag",value:function(t,l,g){var w=t.length;l===void 0&&(l=w),g===void 0&&(g=l);for(var _=Math.min(w,l,g),k=this.zeros(l,g),P=0;P<_;P++)k.set(P,P,t[P]);return k}},{key:"min",value:function(t,l){t=this.checkMatrix(t),l=this.checkMatrix(l);for(var g=t.rows,w=t.columns,_=new Oe(g,w),k=0;k<g;k++)for(var P=0;P<w;P++)_.set(k,P,Math.min(t.get(k,P),l.get(k,P)));return _}},{key:"max",value:function(t,l){t=this.checkMatrix(t),l=this.checkMatrix(l);for(var g=t.rows,w=t.columns,_=new this(g,w),k=0;k<g;k++)for(var P=0;P<w;P++)_.set(k,P,Math.max(t.get(k,P),l.get(k,P)));return _}},{key:"checkMatrix",value:function(t){return S.isMatrix(t)?t:new Oe(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),S}();function Sa(S,e){return S-e}Ue.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return va(this)}),Ue.random=Ue.rand,Ue.randomInt=Ue.randInt,Ue.diagonal=Ue.diag,Ue.prototype.diagonal=Ue.prototype.diag,Ue.identity=Ue.eye,Ue.prototype.negate=Ue.prototype.neg,Ue.prototype.tensorProduct=Ue.prototype.kroneckerProduct;var ee,Se,Oe=function(S){(function(l,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(g&&g.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),g&&ya(l,g)})(t,S);var e=cc(t);function t(l,g){var w;if(xa(this,t),w=e.call(this),t.isMatrix(l))return ba(w,l.clone());if(Number.isInteger(l)&&l>0){if(w.data=[],!(Number.isInteger(g)&&g>0))throw new TypeError("nColumns must be a positive integer");for(var _=0;_<l;_++)w.data.push(new Float64Array(g))}else{if(!Array.isArray(l))throw new TypeError("First argument must be a positive number or an array");var k=l;if(l=k.length,typeof(g=k[0].length)!="number"||g===0)throw new TypeError("Data must be a 2D array with at least one element");w.data=[];for(var P=0;P<l;P++){if(k[P].length!==g)throw new RangeError("Inconsistent array dimensions");w.data.push(Float64Array.from(k[P]))}}return w.rows=l,w.columns=g,w}return Ma(t,[{key:"set",value:function(g,w,_){return this.data[g][w]=_,this}},{key:"get",value:function(g,w){return this.data[g][w]}},{key:"removeRow",value:function(g){if(Vn(this,g),this.rows===1)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(g,1),this.rows-=1,this}},{key:"addRow",value:function(g,w){return w===void 0&&(w=g,g=this.rows),Vn(this,g,!0),w=Float64Array.from(Lr(this,w)),this.data.splice(g,0,w),this.rows+=1,this}},{key:"removeColumn",value:function(g){if(Un(this,g),this.columns===1)throw new RangeError("A matrix cannot have less than one column");for(var w=0;w<this.rows;w++){for(var _=new Float64Array(this.columns-1),k=0;k<g;k++)_[k]=this.data[w][k];for(var P=g+1;P<this.columns;P++)_[P-1]=this.data[w][P];this.data[w]=_}return this.columns-=1,this}},{key:"addColumn",value:function(g,w){w===void 0&&(w=g,g=this.columns),Un(this,g,!0),w=Fr(this,w);for(var _=0;_<this.rows;_++){for(var k=new Float64Array(this.columns+1),P=0;P<g;P++)k[P]=this.data[_][P];for(k[P++]=w[_];P<this.columns+1;P++)k[P]=this.data[_][P-1];this.data[_]=k}return this.columns+=1,this}}]),t}(Ue);function _a(S){return(_a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}function Oa(S,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function Ea(S,e){return(Ea=Object.setPrototypeOf||function(t,l){return t.__proto__=l,t})(S,e)}function hc(S){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,l=so(S);if(e){var g=so(this).constructor;t=Reflect.construct(l,arguments,g)}else t=l.apply(this,arguments);return lc(this,t)}}function lc(S,e){return!e||_a(e)!=="object"&&typeof e!="function"?function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(S):e}function so(S){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(S)}Se=Oe,(ee=Ue).prototype.add=function(S){return typeof S=="number"?this.addS(S):this.addM(S)},ee.prototype.addS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)+S);return this},ee.prototype.addM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)+S.get(e,t));return this},ee.add=function(S,e){return new Se(S).add(e)},ee.prototype.sub=function(S){return typeof S=="number"?this.subS(S):this.subM(S)},ee.prototype.subS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)-S);return this},ee.prototype.subM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)-S.get(e,t));return this},ee.sub=function(S,e){return new Se(S).sub(e)},ee.prototype.subtract=ee.prototype.sub,ee.prototype.subtractS=ee.prototype.subS,ee.prototype.subtractM=ee.prototype.subM,ee.subtract=ee.sub,ee.prototype.mul=function(S){return typeof S=="number"?this.mulS(S):this.mulM(S)},ee.prototype.mulS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*S);return this},ee.prototype.mulM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*S.get(e,t));return this},ee.mul=function(S,e){return new Se(S).mul(e)},ee.prototype.multiply=ee.prototype.mul,ee.prototype.multiplyS=ee.prototype.mulS,ee.prototype.multiplyM=ee.prototype.mulM,ee.multiply=ee.mul,ee.prototype.div=function(S){return typeof S=="number"?this.divS(S):this.divM(S)},ee.prototype.divS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)/S);return this},ee.prototype.divM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)/S.get(e,t));return this},ee.div=function(S,e){return new Se(S).div(e)},ee.prototype.divide=ee.prototype.div,ee.prototype.divideS=ee.prototype.divS,ee.prototype.divideM=ee.prototype.divM,ee.divide=ee.div,ee.prototype.mod=function(S){return typeof S=="number"?this.modS(S):this.modM(S)},ee.prototype.modS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)%S);return this},ee.prototype.modM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)%S.get(e,t));return this},ee.mod=function(S,e){return new Se(S).mod(e)},ee.prototype.modulus=ee.prototype.mod,ee.prototype.modulusS=ee.prototype.modS,ee.prototype.modulusM=ee.prototype.modM,ee.modulus=ee.mod,ee.prototype.and=function(S){return typeof S=="number"?this.andS(S):this.andM(S)},ee.prototype.andS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)&S);return this},ee.prototype.andM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)&S.get(e,t));return this},ee.and=function(S,e){return new Se(S).and(e)},ee.prototype.or=function(S){return typeof S=="number"?this.orS(S):this.orM(S)},ee.prototype.orS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)|S);return this},ee.prototype.orM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)|S.get(e,t));return this},ee.or=function(S,e){return new Se(S).or(e)},ee.prototype.xor=function(S){return typeof S=="number"?this.xorS(S):this.xorM(S)},ee.prototype.xorS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)^S);return this},ee.prototype.xorM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)^S.get(e,t));return this},ee.xor=function(S,e){return new Se(S).xor(e)},ee.prototype.leftShift=function(S){return typeof S=="number"?this.leftShiftS(S):this.leftShiftM(S)},ee.prototype.leftShiftS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)<<S);return this},ee.prototype.leftShiftM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)<<S.get(e,t));return this},ee.leftShift=function(S,e){return new Se(S).leftShift(e)},ee.prototype.signPropagatingRightShift=function(S){return typeof S=="number"?this.signPropagatingRightShiftS(S):this.signPropagatingRightShiftM(S)},ee.prototype.signPropagatingRightShiftS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>S);return this},ee.prototype.signPropagatingRightShiftM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>S.get(e,t));return this},ee.signPropagatingRightShift=function(S,e){return new Se(S).signPropagatingRightShift(e)},ee.prototype.rightShift=function(S){return typeof S=="number"?this.rightShiftS(S):this.rightShiftM(S)},ee.prototype.rightShiftS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>>S);return this},ee.prototype.rightShiftM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>>S.get(e,t));return this},ee.rightShift=function(S,e){return new Se(S).rightShift(e)},ee.prototype.zeroFillRightShift=ee.prototype.rightShift,ee.prototype.zeroFillRightShiftS=ee.prototype.rightShiftS,ee.prototype.zeroFillRightShiftM=ee.prototype.rightShiftM,ee.zeroFillRightShift=ee.rightShift,ee.prototype.not=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,~this.get(S,e));return this},ee.not=function(S){return new Se(S).not()},ee.prototype.abs=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.abs(this.get(S,e)));return this},ee.abs=function(S){return new Se(S).abs()},ee.prototype.acos=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.acos(this.get(S,e)));return this},ee.acos=function(S){return new Se(S).acos()},ee.prototype.acosh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.acosh(this.get(S,e)));return this},ee.acosh=function(S){return new Se(S).acosh()},ee.prototype.asin=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.asin(this.get(S,e)));return this},ee.asin=function(S){return new Se(S).asin()},ee.prototype.asinh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.asinh(this.get(S,e)));return this},ee.asinh=function(S){return new Se(S).asinh()},ee.prototype.atan=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.atan(this.get(S,e)));return this},ee.atan=function(S){return new Se(S).atan()},ee.prototype.atanh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.atanh(this.get(S,e)));return this},ee.atanh=function(S){return new Se(S).atanh()},ee.prototype.cbrt=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.cbrt(this.get(S,e)));return this},ee.cbrt=function(S){return new Se(S).cbrt()},ee.prototype.ceil=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.ceil(this.get(S,e)));return this},ee.ceil=function(S){return new Se(S).ceil()},ee.prototype.clz32=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.clz32(this.get(S,e)));return this},ee.clz32=function(S){return new Se(S).clz32()},ee.prototype.cos=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.cos(this.get(S,e)));return this},ee.cos=function(S){return new Se(S).cos()},ee.prototype.cosh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.cosh(this.get(S,e)));return this},ee.cosh=function(S){return new Se(S).cosh()},ee.prototype.exp=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.exp(this.get(S,e)));return this},ee.exp=function(S){return new Se(S).exp()},ee.prototype.expm1=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.expm1(this.get(S,e)));return this},ee.expm1=function(S){return new Se(S).expm1()},ee.prototype.floor=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.floor(this.get(S,e)));return this},ee.floor=function(S){return new Se(S).floor()},ee.prototype.fround=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.fround(this.get(S,e)));return this},ee.fround=function(S){return new Se(S).fround()},ee.prototype.log=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.log(this.get(S,e)));return this},ee.log=function(S){return new Se(S).log()},ee.prototype.log1p=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.log1p(this.get(S,e)));return this},ee.log1p=function(S){return new Se(S).log1p()},ee.prototype.log10=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.log10(this.get(S,e)));return this},ee.log10=function(S){return new Se(S).log10()},ee.prototype.log2=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.log2(this.get(S,e)));return this},ee.log2=function(S){return new Se(S).log2()},ee.prototype.round=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.round(this.get(S,e)));return this},ee.round=function(S){return new Se(S).round()},ee.prototype.sign=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.sign(this.get(S,e)));return this},ee.sign=function(S){return new Se(S).sign()},ee.prototype.sin=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.sin(this.get(S,e)));return this},ee.sin=function(S){return new Se(S).sin()},ee.prototype.sinh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.sinh(this.get(S,e)));return this},ee.sinh=function(S){return new Se(S).sinh()},ee.prototype.sqrt=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.sqrt(this.get(S,e)));return this},ee.sqrt=function(S){return new Se(S).sqrt()},ee.prototype.tan=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.tan(this.get(S,e)));return this},ee.tan=function(S){return new Se(S).tan()},ee.prototype.tanh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.tanh(this.get(S,e)));return this},ee.tanh=function(S){return new Se(S).tanh()},ee.prototype.trunc=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.trunc(this.get(S,e)));return this},ee.trunc=function(S){return new Se(S).trunc()},ee.pow=function(S,e){return new Se(S).pow(e)},ee.prototype.pow=function(S){return typeof S=="number"?this.powS(S):this.powM(S)},ee.prototype.powS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.pow(this.get(e,t),S));return this},ee.prototype.powM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.pow(this.get(e,t),S.get(e,t)));return this};var fc=function(S){(function(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),k&&Ea(_,k)})(w,S);var e,t,l,g=hc(w);function w(_){var k;return function(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}(this,w),(k=g.call(this)).data=_,k.rows=_.length,k.columns=_[0].length,k}return e=w,(t=[{key:"set",value:function(k,P,T){return this.data[k][P]=T,this}},{key:"get",value:function(k,P){return this.data[k][P]}}])&&Oa(e.prototype,t),l&&Oa(e,l),w}(Ue);function Yr(S,e){var t=0;return Math.abs(S)>Math.abs(e)?(t=e/S,Math.abs(S)*Math.sqrt(1+t*t)):e!==0?(t=S/e,Math.abs(e)*Math.sqrt(1+t*t)):0}function dc(S,e){if(!(S instanceof e))throw new TypeError("Cannot call a class as a function")}function ka(S,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}var Pa=function(){function S(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};dc(this,S);var _,k=(g=fc.checkMatrix(g)).rows,P=g.columns,T=w.computeLeftSingularVectors,D=T===void 0||T,R=w.computeRightSingularVectors,L=R===void 0||R,Y=w.autoTranspose,z=Y!==void 0&&Y,q=Boolean(D),nt=Boolean(L),et=!1;if(k<P)if(z){k=(_=g.transpose()).rows,P=_.columns,et=!0;var st=q;q=nt,nt=st}else _=g.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else _=g.clone();for(var pt=Math.min(k,P),Ot=Math.min(k+1,P),wt=new Float64Array(Ot),yt=new Oe(k,pt),Tt=new Oe(P,P),Dt=new Float64Array(P),Gt=new Float64Array(k),zt=new Float64Array(Ot),Kt=0;Kt<Ot;Kt++)zt[Kt]=Kt;for(var qt=Math.min(k-1,P),Wt=Math.max(0,Math.min(P-2,k)),ne=Math.max(qt,Wt),Qt=0;Qt<ne;Qt++){if(Qt<qt){wt[Qt]=0;for(var se=Qt;se<k;se++)wt[Qt]=Yr(wt[Qt],_.get(se,Qt));if(wt[Qt]!==0){_.get(Qt,Qt)<0&&(wt[Qt]=-wt[Qt]);for(var oe=Qt;oe<k;oe++)_.set(oe,Qt,_.get(oe,Qt)/wt[Qt]);_.set(Qt,Qt,_.get(Qt,Qt)+1)}wt[Qt]=-wt[Qt]}for(var le=Qt+1;le<P;le++){if(Qt<qt&&wt[Qt]!==0){for(var te=0,ae=Qt;ae<k;ae++)te+=_.get(ae,Qt)*_.get(ae,le);te=-te/_.get(Qt,Qt);for(var me=Qt;me<k;me++)_.set(me,le,_.get(me,le)+te*_.get(me,Qt))}Dt[le]=_.get(Qt,le)}if(q&&Qt<qt)for(var ke=Qt;ke<k;ke++)yt.set(ke,Qt,_.get(ke,Qt));if(Qt<Wt){Dt[Qt]=0;for(var Ce=Qt+1;Ce<P;Ce++)Dt[Qt]=Yr(Dt[Qt],Dt[Ce]);if(Dt[Qt]!==0){Dt[Qt+1]<0&&(Dt[Qt]=0-Dt[Qt]);for(var ze=Qt+1;ze<P;ze++)Dt[ze]/=Dt[Qt];Dt[Qt+1]+=1}if(Dt[Qt]=-Dt[Qt],Qt+1<k&&Dt[Qt]!==0){for(var Le=Qt+1;Le<k;Le++)Gt[Le]=0;for(var ar=Qt+1;ar<k;ar++)for(var sr=Qt+1;sr<P;sr++)Gt[ar]+=Dt[sr]*_.get(ar,sr);for(var Wn=Qt+1;Wn<P;Wn++)for(var Oo=-Dt[Wn]/Dt[Qt+1],dr=Qt+1;dr<k;dr++)_.set(dr,Wn,_.get(dr,Wn)+Oo*Gt[dr])}if(nt)for(var qn=Qt+1;qn<P;qn++)Tt.set(qn,Qt,Dt[qn])}}var Pe=Math.min(P,k+1);if(qt<P&&(wt[qt]=_.get(qt,qt)),k<Pe&&(wt[Pe-1]=0),Wt+1<Pe&&(Dt[Wt]=_.get(Wt,Pe-1)),Dt[Pe-1]=0,q){for(var xr=qt;xr<pt;xr++){for(var Ir=0;Ir<k;Ir++)yt.set(Ir,xr,0);yt.set(xr,xr,1)}for(var Fe=qt-1;Fe>=0;Fe--)if(wt[Fe]!==0){for(var pr=Fe+1;pr<pt;pr++){for(var Fn=0,wr=Fe;wr<k;wr++)Fn+=yt.get(wr,Fe)*yt.get(wr,pr);Fn=-Fn/yt.get(Fe,Fe);for(var ur=Fe;ur<k;ur++)yt.set(ur,pr,yt.get(ur,pr)+Fn*yt.get(ur,Fe))}for(var Tr=Fe;Tr<k;Tr++)yt.set(Tr,Fe,-yt.get(Tr,Fe));yt.set(Fe,Fe,1+yt.get(Fe,Fe));for(var Mr=0;Mr<Fe-1;Mr++)yt.set(Mr,Fe,0)}else{for(var Eo=0;Eo<k;Eo++)yt.set(Eo,Fe,0);yt.set(Fe,Fe,1)}}if(nt)for(var On=P-1;On>=0;On--){if(On<Wt&&Dt[On]!==0)for(var ai=On+1;ai<P;ai++){for(var Yi=0,Gi=On+1;Gi<P;Gi++)Yi+=Tt.get(Gi,On)*Tt.get(Gi,ai);Yi=-Yi/Tt.get(On+1,On);for(var si=On+1;si<P;si++)Tt.set(si,ai,Tt.get(si,ai)+Yi*Tt.get(si,On))}for(var ko=0;ko<P;ko++)Tt.set(ko,On,0);Tt.set(On,On,1)}for(var Ws=Pe-1,qs=Number.EPSILON;Pe>0;){var _e=void 0,ui=void 0;for(_e=Pe-2;_e>=-1&&_e!==-1;_e--){var bl=Number.MIN_VALUE+qs*Math.abs(wt[_e]+Math.abs(wt[_e+1]));if(Math.abs(Dt[_e])<=bl||Number.isNaN(Dt[_e])){Dt[_e]=0;break}}if(_e===Pe-2)ui=4;else{var In=void 0;for(In=Pe-1;In>=_e&&In!==_e;In--){var xl=(In!==Pe?Math.abs(Dt[In]):0)+(In!==_e+1?Math.abs(Dt[In-1]):0);if(Math.abs(wt[In])<=qs*xl){wt[In]=0;break}}In===_e?ui=3:In===Pe-1?ui=1:(ui=2,_e=In)}switch(_e++,ui){case 1:var Po=Dt[Pe-2];Dt[Pe-2]=0;for(var Yn=Pe-2;Yn>=_e;Yn--){var ci=Yr(wt[Yn],Po),Co=wt[Yn]/ci,Ao=Po/ci;if(wt[Yn]=ci,Yn!==_e&&(Po=-Ao*Dt[Yn-1],Dt[Yn-1]=Co*Dt[Yn-1]),nt)for(var Sr=0;Sr<P;Sr++)ci=Co*Tt.get(Sr,Yn)+Ao*Tt.get(Sr,Pe-1),Tt.set(Sr,Pe-1,-Ao*Tt.get(Sr,Yn)+Co*Tt.get(Sr,Pe-1)),Tt.set(Sr,Yn,ci)}break;case 2:var jo=Dt[_e-1];Dt[_e-1]=0;for(var Zn=_e;Zn<Pe;Zn++){var hi=Yr(wt[Zn],jo),Io=wt[Zn]/hi,To=jo/hi;if(wt[Zn]=hi,jo=-To*Dt[Zn],Dt[Zn]=Io*Dt[Zn],q)for(var _r=0;_r<k;_r++)hi=Io*yt.get(_r,Zn)+To*yt.get(_r,_e-1),yt.set(_r,_e-1,-To*yt.get(_r,Zn)+Io*yt.get(_r,_e-1)),yt.set(_r,Zn,hi)}break;case 3:var li=Math.max(Math.abs(wt[Pe-1]),Math.abs(wt[Pe-2]),Math.abs(Dt[Pe-2]),Math.abs(wt[_e]),Math.abs(Dt[_e])),zr=wt[Pe-1]/li,Zs=wt[Pe-2]/li,zi=Dt[Pe-2]/li,No=wt[_e]/li,wl=Dt[_e]/li,Nr=((Zs+zr)*(Zs-zr)+zi*zi)/2,Xi=zr*zi*(zr*zi),Do=0;Nr===0&&Xi===0||(Do=Xi/(Nr+(Do=Nr<0?0-Math.sqrt(Nr*Nr+Xi):Math.sqrt(Nr*Nr+Xi))));for(var Dr=(No+zr)*(No-zr)+Do,Xr=No*wl,Ae=_e;Ae<Pe-1;Ae++){var En=Yr(Dr,Xr);En===0&&(En=Number.MIN_VALUE);var Kn=Dr/En,$n=Xr/En;if(Ae!==_e&&(Dt[Ae-1]=En),Dr=Kn*wt[Ae]+$n*Dt[Ae],Dt[Ae]=Kn*Dt[Ae]-$n*wt[Ae],Xr=$n*wt[Ae+1],wt[Ae+1]=Kn*wt[Ae+1],nt)for(var Or=0;Or<P;Or++)En=Kn*Tt.get(Or,Ae)+$n*Tt.get(Or,Ae+1),Tt.set(Or,Ae+1,-$n*Tt.get(Or,Ae)+Kn*Tt.get(Or,Ae+1)),Tt.set(Or,Ae,En);if((En=Yr(Dr,Xr))===0&&(En=Number.MIN_VALUE),Kn=Dr/En,$n=Xr/En,wt[Ae]=En,Dr=Kn*Dt[Ae]+$n*wt[Ae+1],wt[Ae+1]=-$n*Dt[Ae]+Kn*wt[Ae+1],Xr=$n*Dt[Ae+1],Dt[Ae+1]=Kn*Dt[Ae+1],q&&Ae<k-1)for(var Er=0;Er<k;Er++)En=Kn*yt.get(Er,Ae)+$n*yt.get(Er,Ae+1),yt.set(Er,Ae+1,-$n*yt.get(Er,Ae)+Kn*yt.get(Er,Ae+1)),yt.set(Er,Ae,En)}Dt[Pe-2]=Dr;break;case 4:if(wt[_e]<=0&&(wt[_e]=wt[_e]<0?-wt[_e]:0,nt))for(var Hi=0;Hi<=Ws;Hi++)Tt.set(Hi,_e,-Tt.get(Hi,_e));for(;_e<Ws&&!(wt[_e]>=wt[_e+1]);){var fi=wt[_e];if(wt[_e]=wt[_e+1],wt[_e+1]=fi,nt&&_e<P-1)for(var Hr=0;Hr<P;Hr++)fi=Tt.get(Hr,_e+1),Tt.set(Hr,_e+1,Tt.get(Hr,_e)),Tt.set(Hr,_e,fi);if(q&&_e<k-1)for(var Vr=0;Vr<k;Vr++)fi=yt.get(Vr,_e+1),yt.set(Vr,_e+1,yt.get(Vr,_e)),yt.set(Vr,_e,fi);_e++}Pe--}}if(et){var Ml=Tt;Tt=yt,yt=Ml}this.m=k,this.n=P,this.s=wt,this.U=yt,this.V=Tt}var e,t,l;return e=S,(t=[{key:"solve",value:function(w){for(var _=w,k=this.threshold,P=this.s.length,T=Oe.zeros(P,P),D=0;D<P;D++)Math.abs(this.s[D])<=k?T.set(D,D,0):T.set(D,D,1/this.s[D]);for(var R=this.U,L=this.rightSingularVectors,Y=L.mmul(T),z=L.rows,q=R.rows,nt=Oe.zeros(z,q),et=0;et<z;et++)for(var st=0;st<q;st++){for(var pt=0,Ot=0;Ot<P;Ot++)pt+=Y.get(et,Ot)*R.get(st,Ot);nt.set(et,st,pt)}return nt.mmul(_)}},{key:"solveForDiagonal",value:function(w){return this.solve(Oe.diag(w))}},{key:"inverse",value:function(){for(var w=this.V,_=this.threshold,k=w.rows,P=w.columns,T=new Oe(k,this.s.length),D=0;D<k;D++)for(var R=0;R<P;R++)Math.abs(this.s[R])>_&&T.set(D,R,w.get(D,R)/this.s[R]);for(var L=this.U,Y=L.rows,z=L.columns,q=new Oe(k,Y),nt=0;nt<k;nt++)for(var et=0;et<Y;et++){for(var st=0,pt=0;pt<z;pt++)st+=T.get(nt,pt)*L.get(et,pt);q.set(nt,et,st)}return q}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var w=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,_=0,k=this.s,P=0,T=k.length;P<T;P++)k[P]>w&&_++;return _}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Oe.diag(this.s)}}])&&ka(e.prototype,t),l&&ka(e,l),S}(),pc=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this.nodes,l=this.edges,g=l===void 0?[]:l,w=this.center;if(t&&t.length!==0){if(t.length===1)return t[0].x=w[0],void(t[0].y=w[1]);var _=this.linkDistance,k=pn({nodes:t,edges:g},!1),P=Re(k);this.handleInfinity(P);var T=un(P,_);this.scaledDistances=T;var D=this.runMDS();this.positions=D,D.forEach(function(R,L){t[L].x=R[0]+w[0],t[L].y=R[1]+w[1]})}},e.prototype.runMDS=function(){var t=this.scaledDistances,l=Oe.mul(Oe.pow(t,2),-.5),g=l.mean("row"),w=l.mean("column"),_=l.mean();l.add(_).subRowVector(g).subColumnVector(w);var k=new Pa(l),P=Oe.sqrt(k.diagonalMatrix).diagonal();return k.leftSingularVectors.toJSON().map(function(T){return Oe.mul([T],[P]).toJSON()[0].splice(0,2)})},e.prototype.handleInfinity=function(t){var l=-999999;t.forEach(function(g){g.forEach(function(w){w!==1/0&&l<w&&(l=w)})}),t.forEach(function(g,w){g.forEach(function(_,k){_===1/0&&(t[w][k]=l)})})},e}(Rn),gc=function(){function S(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return S.prototype.layout=function(){var e=this.dimension,t=this.distances,l=this.linkDistance;try{var g=Oe.mul(Oe.pow(t,2),-.5),w=g.mean("row"),_=g.mean("column"),k=g.mean();g.add(k).subRowVector(w).subColumnVector(_);var P=new Pa(g),T=Oe.sqrt(P.diagonalMatrix).diagonal();return P.leftSingularVectors.toJSON().map(function(z){return Oe.mul([z],[T]).toJSON()[0].splice(0,e)})}catch(z){for(var D=[],R=0;R<t.length;R++){var L=Math.random()*l,Y=Math.random()*l;D.push([L,Y])}return D}},S}(),vc=function(){function S(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return S.prototype.layout=function(){var e=this.positions,t=[],l=this.iterations,g=this.width/10;this.maxDisplace=g,this.disp=t;for(var w=0;w<l;w++)e.forEach(function(_,k){t[k]={x:0,y:0}}),this.getRepulsion(),this.updatePositions();return e},S.prototype.getRepulsion=function(){var e=this,t=e.positions,l=e.nodes,g=e.disp,w=e.k,_=e.radii||[];t.forEach(function(k,P){g[P]={x:0,y:0},t.forEach(function(T,D){if(P!==D&&_[P]===_[D]){var R=k[0]-T[0],L=k[1]-T[1],Y=Math.sqrt(R*R+L*L);if(Y===0){Y=1;var z=P>D?1:-1;R=.01*z,L=.01*z}if(Y<e.nodeSizeFunc(l[P])/2+e.nodeSizeFunc(l[D])/2){var q=w*w/Y;g[P].x+=R/Y*q,g[P].y+=L/Y*q}}})})},S.prototype.updatePositions=function(){var e=this.positions,t=this.disp,l=this.speed,g=this.strictRadial,w=this.focusID,_=this.maxDisplace||this.width/10;g&&t.forEach(function(P,T){var D=e[T][0]-e[w][0],R=e[T][1]-e[w][1],L=Math.sqrt(D*D+R*R),Y=R/L,z=-D/L,q=Math.sqrt(P.x*P.x+P.y*P.y),nt=Math.acos((Y*P.x+z*P.y)/q);nt>Math.PI/2&&(nt-=Math.PI/2,Y*=-1,z*=-1);var et=Math.cos(nt)*q;P.x=Y*et,P.y=z*et});var k=this.radii;e.forEach(function(P,T){if(T!==w){var D=Math.sqrt(t[T].x*t[T].x+t[T].y*t[T].y);if(D>0&&T!==w){var R=Math.min(_*(l/800),D);if(P[0]+=t[T].x/D*R,P[1]+=t[T].y/D*R,g){var L=P[0]-e[w][0],Y=P[1]-e[w][1],z=Math.sqrt(L*L+Y*Y);L=L/z*k[T],Y=Y/z*k[T],P[0]=e[w][0]+L,P[1]=e[w][1]+Y}}}})},S}();function Ca(S,e){return Math.sqrt((S[0]-e[0])*(S[0]-e[0])+(S[1]-e[1])*(S[1]-e[1]))}var mc=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,l=t.nodes,g=t.edges||[],w=t.center;if(l&&l.length!==0){if(l.length===1)return l[0].x=w[0],void(l[0].y=w[1]);var _=t.linkDistance,k=null;if(N()(t.focusNode)){for(var P=!1,T=0;T<l.length;T++)l[T].id===t.focusNode&&(k=l[T],t.focusNode=k,P=!0,T=l.length);P||(k=null)}else k=t.focusNode;k||(k=l[0],t.focusNode=k);var D,R,L,Y=(D=l,R=k.id,L=-1,D.forEach(function(te,ae){te.id===R&&(L=ae)}),L);t.focusIndex=Y;var z=pn({nodes:l,edges:g},!1),q=Re(z),nt=t.maxToFocus(q,Y);t.handleInfinity(q,Y,nt+1),t.distances=q;var et=q[Y];t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var st=t.width||500,pt=t.height||500,Ot=st-w[0]>w[0]?w[0]:st-w[0],wt=pt-w[1]>w[1]?w[1]:pt-w[1];Ot===0&&(Ot=st/2),wt===0&&(wt=pt/2);var yt=wt>Ot?Ot:wt,Tt=Math.max.apply(Math,et),Dt=[];et.forEach(function(te,ae){t.unitRadius||(t.unitRadius=yt/Tt),Dt[ae]=te*t.unitRadius}),t.radii=Dt;var Gt=t.eIdealDisMatrix();t.eIdealDistances=Gt;var zt=function(te){for(var ae=te.length,me=te[0].length,ke=[],Ce=0;Ce<ae;Ce++){for(var ze=[],Le=0;Le<me;Le++)te[Ce][Le]!==0?ze.push(1/(te[Ce][Le]*te[Ce][Le])):ze.push(0);ke.push(ze)}return ke}(Gt);t.weights=zt;var Kt=new gc({distances:Gt,linkDistance:_}).layout();Kt.forEach(function(te){at(te[0])&&(te[0]=Math.random()*_),at(te[1])&&(te[1]=Math.random()*_)}),t.positions=Kt,Kt.forEach(function(te,ae){l[ae].x=te[0]+w[0],l[ae].y=te[1]+w[1]}),Kt.forEach(function(te){te[0]-=Kt[Y][0],te[1]-=Kt[Y][1]}),t.run();var qt=t.preventOverlap,Wt=t.nodeSize,ne=t.strictRadial;if(qt){var Qt,se=t.nodeSpacing;Qt=j()(se)?function(){return se}:io()(se)?se:function(){return 0};var oe={nodeSizeFunc:Wt?M()(Wt)?function(te){return(Wt[0]>Wt[1]?Wt[0]:Wt[1])+Qt(te)}:function(te){return Wt+Qt(te)}:function(te){return te.size?M()(te.size)?(te.size[0]>te.size[1]?te.size[0]:te.size[1])+Qt(te):te.size+Qt(te):10+Qt(te)},adjMatrix:z,positions:Kt,radii:Dt,height:pt,width:st,strictRadial:ne,focusID:Y,iterations:t.maxPreventOverlapIteration||200,k:Kt.length/4.5,nodes:l},le=new vc(oe);Kt=le.layout()}Kt.forEach(function(te,ae){l[ae].x=te[0]+w[0],l[ae].y=te[1]+w[1]})}},e.prototype.run=function(){for(var t=this.maxIteration,l=this.positions||[],g=this.weights||[],w=this.eIdealDistances||[],_=this.radii||[],k=0;k<=t;k++){var P=k/t;this.oneIteration(P,l,_,w,g)}},e.prototype.oneIteration=function(t,l,g,w,_){var k=1-t,P=this.focusIndex;l.forEach(function(T,D){var R=Ca(T,[0,0]),L=R===0?0:1/R;if(D!==P){var Y=0,z=0,q=0;l.forEach(function(et,st){if(D!==st){var pt=Ca(T,et),Ot=pt===0?0:1/pt,wt=w[st][D];q+=_[D][st],Y+=_[D][st]*(et[0]+wt*(T[0]-et[0])*Ot),z+=_[D][st]*(et[1]+wt*(T[1]-et[1])*Ot)}});var nt=g[D]===0?0:1/g[D];q*=k,q+=t*nt*nt,Y*=k,Y+=t*nt*T[0]*L,T[0]=Y/q,z*=k,z+=t*nt*T[1]*L,T[1]=z/q}})},e.prototype.eIdealDisMatrix=function(){var t=this,l=t.nodes;if(!l)return[];var g=t.distances,w=t.linkDistance,_=t.radii||[],k=t.unitRadius||50,P=[];return g&&g.forEach(function(T,D){var R=[];T.forEach(function(L,Y){if(D===Y)R.push(0);else if(_[D]===_[Y])if(t.sortBy==="data")R.push(L*(Math.abs(D-Y)*t.sortStrength)/(_[D]/k));else if(t.sortBy){var z=l[D][t.sortBy]||0,q=l[Y][t.sortBy]||0;N()(z)&&(z=z.charCodeAt(0)),N()(q)&&(q=q.charCodeAt(0)),R.push(L*(Math.abs(z-q)*t.sortStrength)/(_[D]/k))}else R.push(L*w/(_[D]/k));else{var nt=(w+k)/2;R.push(L*nt)}}),P.push(R)}),P},e.prototype.handleInfinity=function(t,l,g){for(var w=t.length,_=0;_<w;_++)if(t[l][_]===1/0){t[l][_]=g,t[_][l]=g;for(var k=0;k<w;k++)t[_][k]!==1/0&&t[l][k]===1/0&&(t[l][k]=g+t[_][k],t[k][l]=g+t[_][k])}for(_=0;_<w;_++)if(_!==l){for(k=0;k<w;k++)if(t[_][k]===1/0){var P=Math.abs(t[l][_]-t[l][k]);P=P===0?1:P,t[_][k]=P}}},e.prototype.maxToFocus=function(t,l){for(var g=0,w=0;w<t[l].length;w++)t[l][w]!==1/0&&(g=t[l][w]>g?t[l][w]:g);return g},e}(Rn),yc=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,l=t.nodes,g=t.center;t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight),l&&l.forEach(function(w){w.x=.9*(Math.random()-.5)*t.width+g[0],w.y=.9*(Math.random()-.5)*t.height+g[1]})},e}(Rn),bc={circular:mu,concentric:yu,dagre:xu,force:Fu,g6force:Gu,comboForce:function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this.nodes,l=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},t&&t.length!==0){if(t.length===1)return t[0].x=l[0],void(t[0].y=l[1]);this.initVals(),this.run(),this.onLayoutEnd()}},e.prototype.run=function(){var t=this,l=t.nodes,g=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var w=t.center,_=t.velocityDecay,k=t.comboMap;t.previousLayouted||t.initPos(k);for(var P=function(Y){var z=[];l.forEach(function(q,nt){z[nt]={x:0,y:0}}),t.applyCalculate(z),t.applyComboCenterForce(z),l.forEach(function(q,nt){Object(ut.isNumber)(q.x)&&Object(ut.isNumber)(q.y)&&(q.x+=z[nt].x*_,q.y+=z[nt].y*_)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},T=0;T<g;T++)P();var D=[0,0];l.forEach(function(L){Object(ut.isNumber)(L.x)&&Object(ut.isNumber)(L.y)&&(D[0]+=L.x,D[1]+=L.y)}),D[0]/=l.length,D[1]/=l.length;var R=[w[0]-D[0],w[1]-D[1]];l.forEach(function(L,Y){Object(ut.isNumber)(L.x)&&Object(ut.isNumber)(L.y)&&(L.x+=R[0],L.y+=R[1])}),t.combos.forEach(function(L){var Y=k[L.id];Y&&Y.empty&&(L.x=Y.cx||L.x,L.y=Y.cy||L.y)}),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this.edges,l=this.nodes,g=this.combos,w={},_={},k={};l.forEach(function(Wt,ne){_[Wt.id]=Wt,k[Wt.id]=ne}),this.nodeMap=_,this.nodeIdxMap=k;var P={};g.forEach(function(Wt){P[Wt.id]=Wt}),this.oriComboMap=P,this.comboMap=this.getComboMap();var T=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||T,this.preventNodeOverlap=this.preventNodeOverlap||T;var D=this.collideStrength;D&&(this.comboCollideStrength=D,this.nodeCollideStrength=D);for(var R=0;R<t.length;++R)w[t[R].source]?w[t[R].source]++:w[t[R].source]=1,w[t[R].target]?w[t[R].target]++:w[t[R].target]=1;var L=[];for(R=0;R<t.length;++R)L[R]=w[t[R].source]/(w[t[R].source]+w[t[R].target]);this.bias=L;var Y,z,q=this.nodeSize,nt=this.nodeSpacing;if(z=Object(ut.isNumber)(nt)?function(){return nt}:Object(ut.isFunction)(nt)?nt:function(){return 0},this.nodeSpacing=z,q)if(Object(ut.isFunction)(q))Y=function(ne){return q(ne)};else if(Object(ut.isArray)(q)){var et=(q[0]>q[1]?q[0]:q[1])/2;Y=function(ne){return et}}else{var st=q/2;Y=function(ne){return st}}else Y=function(ne){return ne.size?Object(ut.isArray)(ne.size)?(ne.size[0]>ne.size[1]?ne.size[0]:ne.size[1])/2:ne.size/2:10};this.nodeSize=Y;var pt,Ot=this.comboSpacing;pt=Object(ut.isNumber)(Ot)?function(){return Ot}:Object(ut.isFunction)(Ot)?Ot:function(){return 0},this.comboSpacing=pt;var wt,yt=this.comboPadding;wt=Object(ut.isNumber)(yt)?function(){return yt}:Object(ut.isArray)(yt)?function(){return Math.max.apply(null,yt)}:Object(ut.isFunction)(yt)?yt:function(){return 0},this.comboPadding=wt;var Tt,Dt=this.linkDistance;Dt||(Dt=10),Tt=Object(ut.isNumber)(Dt)?function(Wt){return Dt}:Dt,this.linkDistance=Tt;var Gt,zt=this.edgeStrength;zt||(zt=1),Gt=Object(ut.isNumber)(zt)?function(Wt){return zt}:zt,this.edgeStrength=Gt;var Kt,qt=this.nodeStrength;qt||(qt=30),Kt=Object(ut.isNumber)(qt)?function(Wt){return qt}:qt,this.nodeStrength=Kt},e.prototype.initPos=function(t){this.nodes.forEach(function(l,g){if(l.comboId){var w=t[l.comboId];l.x=w.cx+100/(g+1),l.y=w.cy+100/(g+1)}else l.x=100/(g+1),l.y=100/(g+1)})},e.prototype.getComboMap=function(){var t=this,l=t.nodeMap,g=t.nodeIdxMap,w=t.comboTrees,_=t.oriComboMap,k={};return(w||[]).forEach(function(P){var T=[];Bn(P,function(D){if(D.itemType==="node"||!_[D.id])return!0;if(k[D.id]===void 0){var R={name:D.id,cx:0,cy:0,count:0,depth:t.oriComboMap[D.id].depth,children:[]};k[D.id]=R}var L=D.children;L&&L.forEach(function(st){if(!k[st.id]&&!l[st.id])return!0;T.push(st)});var Y=k[D.id];if(Y.cx=0,Y.cy=0,T.length===0){Y.empty=!0;var z=_[D.id],q=Object.keys(l).length,nt=D.id+"-visual-child-"+q,et={id:nt,x:z.x,y:z.y,depth:Y.depth+1,itemType:"node"};t.nodes.push(et),l[nt]=et,g[nt]=q,Y.cx=z.x,Y.cy=z.y,T.push(et)}return T.forEach(function(st){if(Y.count++,st.itemType!=="node"){var pt=k[st.id];return Object(ut.isNumber)(pt.cx)&&(Y.cx+=pt.cx),void(Object(ut.isNumber)(pt.cy)&&(Y.cy+=pt.cy))}var Ot=l[st.id];Ot&&(Object(ut.isNumber)(Ot.x)&&(Y.cx+=Ot.x),Object(ut.isNumber)(Ot.y)&&(Y.cy+=Ot.y))}),Y.cx/=Y.count,Y.cy/=Y.count,Y.children=T,!0})}),k},e.prototype.applyComboCenterForce=function(t){var l=this.gravity,g=this.comboGravity||l,w=this.alpha,_=this.comboTrees,k=this.nodeIdxMap,P=this.nodeMap,T=this.comboMap;(_||[]).forEach(function(D){Bn(D,function(R){if(R.itemType==="node"||!T[R.id])return!0;var L=T[R.id],Y=.5*(L.depth+1),z=L.cx,q=L.cy;return L.cx=0,L.cy=0,L.children.forEach(function(nt){if(nt.itemType!=="node"){var et=T[nt.id];return et&&Object(ut.isNumber)(et.cx)&&(L.cx+=et.cx),void(et&&Object(ut.isNumber)(et.cy)&&(L.cy+=et.cy))}var st=P[nt.id],pt=st.x-z||.005,Ot=st.y-q||.005,wt=Math.sqrt(pt*pt+Ot*Ot),yt=k[st.id],Tt=g*w/wt*Y;t[yt].x-=pt*Tt,t[yt].y-=Ot*Tt,Object(ut.isNumber)(st.x)&&(L.cx+=st.x),Object(ut.isNumber)(st.y)&&(L.cy+=st.y)}),L.cx/=L.count,L.cy/=L.count,!0})})},e.prototype.applyCalculate=function(t){var l=this.comboMap,g=this.nodes,w={};g.forEach(function(_,k){g.forEach(function(P,T){if(!(k<T)){var D=_.x-P.x||.005,R=_.y-P.y||.005,L=D*D+R*R,Y=Math.sqrt(L);L<1&&(L=Y),w[_.id+"-"+P.id]={vx:D,vy:R,vl2:L,vl:Y},w[P.id+"-"+_.id]={vx:-D,vy:-R,vl2:L,vl:Y}}})}),this.updateComboSizes(l),this.calRepulsive(t,w),this.calAttractive(t,w),this.preventComboOverlap&&this.comboNonOverlapping(t,l)},e.prototype.updateComboSizes=function(t){var l=this,g=l.comboTrees,w=l.nodeMap,_=l.nodeSize,k=l.comboSpacing,P=l.comboPadding;(g||[]).forEach(function(T){var D=[];Bn(T,function(R){if(R.itemType==="node")return!0;var L=t[R.id];if(L){var Y=R.children;Y&&Y.forEach(function(nt){(t[nt.id]||w[nt.id])&&D.push(nt)}),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0,D.forEach(function(nt){if(nt.itemType!=="node")return!0;var et=w[nt.id];if(!et)return!0;var st=_(et),pt=et.x-st,Ot=et.y-st,wt=et.x+st,yt=et.y+st;L.minX>pt&&(L.minX=pt),L.minY>Ot&&(L.minY=Ot),L.maxX<wt&&(L.maxX=wt),L.maxY<yt&&(L.maxY=yt)});var z=l.oriComboMap[R.id].size||J.defaultCombo.size;Object(ut.isArray)(z)&&(z=z[0]);var q=Math.max(L.maxX-L.minX,L.maxY-L.minY,z);return L.r=q/2+k(L)/2+P(L),!0}})})},e.prototype.comboNonOverlapping=function(t,l){var g=this.comboTree,w=this.comboCollideStrength,_=this.nodeIdxMap,k=this.nodeMap;Bn(g,function(P){if(l[P.id]||k[P.id]||P.id==="comboTreeRoot"){var T=P.children;return T&&T.length>1&&T.forEach(function(D,R){if(D.itemType!=="node"){var L=l[D.id];L&&T.forEach(function(Y,z){if(!(R<=z)&&Y.itemType!=="node"){var q=l[Y.id];if(q){var nt=L.cx-q.cx||.005,et=L.cy-q.cy||.005,st=nt*nt+et*et,pt=L.r,Ot=q.r,wt=pt+Ot,yt=Ot*Ot,Tt=pt*pt;if(st<wt*wt){var Dt=D.children;if(!Dt||Dt.length===0)return;var Gt=Y.children;if(!Gt||Gt.length===0)return;var zt=Math.sqrt(st),Kt=(wt-zt)/zt*w,qt=nt*Kt,Wt=et*Kt,ne=yt/(Tt+yt),Qt=1-ne;Dt.forEach(function(se){if(se.itemType==="node"&&k[se.id]){var oe=_[se.id];Gt.forEach(function(le){if(le.itemType==="node"&&k[le.id]){var te=_[le.id];t[oe].x+=qt*ne,t[oe].y+=Wt*ne,t[te].x-=qt*Qt,t[te].y-=Wt*Qt}})}})}}}})}}),!0}})},e.prototype.calRepulsive=function(t,l){var g=this,w=g.nodes,_=g.width*g.optimizeRangeFactor,k=g.nodeStrength,P=g.alpha,T=g.nodeCollideStrength,D=g.preventNodeOverlap,R=g.nodeSize,L=g.nodeSpacing,Y=g.depthRepulsiveForceScale,z=g.center;w.forEach(function(q,nt){if(q.x&&q.y){if(z){var et=g.gravity,st=q.x-z[0]||.005,pt=q.y-z[1]||.005,Ot=Math.sqrt(st*st+pt*pt);t[nt].x-=st*et*P/Ot,t[nt].y-=pt*et*P/Ot}w.forEach(function(wt,yt){if(nt!==yt&&wt.x&&wt.y){var Tt=l[q.id+"-"+wt.id],Dt=Tt.vl2,Gt=Tt.vl;if(!(Gt>_)){var zt=l[q.id+"-"+wt.id],Kt=zt.vx,qt=zt.vy,Wt=Math.abs(wt.depth-q.depth)+1||1;wt.comboId!==q.comboId&&Wt++;var ne=Wt?Math.pow(Y,Wt):1,Qt=k(wt)*P/Dt*ne;if(t[nt].x+=Kt*Qt,t[nt].y+=qt*Qt,nt<yt&&D){var se=R(q)+L(q),oe=R(wt)+L(wt),le=se+oe;if(Dt<le*le){var te=(le-Gt)/Gt*T,ae=oe*oe,me=ae/(se*se+ae),ke=Kt*te,Ce=qt*te;t[nt].x+=ke*me,t[nt].y+=Ce*me,me=1-me,t[yt].x-=ke*me,t[yt].y-=Ce*me}}}}})}})},e.prototype.calAttractive=function(t,l){var g=this,w=g.edges,_=g.linkDistance,k=g.alpha,P=g.edgeStrength,T=g.bias,D=g.depthAttractiveForceScale;w.forEach(function(R,L){if(R.source&&R.target&&R.source!==R.target){var Y=g.nodeIdxMap[R.source],z=g.nodeIdxMap[R.target],q=g.nodeMap[R.source],nt=g.nodeMap[R.target],et=Math.abs(q.depth-nt.depth);q.comboId===nt.comboId&&(et/=2);var st=et?Math.pow(D,et):1;if(q.comboId!==nt.comboId&&st===1?st=D/2:q.comboId===nt.comboId&&(st=2),Object(ut.isNumber)(nt.x)&&Object(ut.isNumber)(q.x)&&Object(ut.isNumber)(nt.y)&&Object(ut.isNumber)(q.y)){var pt=l[R.target+"-"+R.source],Ot=pt.vl,wt=pt.vx,yt=pt.vy,Tt=(Ot-_(R))/Ot*k*P(R)*st,Dt=wt*Tt,Gt=yt*Tt,zt=T[L];t[z].x-=Dt*zt,t[z].y-=Gt*zt,t[Y].x+=Dt*(1-zt),t[Y].y+=Gt*(1-zt)}}})},e}(Rn),fruchterman:zu,grid:Xu,mds:pc,radial:mc,random:yc};h()(bc,function(S,e){Qo.registerLayout(e,{},S)});var Jr=Qo,xc=s(231),wc=s.n(xc),Mc=function(){return wc()(`!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=317)}([function(t,e,r){var n;try{n={cloneDeep:r(250),constant:r(67),defaults:r(251),each:r(93),filter:r(96),find:r(252),flatten:r(123),forEach:r(94),forIn:r(257),has:r(107),isUndefined:r(108),last:r(258),map:r(109),mapValues:r(259),max:r(260),merge:r(262),min:r(268),minBy:r(269),now:r(270),pick:r(271),range:r(276),reduce:r(111),sortBy:r(279),uniqueId:r(284),values:r(116),zipObject:r(285)}}catch(t){}n||(n=window._),t.exports=n},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(34);e.default=function(t){return Array.isArray?Array.isArray(t):n.default(t,"Array")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(9);n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,r,o,i,a,u,s,c){var f=new n.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=r,f[3]=o,f[4]=i,f[5]=a,f[6]=u,f[7]=s,f[8]=c,f},e.set=function(t,e,r,n,o,i,a,u,s,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=f*a-u*c,l=-f*i+u*s,d=c*i-a*s,p=r*h+n*l+o*d;if(!p)return null;return p=1/p,t[0]=h*p,t[1]=(-f*n+o*c)*p,t[2]=(u*n-o*a)*p,t[3]=l*p,t[4]=(f*r-o*s)*p,t[5]=(-u*r+o*i)*p,t[6]=d*p,t[7]=(-c*r+n*s)*p,t[8]=(a*r-n*i)*p,t},e.adjoint=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=a*f-u*c,t[1]=o*c-n*f,t[2]=n*u-o*a,t[3]=u*s-i*f,t[4]=r*f-o*s,t[5]=o*i-r*u,t[6]=i*c-a*s,t[7]=n*s-r*c,t[8]=r*a-n*i,t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return e*(c*i-a*s)+r*(-c*o+a*u)+n*(s*o-i*u)},e.multiply=o,e.translate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=r[0],d=r[1];return t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t[6]=l*n+d*a+c,t[7]=l*o+d*u+f,t[8]=l*i+d*s+h,t},e.rotate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=Math.sin(r),d=Math.cos(r);return t[0]=d*n+l*a,t[1]=d*o+l*u,t[2]=d*i+l*s,t[3]=d*a-l*n,t[4]=d*u-l*o,t[5]=d*s-l*i,t[6]=c,t[7]=f,t[8]=h,t},e.scale=function(t,e,r){var n=r[0],o=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r+r,u=n+n,s=o+o,c=r*a,f=n*a,h=n*u,l=o*a,d=o*u,p=o*s,v=i*a,g=i*u,y=i*s;return t[0]=1-h-p,t[3]=f-y,t[6]=l+g,t[1]=f+y,t[4]=1-c-p,t[7]=d-v,t[2]=l-g,t[5]=d+v,t[8]=1-c-h,t},e.normalFromMat4=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=e[9],l=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=r*u-n*a,b=r*s-o*a,w=r*c-i*a,x=n*s-o*u,M=n*c-i*u,k=o*c-i*s,_=f*v-h*p,S=f*g-l*p,E=f*y-d*p,j=h*g-l*v,A=h*y-d*v,O=l*y-d*g,N=m*O-b*A+w*j+x*E-M*S+k*_;if(!N)return null;return N=1/N,t[0]=(u*O-s*A+c*j)*N,t[1]=(s*E-a*O-c*S)*N,t[2]=(a*A-u*E+c*_)*N,t[3]=(o*A-n*O-i*j)*N,t[4]=(r*O-o*E+i*S)*N,t[5]=(n*E-r*A-i*_)*N,t[6]=(v*k-g*M+y*x)*N,t[7]=(g*w-p*k-y*b)*N,t[8]=(p*M-v*w+y*m)*N,t},e.projection=function(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},e.subtract=i,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],h=t[8],l=e[0],d=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],b=e[7],w=e[8];return Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-d)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-p)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-v)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-g)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-y)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-m)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-b)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))&&Math.abs(h-w)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(55));function o(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=r[0],d=r[1],p=r[2],v=r[3],g=r[4],y=r[5],m=r[6],b=r[7],w=r[8];return t[0]=l*n+d*a+p*c,t[1]=l*o+d*u+p*f,t[2]=l*i+d*s+p*h,t[3]=v*n+g*a+y*c,t[4]=v*o+g*u+y*f,t[5]=v*i+g*s+y*h,t[6]=m*n+b*a+w*c,t[7]=m*o+b*u+w*f,t[8]=m*i+b*s+w*h,t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}e.mul=o,e.sub=i},function(t,e,r){"use strict";var n=r(0),o=r(7).Graph;function i(t,e,r,o){var i;do{i=n.uniqueId(o)}while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function a(t){return n.max(n.map(t.nodes(),(function(e){var r=t.node(e).rank;if(!n.isUndefined(r))return r})))}t.exports={addDummyNode:i,simplify:function(t){var e=(new o).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},o=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})})),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){t.children(r).length||e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){e.setEdge(r,t.edge(r))})),e},successorWeights:function(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.outEdges(e),(function(e){r[e.w]=(r[e.w]||0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.inEdges(e),(function(e){r[e.v]=(r[e.v]||0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},intersectRect:function(t,e){var r,n,o=t.x,i=t.y,a=e.x-o,u=e.y-i,s=t.width/2,c=t.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*s>Math.abs(a)*c?(u<0&&(c=-c),r=c*a/u,n=c):(a<0&&(s=-s),r=s,n=s*u/a);return{x:o+r,y:i+n}},buildLayerMatrix:function(t){var e=n.map(n.range(a(t)+1),(function(){return[]}));return n.forEach(t.nodes(),(function(r){var o=t.node(r),i=o.rank;n.isUndefined(i)||(e[i][o.order]=r)})),e},normalizeRanks:function(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank})));n.forEach(t.nodes(),(function(r){var o=t.node(r);n.has(o,"rank")&&(o.rank-=e)}))},removeEmptyRanks:function(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank}))),r=[];n.forEach(t.nodes(),(function(n){var o=t.node(n).rank-e;r[o]||(r[o]=[]),r[o].push(n)}));var o=0,i=t.graph().nodeRankFactor;n.forEach(r,(function(e,r){n.isUndefined(e)&&r%i!=0?--o:o&&n.forEach(e,(function(e){t.node(e).rank+=o}))}))},addBorderNode:function(t,e,r,n){var o={width:0,height:0};arguments.length>=4&&(o.rank=r,o.order=n);return i(t,"border",o,e)},maxRank:a,partition:function(t,e){var r={lhs:[],rhs:[]};return n.forEach(t,(function(t){e(t)?r.lhs.push(t):r.rhs.push(t)})),r},time:function(t,e){var r=n.now();try{return e()}finally{console.log(t+" time: "+(n.now()-r)+"ms")}},notime:function(t,e){return e()}}},function(t,e,r){var n;try{n={clone:r(137),constant:r(67),each:r(93),filter:r(96),has:r(107),isArray:r(1),isEmpty:r(214),isFunction:r(25),isUndefined:r(108),keys:r(14),map:r(109),reduce:r(111),size:r(217),transform:r(223),union:r(224),values:r(116)}}catch(t){}n||(n=window._),t.exports=n},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=r(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,r){var n;try{n=r(135)}catch(t){}n||(n=window.graphlib),t.exports=n},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(76),i="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();t.exports=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=o,e.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,r){return t[0]=e,t[1]=r,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},e.subtract=i,e.multiply=a,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},e.distance=s,e.squaredDistance=c,e.length=f,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var r=e[0],n=e[1],o=r*r+n*n;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,r,n){var o=e[0],i=e[1];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t},e.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},e.transformMat2=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o,t[1]=r[1]*n+r[3]*o,t},e.transformMat2d=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o+r[4],t[1]=r[1]*n+r[3]*o+r[5],t},e.transformMat3=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[3]*o+r[6],t[1]=r[1]*n+r[4]*o+r[7],t},e.transformMat4=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[4]*o+r[12],t[1]=r[1]*n+r[5]*o+r[13],t},e.rotate=function(t,e,r,n){var o=e[0]-r[0],i=e[1]-r[1],a=Math.sin(n),u=Math.cos(n);return t[0]=o*u-i*a+r[0],t[1]=o*a+i*u+r[1],t},e.angle=function(t,e){var r=t[0],n=t[1],o=e[0],i=e[1],a=r*r+n*n;a>0&&(a=1/Math.sqrt(a));var u=o*o+i*i;u>0&&(u=1/Math.sqrt(u));var s=(r*o+n*i)*a*u;return s>1?0:s<-1?Math.PI:Math.acos(s)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var r=t[0],o=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(55));function o(){var t=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function a(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function u(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function s(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function c(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function f(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function h(t){var e=t[0],r=t[1];return e*e+r*r}var l;e.len=f,e.sub=i,e.mul=a,e.div=u,e.dist=s,e.sqrDist=c,e.sqrLen=h,e.forEach=(l=o(),function(t,e,r,n,o,i){var a=void 0,u=void 0;for(e||(e=2),r||(r=0),u=n?Math.min(n*e+r,t.length):t.length,a=r;a<u;a+=e)l[0]=t[a],l[1]=t[a+1],o(l,l,i),t[a]=l[0],t[a+1]=l[1];return t})},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==r(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(34);e.default=function(t){return n.default(t,"String")}},function(t,e,r){var n=r(25),o=r(61);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(194),i=r(204),a=r(18),u=r(1),s=r(211);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==n(t)?u(t)?i(t[0],t[1]):o(t):s(t)}},function(t,e,r){var n=r(79),o=r(63),i=r(12);t.exports=function(t){return i(t)?n(t):o(t)}},function(t,e,r){var n=r(148),o=r(154);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},function(t,e,r){var n=r(21),o=r(150),i=r(151),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e,r){var n=r(79),o=r(174),i=r(12);t.exports=function(t){return i(t)?n(t,!0):o(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(34);e.default=function(t){return n.default(t,"Number")}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){var n=r(8).Symbol;t.exports=n},function(t,e,r){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(8),i=r(170),a="object"==n(e)&&e&&!e.nodeType&&e,u=a&&"object"==n(t)&&t&&!t.nodeType&&t,s=u&&u.exports===a?o.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c}).call(this,r(60)(t))},function(t,e,r){var n=r(179),o=r(57),i=r(180),a=r(88),u=r(181),s=r(16),c=r(77),f=c(n),h=c(o),l=c(i),d=c(a),p=c(u),v=s;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var e=s(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case f:return"[object DataView]";case h:return"[object Map]";case l:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(16),i=r(10);t.exports=function(t){return"symbol"==n(t)||i(t)&&"[object Symbol]"==o(t)}},function(t,e,r){var n=r(16),o=r(6);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,r){var n=r(40),o=r(41);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=i?i(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),a?o(r,c,f):n(r,c,f)}return r}},function(t,e,r){var n=r(169),o=r(10),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e,r){var n=r(171),o=r(43),i=r(62),a=i&&i.isTypedArray,u=a?o(a):n;t.exports=u},function(t,e,r){var n=r(24);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,r){"use strict";function n(t,e){for(var r in e)e.hasOwnProperty(r)&&"constructor"!==r&&void 0!==e[r]&&(t[r]=e[r])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){return e&&n(t,e),r&&n(t,r),o&&n(t,o),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(34);e.default=function(t){return n.default(t,"Function")}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(310),i=r(314),a=[].slice,u=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(t){s[a.call(i[t].labels).sort().join("")]=t}));var c={};function f(t,e){if(!(this instanceof f))return new f(t,e);if(e&&e in u&&(e=null),e&&!(e in i))throw new Error("Unknown model: "+e);var r,n;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof f)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var h=o.get(t);if(null===h)throw new Error("Unable to parse color from string: "+t);this.model=h.model,n=i[this.model].channels,this.color=h.value.slice(0,n),this.valpha="number"==typeof h.value[n]?h.value[n]:1}else if(t.length){this.model=e||"rgb",n=i[this.model].channels;var l=a.call(t,0,n);this.color=p(l,n),this.valpha="number"==typeof t[n]?t[n]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var v=d.sort().join("");if(!(v in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[v];var g=i[this.model].labels,y=[];for(r=0;r<g.length;r++)y.push(t[g[r]]);this.color=p(y)}if(c[this.model])for(n=i[this.model].channels,r=0;r<n;r++){var m=c[this.model][r];m&&(this.color[r]=m(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function h(t,e,r){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(c[t]||(c[t]=[]))[e]=r})),t=t[0],function(n){var o;return arguments.length?(r&&(n=r(n)),(o=this[t]()).color[e]=n,o):(o=this[t]().color[e],r&&(o=r(o)),o)}}function l(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t){return Array.isArray(t)?t:[t]}function p(t,e){for(var r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}f.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in o.to?this:this.rgb(),r=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return o.to[e.model](r)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:e.color.concat(this.valpha);return o.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=i[this.model].channels,r=i[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new f(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new f(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:h("rgb",0,l(255)),green:h("rgb",1,l(255)),blue:h("rgb",2,l(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:h("hsl",1,l(100)),lightness:h("hsl",2,l(100)),saturationv:h("hsv",1,l(100)),value:h("hsv",2,l(100)),chroma:h("hcg",1,l(100)),gray:h("hcg",2,l(100)),white:h("hwb",1,l(100)),wblack:h("hwb",2,l(100)),cyan:h("cmyk",0,l(100)),magenta:h("cmyk",1,l(100)),yellow:h("cmyk",2,l(100)),black:h("cmyk",3,l(100)),x:h("xyz",0,l(100)),y:h("xyz",1,l(100)),z:h("xyz",2,l(100)),l:h("lab",0,l(100)),a:h("lab",1),b:h("lab",2),keyword:function(t){return arguments.length?new f(t):i[this.model].keyword(this.color)},hex:function(t){return arguments.length?new f(t):o.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return f.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r=(r+t)%360)<0?360+r:r,e.color[0]=r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+n(t));var r=t.rgb(),o=this.rgb(),i=void 0===e?.5:e,a=2*i-1,u=r.alpha()-o.alpha(),s=((a*u==-1?a:(a+u)/(1+a*u))+1)/2,c=1-s;return f.rgb(s*r.red()+c*o.red(),s*r.green()+c*o.green(),s*r.blue()+c*o.blue(),r.alpha()*i+o.alpha()*(1-i))}},Object.keys(i).forEach((function(t){if(-1===u.indexOf(t)){var e=i[t].channels;f.prototype[t]=function(){if(this.model===t)return new f(this);if(arguments.length)return new f(arguments,t);var r="number"==typeof arguments[e]?e:this.valpha;return new f(d(i[this.model][t].raw(this.color)).concat(r),t)},f[t]=function(r){return"number"==typeof r&&(r=p(a.call(arguments),e)),new f(r,t)}}})),t.exports=f},function(t,e,r){var n;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(i){var a=/^\\s+/,u=/\\s+$/,s=0,c=i.round,f=i.min,h=i.max,l=i.random;function d(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var r=function(t){var e={r:0,g:0,b:0},r=1,n=null,s=null,c=null,l=!1,d=!1;"string"==typeof t&&(t=function(t){t=t.replace(a,"").replace(u,"").toLowerCase();var e,r=!1;if(I[t])t=I[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=Y.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=Y.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=Y.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=Y.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=Y.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=Y.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=Y.hex8.exec(t))return{r:F(e[1]),g:F(e[2]),b:F(e[3]),a:L(e[4]),format:r?"name":"hex8"};if(e=Y.hex6.exec(t))return{r:F(e[1]),g:F(e[2]),b:F(e[3]),format:r?"name":"hex"};if(e=Y.hex4.exec(t))return{r:F(e[1]+""+e[1]),g:F(e[2]+""+e[2]),b:F(e[3]+""+e[3]),a:L(e[4]+""+e[4]),format:r?"name":"hex8"};if(e=Y.hex3.exec(t))return{r:F(e[1]+""+e[1]),g:F(e[2]+""+e[2]),b:F(e[3]+""+e[3]),format:r?"name":"hex"};return!1}(t));"object"==o(t)&&(H(t.r)&&H(t.g)&&H(t.b)?(p=t.r,v=t.g,g=t.b,e={r:255*C(p,255),g:255*C(v,255),b:255*C(g,255)},l=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):H(t.h)&&H(t.s)&&H(t.v)?(n=D(t.s),s=D(t.v),e=function(t,e,r){t=6*C(t,360),e=C(e,100),r=C(r,100);var n=i.floor(t),o=t-n,a=r*(1-e),u=r*(1-o*e),s=r*(1-(1-o)*e),c=n%6;return{r:255*[r,u,a,a,s,r][c],g:255*[s,r,r,u,a,a][c],b:255*[a,a,s,r,r,u][c]}}(t.h,n,s),l=!0,d="hsv"):H(t.h)&&H(t.s)&&H(t.l)&&(n=D(t.s),c=D(t.l),e=function(t,e,r){var n,o,i;function a(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=C(t,360),e=C(e,100),r=C(r,100),0===e)n=o=i=r;else{var u=r<.5?r*(1+e):r+e-r*e,s=2*r-u;n=a(s,u,t+1/3),o=a(s,u,t),i=a(s,u,t-1/3)}return{r:255*n,g:255*o,b:255*i}}(t.h,n,c),l=!0,d="hsl"),t.hasOwnProperty("a")&&(r=t.a));var p,v,g;return r=P(r),{ok:l,format:t.format||d,r:f(255,h(e.r,0)),g:f(255,h(e.g,0)),b:f(255,h(e.b,0)),a:r}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=c(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=r.ok,this._tc_id=s++}function p(t,e,r){t=C(t,255),e=C(e,255),r=C(r,255);var n,o,i=h(t,e,r),a=f(t,e,r),u=(i+a)/2;if(i==a)n=o=0;else{var s=i-a;switch(o=u>.5?s/(2-i-a):s/(i+a),i){case t:n=(e-r)/s+(e<r?6:0);break;case e:n=(r-t)/s+2;break;case r:n=(t-e)/s+4}n/=6}return{h:n,s:o,l:u}}function v(t,e,r){t=C(t,255),e=C(e,255),r=C(r,255);var n,o,i=h(t,e,r),a=f(t,e,r),u=i,s=i-a;if(o=0===i?0:s/i,i==a)n=0;else{switch(i){case t:n=(e-r)/s+(e<r?6:0);break;case e:n=(r-t)/s+2;break;case r:n=(t-e)/s+4}n/=6}return{h:n,s:o,v:u}}function g(t,e,r,n){var o=[T(c(t).toString(16)),T(c(e).toString(16)),T(c(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function y(t,e,r,n){return[T(q(n)),T(c(t).toString(16)),T(c(e).toString(16)),T(c(r).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var r=d(t).toHsl();return r.s-=e/100,r.s=z(r.s),d(r)}function b(t,e){e=0===e?0:e||10;var r=d(t).toHsl();return r.s+=e/100,r.s=z(r.s),d(r)}function w(t){return d(t).desaturate(100)}function x(t,e){e=0===e?0:e||10;var r=d(t).toHsl();return r.l+=e/100,r.l=z(r.l),d(r)}function M(t,e){e=0===e?0:e||10;var r=d(t).toRgb();return r.r=h(0,f(255,r.r-c(-e/100*255))),r.g=h(0,f(255,r.g-c(-e/100*255))),r.b=h(0,f(255,r.b-c(-e/100*255))),d(r)}function k(t,e){e=0===e?0:e||10;var r=d(t).toHsl();return r.l-=e/100,r.l=z(r.l),d(r)}function _(t,e){var r=d(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,d(r)}function S(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function E(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h:(r+120)%360,s:e.s,l:e.l}),d({h:(r+240)%360,s:e.s,l:e.l})]}function j(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h:(r+90)%360,s:e.s,l:e.l}),d({h:(r+180)%360,s:e.s,l:e.l}),d({h:(r+270)%360,s:e.s,l:e.l})]}function A(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h:(r+72)%360,s:e.s,l:e.l}),d({h:(r+216)%360,s:e.s,l:e.l})]}function O(t,e,r){e=e||6,r=r||30;var n=d(t).toHsl(),o=360/r,i=[d(t)];for(n.h=(n.h-(o*e>>1)+720)%360;--e;)n.h=(n.h+o)%360,i.push(d(n));return i}function N(t,e){e=e||6;for(var r=d(t).toHsv(),n=r.h,o=r.s,i=r.v,a=[],u=1/e;e--;)a.push(d({h:n,s:o,v:i})),i=(i+u)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,n=this.toRgb();return t=n.r/255,e=n.g/255,r=n.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=P(t),this._roundA=c(100*this._a)/100,this},toHsv:function(){var t=v(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=v(this._r,this._g,this._b),e=c(360*t.h),r=c(100*t.s),n=c(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b),e=c(360*t.h),r=c(100*t.s),n=c(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,n,o){var i=[T(c(t).toString(16)),T(c(e).toString(16)),T(c(r).toString(16)),T(q(n))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*C(this._r,255))+"%",g:c(100*C(this._g,255))+"%",b:c(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*C(this._r,255))+"%, "+c(100*C(this._g,255))+"%, "+c(100*C(this._b,255))+"%)":"rgba("+c(100*C(this._r,255))+"%, "+c(100*C(this._g,255))+"%, "+c(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+y(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var o=d(t);r="#"+y(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(M,arguments)},darken:function(){return this._applyModification(k,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},d.fromRatio=function(t,e){if("object"==o(t)){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:D(t[n]));t=r}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:l(),g:l(),b:l()})},d.mix=function(t,e,r){r=0===r?0:r||50;var n=d(t).toRgb(),o=d(e).toRgb(),i=r/100;return d({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},d.readability=function(t,e){var r=d(t),n=d(e);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},d.isReadable=function(t,e,r){var n,o,i=d.readability(t,e);switch(o=!1,(n=function(t){var e,r;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==r&&"large"!==r&&(r="small");return{level:e,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},d.mostReadable=function(t,e,r){var n,o,i,a,u=null,s=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var c=0;c<e.length;c++)(n=d.readability(t,e[c]))>s&&(s=n,u=d(e[c]));return d.isReadable(t,u,{level:i,size:a})||!o?u:(r.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],r))};var I=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=d.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(I);function P(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function C(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=f(e,h(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function z(t){return f(1,h(0,t))}function F(t){return parseInt(t,16)}function T(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function q(t){return i.round(255*parseFloat(t)).toString(16)}function L(t){return F(t)/255}var B,V,U,Y=(V="[\\\\s|\\\\(]+("+(B="(?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?)")+")[,|\\\\s]+("+B+")[,|\\\\s]+("+B+")\\\\s*\\\\)?",U="[\\\\s|\\\\(]+("+B+")[,|\\\\s]+("+B+")[,|\\\\s]+("+B+")[,|\\\\s]+("+B+")\\\\s*\\\\)?",{CSS_UNIT:new RegExp(B),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(t){return!!Y.CSS_UNIT.exec(t)}t.exports?t.exports=d:void 0===(n=function(){return d}.call(e,r,e,t))||(t.exports=n)}(Math)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={}.toString;e.default=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,r){var n=r(36),o=r(143),i=r(144),a=r(145),u=r(146),s=r(147);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,e,r){var n=r(138),o=r(139),i=r(140),a=r(141),u=r(142);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(20);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(15)(Object,"create");t.exports=n},function(t,e,r){var n=r(163);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},function(t,e,r){var n=r(41),o=r(20),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},function(t,e,r){var n=r(78);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,e){var o=r(t);return!!(e=null==e?9007199254740991:e)&&("number"==o||"symbol"!=o&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,r){var n=r(80)(Object.getPrototypeOf,Object);t.exports=n},function(t,e,r){var n=r(68),o=r(192)(n);t.exports=o},function(t,e,r){var n=r(48),o=r(29);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},function(t,e,r){var n=r(1),o=r(71),i=r(206),a=r(103);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},function(t,e,r){var n=r(18),o=r(112),i=r(113);t.exports=function(t,e){return i(o(t,e,n),t+"")}},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(20),i=r(12),a=r(42),u=r(6);t.exports=function(t,e,r){if(!u(r))return!1;var s=n(e);return!!("number"==s?i(r)&&a(e,r.length):"string"==s&&e in r)&&o(r[e],t)}},function(t,e,r){"use strict";var n=r(0);t.exports={longestPath:function(t){var e={};n.forEach(t.sources(),(function r(o){var i=t.node(o);if(n.has(e,o))return i.rank;e[o]=!0;var a=n.min(n.map(t.outEdges(o),(function(e){return r(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=r(134);e.default=function(t,e){if(t)if(n.default(t))for(var r=0,i=t.length;r<i&&!1!==e(t[r],r);r++);else if(o.default(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null==t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*o},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var o=Math.PI/180},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(5);t.exports=i;function i(t){this._isDirected=!o.has(t,"directed")||t.directed,this._isMultigraph=!!o.has(t,"multigraph")&&t.multigraph,this._isCompound=!!o.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]?t[e]++:t[e]=1}function u(t,e){--t[e]||delete t[e]}function s(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var u=i;i=a,a=u}return i+""+a+""+(o.isUndefined(n)?"\\0":n)}function c(t,e,r,n){var o=""+e,i=""+r;if(!t&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return n&&(u.name=n),u}function f(t,e){return s(t,e.v,e.w,e.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return o.keys(this._nodes)},i.prototype.sources=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._in[e])}))},i.prototype.sinks=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._out[e])}))},i.prototype.setNodes=function(t,e){var r=arguments,n=this;return o.each(t,(function(t){r.length>1?n.setNode(t,e):n.setNode(t)})),this},i.prototype.setNode=function(t,e){return o.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\\0",this._children[t]={},this._children["\\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return o.has(this._nodes,t)},i.prototype.removeNode=function(t){var e=this;if(o.has(this._nodes,t)){var r=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],o.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),o.each(o.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],o.each(o.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},i.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(e))e="\\0";else{for(var r=e+="";!o.isUndefined(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\\0"!==e)return e}},i.prototype.children=function(t){if(o.isUndefined(t)&&(t="\\0"),this._isCompound){var e=this._children[t];if(e)return o.keys(e)}else{if("\\0"===t)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var e=this._preds[t];if(e)return o.keys(e)},i.prototype.successors=function(t){var e=this._sucs[t];if(e)return o.keys(e)},i.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return o.union(e,this.successors(t))},i.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},i.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;o.each(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),o.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var n={};return this._isCompound&&o.each(e.nodes(),(function(t){e.setParent(t,function t(o){var i=r.parent(o);return void 0===i||e.hasNode(i)?(n[o]=i,i):i in n?n[i]:t(i)}(t))})),e},i.prototype.setDefaultEdgeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return o.values(this._edgeObjs)},i.prototype.setPath=function(t,e){var r=this,n=arguments;return o.reduce(t,(function(t,o){return n.length>1?r.setEdge(t,o,e):r.setEdge(t,o),o})),this},i.prototype.setEdge=function(){var t,e,r,i,u=!1,f=arguments[0];"object"===n(f)&&null!==f&&"v"in f?(t=f.v,e=f.w,r=f.name,2===arguments.length&&(i=arguments[1],u=!0)):(t=f,e=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],u=!0)),t=""+t,e=""+e,o.isUndefined(r)||(r=""+r);var h=s(this._isDirected,t,e,r);if(o.has(this._edgeLabels,h))return u&&(this._edgeLabels[h]=i),this;if(!o.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[h]=u?i:this._defaultEdgeLabelFn(t,e,r);var l=c(this._isDirected,t,e,r);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[h]=l,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][h]=l,this._out[t][h]=l,this._edgeCount++,this},i.prototype.edge=function(t,e,r){var n=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,r);return this._edgeLabels[n]},i.prototype.hasEdge=function(t,e,r){var n=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,r);return o.has(this._edgeLabels,n)},i.prototype.removeEdge=function(t,e,r){var n=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,r),o=this._edgeObjs[n];return o&&(t=o.v,e=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],u(this._preds[e],t),u(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},i.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var n=o.values(r);return e?o.filter(n,(function(t){return t.v===e})):n}},i.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var n=o.values(r);return e?o.filter(n,(function(t){return t.w===e})):n}},i.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}},function(t,e,r){var n=r(15)(r(8),"Map");t.exports=n},function(t,e,r){var n=r(155),o=r(162),i=r(164),a=r(165),u=r(166);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,r){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(76),i="object"==n(e)&&e&&!e.nodeType&&e,a=i&&"object"==n(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=s}).call(this,r(60)(t))},function(t,e,r){var n=r(44),o=r(172),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},function(t,e,r){var n=r(83),o=r(84),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},function(t,e,r){var n=r(89);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(69),o=r(14);t.exports=function(t,e){return t&&n(t,e,o)}},function(t,e,r){var n=r(191)();t.exports=n},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(1),i=r(24),a=/\\.|\\[(?:[^[\\]]*|(["'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,u=/^\\w*$/;t.exports=function(t,e){if(o(t))return!1;var r=n(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(u.test(t)||!a.test(t)||null!=e&&t in Object(e))}},function(t,e,r){var n=r(65),o=r(225);t.exports=function t(e,r,i,a,u){var s=-1,c=e.length;for(i||(i=o),u||(u=[]);++s<c;){var f=e[s];r>0&&i(f)?r>1?t(f,r-1,i,a,u):n(u,f):a||(u[u.length]=f)}return u}},function(t,e,r){var n=r(24);t.exports=function(t,e,r){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=e(a);if(null!=u&&(void 0===s?u==u&&!n(u):r(u,s)))var s=u,c=a}return c}},function(t,e,r){t.exports={graphlib:r(7),layout:r(249),debug:r(308),util:{time:r(4).time,notime:r(4).notime},version:r(309)}},function(t,e,r){var n=r(35),o=r(59),i=r(40),a=r(167),u=r(173),s=r(81),c=r(82),f=r(176),h=r(177),l=r(86),d=r(178),p=r(23),v=r(182),g=r(183),y=r(91),m=r(1),b=r(22),w=r(187),x=r(6),M=r(189),k=r(14),_=r(17),S={};S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S["[object Function]"]=S["[object WeakMap]"]=!1,t.exports=function t(e,r,E,j,A,O){var N,I=1&r,R=2&r,P=4&r;if(E&&(N=A?E(e,j,A,O):E(e)),void 0!==N)return N;if(!x(e))return e;var C=m(e);if(C){if(N=v(e),!I)return c(e,N)}else{var z=p(e),F="[object Function]"==z||"[object GeneratorFunction]"==z;if(b(e))return s(e,I);if("[object Object]"==z||"[object Arguments]"==z||F&&!A){if(N=R||F?{}:y(e),!I)return R?h(e,u(N,e)):f(e,a(N,e))}else{if(!S[z])return A?e:{};N=g(e,z,I)}}O||(O=new n);var T=O.get(e);if(T)return T;O.set(e,N),M(e)?e.forEach((function(n){N.add(t(n,r,E,n,e,O))})):w(e)&&e.forEach((function(n,o){N.set(o,t(n,r,E,o,e,O))}));var D=C?void 0:(P?R?d:l:R?_:k)(e);return o(D||e,(function(n,o){D&&(n=e[o=n]),i(N,o,t(n,r,E,o,e,O))})),N}},function(t,e,r){(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e;t.exports=n}).call(this,r(149))},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,r){var n=r(15),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,r){var n=r(168),o=r(27),i=r(1),a=r(22),u=r(42),s=r(28),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),f=!r&&o(t),h=!r&&!f&&a(t),l=!r&&!f&&!h&&s(t),d=r||f||h||l,p=d?n(t.length,String):[],v=p.length;for(var g in t)!e&&!c.call(t,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||l&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||p.push(g);return p}},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(8),i="object"==n(e)&&e&&!e.nodeType&&e,a=i&&"object"==n(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i?o.Buffer:void 0,s=u?u.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(60)(t))},function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,r){var n=r(65),o=r(45),i=r(64),a=r(84),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,i(t)),t=o(t);return e}:a;t.exports=u},function(t,e,r){var n=r(87),o=r(64),i=r(14);t.exports=function(t){return n(t,i,o)}},function(t,e,r){var n=r(65),o=r(1);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},function(t,e,r){var n=r(15)(r(8),"Set");t.exports=n},function(t,e,r){var n=r(8).Uint8Array;t.exports=n},function(t,e,r){var n=r(66);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,e,r){var n=r(92),o=r(45),i=r(44);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},function(t,e,r){var n=r(6),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},function(t,e,r){t.exports=r(94)},function(t,e,r){var n=r(59),o=r(46),i=r(95),a=r(1);t.exports=function(t,e){return(a(t)?n:o)(t,i(e))}},function(t,e,r){var n=r(18);t.exports=function(t){return"function"==typeof t?t:n}},function(t,e,r){var n=r(83),o=r(193),i=r(13),a=r(1);t.exports=function(t,e){return(a(t)?n:o)(t,i(e,3))}},function(t,e,r){var n=r(196),o=r(10);t.exports=function t(e,r,i,a,u){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,i,a,t,u))}},function(t,e,r){var n=r(99),o=r(199),i=r(100);t.exports=function(t,e,r,a,u,s){var c=1&r,f=t.length,h=e.length;if(f!=h&&!(c&&h>f))return!1;var l=s.get(t),d=s.get(e);if(l&&d)return l==e&&d==t;var p=-1,v=!0,g=2&r?new n:void 0;for(s.set(t,e),s.set(e,t);++p<f;){var y=t[p],m=e[p];if(a)var b=c?a(m,y,p,e,t,s):a(y,m,p,t,e,s);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!o(e,(function(t,e){if(!i(g,e)&&(y===t||u(y,t,r,a,s)))return g.push(e)}))){v=!1;break}}else if(y!==m&&!u(y,m,r,a,s)){v=!1;break}}return s.delete(t),s.delete(e),v}},function(t,e,r){var n=r(58),o=r(197),i=r(198);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,r){var n=r(6);t.exports=function(t){return t==t&&!n(t)}},function(t,e){t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},function(t,e,r){var n=r(209);t.exports=function(t){return null==t?"":n(t)}},function(t,e,r){var n=r(210),o=r(105);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e,r){var n=r(48),o=r(27),i=r(1),a=r(42),u=r(61),s=r(29);t.exports=function(t,e,r){for(var c=-1,f=(e=n(e,t)).length,h=!1;++c<f;){var l=s(e[c]);if(!(h=null!=t&&r(t,l)))break;t=t[l]}return h||++c!=f?h:!!(f=null==t?0:t.length)&&u(f)&&a(l,f)&&(i(t)||o(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,r){var n=r(213),o=r(105);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,r){var n=r(49),o=r(13),i=r(110),a=r(1);t.exports=function(t,e){return(a(t)?n:i)(t,o(e,3))}},function(t,e,r){var n=r(46),o=r(12);t.exports=function(t,e){var r=-1,i=o(t)?Array(t.length):[];return n(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}},function(t,e,r){var n=r(215),o=r(46),i=r(13),a=r(216),u=r(1);t.exports=function(t,e,r){var s=u(t)?n:a,c=arguments.length<3;return s(t,i(e,4),r,c,o)}},function(t,e,r){var n=r(226),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=r(s),n(t,this,c)}}},function(t,e,r){var n=r(227),o=r(228)(n);t.exports=o},function(t,e){t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,r){var n=r(12),o=r(10);t.exports=function(t){return o(t)&&n(t)}},function(t,e,r){var n=r(237),o=r(14);t.exports=function(t){return null==t?[]:n(t,o(t))}},function(t,e,r){var n=r(5),o=r(118);t.exports=function(t,e,r,n){return function(t,e,r,n){var i,a,u={},s=new o,c=function(t){var e=t.v!==i?t.v:t.w,n=u[e],o=r(t),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<n.distance&&(n.distance=c,n.predecessor=i,s.decrease(e,c))};t.nodes().forEach((function(t){var r=t===e?0:Number.POSITIVE_INFINITY;u[t]={distance:r},s.add(t,r)}));for(;s.size()>0&&(i=s.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)n(i).forEach(c);return u}(t,String(e),r||i,n||function(e){return t.outEdges(e)})};var i=n.constant(1)},function(t,e,r){var n=r(5);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return n.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!n.has(r,t)){var o=this._arr,i=o.length;return r[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},o.prototype._heapify=function(t){var e=this._arr,r=2*t,n=r+1,o=t;r<e.length&&(o=e[r].priority<e[o].priority?r:o,n<e.length&&(o=e[n].priority<e[o].priority?n:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t>>1].priority<n);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,o=r[t],i=r[e];r[t]=i,r[e]=o,n[i.key]=t,n[o.key]=e}},function(t,e,r){var n=r(5);t.exports=function(t){var e=0,r=[],o={},i=[];return t.nodes().forEach((function(a){n.has(o,a)||function a(u){var s=o[u]={onStack:!0,lowlink:e,index:e++};if(r.push(u),t.successors(u).forEach((function(t){n.has(o,t)?o[t].onStack&&(s.lowlink=Math.min(s.lowlink,o[t].index)):(a(t),s.lowlink=Math.min(s.lowlink,o[t].lowlink))})),s.lowlink===s.index){var c,f=[];do{c=r.pop(),o[c].onStack=!1,f.push(c)}while(u!==c);i.push(f)}}(a)})),i}},function(t,e,r){var n=r(5);function o(t){var e={},r={},o=[];if(n.each(t.sinks(),(function a(u){if(n.has(r,u))throw new i;n.has(e,u)||(r[u]=!0,e[u]=!0,n.each(t.predecessors(u),a),delete r[u],o.push(u))})),n.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,e,r){var n=r(5);t.exports=function(t,e,r){n.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return n.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,r,o,i,a,u){n.has(i,r)||(i[r]=!0,o||u.push(r),n.each(a(r),(function(r){t(e,r,o,i,a,u)})),o&&u.push(r))}(t,e,"post"===r,a,o,i)})),i}},function(t,e,r){var n=r(256);t.exports=function(t){return t?(t=n(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,r){var n=r(72);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},function(t,e,r){var n=r(41),o=r(20);t.exports=function(t,e,r){(void 0!==r&&!o(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,r){"use strict";var n=r(0),o=r(7).Graph,i=r(52).slack;function a(t,e){return n.forEach(t.nodes(),(function r(o){n.forEach(e.nodeEdges(o),(function(n){var a=n.v,u=o===a?n.w:a;t.hasNode(u)||i(e,n)||(t.setNode(u,{}),t.setEdge(o,u,{}),r(u))}))})),t.nodeCount()}function u(t,e){return n.minBy(e.edges(),(function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return i(e,r)}))}function s(t,e,r){n.forEach(t.nodes(),(function(t){e.node(t).rank+=r}))}t.exports=function(t){var e,r,n=new o({directed:!1}),c=t.nodes()[0],f=t.nodeCount();n.setNode(c,{});for(;a(n,t)<f;)e=u(n,t),r=n.hasNode(e.v)?i(t,e):-i(t,e),s(n,t,r);return n}},function(t,e,r){var n=r(315),o={};for(var i in n)n.hasOwnProperty(i)&&(o[n[i]]=i);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var u in a)if(a.hasOwnProperty(u)){if(!("channels"in a[u]))throw new Error("missing channels property: "+u);if(!("labels"in a[u]))throw new Error("missing channel labels property: "+u);if(a[u].labels.length!==a[u].channels)throw new Error("channel and label counts mismatch: "+u);var s=a[u].channels,c=a[u].labels;delete a[u].channels,delete a[u].labels,Object.defineProperty(a[u],"channels",{value:s}),Object.defineProperty(a[u],"labels",{value:c})}a.rgb.hsl=function(t){var e,r,n=t[0]/255,o=t[1]/255,i=t[2]/255,a=Math.min(n,o,i),u=Math.max(n,o,i),s=u-a;return u===a?e=0:n===u?e=(o-i)/s:o===u?e=2+(i-n)/s:i===u&&(e=4+(n-o)/s),(e=Math.min(60*e,360))<0&&(e+=360),r=(a+u)/2,[e,100*(u===a?0:r<=.5?s/(u+a):s/(2-u-a)),100*r]},a.rgb.hsv=function(t){var e,r,n,o,i,a=t[0]/255,u=t[1]/255,s=t[2]/255,c=Math.max(a,u,s),f=c-Math.min(a,u,s),h=function(t){return(c-t)/6/f+.5};return 0===f?o=i=0:(i=f/c,e=h(a),r=h(u),n=h(s),a===c?o=n-r:u===c?o=1/3+e-n:s===c&&(o=2/3+r-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},a.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(r,n))),100*(n=1-1/255*Math.max(e,Math.max(r,n)))]},a.rgb.cmyk=function(t){var e,r=t[0]/255,n=t[1]/255,o=t[2]/255;return[100*((1-r-(e=Math.min(1-r,1-n,1-o)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-o-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=o[t];if(e)return e;var r,i,a,u=1/0;for(var s in n)if(n.hasOwnProperty(s)){var c=n[s],f=(i=t,a=c,Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)+Math.pow(i[2]-a[2],2));f<u&&(u=f,r=s)}return r},a.keyword.rgb=function(t){return n[t]},a.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),r=e[0],n=e[1],o=e[2];return n/=100,o/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},a.hsl.rgb=function(t){var e,r,n,o,i,a=t[0]/360,u=t[1]/100,s=t[2]/100;if(0===u)return[i=255*s,i,i];e=2*s-(r=s<.5?s*(1+u):s+u-s*u),o=[0,0,0];for(var c=0;c<3;c++)(n=a+1/3*-(c-1))<0&&n++,n>1&&n--,i=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,o[c]=255*i;return o},a.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,o=r,i=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,o*=i<=1?i:2-i,[e,100*(0===n?2*o/(i+o):2*r/(n+r)),100*((n+r)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,o=Math.floor(e)%6,i=e-Math.floor(e),a=255*n*(1-r),u=255*n*(1-r*i),s=255*n*(1-r*(1-i));switch(n*=255,o){case 0:return[n,s,a];case 1:return[u,n,a];case 2:return[a,n,s];case 3:return[a,u,n];case 4:return[s,a,n];case 5:return[n,a,u]}},a.hsv.hsl=function(t){var e,r,n,o=t[0],i=t[1]/100,a=t[2]/100,u=Math.max(a,.01);return n=(2-i)*a,r=i*u,[o,100*(r=(r/=(e=(2-i)*u)<=1?e:2-e)||0),100*(n/=2)]},a.hwb.rgb=function(t){var e,r,n,o,i,a,u,s=t[0]/360,c=t[1]/100,f=t[2]/100,h=c+f;switch(h>1&&(c/=h,f/=h),n=6*s-(e=Math.floor(6*s)),0!=(1&e)&&(n=1-n),o=c+n*((r=1-f)-c),e){default:case 6:case 0:i=r,a=o,u=c;break;case 1:i=o,a=r,u=c;break;case 2:i=c,a=r,u=o;break;case 3:i=c,a=o,u=r;break;case 4:i=o,a=c,u=r;break;case 5:i=r,a=c,u=o}return[255*i,255*a,255*u]},a.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},a.xyz.rgb=function(t){var e,r,n,o=t[0]/100,i=t[1]/100,a=t[2]/100;return r=-.9689*o+1.8758*i+.0415*a,n=.0557*o+-.204*i+1.057*a,e=(e=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},a.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2];return r/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(e-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},a.lab.xyz=function(t){var e,r,n,o=t[0];e=t[1]/500+(r=(o+16)/116),n=r-t[2]/200;var i=Math.pow(r,3),a=Math.pow(e,3),u=Math.pow(n,3);return r=i>.008856?i:(r-16/116)/7.787,e=a>.008856?a:(e-16/116)/7.787,n=u>.008856?u:(n-16/116)/7.787,[e*=95.047,r*=100,n*=108.883]},a.lab.lch=function(t){var e,r=t[0],n=t[1],o=t[2];return(e=360*Math.atan2(o,n)/2/Math.PI)<0&&(e+=360),[r,Math.sqrt(n*n+o*o),e]},a.lch.lab=function(t){var e,r=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[r,n*Math.cos(e),n*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],o=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(o=Math.round(o/50)))return 30;var i=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return 2===o&&(i+=60),i},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var r;return t-=16,[Math.floor(t/36)/5*255,Math.floor((r=t%36)/6)/5*255,r%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split("").map((function(t){return t+t})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},a.rgb.hcg=function(t){var e,r=t[0]/255,n=t[1]/255,o=t[2]/255,i=Math.max(Math.max(r,n),o),a=Math.min(Math.min(r,n),o),u=i-a;return e=u<=0?0:i===r?(n-o)/u%6:i===n?2+(o-r)/u:4+(r-n)/u+4,e/=6,[360*(e%=1),100*u,100*(u<1?a/(1-u):0)]},a.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,o=0;return(n=r<.5?2*e*r:2*e*(1-r))<1&&(o=(r-.5*n)/(1-n)),[t[0],100*n,100*o]},a.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},a.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];var o,i=[0,0,0],a=e%1*6,u=a%1,s=1-u;switch(Math.floor(a)){case 0:i[0]=1,i[1]=u,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=u;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=u,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return o=(1-r)*n,[255*(r*i[0]+o),255*(r*i[1]+o),255*(r*i[2]+o)]},a.hcg.hsv=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e),n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},a.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100*(1-e)+.5*e,n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},a.hcg.hwb=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},a.hwb.hcg=function(t){var e=t[1]/100,r=1-t[2]/100,n=r-e,o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=o,e.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},e.subtract=u,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},e.distance=f,e.squaredDistance=h,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=p,e.cross=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],u=r[1],s=r[2];return t[0]=o*s-i*u,t[1]=i*a-n*s,t[2]=n*u-o*a,t},e.lerp=function(t,e,r,n){var o=e[0],i=e[1],a=e[2];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t[2]=a+n*(r[2]-a),t},e.hermite=function(t,e,r,n,o,i){var a=i*i,u=a*(2*i-3)+1,s=a*(i-2)+i,c=a*(i-1),f=a*(3-2*i);return t[0]=e[0]*u+r[0]*s+n[0]*c+o[0]*f,t[1]=e[1]*u+r[1]*s+n[1]*c+o[1]*f,t[2]=e[2]*u+r[2]*s+n[2]*c+o[2]*f,t},e.bezier=function(t,e,r,n,o,i){var a=1-i,u=a*a,s=i*i,c=u*a,f=3*i*u,h=3*s*a,l=s*i;return t[0]=e[0]*c+r[0]*f+n[0]*h+o[0]*l,t[1]=e[1]*c+r[1]*f+n[1]*h+o[1]*l,t[2]=e[2]*c+r[2]*f+n[2]*h+o[2]*l,t},e.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,o=2*n.RANDOM()-1,i=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=o*e,t},e.transformMat4=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[3]*n+r[7]*o+r[11]*i+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*o+r[8]*i+r[12])/a,t[1]=(r[1]*n+r[5]*o+r[9]*i+r[13])/a,t[2]=(r[2]*n+r[6]*o+r[10]*i+r[14])/a,t},e.transformMat3=function(t,e,r){var n=e[0],o=e[1],i=e[2];return t[0]=n*r[0]+o*r[3]+i*r[6],t[1]=n*r[1]+o*r[4]+i*r[7],t[2]=n*r[2]+o*r[5]+i*r[8],t},e.transformQuat=function(t,e,r){var n=r[0],o=r[1],i=r[2],a=r[3],u=e[0],s=e[1],c=e[2],f=o*c-i*s,h=i*u-n*c,l=n*s-o*u,d=o*l-i*h,p=i*f-n*l,v=n*h-o*f,g=2*a;return f*=g,h*=g,l*=g,d*=2,p*=2,v*=2,t[0]=u+f+d,t[1]=s+h+p,t[2]=c+l+v,t},e.rotateX=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0],i[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),i[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateY=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),i[1]=o[1],i[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateZ=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),i[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),i[2]=o[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.angle=function(t,e){var r=a(t[0],t[1],t[2]),n=a(e[0],e[1],e[2]);d(r,r),d(n,n);var o=p(r,n);return o>1?0:o<-1?Math.PI:Math.acos(o)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=e[0],u=e[1],s=e[2];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(55));function o(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function a(t,e,r){var o=new n.ARRAY_TYPE(3);return o[0]=t,o[1]=e,o[2]=r,o}function u(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function s(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function c(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function f(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)}function h(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o}function l(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function d(t,e){var r=e[0],n=e[1],o=e[2],i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function p(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var v;e.sub=u,e.mul=s,e.div=c,e.dist=f,e.sqrDist=h,e.len=i,e.sqrLen=l,e.forEach=(v=o(),function(t,e,r,n,o,i){var a=void 0,u=void 0;for(e||(e=3),r||(r=0),u=n?Math.min(n*e+r,t.length):t.length,a=r;a<u;a+=e)v[0]=t[a],v[1]=t[a+1],v[2]=t[a+2],o(v,v,i),t[a]=v[0],t[a+1]=v[1],t[a+2]=v[2];return t})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.default=n},,,,function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,r){var n=r(136);t.exports={Graph:n.Graph,json:r(239),alg:r(240),version:n.version}},function(t,e,r){t.exports={Graph:r(56),version:r(238)}},function(t,e,r){var n=r(75);t.exports=function(t){return n(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(37),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},function(t,e,r){var n=r(37);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},function(t,e,r){var n=r(37);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,r){var n=r(37);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},function(t,e,r){var n=r(36);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var n=r(36),o=r(57),i=r(58);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},function(t,e,r){var n=r(25),o=r(152),i=r(6),a=r(77),u=/^\\[object .+?Constructor\\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,h=c.hasOwnProperty,l=RegExp("^"+f.call(h).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?l:u).test(a(t))}},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,r){var n=r(21),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n,o=r(153),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},function(t,e,r){var n=r(8)["__core-js_shared__"];t.exports=n},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,r){var n=r(156),o=r(36),i=r(57);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(t,e,r){var n=r(157),o=r(158),i=r(159),a=r(160),u=r(161);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(38);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var n=r(38),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},function(t,e,r){var n=r(38),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},function(t,e,r){var n=r(38);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,r){var n=r(39);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=r(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,r){var n=r(39);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(39);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(39);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},function(t,e,r){var n=r(26),o=r(14);t.exports=function(t,e){return t&&n(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(16),o=r(10);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(16),o=r(61),i=r(10),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},function(t,e,r){var n=r(80)(Object.keys,Object);t.exports=n},function(t,e,r){var n=r(26),o=r(17);t.exports=function(t,e){return t&&n(e,o(e),t)}},function(t,e,r){var n=r(6),o=r(44),i=r(175),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&r.push(u);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){var n=r(26),o=r(64);t.exports=function(t,e){return n(t,o(t),e)}},function(t,e,r){var n=r(26),o=r(85);t.exports=function(t,e){return n(t,o(t),e)}},function(t,e,r){var n=r(87),o=r(85),i=r(17);t.exports=function(t){return n(t,i,o)}},function(t,e,r){var n=r(15)(r(8),"DataView");t.exports=n},function(t,e,r){var n=r(15)(r(8),"Promise");t.exports=n},function(t,e,r){var n=r(15)(r(8),"WeakMap");t.exports=n},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},function(t,e,r){var n=r(66),o=r(184),i=r(185),a=r(186),u=r(90);t.exports=function(t,e,r){var s=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return o(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,r);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return i(t);case"[object Set]":return new s;case"[object Symbol]":return a(t)}}},function(t,e,r){var n=r(66);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},function(t,e){var r=/\\w*$/;t.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,r){var n=r(21),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,r){var n=r(188),o=r(43),i=r(62),a=i&&i.isMap,u=a?o(a):n;t.exports=u},function(t,e,r){var n=r(23),o=r(10);t.exports=function(t){return o(t)&&"[object Map]"==n(t)}},function(t,e,r){var n=r(190),o=r(43),i=r(62),a=i&&i.isSet,u=a?o(a):n;t.exports=u},function(t,e,r){var n=r(23),o=r(10);t.exports=function(t){return o(t)&&"[object Set]"==n(t)}},function(t,e){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===r(i[s],s,i))break}return e}}},function(t,e,r){var n=r(12);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var i=r.length,a=e?i:-1,u=Object(r);(e?a--:++a<i)&&!1!==o(u[a],a,u););return r}}},function(t,e,r){var n=r(46);t.exports=function(t,e){var r=[];return n(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}},function(t,e,r){var n=r(195),o=r(203),i=r(102);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},function(t,e,r){var n=r(35),o=r(97);t.exports=function(t,e,r,i){var a=r.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=r[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var f=(c=r[a])[0],h=t[f],l=c[1];if(s&&c[2]){if(void 0===h&&!(f in t))return!1}else{var d=new n;if(i)var p=i(h,l,f,t,e,d);if(!(void 0===p?o(l,h,3,i,d):p))return!1}}return!0}},function(t,e,r){var n=r(35),o=r(98),i=r(200),a=r(202),u=r(23),s=r(1),c=r(22),f=r(28),h="[object Object]",l=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,d,p,v){var g=s(t),y=s(e),m=g?"[object Array]":u(t),b=y?"[object Array]":u(e),w=(m="[object Arguments]"==m?h:m)==h,x=(b="[object Arguments]"==b?h:b)==h,M=m==b;if(M&&c(t)){if(!c(e))return!1;g=!0,w=!1}if(M&&!w)return v||(v=new n),g||f(t)?o(t,e,r,d,p,v):i(t,e,m,r,d,p,v);if(!(1&r)){var k=w&&l.call(t,"__wrapped__"),_=x&&l.call(e,"__wrapped__");if(k||_){var S=k?t.value():t,E=_?e.value():e;return v||(v=new n),p(S,E,r,d,v)}}return!!M&&(v||(v=new n),a(t,e,r,d,p,v))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},function(t,e,r){var n=r(21),o=r(89),i=r(20),a=r(98),u=r(201),s=r(70),c=n?n.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,h,l){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var p=1&n;if(d||(d=s),t.size!=e.size&&!p)return!1;var v=l.get(t);if(v)return v==e;n|=2,l.set(t,e);var g=a(d(t),d(e),n,c,h,l);return l.delete(t),g;case"[object Symbol]":if(f)return f.call(t)==f.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},function(t,e,r){var n=r(86),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,a,u){var s=1&r,c=n(t),f=c.length;if(f!=n(e).length&&!s)return!1;for(var h=f;h--;){var l=c[h];if(!(s?l in e:o.call(e,l)))return!1}var d=u.get(t),p=u.get(e);if(d&&p)return d==e&&p==t;var v=!0;u.set(t,e),u.set(e,t);for(var g=s;++h<f;){var y=t[l=c[h]],m=e[l];if(i)var b=s?i(m,y,l,e,t,u):i(y,m,l,t,e,u);if(!(void 0===b?y===m||a(y,m,r,i,u):b)){v=!1;break}g||(g="constructor"==l)}if(v&&!g){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return u.delete(t),u.delete(e),v}},function(t,e,r){var n=r(101),o=r(14);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],a=t[i];e[r]=[i,a,n(a)]}return e}},function(t,e,r){var n=r(97),o=r(205),i=r(104),a=r(71),u=r(101),s=r(102),c=r(29);t.exports=function(t,e){return a(t)&&u(e)?s(c(t),e):function(r){var a=o(r,t);return void 0===a&&a===e?i(r,t):n(e,a,3)}}},function(t,e,r){var n=r(47);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},function(t,e,r){var n=r(207),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a},function(t,e,r){var n=r(208);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},function(t,e,r){var n=r(58);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},function(t,e,r){var n=r(21),o=r(49),i=r(1),a=r(24),u=n?n.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,r){var n=r(106),o=r(212),i=r(71),a=r(29);t.exports=function(t){return i(t)?n(a(t)):o(t)}},function(t,e,r){var n=r(47);t.exports=function(t){return function(e){return n(e,t)}}},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&r.call(t,e)}},function(t,e,r){var n=r(63),o=r(23),i=r(27),a=r(1),u=r(12),s=r(22),c=r(44),f=r(28),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||f(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!n(t).length;for(var r in t)if(h.call(t,r))return!1;return!0}},function(t,e){t.exports=function(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}},function(t,e){t.exports=function(t,e,r,n,o){return o(t,(function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)})),r}},function(t,e,r){var n=r(63),o=r(23),i=r(12),a=r(218),u=r(219);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?u(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:n(t).length}},function(t,e,r){var n=r(16),o=r(1),i=r(10);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==n(t)}},function(t,e,r){var n=r(220),o=r(221),i=r(222);t.exports=function(t){return o(t)?i(t):n(t)}},function(t,e,r){var n=r(106)("length");t.exports=n},function(t,e){var r=RegExp("[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]");t.exports=function(t){return r.test(t)}},function(t,e){var r="[\\\\ud800-\\\\udfff]",n="[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]",o="\\\\ud83c[\\\\udffb-\\\\udfff]",i="[^\\\\ud800-\\\\udfff]",a="(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}",u="[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]",s="(?:"+n+"|"+o+")"+"?",c="[\\\\ufe0e\\\\ufe0f]?"+s+("(?:\\\\u200d(?:"+[i,a,u].join("|")+")[\\\\ufe0e\\\\ufe0f]?"+s+")*"),f="(?:"+[i+n+"?",n,a,u,r].join("|")+")",h=RegExp(o+"(?="+o+")|"+f+c,"g");t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},function(t,e,r){var n=r(59),o=r(92),i=r(68),a=r(13),u=r(45),s=r(1),c=r(22),f=r(25),h=r(6),l=r(28);t.exports=function(t,e,r){var d=s(t),p=d||c(t)||l(t);if(e=a(e,4),null==r){var v=t&&t.constructor;r=p?d?new v:[]:h(t)&&f(v)?o(u(t)):{}}return(p?n:i)(t,(function(t,n,o){return e(r,t,n,o)})),r}},function(t,e,r){var n=r(72),o=r(50),i=r(229),a=r(115),u=o((function(t){return i(n(t,1,a,!0))}));t.exports=u},function(t,e,r){var n=r(21),o=r(27),i=r(1),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(67),o=r(78),i=r(18),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var o=r(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(99),o=r(230),i=r(234),a=r(100),u=r(235),s=r(70);t.exports=function(t,e,r){var c=-1,f=o,h=t.length,l=!0,d=[],p=d;if(r)l=!1,f=i;else if(h>=200){var v=e?null:u(t);if(v)return s(v);l=!1,f=a,p=new n}else p=e?[]:d;t:for(;++c<h;){var g=t[c],y=e?e(g):g;if(g=r||0!==g?g:0,l&&y==y){for(var m=p.length;m--;)if(p[m]===y)continue t;e&&p.push(y),d.push(g)}else f(p,y,r)||(p!==d&&p.push(y),d.push(g))}return d}},function(t,e,r){var n=r(231);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},function(t,e,r){var n=r(114),o=r(232),i=r(233);t.exports=function(t,e,r){return e==e?i(t,e,r):n(t,o,r)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},function(t,e){t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},function(t,e,r){var n=r(88),o=r(236),i=r(70),a=n&&1/i(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,r){var n=r(49);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},function(t,e){t.exports="2.1.8"},function(t,e,r){var n=r(5),o=r(56);function i(t){return n.map(t.nodes(),(function(e){var r=t.node(e),o=t.parent(e),i={v:e};return n.isUndefined(r)||(i.value=r),n.isUndefined(o)||(i.parent=o),i}))}function a(t){return n.map(t.edges(),(function(e){var r=t.edge(e),o={v:e.v,w:e.w};return n.isUndefined(e.name)||(o.name=e.name),n.isUndefined(r)||(o.value=r),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};n.isUndefined(t.graph())||(e.value=n.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return n.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),n.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},function(t,e,r){t.exports={components:r(241),dijkstra:r(117),dijkstraAll:r(242),findCycles:r(243),floydWarshall:r(244),isAcyclic:r(245),postorder:r(246),preorder:r(247),prim:r(248),tarjan:r(119),topsort:r(120)}},function(t,e,r){var n=r(5);t.exports=function(t){var e,r={},o=[];function i(o){n.has(r,o)||(r[o]=!0,e.push(o),n.each(t.successors(o),i),n.each(t.predecessors(o),i))}return n.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},function(t,e,r){var n=r(117),o=r(5);t.exports=function(t,e,r){return o.transform(t.nodes(),(function(o,i){o[i]=n(t,i,e,r)}),{})}},function(t,e,r){var n=r(5),o=r(119);t.exports=function(t){return n.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,r){var n=r(5);t.exports=function(t,e,r){return function(t,e,r){var n={},o=t.nodes();return o.forEach((function(t){n[t]={},n[t][t]={distance:0},o.forEach((function(e){t!==e&&(n[t][e]={distance:Number.POSITIVE_INFINITY})})),r(t).forEach((function(r){var o=r.v===t?r.w:r.v,i=e(r);n[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=n[t];o.forEach((function(r){var i=n[r];o.forEach((function(r){var n=i[t],o=e[r],a=i[r],u=n.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),n}(t,e||o,r||function(e){return t.outEdges(e)})};var o=n.constant(1)},function(t,e,r){var n=r(120);t.exports=function(t){try{n(t)}catch(t){if(t instanceof n.CycleException)return!1;throw t}return!0}},function(t,e,r){var n=r(121);t.exports=function(t,e){return n(t,e,"post")}},function(t,e,r){var n=r(121);t.exports=function(t,e){return n(t,e,"pre")}},function(t,e,r){var n=r(5),o=r(56),i=r(118);t.exports=function(t,e){var r,a=new o,u={},s=new i;function c(t){var n=t.v===r?t.w:t.v,o=s.priority(n);if(void 0!==o){var i=e(t);i<o&&(u[n]=r,s.decrease(n,i))}}if(0===t.nodeCount())return a;n.each(t.nodes(),(function(t){s.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),s.decrease(t.nodes()[0],0);var f=!1;for(;s.size()>0;){if(r=s.removeMin(),n.has(u,r))a.setEdge(r,u[r]);else{if(f)throw new Error("Input graph is not connected: "+t);f=!0}t.nodeEdges(r).forEach(c)}return a}},function(t,e,r){"use strict";var n=r(0),o=r(287),i=r(290),a=r(291),u=r(4).normalizeRanks,s=r(293),c=r(4).removeEmptyRanks,f=r(294),h=r(295),l=r(296),d=r(297),p=r(306),v=r(4),g=r(7).Graph;t.exports=function(t,e){var r=e&&e.debugTiming?v.time:v.notime;r("layout",(function(){var e=r("  buildLayoutGraph",(function(){return function(t){var e=new g({multigraph:!0,compound:!0}),r=E(t.graph());return e.setGraph(n.merge({},m,S(r,y),n.pick(r,b))),n.forEach(t.nodes(),(function(r){var o=E(t.node(r));e.setNode(r,n.defaults(S(o,w),x)),e.setParent(r,t.parent(r))})),n.forEach(t.edges(),(function(r){var o=E(t.edge(r));e.setEdge(r,n.merge({},k,S(o,M),n.pick(o,_)))})),e}(t)}));r("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,n.forEach(t.edges(),(function(r){var n=t.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){n.forEach(t.edges(),(function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){f.run(t)})),e("    rank",(function(){a(v.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),o={rank:(t.node(e.w).rank-n.rank)/2+n.rank,e:e};v.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){f.cleanup(t)})),e("    normalizeRanks",(function(){u(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;n.forEach(t.nodes(),(function(r){var o=t.node(r);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=n.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);"edge-proxy"===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){s(t)})),e("    addBorderSegments",(function(){h(t)})),e("    order",(function(){d(t)})),e("    insertSelfEdges",(function(){!function(t){var e=v.buildLayerMatrix(t);n.forEach(e,(function(e){var r=0;n.forEach(e,(function(e,o){var i=t.node(e);i.order=o+r,n.forEach(i.selfEdges,(function(e){v.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++r,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){l.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);if("selfedge"===r.dummy){var n=t.node(r.e.v),o=n.x+n.width/2,i=n.y,a=r.x-o,u=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],r.label.x=r.x,r.label.y=r.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){n.forEach(t.nodes(),(function(e){if(t.children(e).length){var r=t.node(e),o=t.node(r.borderTop),i=t.node(r.borderBottom),a=t.node(n.last(r.borderLeft)),u=t.node(n.last(r.borderRight));r.width=Math.abs(u.x-a.x),r.height=Math.abs(i.y-o.y),r.x=a.x+r.width/2,r.y=o.y+r.height/2}})),n.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(n.has(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){l.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,r=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),u=a.marginx||0,s=a.marginy||0;function c(t){var n=t.x,a=t.y,u=t.width,s=t.height;e=Math.min(e,n-u/2),r=Math.max(r,n+u/2),o=Math.min(o,a-s/2),i=Math.max(i,a+s/2)}n.forEach(t.nodes(),(function(e){c(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.has(r,"x")&&c(r)})),e-=u,o-=s,n.forEach(t.nodes(),(function(r){var n=t.node(r);n.x-=e,n.y-=o})),n.forEach(t.edges(),(function(r){var i=t.edge(r);n.forEach(i.points,(function(t){t.x-=e,t.y-=o})),n.has(i,"x")&&(i.x-=e),n.has(i,"y")&&(i.y-=o)})),a.width=r-e+u,a.height=i-o+s}(t)})),e("    assignNodeIntersects",(function(){!function(t){n.forEach(t.edges(),(function(e){var r,n,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(r=o.points[0],n=o.points[o.points.length-1]):(o.points=[],r=a,n=i),o.points.unshift(v.intersectRect(i,r)),o.points.push(v.intersectRect(a,n))}))}(t)})),e("    reversePoints",(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);r.reversed&&r.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}(e,r)})),r("  updateInputGraph",(function(){!function(t,e){n.forEach(t.nodes(),(function(r){var n=t.node(r),o=e.node(r);n&&(n.x=o.x,n.y=o.y,e.children(r).length&&(n.width=o.width,n.height=o.height))})),n.forEach(t.edges(),(function(r){var o=t.edge(r),i=e.edge(r);o.points=i.points,n.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],w=["width","height"],x={width:0,height:0},M=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},_=["labelpos"];function S(t,e){return n.mapValues(n.pick(t,e),Number)}function E(t){var e={};return n.forEach(t,(function(t,r){e[r.toLowerCase()]=t})),e}},function(t,e,r){var n=r(75);t.exports=function(t){return n(t,5)}},function(t,e,r){var n=r(50),o=r(20),i=r(51),a=r(17),u=Object.prototype,s=u.hasOwnProperty,c=n((function(t,e){t=Object(t);var r=-1,n=e.length,c=n>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(n=1);++r<n;)for(var f=e[r],h=a(f),l=-1,d=h.length;++l<d;){var p=h[l],v=t[p];(void 0===v||o(v,u[p])&&!s.call(t,p))&&(t[p]=f[p])}return t}));t.exports=c},function(t,e,r){var n=r(253)(r(254));t.exports=n},function(t,e,r){var n=r(13),o=r(12),i=r(14);t.exports=function(t){return function(e,r,a){var u=Object(e);if(!o(e)){var s=n(r,3);e=i(e),r=function(t){return s(u[t],t,u)}}var c=t(e,r,a);return c>-1?u[s?e[c]:c]:void 0}}},function(t,e,r){var n=r(114),o=r(13),i=r(255),a=Math.max;t.exports=function(t,e,r){var u=null==t?0:t.length;if(!u)return-1;var s=null==r?0:i(r);return s<0&&(s=a(u+s,0)),n(t,o(e,3),s)}},function(t,e,r){var n=r(122);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},function(t,e,r){var n=r(6),o=r(24),i=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||s.test(t)?c(t.slice(2),r?2:8):a.test(t)?NaN:+t}},function(t,e,r){var n=r(69),o=r(95),i=r(17);t.exports=function(t,e){return null==t?t:n(t,o(e),i)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,r){var n=r(41),o=r(68),i=r(13);t.exports=function(t,e){var r={};return e=i(e,3),o(t,(function(t,o,i){n(r,o,e(t,o,i))})),r}},function(t,e,r){var n=r(73),o=r(261),i=r(18);t.exports=function(t){return t&&t.length?n(t,i,o):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,r){var n=r(263),o=r(267)((function(t,e,r){n(t,e,r)}));t.exports=o},function(t,e,r){var n=r(35),o=r(124),i=r(69),a=r(264),u=r(6),s=r(17),c=r(125);t.exports=function t(e,r,f,h,l){e!==r&&i(r,(function(i,s){if(l||(l=new n),u(i))a(e,r,s,f,t,h,l);else{var d=h?h(c(e,s),i,s+"",e,r,l):void 0;void 0===d&&(d=i),o(e,s,d)}}),s)}},function(t,e,r){var n=r(124),o=r(81),i=r(90),a=r(82),u=r(91),s=r(27),c=r(1),f=r(115),h=r(22),l=r(25),d=r(6),p=r(265),v=r(28),g=r(125),y=r(266);t.exports=function(t,e,r,m,b,w,x){var M=g(t,r),k=g(e,r),_=x.get(k);if(_)n(t,r,_);else{var S=w?w(M,k,r+"",t,e,x):void 0,E=void 0===S;if(E){var j=c(k),A=!j&&h(k),O=!j&&!A&&v(k);S=k,j||A||O?c(M)?S=M:f(M)?S=a(M):A?(E=!1,S=o(k,!0)):O?(E=!1,S=i(k,!0)):S=[]:p(k)||s(k)?(S=M,s(M)?S=y(M):d(M)&&!l(M)||(S=u(k))):E=!1}E&&(x.set(k,S),b(S,k,m,w,x),x.delete(k)),n(t,r,S)}}},function(t,e,r){var n=r(16),o=r(45),i=r(10),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==f}},function(t,e,r){var n=r(26),o=r(17);t.exports=function(t){return n(t,o(t))}},function(t,e,r){var n=r(50),o=r(51);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(r[0],r[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e}))}},function(t,e,r){var n=r(73),o=r(126),i=r(18);t.exports=function(t){return t&&t.length?n(t,i,o):void 0}},function(t,e,r){var n=r(73),o=r(13),i=r(126);t.exports=function(t,e){return t&&t.length?n(t,o(e,2),i):void 0}},function(t,e,r){var n=r(8);t.exports=function(){return n.Date.now()}},function(t,e,r){var n=r(272),o=r(275)((function(t,e){return null==t?{}:n(t,e)}));t.exports=o},function(t,e,r){var n=r(273),o=r(104);t.exports=function(t,e){return n(t,e,(function(e,r){return o(t,r)}))}},function(t,e,r){var n=r(47),o=r(274),i=r(48);t.exports=function(t,e,r){for(var a=-1,u=e.length,s={};++a<u;){var c=e[a],f=n(t,c);r(f,c)&&o(s,i(c,t),f)}return s}},function(t,e,r){var n=r(40),o=r(48),i=r(42),a=r(6),u=r(29);t.exports=function(t,e,r,s){if(!a(t))return t;for(var c=-1,f=(e=o(e,t)).length,h=f-1,l=t;null!=l&&++c<f;){var d=u(e[c]),p=r;if("__proto__"===d||"constructor"===d||"prototype"===d)return t;if(c!=h){var v=l[d];void 0===(p=s?s(v,d,l):void 0)&&(p=a(v)?v:i(e[c+1])?[]:{})}n(l,d,p),l=l[d]}return t}},function(t,e,r){var n=r(123),o=r(112),i=r(113);t.exports=function(t){return i(o(t,void 0,n),t+"")}},function(t,e,r){var n=r(277)();t.exports=n},function(t,e,r){var n=r(278),o=r(51),i=r(122);t.exports=function(t){return function(e,r,a){return a&&"number"!=typeof a&&o(e,r,a)&&(r=a=void 0),e=i(e),void 0===r?(r=e,e=0):r=i(r),a=void 0===a?e<r?1:-1:i(a),n(e,r,a,t)}}},function(t,e){var r=Math.ceil,n=Math.max;t.exports=function(t,e,o,i){for(var a=-1,u=n(r((e-t)/(o||1)),0),s=Array(u);u--;)s[i?u:++a]=t,t+=o;return s}},function(t,e,r){var n=r(72),o=r(280),i=r(50),a=r(51),u=i((function(t,e){if(null==t)return[];var r=e.length;return r>1&&a(t,e[0],e[1])?e=[]:r>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,n(e,1),[])}));t.exports=u},function(t,e,r){var n=r(49),o=r(47),i=r(13),a=r(110),u=r(281),s=r(43),c=r(282),f=r(18),h=r(1);t.exports=function(t,e,r){e=e.length?n(e,(function(t){return h(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[f];var l=-1;e=n(e,s(i));var d=a(t,(function(t,r,o){return{criteria:n(e,(function(e){return e(t)})),index:++l,value:t}}));return u(d,(function(t,e){return c(t,e,r)}))}},function(t,e){t.exports=function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}},function(t,e,r){var n=r(283);t.exports=function(t,e,r){for(var o=-1,i=t.criteria,a=e.criteria,u=i.length,s=r.length;++o<u;){var c=n(i[o],a[o]);if(c)return o>=s?c:c*("desc"==r[o]?-1:1)}return t.index-e.index}},function(t,e,r){var n=r(24);t.exports=function(t,e){if(t!==e){var r=void 0!==t,o=null===t,i=t==t,a=n(t),u=void 0!==e,s=null===e,c=e==e,f=n(e);if(!s&&!f&&!a&&t>e||a&&u&&c&&!s&&!f||o&&u&&c||!r&&c||!i)return 1;if(!o&&!a&&!f&&t<e||f&&r&&i&&!o&&!a||s&&r&&i||!u&&i||!c)return-1}return 0}},function(t,e,r){var n=r(103),o=0;t.exports=function(t){var e=++o;return n(t)+e}},function(t,e,r){var n=r(40),o=r(286);t.exports=function(t,e){return o(t||[],e||[],n)}},function(t,e){t.exports=function(t,e,r){for(var n=-1,o=t.length,i=e.length,a={};++n<o;){var u=n<i?e[n]:void 0;r(a,t[n],u)}return a}},function(t,e,r){"use strict";var n=r(0),o=r(288);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],r={},o={};function i(a){n.has(o,a)||(o[a]=!0,r[a]=!0,n.forEach(t.outEdges(a),(function(t){n.has(r,t.w)?e.push(t):i(t.w)})),delete r[a])}return n.forEach(t.nodes(),i),e}(t);n.forEach(e,(function(e){var r=t.edge(e);t.removeEdge(e),r.forwardName=e.name,r.reversed=!0,t.setEdge(e.w,e.v,r,n.uniqueId("rev"))}))},undo:function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}}))}}},function(t,e,r){var n=r(0),o=r(7).Graph,i=r(289);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var r=function(t,e){var r=new o,a=0,u=0;n.forEach(t.nodes(),(function(t){r.setNode(t,{v:t,in:0,out:0})})),n.forEach(t.edges(),(function(t){var n=r.edge(t.v,t.w)||0,o=e(t),i=n+o;r.setEdge(t.v,t.w,i),u=Math.max(u,r.node(t.v).out+=o),a=Math.max(a,r.node(t.w).in+=o)}));var c=n.range(u+a+3).map((function(){return new i})),f=a+1;return n.forEach(r.nodes(),(function(t){s(c,f,r.node(t))})),{graph:r,buckets:c,zeroIdx:f}}(t,e||a),c=function(t,e,r){var n,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;n=a.dequeue();)u(t,e,r,n);for(;n=i.dequeue();)u(t,e,r,n);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(n=e[s].dequeue()){o=o.concat(u(t,e,r,n,!0));break}}return o}(r.graph,r.buckets,r.zeroIdx);return n.flatten(n.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=n.constant(1);function u(t,e,r,o,i){var a=i?[]:void 0;return n.forEach(t.inEdges(o.v),(function(n){var o=t.edge(n),u=t.node(n.v);i&&a.push({v:n.v,w:n.w}),u.out-=o,s(e,r,u)})),n.forEach(t.outEdges(o.v),(function(n){var o=t.edge(n),i=n.w,a=t.node(i);a.in-=o,s(e,r,a)})),t.removeNode(o.v),a}function s(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}},function(t,e){function r(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=r,r.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},r.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},r.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,o)),r=r._prev;return"["+t.join(", ")+"]"}},function(t,e,r){"use strict";var n=r(0),o=r(4);t.exports={run:function(t){t.graph().dummyChains=[],n.forEach(t.edges(),(function(e){!function(t,e){var r,n,i,a=e.v,u=t.node(a).rank,s=e.w,c=t.node(s).rank,f=e.name,h=t.edge(e),l=h.labelRank;if(c===u+1)return;for(t.removeEdge(e),i=0,++u;u<c;++i,++u)h.points=[],n={width:0,height:0,edgeLabel:h,edgeObj:e,rank:u},r=o.addDummyNode(t,"edge",n,"_d"),u===l&&(n.width=h.width,n.height=h.height,n.dummy="edge-label",n.labelpos=h.labelpos),t.setEdge(a,r,{weight:h.weight},f),0===i&&t.graph().dummyChains.push(r),a=r;t.setEdge(a,s,{weight:h.weight},f)}(t,e)}))},undo:function(t){n.forEach(t.graph().dummyChains,(function(e){var r,n=t.node(e),o=n.edgeLabel;for(t.setEdge(n.edgeObj,o);n.dummy;)r=t.successors(e)[0],t.removeNode(e),o.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(o.x=n.x,o.y=n.y,o.width=n.width,o.height=n.height),e=r,n=t.node(e)}))}}},function(t,e,r){"use strict";var n=r(52).longestPath,o=r(127),i=r(292);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":u(t);break;case"tight-tree":!function(t){n(t),o(t)}(t);break;case"longest-path":a(t);break;default:u(t)}};var a=n;function u(t){i(t)}},function(t,e,r){"use strict";var n=r(0),o=r(127),i=r(52).slack,a=r(52).longestPath,u=r(7).alg.preorder,s=r(7).alg.postorder,c=r(4).simplify;function f(t){t=c(t),a(t);var e,r=o(t);for(d(r),h(r,t);e=v(r);)y(r,t,e,g(r,t,e))}function h(t,e){var r=s(t,t.nodes());r=r.slice(0,r.length-1),n.forEach(r,(function(r){!function(t,e,r){var n=t.node(r).parent;t.edge(r,n).cutvalue=l(t,e,r)}(t,e,r)}))}function l(t,e,r){var o=t.node(r).parent,i=!0,a=e.edge(r,o),u=0;return a||(i=!1,a=e.edge(o,r)),u=a.weight,n.forEach(e.nodeEdges(r),(function(n){var a,s,c=n.v===r,f=c?n.w:n.v;if(f!==o){var h=c===i,l=e.edge(n).weight;if(u+=h?l:-l,a=r,s=f,t.hasEdge(a,s)){var d=t.edge(r,f).cutvalue;u+=h?-d:d}}})),u}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,r,o,i){var a=r,u=t.node(o);return e[o]=!0,n.forEach(t.neighbors(o),(function(i){n.has(e,i)||(r=p(t,e,r,i,o))})),u.low=a,u.lim=r++,i?u.parent=i:delete u.parent,r}function v(t){return n.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function g(t,e,r){var o=r.v,a=r.w;e.hasEdge(o,a)||(o=r.w,a=r.v);var u=t.node(o),s=t.node(a),c=u,f=!1;u.lim>s.lim&&(c=s,f=!0);var h=n.filter(e.edges(),(function(e){return f===m(t,t.node(e.v),c)&&f!==m(t,t.node(e.w),c)}));return n.minBy(h,(function(t){return i(e,t)}))}function y(t,e,r,o){var i=r.v,a=r.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),d(t),h(t,e),function(t,e){var r=n.find(t.nodes(),(function(t){return!e.node(t).parent})),o=u(t,r);o=o.slice(1),n.forEach(o,(function(r){var n=t.node(r).parent,o=e.edge(r,n),i=!1;o||(o=e.edge(n,r),i=!0),e.node(r).rank=e.node(n).rank+(i?o.minlen:-o.minlen)}))}(t,e)}function m(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}t.exports=f,f.initLowLimValues=d,f.initCutValues=h,f.calcCutValue=l,f.leaveEdge=v,f.enterEdge=g,f.exchangeEdges=y},function(t,e,r){var n=r(0);t.exports=function(t){var e=function(t){var e={},r=0;function o(i){var a=r;n.forEach(t.children(i),o),e[i]={low:a,lim:r++}}return n.forEach(t.children(),o),e}(t);n.forEach(t.graph().dummyChains,(function(r){for(var n=t.node(r),o=n.edgeObj,i=function(t,e,r,n){var o,i,a=[],u=[],s=Math.min(e[r].low,e[n].low),c=Math.max(e[r].lim,e[n].lim);o=r;do{o=t.parent(o),a.push(o)}while(o&&(e[o].low>s||c>e[o].lim));i=o,o=n;for(;(o=t.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(t,e,o.v,o.w),a=i.path,u=i.lca,s=0,c=a[s],f=!0;r!==o.w;){if(n=t.node(r),f){for(;(c=a[s])!==u&&t.node(c).maxRank<n.rank;)s++;c===u&&(f=!1)}if(!f){for(;s<a.length-1&&t.node(c=a[s+1]).minRank<=n.rank;)s++;c=a[s]}t.setParent(r,c),r=t.successors(r)[0]}}))}},function(t,e,r){var n=r(0),o=r(4);t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),r=function(t){var e={};return n.forEach(t.children(),(function(r){!function r(o,i){var a=t.children(o);a&&a.length&&n.forEach(a,(function(t){r(t,i+1)}));e[o]=i}(r,1)})),e}(t),i=n.max(n.values(r))-1,a=2*i+1;t.graph().nestingRoot=e,n.forEach(t.edges(),(function(e){t.edge(e).minlen*=a}));var u=function(t){return n.reduce(t.edges(),(function(e,r){return e+t.edge(r).weight}),0)}(t)+1;n.forEach(t.children(),(function(s){!function t(e,r,i,a,u,s,c){var f=e.children(c);if(!f.length)return void(c!==r&&e.setEdge(r,c,{weight:0,minlen:i}));var h=o.addBorderNode(e,"_bt"),l=o.addBorderNode(e,"_bb"),d=e.node(c);e.setParent(h,c),d.borderTop=h,e.setParent(l,c),d.borderBottom=l,n.forEach(f,(function(n){t(e,r,i,a,u,s,n);var o=e.node(n),f=o.borderTop?o.borderTop:n,d=o.borderBottom?o.borderBottom:n,p=o.borderTop?a:2*a,v=f!==d?1:u-s[c]+1;e.setEdge(h,f,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(d,l,{weight:p,minlen:v,nestingEdge:!0})})),e.parent(c)||e.setEdge(r,h,{weight:0,minlen:u+s[c]})}(t,e,a,u,i,r,s)})),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,n.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,r){var n=r(0),o=r(4);function i(t,e,r,n,i,a){var u={width:0,height:0,rank:a,borderType:e},s=i[e][a-1],c=o.addDummyNode(t,"border",u,r);i[e][a]=c,t.setParent(c,n),s&&t.setEdge(s,c,{weight:1})}t.exports=function(t){n.forEach(t.children(),(function e(r){var o=t.children(r),a=t.node(r);if(o.length&&n.forEach(o,e),n.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,s=a.maxRank+1;u<s;++u)i(t,"borderLeft","_bl",r,a,u),i(t,"borderRight","_br",r,a,u)}}))}},function(t,e,r){"use strict";var n=r(0);function o(t){n.forEach(t.nodes(),(function(e){i(t.node(e))})),n.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function u(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){n.forEach(t.nodes(),(function(e){a(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,a),n.has(r,"y")&&a(r)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){n.forEach(t.nodes(),(function(e){u(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,u),n.has(r,"x")&&u(r)}))}(t),o(t))}}},function(t,e,r){"use strict";var n=r(0),o=r(298),i=r(299),a=r(300),u=r(304),s=r(305),c=r(7).Graph,f=r(4);function h(t,e,r){return n.map(e,(function(e){return u(t,e,r)}))}function l(t,e){var r=new c;n.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,r,e);n.forEach(i.vs,(function(e,r){t.node(e).order=r})),s(t,r,i.vs)}))}function d(t,e){n.forEach(e,(function(e){n.forEach(e,(function(e,r){t.node(e).order=r}))}))}t.exports=function(t){var e=f.maxRank(t),r=h(t,n.range(1,e+1),"inEdges"),a=h(t,n.range(e-1,-1,-1),"outEdges"),u=o(t);d(t,u);for(var s,c=Number.POSITIVE_INFINITY,p=0,v=0;v<4;++p,++v){l(p%2?r:a,p%4>=2),u=f.buildLayerMatrix(t);var g=i(t,u);g<c&&(v=0,s=n.cloneDeep(u),c=g)}d(t,s)}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t){var e={},r=n.filter(t.nodes(),(function(e){return!t.children(e).length})),o=n.max(n.map(r,(function(e){return t.node(e).rank}))),i=n.map(n.range(o+1),(function(){return[]}));var a=n.sortBy(r,(function(e){return t.node(e).rank}));return n.forEach(a,(function r(o){if(n.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),n.forEach(t.successors(o),r)})),i}},function(t,e,r){"use strict";var n=r(0);function o(t,e,r){for(var o=n.zipObject(r,n.map(r,(function(t,e){return e}))),i=n.flatten(n.map(e,(function(e){return n.sortBy(n.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<r.length;)a<<=1;var u=2*a-1;a-=1;var s=n.map(new Array(u),(function(){return 0})),c=0;return n.forEach(i.forEach((function(t){var e=t.pos+a;s[e]+=t.weight;for(var r=0;e>0;)e%2&&(r+=s[e+1]),s[e=e-1>>1]+=t.weight;c+=t.weight*r}))),c}t.exports=function(t,e){for(var r=0,n=1;n<e.length;++n)r+=o(t,e[n-1],e[n]);return r}},function(t,e,r){var n=r(0),o=r(301),i=r(302),a=r(303);t.exports=function t(e,r,u,s){var c=e.children(r),f=e.node(r),h=f?f.borderLeft:void 0,l=f?f.borderRight:void 0,d={};h&&(c=n.filter(c,(function(t){return t!==h&&t!==l})));var p=o(e,c);n.forEach(p,(function(r){if(e.children(r.v).length){var o=t(e,r.v,u,s);d[r.v]=o,n.has(o,"barycenter")&&(i=r,a=o,n.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(p,u);!function(t,e){n.forEach(t,(function(t){t.vs=n.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(v,d);var g=a(v,s);if(h&&(g.vs=n.flatten([h,g.vs,l],!0),e.predecessors(h).length)){var y=e.node(e.predecessors(h)[0]),m=e.node(e.predecessors(l)[0]);n.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+y.order+m.order)/(g.weight+2),g.weight+=2}return g}},function(t,e,r){var n=r(0);t.exports=function(t,e){return n.map(e,(function(e){var r=t.inEdges(e);if(r.length){var o=n.reduce(r,(function(e,r){var n=t.edge(r),o=t.node(r.v);return{sum:e.sum+n.weight*o.order,weight:e.weight+n.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t,e){var r={};return n.forEach(t,(function(t,e){var o=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};n.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),n.forEach(e.edges(),(function(t){var e=r[t.v],o=r[t.w];n.isUndefined(e)||n.isUndefined(o)||(o.indegree++,e.out.push(r[t.w]))})),function(t){var e=[];function r(t){return function(e){e.merged||(n.isUndefined(e.barycenter)||n.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight);e.weight&&(r+=e.barycenter*e.weight,n+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(r){r.in.push(e),0==--r.indegree&&t.push(r)}}for(;t.length;){var i=t.pop();e.push(i),n.forEach(i.in.reverse(),r(i)),n.forEach(i.out,o(i))}return n.map(n.filter(e,(function(t){return!t.merged})),(function(t){return n.pick(t,["vs","i","barycenter","weight"])}))}(n.filter(r,(function(t){return!t.indegree})))}},function(t,e,r){var n=r(0),o=r(4);function i(t,e,r){for(var o;e.length&&(o=n.last(e)).i<=r;)e.pop(),t.push(o.vs),r++;return r}t.exports=function(t,e){var r=o.partition(t,(function(t){return n.has(t,"barycenter")})),a=r.lhs,u=n.sortBy(r.rhs,(function(t){return-t.i})),s=[],c=0,f=0,h=0;a.sort((l=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:l?e.i-t.i:t.i-e.i})),h=i(s,u,h),n.forEach(a,(function(t){h+=t.vs.length,s.push(t.vs),c+=t.barycenter*t.weight,f+=t.weight,h=i(s,u,h)}));var l;var d={vs:n.flatten(s,!0)};f&&(d.barycenter=c/f,d.weight=f);return d}},function(t,e,r){var n=r(0),o=r(7).Graph;t.exports=function(t,e,r){var i=function(t){var e;for(;t.hasNode(e=n.uniqueId("_root")););return e}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return n.forEach(t.nodes(),(function(o){var u=t.node(o),s=t.parent(o);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(a.setNode(o),a.setParent(o,s||i),n.forEach(t[r](o),(function(e){var r=e.v===o?e.w:e.v,i=a.edge(r,o),u=n.isUndefined(i)?0:i.weight;a.setEdge(r,o,{weight:t.edge(e).weight+u})})),n.has(u,"minRank")&&a.setNode(o,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))})),a}},function(t,e,r){var n=r(0);t.exports=function(t,e,r){var o,i={};n.forEach(r,(function(r){for(var n,a,u=t.parent(r);u;){if((n=t.parent(u))?(a=i[n],i[n]=u):(a=o,o=u),a&&a!==u)return void e.setEdge(a,u);u=n}}))}},function(t,e,r){"use strict";var n=r(0),o=r(4),i=r(307).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),r=t.graph().ranksep,i=0;n.forEach(e,(function(e){var o=n.max(n.map(e,(function(e){return t.node(e).height})));n.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+r}))})(t=o.asNonCompoundGraph(t)),n.forEach(i(t),(function(e,r){t.node(r).x=e}))}},function(t,e,r){"use strict";var n=r(0),o=r(7).Graph,i=r(4);function a(t,e){var r={};return n.reduce(e,(function(e,o){var i=0,a=0,u=e.length,c=n.last(o);return n.forEach(o,(function(e,f){var h=function(t,e){if(t.node(e).dummy)return n.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),l=h?t.node(h).order:u;(h||e===c)&&(n.forEach(o.slice(a,f+1),(function(e){n.forEach(t.predecessors(e),(function(n){var o=t.node(n),a=o.order;!(a<i||l<a)||o.dummy&&t.node(e).dummy||s(r,n,e)}))})),a=f+1,i=l)})),o})),r}function u(t,e){var r={};function o(e,o,i,a,u){var c;n.forEach(n.range(o,i),(function(o){c=e[o],t.node(c).dummy&&n.forEach(t.predecessors(c),(function(e){var n=t.node(e);n.dummy&&(n.order<a||n.order>u)&&s(r,e,c)}))}))}return n.reduce(e,(function(e,r){var i,a=-1,u=0;return n.forEach(r,(function(n,s){if("border"===t.node(n).dummy){var c=t.predecessors(n);c.length&&(i=t.node(c[0]).order,o(r,u,s,a,i),u=s,a=i)}o(r,u,r.length,i,e.length)})),r})),r}function s(t,e,r){if(e>r){var n=e;e=r,r=n}var o=t[e];o||(t[e]=o={}),o[r]=!0}function c(t,e,r){if(e>r){var o=e;e=r,r=o}return n.has(t[e],r)}function f(t,e,r,o){var i={},a={},u={};return n.forEach(e,(function(t){n.forEach(t,(function(t,e){i[t]=t,a[t]=t,u[t]=e}))})),n.forEach(e,(function(t){var e=-1;n.forEach(t,(function(t){var s=o(t);if(s.length)for(var f=((s=n.sortBy(s,(function(t){return u[t]}))).length-1)/2,h=Math.floor(f),l=Math.ceil(f);h<=l;++h){var d=s[h];a[t]===t&&e<u[d]&&!c(r,t,d)&&(a[d]=t,a[t]=i[t]=i[d],e=u[d])}}))})),{root:i,align:a}}function h(t,e,r,i,a){var u={},s=function(t,e,r,i){var a=new o,u=t.graph(),s=function(t,e,r){return function(o,i,a){var u,s=o.node(i),c=o.node(a),f=0;if(f+=s.width/2,n.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2}if(u&&(f+=r?u:-u),u=0,f+=(s.dummy?e:t)/2,f+=(c.dummy?e:t)/2,f+=c.width/2,n.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=c.width/2;break;case"r":u=-c.width/2}return u&&(f+=r?u:-u),u=0,f}}(u.nodesep,u.edgesep,i);return n.forEach(e,(function(e){var o;n.forEach(e,(function(e){var n=r[e];if(a.setNode(n),o){var i=r[o],u=a.edge(i,n);a.setEdge(i,n,Math.max(s(t,e,o),u||0))}o=e}))})),a}(t,e,r,a),c=a?"borderLeft":"borderRight";function f(t,e){for(var r=s.nodes(),n=r.pop(),o={};n;)o[n]?t(n):(o[n]=!0,r.push(n),r=r.concat(e(n))),n=r.pop()}return f((function(t){u[t]=s.inEdges(t).reduce((function(t,e){return Math.max(t,u[e.v]+s.edge(e))}),0)}),s.predecessors.bind(s)),f((function(e){var r=s.outEdges(e).reduce((function(t,e){return Math.min(t,u[e.w]-s.edge(e))}),Number.POSITIVE_INFINITY),n=t.node(e);r!==Number.POSITIVE_INFINITY&&n.borderType!==c&&(u[e]=Math.max(u[e],r))}),s.successors.bind(s)),n.forEach(i,(function(t){u[t]=u[r[t]]})),u}function l(t,e){return n.minBy(n.values(e),(function(e){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return n.forIn(e,(function(e,n){var i=function(t,e){return t.node(e).width}(t,n)/2;r=Math.max(e+i,r),o=Math.min(e-i,o)})),r-o}))}function d(t,e){var r=n.values(e),o=n.min(r),i=n.max(r);n.forEach(["u","d"],(function(r){n.forEach(["l","r"],(function(a){var u,s=r+a,c=t[s];if(c!==e){var f=n.values(c);(u="l"===a?o-n.min(f):i-n.max(f))&&(t[s]=n.mapValues(c,(function(t){return t+u})))}}))}))}function p(t,e){return n.mapValues(t.ul,(function(r,o){if(e)return t[e.toLowerCase()][o];var i=n.sortBy(n.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var e,r=i.buildLayerMatrix(t),o=n.merge(a(t,r),u(t,r)),s={};n.forEach(["u","d"],(function(i){e="u"===i?r:n.values(r).reverse(),n.forEach(["l","r"],(function(r){"r"===r&&(e=n.map(e,(function(t){return n.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),u=f(t,e,o,a),c=h(t,e,u.root,u.align,"r"===r);"r"===r&&(c=n.mapValues(c,(function(t){return-t}))),s[i+r]=c}))}));var c=l(t,s);return d(s,c),p(s,t.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:s,hasConflict:c,verticalAlignment:f,horizontalCompaction:h,alignCoordinates:d,findSmallestWidthAlignment:l,balance:p}},function(t,e,r){var n=r(0),o=r(4),i=r(7).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),r=new i({compound:!0,multigraph:!0}).setGraph({});return n.forEach(t.nodes(),(function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+t.node(e).rank)})),n.forEach(t.edges(),(function(t){r.setEdge(t.v,t.w,{},t.name)})),n.forEach(e,(function(t,e){var o="layer"+e;r.setNode(o,{rank:"same"}),n.reduce(t,(function(t,e){return r.setEdge(t,e,{style:"invis"}),e}))})),r}}},function(t,e){t.exports="0.8.5"},function(t,e,r){var n=r(311),o=r(312),i={};for(var a in n)n.hasOwnProperty(a)&&(i[n[a]]=a);var u=t.exports={to:{},get:{}};function s(t,e,r){return Math.min(Math.max(e,t),r)}function c(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}u.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=u.get.hsl(t),r="hsl";break;case"hwb":e=u.get.hwb(t),r="hwb";break;default:e=u.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},u.get.rgb=function(t){if(!t)return null;var e,r,o,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=e[2],e=e[1],r=0;r<3;r++){var a=2*r;i[r]=parseInt(e.slice(a,a+2),16)}o&&(i[3]=parseInt(o,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(e=e[1])[3],r=0;r<3;r++)i[r]=parseInt(e[r]+e[r],16);o&&(i[3]=parseInt(o+o,16)/255)}else if(e=t.match(/^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/)){for(r=0;r<3;r++)i[r]=parseInt(e[r+1],0);e[4]&&(i[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/)))return(e=t.match(/(\\D+)/))?"transparent"===e[1]?[0,0,0,0]:(i=n[e[1]])?(i[3]=1,i):null:null;for(r=0;r<3;r++)i[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(i[3]=parseFloat(e[4]))}for(r=0;r<3;r++)i[r]=s(i[r],0,255);return i[3]=s(i[3],0,1),i},u.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\\(\\s*([+-]?(?:\\d*\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(r)?1:r,0,1)]}return null},u.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\\(\\s*([+-]?\\d*[\\.]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(r)?1:r,0,1)]}return null},u.to.hex=function(){var t=o(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},u.to.rgb=function(){var t=o(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},u.to.rgb.percent=function(){var t=o(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"},u.to.hsl=function(){var t=o(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},u.to.hwb=function(){var t=o(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},u.to.keyword=function(t){return i[t.slice(0,3)]}},function(t,e,r){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){"use strict";var n=r(313),o=Array.prototype.concat,i=Array.prototype.slice,a=t.exports=function(t){for(var e=[],r=0,a=t.length;r<a;r++){var u=t[r];n(u)?e=o.call(e,i.call(u)):e.push(u)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(128),i=r(316),a={};Object.keys(o).forEach((function(t){a[t]={},Object.defineProperty(a[t],"channels",{value:o[t].channels}),Object.defineProperty(a[t],"labels",{value:o[t].labels});var e=i(t);Object.keys(e).forEach((function(r){var o=e[r];a[t][r]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if("object"===n(r))for(var o=r.length,i=0;i<o;i++)r[i]=Math.round(r[i]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(o),a[t][r].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(o)}))})),t.exports=a},function(t,e,r){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){var n=r(128);function o(t){var e=function(){for(var t={},e=Object.keys(n),r=e.length,o=0;o<r;o++)t[e[o]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;)for(var o=r.pop(),i=Object.keys(n[o]),a=i.length,u=0;u<a;u++){var s=i[u],c=e[s];-1===c.distance&&(c.distance=e[o].distance+1,c.parent=o,r.unshift(s))}return e}function i(t,e){return function(r){return e(t(r))}}function a(t,e){for(var r=[e[t].parent,t],o=n[e[t].parent][t],a=e[t].parent;e[a].parent;)r.unshift(e[a].parent),o=i(n[e[a].parent][a],o),a=e[a].parent;return o.conversion=r,o}t.exports=function(t){for(var e=o(t),r={},n=Object.keys(e),i=n.length,u=0;u<i;u++){var s=n[u];null!==e[s].parent&&(r[s]=a(s,e))}return r}},function(t,e,r){"use strict";r.r(e);var n=r(53),o=r.n(n);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}Object.create;Object.create;var u=r(30),s=r.n(u),c=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]},t.prototype.execute=function(){},t.prototype.layout=function(t){this.init(t),this.execute()},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){s()(this,t)},t.prototype.destroy=function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},t}(),f={registerLayout:function(t,e,r){if(void 0===r&&(r=c),!e)throw new Error("please specify handler for this layout: "+t);var n=function(t){function r(r){var n=t.call(this)||this,i=n,a={},u=i.getDefaultCfg();return s()(a,u,e,r),o()(a,(function(t,e){i[e]=t})),n}return a(r,t),r}(r);f[t]=n}},h=f,l=r(3);l.translate=function(t,e,r){var n=new Array(9);return l.fromTranslation(n,r),l.multiply(t,n,e)},l.rotate=function(t,e,r){var n=new Array(9);return l.fromRotation(n,r),l.multiply(t,n,e)},l.scale=function(t,e,r){var n=new Array(9);return l.fromScaling(n,r),l.multiply(t,n,e)},l.transform=function(t,e){for(var r=[].concat(t),n=0,o=e.length;n<o;n++){var i=e[n];switch(i[0]){case"t":l.translate(r,r,[i[1],i[2]]);break;case"s":l.scale(r,r,[i[1],i[2]]);break;case"r":l.rotate(r,r,i[1])}}return r};var d=r(9),p={}.toString,v=function(t,e){return p.call(t)==="[object "+e+"]"},g=function(t){return v(t,"Function")},y=function(t){return Array.isArray?Array.isArray(t):v(t,"Array")};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b=function(t){var e=m(t);return null!==t&&"object"===e||"function"===e};var w=function(t,e){if(t)if(y(t))for(var r=0,n=t.length;r<n&&!1!==e(t[r],r);r++);else if(b(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break};Object.keys;var x=Array.prototype;x.splice,x.indexOf,Array.prototype.splice;Object.prototype.hasOwnProperty;var M=function(t,e,r){return t<e?e:t>r?r:t},k=function(t){return v(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI,Object.values;Object.prototype;function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var S=function t(e){if("object"!==_(e)||null===e)return e;var r;if(y(e)){r=[];for(var n=0,o=e.length;n<o;n++)"object"===_(e[n])&&null!=e[n]?r[n]=t(e[n]):r[n]=e[n]}else for(var i in r={},e)"object"===_(e[i])&&null!=e[i]?r[i]=t(e[i]):r[i]=e[i];return r};Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var r=this.map[t];return void 0===r?e:r},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();d.angle=function(t,e){var r=d.dot(t,e)/(d.length(t)*d.length(e));return Math.acos(M(r,-1,1))},d.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},d.angleTo=function(t,e,r){var n=d.angle(t,e),o=d.direction(t,e)>=0;return r?o?2*Math.PI-n:n:o?n:2*Math.PI-n},d.vertical=function(t,e,r){return r?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};r(129);var E=r(2),j=r.n(E),A=function(t){for(var e=[],r=t.length,n=0;n<r;n+=1){e[n]=[];for(var o=0;o<r;o+=1)n===o?e[n][o]=0:0!==t[n][o]&&t[n][o]?e[n][o]=t[n][o]:e[n][o]=1/0}for(var i=0;i<r;i+=1)for(n=0;n<r;n+=1)for(o=0;o<r;o+=1)e[n][o]>e[n][i]+e[i][o]&&(e[n][o]=e[n][i]+e[i][o]);return e},O=function(t,e){var r=t.nodes,n=t.edges,o=[],i={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(t,e){i[t.id]=e;o.push([])})),n&&n.forEach((function(t){var r=t.source,n=t.target,a=i[r],u=i[n];o[a][u]=1,e||(o[u][a]=1)})),o},N=function(t,e,r){for(var n=[],o=0;o<t;o++)n[o]=0;return r.forEach((function(t){t.source&&(n[e[t.source]]+=1),t.target&&(n[e[t.target]]+=1)})),n};!function(){function t(t,e,r,n){this.x1=t,this.y1=e,this.x2=r,this.y2=n}t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:r,maxY:n,width:r-t,height:n-e}}}();function I(t,e){return t.degree<e.degree?-1:t.degree>e.degree?1:0}var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.radius=null,e.startRadius=null,e.endRadius=null,e.startAngle=0,e.endAngle=2*Math.PI,e.clockwise=!0,e.divisions=1,e.ordering=null,e.angleRatio=1,e.nodes=[],e.edges=[],e.nodeMap={},e.degrees=[],e.width=300,e.height=300,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t=this.nodes,e=this.edges,r=t.length,n=this.center;if(0!==r){if(1===r)return t[0].x=n[0],void(t[0].y=n[1]);var o=this.radius,i=this.startRadius,a=this.endRadius,u=this.divisions,s=this.startAngle,c=this.endAngle,f=(c-s)/r,h={};t.forEach((function(t,e){h[t.id]=e})),this.nodeMap=h;var l=N(t.length,h,e);this.degrees=l,this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),o||i||a?!i&&a?i=a:i&&!a&&(a=i):o=this.height>this.width?this.width/2:this.height/2;var d=f*this.angleRatio;this.astep=d;var p=this.ordering,v=[];v="topology"===p?this.topologyOrdering():"topology-directed"===p?this.topologyOrdering(!0):"degree"===p?this.degreeOrdering():t;for(var g=this.clockwise,y=Math.ceil(r/u),m=0;m<r;++m){var b=o;b||null===i||null===a||(b=i+m*(a-i)/(r-1)),b||(b=10+100*m/(r-1));var w=s+m%y*d+2*Math.PI/u*Math.floor(m/y);g||(w=c-m%y*d-2*Math.PI/u*Math.floor(m/y)),v[m].x=n[0]+Math.cos(w)*b,v[m].y=n[1]+Math.sin(w)*b,v[m].weight=l[m]}}},e.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var e=this.degrees,r=this.edges,n=this.nodes,o=S(n),i=this.nodeMap,a=[o[0]],u=[n[0]],s=[],c=n.length;s[0]=!0,function(t,e,r,n){t.forEach((function(e,r){t[r].children=[],t[r].parent=[]})),n?e.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var o=0;e.target&&(o=r[e.target]),t[n].children.push(t[o].id),t[o].parent.push(t[n].id)})):e.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var o=0;e.target&&(o=r[e.target]),t[n].children.push(t[o].id),t[o].children.push(t[n].id)}))}(o,r,i,t);var f=0;return o.forEach((function(t,h){if(0!==h)if(h!==c-1&&e[h]===e[h+1]&&!function(t,e,r){for(var n=r.length,o=0;o<n;o++)if(t.id===r[o].source&&e.id===r[o].target||e.id===r[o].source&&t.id===r[o].target)return!0;return!1}(a[f],t,r)||!0===s[h]){for(var l=a[f].children,d=!1,p=0;p<l.length;p++){var v=i[l[p]];if(e[v]===e[h]&&!0!==s[v]){a.push(o[v]),u.push(n[i[o[v].id]]),s[v]=!0,d=!0;break}}for(var g=0;!d&&(s[g]||(a.push(o[g]),u.push(n[i[o[g].id]]),s[g]=!0,d=!0),++g!==c););}else a.push(t),u.push(n[i[t.id]]),s[h]=!0,f++})),u},e.prototype.degreeOrdering=function(){var t=this.nodes,e=[],r=this.degrees;return t.forEach((function(t,n){t.degree=r[n],e.push(t)})),e.sort(I),e},e}(c),P=r(11),C=r.n(P),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.nodeSize=30,e.minNodeSpacing=10,e.preventOverlap=!1,e.equidistant=!1,e.startAngle=1.5*Math.PI,e.clockwise=!0,e.sortBy="degree",e.nodes=[],e.edges=[],e.width=300,e.height=300,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges,n=e.length,o=t.center;if(0!==n){if(1===n)return e[0].x=o[0],void(e[0].y=o[1]);var i,a=[];i=j()(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,e.forEach((function(t){a.push(t);var e=i;j()(t.size)?e=Math.max(t.size[0],t.size[1]):k(t.size)&&(e=t.size),i=Math.max(i,e)})),t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.clockwise=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise;var u={},s={};if(a.forEach((function(t,e){u[t.id]=t,s[t.id]=e})),!("degree"!==t.sortBy&&C()(t.sortBy)&&void 0!==a[0][t.sortBy]||(t.sortBy="degree",k(e[0].degree)))){var c=N(e.length,s,r);a.forEach((function(t,e){t.degree=c[e]}))}a.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.maxValueNode=a[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var f=[[]],h=f[0];a.forEach((function(e){if(h.length>0){var r=Math.abs(h[0][t.sortBy]-e[t.sortBy]);t.maxLevelDiff&&r>=t.maxLevelDiff&&(h=[],f.push(h))}h.push(e)}));var l=i+t.minNodeSpacing;if(!t.preventOverlap){var d=f.length>0&&f[0].length>1,p=(Math.min(t.width,t.height)/2-l)/(f.length+(d?1:0));l=Math.min(l,p)}var v=0;if(f.forEach((function(e){var r=t.sweep;void 0===r&&(r=2*Math.PI-2*Math.PI/e.length);var n=e.dTheta=r/Math.max(1,e.length-1);if(e.length>1&&t.preventOverlap){var o=Math.cos(n)-Math.cos(0),i=Math.sin(n)-Math.sin(0),a=Math.sqrt(l*l/(o*o+i*i));v=Math.max(a,v)}e.r=v,v+=l})),t.equidistant){for(var g=0,y=0,m=0;m<f.length;m++){var b=f[m].r-y;g=Math.max(g,b)}y=0,f.forEach((function(t,e){0===e&&(y=t.r),t.r=y,y+=g}))}f.forEach((function(e){var r=e.dTheta,n=e.r;e.forEach((function(e,i){var a=t.startAngle+(t.clockwise?1:-1)*r*i;e.x=o[0]+n*Math.cos(a),e.y=o[1]+n*Math.sin(a)}))}))}},e}(c),F=r(74),T=r.n(F),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rankdir="TB",e.nodesep=50,e.ranksep=50,e.controlPoints=!1,e.sortByCombo=!1,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.nodeSize,n=t.rankdir;if(e){var o,i=t.edges||[],a=new T.a.graphlib.Graph;o=r?j()(r)?function(){return r}:function(){return[r,r]}:function(t){return t.size?j()(t.size)?t.size:[t.size,t.size]:[40,40]};var u,s=q(t.nodesepFunc,t.nodesep,50),c=q(t.ranksepFunc,t.ranksep,50);"LR"!==n&&"RL"!==n||(s=q(t.ranksepFunc,t.ranksep,50),c=q(t.nodesepFunc,t.nodesep,50)),a.setDefaultEdgeLabel((function(){return{}})),a.setGraph(t),e.forEach((function(t){var e=o(t),r=c(t),n=s(t),i=e[0]+2*n,u=e[1]+2*r;a.setNode(t.id,{width:i,height:u})})),i.forEach((function(t){a.setEdge(t.source,t.target,{weight:t.weight||1})})),T.a.layout(a),a.nodes().forEach((function(t){u=a.node(t);var r=e.findIndex((function(e){return e.id===t}));e[r].x=u.x,e[r].y=u.y})),a.edges().forEach((function(e){u=a.edge(e);var r=i.findIndex((function(t){return t.source===e.v&&t.target===e.w}));t.controlPoints&&"loop"!==i[r].type&&"loop"!==i[r].shape&&(i[r].controlPoints=u.points.slice(1,u.points.length-1))})),t.sortByCombo&&t.sortLevel("comboId")}},e.prototype.sortLevel=function(t){var e=this.nodes,r={};e.forEach((function(t){r[t.y]||(r[t.y]={y:t.y,nodes:[]}),r[t.y].nodes.push(t)})),Object.keys(r).forEach((function(e){var n=r[e].nodes,o=n.length,i={};if(n.forEach((function(t){var e=t.comboId;i[e]||(i[e]={x:0,y:0,count:0}),i[e].x+=t.x,i[e].y+=t.y,i[e].count++})),Object.keys(i).forEach((function(t){i[t].x/=i[t].count,i[t].y/=i[t].count})),1!==o){var a=n.sort((function(t,e){return t.x-e.x})),u=a[0].x,s=(a[o-1].x-u)/(o-1);n.sort((function(e,r){var n=e[t]||"undefined",o=r[t]||"undefined";return n<o?-1:n>o?1:0})).forEach((function(t,e){t.x=u+e*s}))}}))},e}(c);function q(t,e,r){return t||(k(e)?function(){return e}:function(){return r})}function L(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var o,i,a,u,s,c,f,h,l,d=t._root,p={data:n},v=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(i=(v+y)/2))?v=i:y=i,(f=r>=(a=(g+m)/2))?g=a:m=a,o=d,!(d=d[h=f<<1|c]))return o[h]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),e===u&&r===s)return p.next=d,o?o[h]=p:t._root=p,t;do{o=o?o[h]=new Array(4):t._root=new Array(4),(c=e>=(i=(v+y)/2))?v=i:y=i,(f=r>=(a=(g+m)/2))?g=a:m=a}while((h=f<<1|c)==(l=(s>=a)<<1|u>=i));return o[l]=d,o[h]=p,t}var B=function(t,e,r,n,o){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=o};function V(t){return t[0]}function U(t){return t[1]}function Y(t,e,r){var n=new H(null==e?V:e,null==r?U:r,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function H(t,e,r,n,o,i){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=o,this._y1=i,this._root=void 0}function W(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var G=Y.prototype=H.prototype;G.copy=function(){var t,e,r=new H(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=W(n),r;for(t=[{source:n,target:r._root=new Array(4)}];n=t.pop();)for(var o=0;o<4;++o)(e=n.source[o])&&(e.length?t.push({source:e,target:n.target[o]=new Array(4)}):n.target[o]=W(e));return r},G.add=function(t){var e=+this._x.call(null,t),r=+this._y.call(null,t);return L(this.cover(e,r),e,r,t)},G.addAll=function(t){var e,r,n,o,i=t.length,a=new Array(i),u=new Array(i),s=1/0,c=1/0,f=-1/0,h=-1/0;for(r=0;r<i;++r)isNaN(n=+this._x.call(null,e=t[r]))||isNaN(o=+this._y.call(null,e))||(a[r]=n,u[r]=o,n<s&&(s=n),n>f&&(f=n),o<c&&(c=o),o>h&&(h=o));if(s>f||c>h)return this;for(this.cover(s,c).cover(f,h),r=0;r<i;++r)L(this,a[r],u[r],t[r]);return this},G.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,o=this._x1,i=this._y1;if(isNaN(r))o=(r=Math.floor(t))+1,i=(n=Math.floor(e))+1;else{for(var a,u,s=o-r||1,c=this._root;r>t||t>=o||n>e||e>=i;)switch(u=(e<n)<<1|t<r,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:o=r+s,i=n+s;break;case 1:r=o-s,i=n+s;break;case 2:o=r+s,n=i-s;break;case 3:r=o-s,n=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=n,this._x1=o,this._y1=i,this},G.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},G.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},G.find=function(t,e,r){var n,o,i,a,u,s,c,f=this._x0,h=this._y0,l=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new B(v,f,h,l,d)),null==r?r=1/0:(f=t-r,h=e-r,l=t+r,d=e+r,r*=r);s=p.pop();)if(!(!(v=s.node)||(o=s.x0)>l||(i=s.y0)>d||(a=s.x1)<f||(u=s.y1)<h))if(v.length){var g=(o+a)/2,y=(i+u)/2;p.push(new B(v[3],g,y,a,u),new B(v[2],o,y,g,u),new B(v[1],g,i,a,y),new B(v[0],o,i,g,y)),(c=(e>=y)<<1|t>=g)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),w=m*m+b*b;if(w<r){var x=Math.sqrt(r=w);f=t-x,h=e-x,l=t+x,d=e+x,n=v.data}}return n},G.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,r,n,o,i,a,u,s,c,f,h,l,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(u=(p+g)/2))?p=u:g=u,(f=a>=(s=(v+y)/2))?v=s:y=s,e=d,!(d=d[h=f<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(r=e,l=h)}for(;d.data!==t;)if(n=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,n?(o?n.next=o:delete n.next,this):e?(o?e[h]=o:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(r?r[l]=d:this._root=d),this):(this._root=o,this)},G.removeAll=function(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this},G.root=function(){return this._root},G.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},G.visit=function(t){var e,r,n,o,i,a,u=[],s=this._root;for(s&&u.push(new B(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,n=e.x0,o=e.y0,i=e.x1,a=e.y1)&&s.length){var c=(n+i)/2,f=(o+a)/2;(r=s[3])&&u.push(new B(r,c,f,i,a)),(r=s[2])&&u.push(new B(r,n,f,c,a)),(r=s[1])&&u.push(new B(r,c,o,i,f)),(r=s[0])&&u.push(new B(r,n,o,c,f))}return this},G.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new B(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var o=e.node;if(o.length){var i,a=e.x0,u=e.y0,s=e.x1,c=e.y1,f=(a+s)/2,h=(u+c)/2;(i=o[0])&&r.push(new B(i,a,u,f,h)),(i=o[1])&&r.push(new B(i,f,u,s,h)),(i=o[2])&&r.push(new B(i,a,h,f,c)),(i=o[3])&&r.push(new B(i,f,h,s,c))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},G.x=function(t){return arguments.length?(this._x=t,this):this._x},G.y=function(t){return arguments.length?(this._y=t,this):this._y};var $=function(t){return function(){return t}},X=function(t){return 1e-6*(t()-.5)},J={value:function(){}};function Q(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new K(n)}function K(t){this._=t}function Z(t,e){return t.trim().split(/^|\\s+/).map((function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function tt(t,e){for(var r,n=0,o=t.length;n<o;++n)if((r=t[n]).name===e)return r.value}function et(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=J,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}K.prototype=Q.prototype={constructor:K,on:function(t,e){var r,n=this._,o=Z(t+"",n),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(r=(t=o[i]).type)n[r]=et(n[r],t.name,e);else if(null==e)for(r in n)n[r]=et(n[r],t.name,null);return this}for(;++i<a;)if((r=(t=o[i]).type)&&(r=tt(n[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new K(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,o=new Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,r=(n=this._[t]).length;i<r;++i)n[i].value.apply(e,o)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};var rt=Q;function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ot,it,at=0,ut=0,st=0,ct=0,ft=0,ht=0,lt="object"===("undefined"==typeof performance?"undefined":nt(performance))&&performance.now?performance:Date,dt="object"===("undefined"==typeof window?"undefined":nt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pt(){return ft||(dt(vt),ft=lt.now()+ht)}function vt(){ft=0}function gt(){this._call=this._time=this._next=null}function yt(t,e,r){var n=new gt;return n.restart(t,e,r),n}function mt(){ft=(ct=lt.now())+ht,at=ut=0;try{!function(){pt(),++at;for(var t,e=ot;e;)(t=ft-e._time)>=0&&e._call.call(null,t),e=e._next;--at}()}finally{at=0,function(){var t,e,r=ot,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:ot=e);it=t,wt(n)}(),ft=0}}function bt(){var t=lt.now(),e=t-ct;e>1e3&&(ht-=e,ct=t)}function wt(t){at||(ut&&(ut=clearTimeout(ut)),t-ft>24?(t<1/0&&(ut=setTimeout(mt,t-lt.now()-ht)),st&&(st=clearInterval(st))):(st||(ct=lt.now(),st=setInterval(bt,1e3)),at=1,dt(mt)))}gt.prototype=yt.prototype={constructor:gt,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?pt():+r)+(null==e?0:+e),this._next||it===this||(it?it._next=this:ot=this,it=this),this._call=t,this._time=r,wt()},stop:function(){this._call&&(this._call=null,this._time=1/0,wt())}};function xt(t){return t.x}function Mt(t){return t.y}var kt=Math.PI*(3-Math.sqrt(5)),_t=function(t){var e,r,n=1,o=.001,i=1-Math.pow(o,1/300),a=0,u=.6,s=new Map,c=yt(l),f=rt("tick","end"),h=(r=1,function(){return(r=(1664525*r+1013904223)%4294967296)/4294967296});function l(){d(),f.call("tick",e),n<o&&(c.stop(),f.call("end",e))}function d(r){var o,c,f=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(a-n)*i,s.forEach((function(t){t(n)})),o=0;o<f;++o)null==(c=t[o]).fx?c.x+=c.vx*=u:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=u:(c.y=c.fy,c.vy=0);return e}function p(){for(var e,r=0,n=t.length;r<n;++r){if((e=t[r]).index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(.5+r),i=r*kt;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function v(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),p(),e={tick:d,restart:function(){return c.restart(l),e},stop:function(){return c.stop(),e},nodes:function(r){return arguments.length?(t=r,p(),s.forEach(v),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(o=+t,e):o},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(u=1-t,e):1-u},randomSource:function(t){return arguments.length?(h=t,s.forEach(v),e):h},force:function(t,r){return arguments.length>1?(null==r?s.delete(t):s.set(t,v(r)),e):s.get(t)},find:function(e,r,n){var o,i,a,u,s,c=0,f=t.length;for(null==n?n=1/0:n*=n,c=0;c<f;++c)(a=(o=e-(u=t[c]).x)*o+(i=r-u.y)*i)<n&&(s=u,n=a);return s},on:function(t,r){return arguments.length>1?(f.on(t,r),e):f.on(t)}}},St=function(){var t,e,r,n,o,i=$(-30),a=1,u=1/0,s=.81;function c(r){var o,i=t.length,a=Y(t,xt,Mt).visitAfter(h);for(n=r,o=0;o<i;++o)e=t[o],a.visit(l)}function f(){if(t){var e,r,n=t.length;for(o=new Array(n),e=0;e<n;++e)r=t[e],o[r.index]=+i(r,e,t)}}function h(t){var e,r,n,i,a,u=0,s=0;if(t.length){for(n=i=a=0;a<4;++a)(e=t[a])&&(r=Math.abs(e.value))&&(u+=e.value,s+=r,n+=r*e.x,i+=r*e.y);t.x=n/s,t.y=i/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=o[e.data.index]}while(e=e.next)}t.value=u}function l(t,i,c,f){if(!t.value)return!0;var h=t.x-e.x,l=t.y-e.y,d=f-i,p=h*h+l*l;if(d*d/s<p)return p<u&&(0===h&&(p+=(h=X(r))*h),0===l&&(p+=(l=X(r))*l),p<a&&(p=Math.sqrt(a*p)),e.vx+=h*t.value*n/p,e.vy+=l*t.value*n/p),!0;if(!(t.length||p>=u)){(t.data!==e||t.next)&&(0===h&&(p+=(h=X(r))*h),0===l&&(p+=(l=X(r))*l),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=o[t.data.index]*n/p,e.vx+=h*d,e.vy+=l*d)}while(t=t.next)}}return c.initialize=function(e,n){t=e,r=n,f()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:$(+t),f(),c):i},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c};function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t){return t.index}function At(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}var Ot=function(t){var e,r,n,o,i,a,u=jt,s=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},c=$(30),f=1;function h(n){for(var o=0,u=t.length;o<f;++o)for(var s,c,h,l,d,p,v,g=0;g<u;++g)c=(s=t[g]).source,l=(h=s.target).x+h.vx-c.x-c.vx||X(a),d=h.y+h.vy-c.y-c.vy||X(a),l*=p=((p=Math.sqrt(l*l+d*d))-r[g])/p*n*e[g],d*=p,h.vx-=l*(v=i[g]),h.vy-=d*v,c.vx+=l*(v=1-v),c.vy+=d*v}function l(){if(n){var a,s,c=n.length,f=t.length,h=new Map(n.map((function(t,e){return[u(t,e,n),t]})));for(a=0,o=new Array(c);a<f;++a)(s=t[a]).index=a,"object"!==Et(s.source)&&(s.source=At(h,s.source)),"object"!==Et(s.target)&&(s.target=At(h,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(a=0,i=new Array(f);a<f;++a)s=t[a],i[a]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);e=new Array(f),d(),r=new Array(f),p()}}function d(){if(n)for(var r=0,o=t.length;r<o;++r)e[r]=+s(t[r],r,t)}function p(){if(n)for(var e=0,o=t.length;e<o;++e)r[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){n=t,a=e,l()},h.links=function(e){return arguments.length?(t=e,l(),h):t},h.id=function(t){return arguments.length?(u=t,h):u},h.iterations=function(t){return arguments.length?(f=+t,h):f},h.strength=function(t){return arguments.length?(s="function"==typeof t?t:$(+t),d(),h):s},h.distance=function(t){return arguments.length?(c="function"==typeof t?t:$(+t),p(),h):c},h};function Nt(t){return t.x+t.vx}function It(t){return t.y+t.vy}var Rt=function(t){var e,r,n,o=1,i=1;function a(){for(var t,a,s,c,f,h,l,d=e.length,p=0;p<i;++p)for(a=Y(e,Nt,It).visitAfter(u),t=0;t<d;++t)s=e[t],h=r[s.index],l=h*h,c=s.x+s.vx,f=s.y+s.vy,a.visit(v);function v(t,e,r,i,a){var u=t.data,d=t.r,p=h+d;if(!u)return e>c+p||i<c-p||r>f+p||a<f-p;if(u.index>s.index){var v=c-u.x-u.vx,g=f-u.y-u.vy,y=v*v+g*g;y<p*p&&(0===v&&(y+=(v=X(n))*v),0===g&&(y+=(g=X(n))*g),y=(p-(y=Math.sqrt(y)))/y*o,s.vx+=(v*=y)*(p=(d*=d)/(l+d)),s.vy+=(g*=y)*p,u.vx-=v*(p=1-p),u.vy-=g*p)}}}function u(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var n,o,i=e.length;for(r=new Array(i),n=0;n<i;++n)o=e[n],r[o.index]=+t(o,n,e)}}return"function"!=typeof t&&(t=$(null==t?1:+t)),a.initialize=function(t,r){e=t,n=r,s()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(o=+t,a):o},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:$(+e),s(),a):t},a};function Pt(){function t(t){return function(){return t}}var e,r=function(t){return t.cluster},n=t(1),o=t(-1),i=t(100),a=t(.1),u=[0,0],s=[],c={},f=[],h=100,l=100,d={none:{x:0,y:0}},p=[],v="force",g=!0,y=.1;function m(t){if(!g)return m;e.tick(),w();for(var n=0,o=s.length,i=void 0,a=t*y;n<o;++n)(i=s[n]).vx+=(d[r(i)].x-i.x)*a,i.vy+=(d[r(i)].y-i.y)*a}function b(){s&&function(){if(!s||!s.length)return;if(void 0===r(s[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var t=(d=[],v=[],g={},y=[],u=function(t){var e={};return t.forEach((function(t){var n=r(t);e[n]||(e[n]={count:0,sumforceNodeSize:0})})),t.forEach((function(t){var o=r(t),i=n(t),a=e[o];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(i*i)*1.3,e[o]=a})),e}(s),y=function(t){var e={},n=[];return t.forEach((function(t){var n=function(t){var e=r(c[t.source]),n=r(c[t.target]);return e<=n?e+"~"+n:n+"~"+e}(t),o=0;void 0!==e[n]&&(o=e[n]),o+=1,e[n]=o})),Object.entries(e).forEach((function(t){var e=t[0],r=t[1],o=e.split("~")[0],i=e.split("~")[1];void 0!==o&&void 0!==i&&n.push({source:o,target:i,count:r})})),n}(f),Object.keys(u).forEach((function(t,e){var r=u[t];d.push({id:t,size:r.count,r:Math.sqrt(r.sumforceNodeSize/Math.PI)}),g[t]=e})),y.forEach((function(t){var e=g[t.source],r=g[t.target];void 0!==e&&void 0!==r&&v.push({source:e,target:r,count:t.count})})),{nodes:d,links:v});var u,d,v,g,y;e=_t(t.nodes).force("x",function(t){var e,r,n,o=$(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vx+=(n[i]-o.x)*r[i]*t}function a(){if(e){var i,a=e.length;for(r=new Array(a),n=new Array(a),i=0;i<a;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=$(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:$(+t),a(),i):o},i.x=function(e){return arguments.length?(t="function"==typeof e?e:$(+e),a(),i):t},i}(h).strength(.1)).force("y",function(t){var e,r,n,o=$(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vy+=(n[i]-o.y)*r[i]*t}function a(){if(e){var i,a=e.length;for(r=new Array(a),n=new Array(a),i=0;i<a;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=$(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:$(+t),a(),i):o},i.y=function(e){return arguments.length?(t="function"==typeof e?e:$(+e),a(),i):t},i}(l).strength(.1)).force("collide",Rt((function(t){return t.r})).iterations(4)).force("charge",St().strength(o)).force("links",Ot(t.nodes.length?t.links:[]).distance(i).strength(a)),p=e.nodes(),w()}()}function w(){return d={none:{x:0,y:0}},p.forEach((function(t){d[t.id]={x:t.x-u[0],y:t.y-u[1]}})),d}function x(t){c={},t.forEach((function(t){c[t.id]=t}))}return m.initialize=function(t){s=t,b()},m.template=function(t){return arguments.length?(v=t,b(),m):v},m.groupBy=function(t){return arguments.length?"string"==typeof t?(r=function(e){return e[t]},m):(r=t,m):r},m.enableGrouping=function(t){return arguments.length?(g=t,m):g},m.strength=function(t){return arguments.length?(y=t,m):y},m.centerX=function(t){return arguments.length?(h=t,m):h},m.centerY=function(t){return arguments.length?(l=t,m):l},m.nodes=function(t){return arguments.length?(x(t||[]),s=t||[],m):s},m.links=function(t){return arguments.length?(f=t||[],b(),m):f},m.forceNodeSize=function(e){return arguments.length?(n="function"==typeof e?e:t(+e),b(),m):n},m.nodeSize=m.forceNodeSize,m.forceCharge=function(e){return arguments.length?(o="function"==typeof e?e:t(+e),b(),m):o},m.forceLinkDistance=function(e){return arguments.length?(i="function"==typeof e?e:t(+e),b(),m):i},m.forceLinkStrength=function(e){return arguments.length?(a="function"==typeof e?e:t(+e),b(),m):a},m.offset=function(t){return arguments.length?(u=t,m):u},m.getFocis=w,m}var Ct=r(31),zt=r.n(Ct),Ft=r(19),Tt=r.n(Ft),Dt="LAYOUT_RUN",qt="LAYOUT_END",Lt="LAYOUT_ERROR",Bt="LAYOUT_TICK",Vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.nodeStrength=null,e.edgeStrength=null,e.preventOverlap=!1,e.clusterNodeStrength=null,e.clusterEdgeStrength=null,e.clusterEdgeDistance=null,e.clusterNodeSize=null,e.clusterFociStrength=null,e.linkDistance=50,e.alphaDecay=.028,e.alphaMin=.001,e.alpha=.3,e.collideStrength=1,e.workerEnabled=!1,e.tick=function(){},e.onLayoutEnd=function(){},e.onTick=function(){},e.ticking=void 0,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},e.prototype.init=function(t){this.nodes=t.nodes||[];var e=t.edges||[];this.edges=e.map((function(t){var e={},r=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(t).forEach((function(n){r.indexOf(n)>-1||(e[n]=t[n])})),e})),this.ticking=!1},e.prototype.execute=function(t){var e=this,r=e.nodes,n=e.edges;if(!e.ticking){var o=e.forceSimulation,i=e.alphaMin,a=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(r),e.clusterForce.links(n)),o.nodes(r),e.edgeForce.links(n)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var s=St();if(e.nodeStrength&&s.strength(e.nodeStrength),o=_t().nodes(r),e.clustering){var c=Pt();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),n&&c.links(n),r&&c.nodes(r),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",function(t,e){var r,n=1;function o(){var o,i,a=r.length,u=0,s=0;for(o=0;o<a;++o)u+=(i=r[o]).x,s+=i.y;for(u=(u/a-t)*n,s=(s/a-e)*n,o=0;o<a;++o)(i=r[o]).x-=u,i.y-=s}return null==t&&(t=0),null==e&&(e=0),o.initialize=function(t){r=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.strength=function(t){return arguments.length?(n=+t,o):n},o}(e.center[0],e.center[1])).force("charge",s).alpha(u).alphaDecay(a).alphaMin(i),e.preventOverlap&&e.overlapProcess(o),n){var f=Ot().id((function(t){return t.id})).links(n);e.edgeStrength&&f.strength(e.edgeStrength),e.linkDistance&&f.distance(e.linkDistance),e.edgeForce=f,o.force("link",f)}if(e.workerEnabled&&!Ut()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),e.workerEnabled){o.stop();for(var h=function(t){var e=t.alphaMin(),r=t.alphaTarget(),n=t.alpha(),o=Math.log((e-r)/(n-r))/Math.log(1-t.alphaDecay());return Math.ceil(o)}(o),l=1;l<=h;l++)o.tick(),postMessage({type:Bt,currentTick:l,totalTicks:h,nodes:r},void 0);e.ticking=!1}else o.on("tick",(function(){e.tick()})).on("end",(function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()})),e.ticking=!0;e.forceSimulation=o,e.ticking=!0}catch(t){e.ticking=!1,console.warn(t)}}},e.prototype.overlapProcess=function(t){var e,r,n=this.nodeSize,o=this.nodeSpacing,i=this.collideStrength;if(r=Tt()(o)?function(){return o}:zt()(o)?o:function(){return 0},n)if(zt()(n))e=function(t){return n(t)+r(t)};else if(j()(n)){var a=(n[0]>n[1]?n[0]:n[1])/2;e=function(t){return a+r(t)}}else if(Tt()(n)){var u=n/2;e=function(t){return u+r(t)}}else e=function(){return 10};else e=function(t){return t.size?j()(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+r(t):t.size/2+r(t):10+r(t)};t.force("collisionForce",Rt(e).strength(i))},e.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,s()(this,t)},e.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},e}(c);function Ut(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}var Yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=500,e.gravity=10,e.clustering=!1,e.clusterGravity=10,e.linkDistance=50,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1/300),e.alphaTarget=0,e.velocityDecay=.6,e.linkStrength=1,e.nodeStrength=30,e.preventOverlap=!1,e.collideStrength=1,e.optimizeRangeFactor=1,e.tick=function(){},e.nodes=[],e.edges=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.nodeIdxMap={},e}return a(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);var r={},n={};t.forEach((function(t,e){r[t.id]=t,n[t.id]=e})),this.nodeMap=r,this.nodeIdxMap=n,this.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var o,i=t.center,a=t.velocityDecay,u=t.clustering;t.initVals(),u&&(o=t.getClusterMap());for(var s=function(n){var i=[];e.forEach((function(t,e){i[e]={x:0,y:0}})),t.applyCalculate(e,r,i),u&&t.applyClusterForce(o,i),e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=i[e].x*a,t.y+=i[e].y*a)})),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,f=0;f<n;f++)s();var h=[0,0];e.forEach((function(t){k(t.x)&&k(t.y)&&(h[0]+=t.x,h[1]+=t.y)})),h[0]/=e.length,h[1]/=e.length;var l=[i[0]-h[0],i[1]-h[1]];e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=l[0],t.y+=l[1])}))},e.prototype.initVals=function(){for(var t=this.edges,e={},r=0;r<t.length;++r)e[t[r].source]?e[t[r].source]++:e[t[r].source]=1,e[t[r].target]?e[t[r].target]++:e[t[r].target]=1;var n=[];for(r=0;r<t.length;++r)n[r]=e[t[r].source]/(e[t[r].source]+e[t[r].target]);this.bias=n;var o,i,a=this.nodeSize,u=this.nodeSpacing;if(i=k(u)?function(){return u}:g(u)?u:function(){return 0},a)if(g(a))o=function(t){return a(t)+i(t)};else if(y(a)){var s=(a[0]>a[1]?a[0]:a[1])/2;o=function(t){return s+i(t)}}else if(k(a)){var c=a/2;o=function(t){return c+i(t)}}else o=function(){return 10};else o=function(t){return t.size?y(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+i(t):t.size/2+i(t):10+i(t)};this.nodeSize=o;var f,h=this.linkDistance;h||(h=50),k(h)&&(f=function(t){return h}),this.linkDistance=f;var l,d=this.linkStrength;d||(d=1),k(d)&&(l=function(t){return d}),this.linkStrength=l;var p,v=this.nodeStrength;v||(v=30),k(v)&&(p=function(t){return v}),this.nodeStrength=p},e.prototype.getClusterMap=function(){var t=this.nodes,e={};for(var r in t.forEach((function(t){if(void 0===e[t.cluster]){var r={name:t.cluster,cx:0,cy:0,count:0};e[t.cluster]=r}var n=e[t.cluster];k(t.x)&&(n.cx+=t.x),k(t.y)&&(n.cy+=t.y),n.count++})),e)e[r].cx/=e[r].count,e[r].cy/=e[r].count;return e},e.prototype.applyClusterForce=function(t,e){var r=this.gravity,n=this.nodes,o=this.clusterGravity||r,i=this.alpha;for(var a in n.forEach((function(r,n){if(k(r.x)&&k(r.y)){var a=t[r.cluster],u=r.x-a.cx,s=r.y-a.cy,c=Math.sqrt(u*u+s*s);e[n].x-=u*o*i/c,e[n].y-=s*o*i/c}})),t)t[a].cx=0,t[a].cy=0,t[a].count=0;for(var a in n.forEach((function(e){var r=t[e.cluster];k(e.x)&&(r.cx+=e.x),k(e.y)&&(r.cy+=e.y),r.count++})),t)t[a].cx/=t[a].count,t[a].cy/=t[a].count},e.prototype.applyCalculate=function(t,e,r){var n={};t.forEach((function(e,o){r[o]={x:0,y:0},t.forEach((function(t,r){if(!(o<r)){var i=e.x-t.x,a=e.y-t.y,u=i*i+a*a;u<1&&(u=Math.sqrt(u)),0===i&&(u+=(i=.01*Math.random())*i),0===a&&(u+=(a=.01*Math.random())*a);var s=Math.sqrt(u);n[e.id+"-"+t.id]={vx:i,vy:a,vl:u,sqrtVl:s},n[t.id+"-"+e.id]={vx:-i,vy:-a,vl:u,sqrtVl:s}}}))})),this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){var n=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,i=this.alpha,a=this.collideStrength,u=this.preventOverlap,s=this.nodeSize;t.forEach((function(c,f){t.forEach((function(t,h){if(f!==h&&k(c.x)&&k(t.x)&&k(c.y)&&k(t.y)){var l=r[c.id+"-"+t.id],d=l.vl,p=l.vx,v=l.vy;if(!(d>n)&&(e[f].x+=p*o(t)*i/d,e[f].y+=v*o(t)*i/d,u&&f<h)){var g=s(c),y=s(t),m=g+y;if(d<m*m){var b=r[c.id+"-"+t.id].sqrtVl,w=(m-b)/b*a,x=y*y/(g*g+y*y),M=p*w,_=v*w;e[f].x+=M*x,e[f].y+=_*x,x=1-x,e[h].x-=M*x,e[h].y-=_*x}}}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this,o=this.linkDistance,i=this.alpha,a=this.linkStrength,u=this.bias;t.forEach((function(t,s){if(t.source&&t.target){var c=n.nodeIdxMap[t.source],f=n.nodeIdxMap[t.target];if(c!==f){var h=n.nodeMap[t.source],l=n.nodeMap[t.target];if(k(l.x)&&k(h.x)&&k(l.y)&&k(h.y)){var d=r[t.target+"-"+t.source],p=(d.vl,d.sqrtVl),v=d.vx,g=d.vy,y=(p-o(t))/p*i*a(t),m=v*y,b=g*y,w=u[s];e[f].x-=m*w,e[f].y-=b*w,e[c].x+=m*(1-w),e[c].y+=b*(1-w)}}}}))},e}(c),Ht=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterGravity=10,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e}return a(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){var t=this,e=this.nodes,r=this.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=r[0],void(e[0].y=r[1]);var n={},o={};e.forEach((function(e,r){k(e.x)||(e.x=Math.random()*t.width),k(e.y)||(e.y=Math.random()*t.height),n[e.id]=e,o[e.id]=r})),this.nodeMap=n,this.nodeIdxMap=o,this.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var o=t.center,i=t.width/10,a=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,s=t.speed,c=t.clustering,f={};if(c)for(var h in e.forEach((function(t){if(void 0===f[t.cluster]){var e={name:t.cluster,cx:0,cy:0,count:0};f[t.cluster]=e}var r=f[t.cluster];k(t.x)&&(r.cx+=t.x),k(t.y)&&(r.cy+=t.y),r.count++})),f)f[h].cx/=f[h].count,f[h].cy/=f[h].count;for(var l=function(n){var h=[];if(e.forEach((function(t,e){h[e]={x:0,y:0}})),t.applyCalculate(e,r,h,a),c){var l=t.clusterGravity||u;for(var d in e.forEach((function(t,e){if(k(t.x)&&k(t.y)){var r=f[t.cluster],n=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),o=a*l;h[e].x-=o*(t.x-r.cx)/n,h[e].y-=o*(t.y-r.cy)/n}})),f)f[d].cx=0,f[d].cy=0,f[d].count=0;for(var d in e.forEach((function(t){var e=f[t.cluster];k(t.x)&&(e.cx+=t.x),k(t.y)&&(e.cy+=t.y),e.count++})),f)f[d].cx/=f[d].count,f[d].cy/=f[d].count}e.forEach((function(t,e){if(k(t.x)&&k(t.y)){var r=.01*a*u;h[e].x-=r*(t.x-o[0]),h[e].y-=r*(t.y-o[1])}})),e.forEach((function(t,e){if(k(t.x)&&k(t.y)){var r=Math.sqrt(h[e].x*h[e].x+h[e].y*h[e].y);if(r>0){var n=Math.min(i*(s/800),r);t.x+=h[e].x/r*n,t.y+=h[e].y/r*n}}}))},d=0;d<n;d++)l()},e.prototype.applyCalculate=function(t,e,r,n){this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){t.forEach((function(n,o){e[o]={x:0,y:0},t.forEach((function(t,i){if(o!==i&&k(n.x)&&k(t.x)&&k(n.y)&&k(t.y)){var a=n.x-t.x,u=n.y-t.y,s=a*a+u*u;if(0===s){s=1;var c=o>i?1:-1;a=.01*c,u=.01*c}var f=r*r/s;e[o].x+=a*f,e[o].y+=u*f}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this;t.forEach((function(t){if(t.source&&t.target){var o=n.nodeIdxMap[t.source],i=n.nodeIdxMap[t.target];if(o!==i){var a=n.nodeMap[t.source],u=n.nodeMap[t.target];if(k(u.x)&&k(a.x)&&k(u.y)&&k(a.y)){var s=u.x-a.x,c=u.y-a.y,f=Math.sqrt(s*s+c*c),h=f*f/r;e[i].x-=s/f*h,e[i].y-=c/f*h,e[o].x+=s/f*h,e[o].y+=c/f*h}}}}))},e}(c),Wt=(r(54),r(130)),Gt=(function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}a(e,t)}(r.n(Wt).a),function(t){return Number.isNaN(Number(t))}),$t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.begin=[0,0],e.preventOverlap=!0,e.preventOverlapPadding=10,e.condense=!1,e.sortBy="degree",e.nodeSize=30,e.nodes=[],e.edges=[],e.center=[0,0],e.width=300,e.height=300,e.row=0,e.col=0,e.cellWidth=0,e.cellHeight=0,e.cellUsed={},e.id2manPos={},e}return a(e,t),e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,e=t.nodes,r=e.length,n=t.center;if(0!==r){if(1===r)return e[0].x=n[0],void(e[0].y=n[1]);var o=t.edges,i=[];e.forEach((function(t){i.push(t)}));var a={};if(i.forEach((function(t,e){a[t.id]=e})),("degree"===t.sortBy||!C()(t.sortBy)||void 0===i[0][t.sortBy])&&(t.sortBy="degree",Gt(e[0].degree))){var u=N(i.length,a,o);i.forEach((function(t,e){t.degree=u[e]}))}i.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var s=t.rows,c=null!=t.cols?t.cols:t.columns;if(t.cells=r,null!=s&&null!=c?(t.rows=s,t.cols=c):null!=s&&null==c?(t.rows=s,t.cols=Math.ceil(t.cells/t.rows)):null==s&&null!=c?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells)((h=t.small())-1)*(f=t.large())>=t.cells?t.small(h-1):(f-1)*h>=t.cells&&t.large(f-1);else for(;t.cols*t.rows<t.cells;){var f,h=t.small();((f=t.large())+1)*h>=t.cells?t.large(f+1):t.small(h+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&i.forEach((function(e){var r,n;e.x&&e.y||(e.x=0,e.y=0),y(e.size)?(r=e.size[0],n=e.size[1]):k(e.size)&&(r=e.size,n=e.size),void 0!==r&&void 0!==n||(y(t.nodeSize)?(r=t.nodeSize[0],n=t.nodeSize[1]):k(t.nodeSize)?(r=t.nodeSize,n=t.nodeSize):(r=30,n=30));var o=t.preventOverlapPadding,i=r+o,a=n+o;t.cellWidth=Math.max(t.cellWidth,i),t.cellHeight=Math.max(t.cellHeight,a)})),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var l=0;l<i.length;l++){var d=i[l],p=void 0;if(t.position&&(p=t.position(d)),p&&(void 0!==p.row||void 0!==p.col)){var v={row:p.row,col:p.col};if(void 0===v.col)for(v.col=0;t.used(v.row,v.col);)v.col++;else if(void 0===v.row)for(v.row=0;t.used(v.row,v.col);)v.row++;t.id2manPos[d.id]=v,t.use(v.row,v.col)}t.getPos(d)}}},e.prototype.small=function(t){var e,r=this.rows||5,n=this.cols||5;null==t?e=Math.min(r,n):Math.min(r,n)===this.rows?this.rows=t:this.cols=t;return e},e.prototype.large=function(t){var e,r=this.rows||5,n=this.cols||5;null==t?e=Math.max(r,n):Math.max(r,n)===this.rows?this.rows=t:this.cols=t;return e},e.prototype.used=function(t,e){return this.cellUsed["c-"+t+"-"+e]||!1},e.prototype.use=function(t,e){this.cellUsed["c-"+t+"-"+e]=!0},e.prototype.moveToNextCell=function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)},e.prototype.getPos=function(t){var e,r,n=this.begin,o=this.cellWidth,i=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.col*o+o/2+n[0],r=a.row*i+i/2+n[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.col*o+o/2+n[0],r=this.row*i+i/2+n[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=r},e}(c),Xt=Object.prototype.toString;function Jt(t){return Xt.call(t).endsWith("Array]")}var Qt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Jt(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,o=e.toIndex,i=void 0===o?t.length:o;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[n],u=n+1;u<i;u++)t[u]>a&&(a=t[u]);return a};var Kt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Jt(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,o=e.toIndex,i=void 0===o?t.length:o;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[n],u=n+1;u<i;u++)t[u]<a&&(a=t[u]);return a};var Zt=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Jt(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!Jt(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var n=Kt(t),o=Qt(t);if(n===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=r.min,a=void 0===i?r.autoMinMax?n:0:i,u=r.max,s=void 0===u?r.autoMinMax?o:1:u;if(a>=s)throw new RangeError("min option must be smaller than max option");for(var c=(s-a)/(o-n),f=0;f<t.length;f++)e[f]=(t[f]-n)*c+a;return e},te=" ".repeat(2),ee=" ".repeat(4);function re(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.maxRows,n=void 0===r?15:r,o=e.maxColumns,i=void 0===o?10:o,a=e.maxNumSize,u=void 0===a?8:a;return"".concat(t.constructor.name," {\\n").concat(te,"[\\n").concat(ee).concat(ne(t,n,i,u),"\\n").concat(te,"]\\n").concat(te,"rows: ").concat(t.rows,"\\n").concat(te,"columns: ").concat(t.columns,"\\n}")}function ne(t,e,r,n){for(var o=t.rows,i=t.columns,a=Math.min(o,e),u=Math.min(i,r),s=[],c=0;c<a;c++){for(var f=[],h=0;h<u;h++)f.push(oe(t.get(c,h),n));s.push("".concat(f.join(" ")))}return u!==i&&(s[s.length-1]+=" ... ".concat(i-r," more columns")),a!==o&&s.push("... ".concat(o-e," more rows")),s.join("\\n".concat(ee))}function oe(t,e){var r=String(t);if(r.length<=e)return r.padEnd(e," ");var n=t.toPrecision(e-2);if(n.length<=e)return n;var o=t.toExponential(e-2),i=o.indexOf("e"),a=o.slice(i);return o.slice(0,e-a.length)+a}function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e,r){var n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function ue(t,e,r){var n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function se(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function ce(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function fe(t,e){if("object"!==ie(e))throw new TypeError("unexpected type for row indices");if(e.some((function(e){return e<0||e>=t.rows})))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function he(t,e){if("object"!==ie(e))throw new TypeError("unexpected type for column indices");if(e.some((function(e){return e<0||e>=t.columns})))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function le(t,e,r,n,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(pe("startRow",e),pe("endRow",r),pe("startColumn",n),pe("endColumn",o),e>r||n>o||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||o<0||o>=t.columns)throw new RangeError("Submatrix indices are out of range")}function de(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0;n<t;n++)r.push(e);return r}function pe(t,e){if("number"!=typeof e)throw new TypeError("".concat(t," must be a number"))}function ve(t,e,r){for(var n=t.rows,o=t.columns,i=[],a=0;a<n;a++){for(var u=0,s=0,c=0,f=0;f<o;f++)u+=c=t.get(a,f)-r[a],s+=c*c;e?i.push((s-u*u/o)/(o-1)):i.push((s-u*u/o)/o)}return i}function ge(t,e,r){for(var n=t.rows,o=t.columns,i=[],a=0;a<o;a++){for(var u=0,s=0,c=0,f=0;f<n;f++)u+=c=t.get(f,a)-r[a],s+=c*c;e?i.push((s-u*u/n)/(n-1)):i.push((s-u*u/n)/n)}return i}function ye(t,e,r){for(var n=t.rows,o=t.columns,i=n*o,a=0,u=0,s=0,c=0;c<n;c++)for(var f=0;f<o;f++)a+=s=t.get(c,f)-r,u+=s*s;return e?(u-a*a/i)/(i-1):(u-a*a/i)/i}function me(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}function be(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}function we(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}function xe(t){for(var e=[],r=0;r<t.rows;r++){for(var n=0,o=0;o<t.columns;o++)n+=Math.pow(t.get(r,o),2)/(t.columns-1);e.push(Math.sqrt(n))}return e}function Me(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}function ke(t){for(var e=[],r=0;r<t.columns;r++){for(var n=0,o=0;o<t.rows;o++)n+=Math.pow(t.get(o,r),2)/(t.rows-1);e.push(Math.sqrt(n))}return e}function _e(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}function Se(t){for(var e=t.size-1,r=0,n=0;n<t.columns;n++)for(var o=0;o<t.rows;o++)r+=Math.pow(t.get(o,n),2)/e;return Math.sqrt(r)}function Ee(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ne(t);if(e){var o=Ne(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Oe(this,r)}}function Oe(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ce(t,e,r){return e&&Pe(t.prototype,e),r&&Pe(t,r),t}var ze=function(){function t(){Re(this,t)}return Ce(t,[{key:"apply",value:function(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.call(this,e,r);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.push(this.get(e,r));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,r=-1,n=!0,o=!1;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);t++}return n}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,r=-1,n=!0,o=!1;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);for(var i=e+1;i<this.rows;i++)0!==this.get(t,i)&&(n=!1);t++}return n}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,r=0;e<t.rows&&r<t.columns;){for(var n=e,o=e;o<t.rows;o++)t.get(o,r)>t.get(n,r)&&(n=o);if(0===t.get(n,r))r++;else{t.swapRows(e,n);for(var i=t.get(e,r),a=r;a<t.columns;a++)t.set(e,a,t.get(e,a)/i);for(var u=e+1;u<t.rows;u++){var s=t.get(u,r)/t.get(e,r);t.set(u,r,0);for(var c=r+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*s)}e++,r++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;n>=0;)if(0===t.maxRow(n))n--;else{for(var o=0,i=!1;o<r&&!1===i;)1===t.get(n,o)?i=!0:o++;for(var a=0;a<n;a++)for(var u=t.get(a,o),s=o;s<e;s++){var c=t.get(a,s)-u*t.get(n,s);t.set(a,s,c)}n--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==Ie(t))throw new TypeError("options must be an object");var e=t.rows,r=void 0===e?1:e,n=t.columns,o=void 0===n?1:n;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var i=new qe(this.rows*r,this.columns*o),a=0;a<r;a++)for(var u=0;u<o;u++)i.setSubMatrix(this,this.rows*a,this.columns*u);return i}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){ae(this,t);for(var e=[],r=0;r<this.columns;r++)e.push(this.get(t,r));return e}},{key:"getRowVector",value:function(t){return qe.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){ae(this,t),e=se(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}},{key:"swapRows",value:function(t,e){ae(this,t),ae(this,e);for(var r=0;r<this.columns;r++){var n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}},{key:"getColumn",value:function(t){ue(this,t);for(var e=[],r=0;r<this.rows;r++)e.push(this.get(r,t));return e}},{key:"getColumnVector",value:function(t){return qe.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){ue(this,t),e=ce(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}},{key:"swapColumns",value:function(t,e){ue(this,t),ue(this,e);for(var r=0;r<this.rows;r++){var n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}},{key:"addRowVector",value:function(t){t=se(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}},{key:"subRowVector",value:function(t){t=se(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}},{key:"mulRowVector",value:function(t){t=se(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}},{key:"divRowVector",value:function(t){t=se(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}},{key:"addColumnVector",value:function(t){t=ce(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=ce(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=ce(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=ce(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}},{key:"mulRow",value:function(t,e){ae(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}},{key:"mulColumn",value:function(t,e){ue(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}},{key:"max",value:function(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}},{key:"maxIndex",value:function(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{key:"min",value:function(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}},{key:"minIndex",value:function(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{key:"maxRow",value:function(t){ae(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}},{key:"maxRowIndex",value:function(t){ae(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}},{key:"minRow",value:function(t){ae(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}},{key:"minRowIndex",value:function(t){ae(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}},{key:"maxColumn",value:function(t){ue(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}},{key:"maxColumnIndex",value:function(t){ue(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}},{key:"minColumn",value:function(t){ue(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}},{key:"minColumnIndex",value:function(t){ue(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],r=0;r<t;r++)e.push(this.get(r,r));return e}},{key:"norm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",e=0;if("max"===t)return this.max();if("frobenius"===t){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)e+=this.get(r,n)*this.get(r,n);return Math.sqrt(e)}throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}},{key:"dot",value:function(e){t.isMatrix(e)&&(e=e.to1DArray());var r=this.to1DArray();if(r.length!==e.length)throw new RangeError("vectors do not have the same size");for(var n=0,o=0;o<r.length;o++)n+=r[o]*e[o];return n}},{key:"mmul",value:function(t){t=qe.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.columns,o=new qe(e,n),i=new Float64Array(r),a=0;a<n;a++){for(var u=0;u<r;u++)i[u]=t.get(u,a);for(var s=0;s<e;s++){for(var c=0,f=0;f<r;f++)c+=this.get(s,f)*i[f];o.set(s,a,c)}}return o}},{key:"strassen2x2",value:function(t){t=qe.checkMatrix(t);var e=new qe(2,2),r=this.get(0,0),n=t.get(0,0),o=this.get(0,1),i=t.get(0,1),a=this.get(1,0),u=t.get(1,0),s=this.get(1,1),c=t.get(1,1),f=(r+s)*(n+c),h=(a+s)*n,l=r*(i-c),d=s*(u-n),p=(r+o)*c,v=f+d-p+(o-s)*(u+c),g=l+p,y=h+d,m=f-h+l+(a-r)*(n+i);return e.set(0,0,v),e.set(0,1,g),e.set(1,0,y),e.set(1,1,m),e}},{key:"strassen3x3",value:function(t){t=qe.checkMatrix(t);var e=new qe(3,3),r=this.get(0,0),n=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),u=this.get(1,2),s=this.get(2,0),c=this.get(2,1),f=this.get(2,2),h=t.get(0,0),l=t.get(0,1),d=t.get(0,2),p=t.get(1,0),v=t.get(1,1),g=t.get(1,2),y=t.get(2,0),m=t.get(2,1),b=t.get(2,2),w=(r-i)*(-l+v),x=(-r+i+a)*(h-l+v),M=(i+a)*(-h+l),k=r*h,_=(-r+s+c)*(h-d+g),S=(-r+s)*(d-g),E=(s+c)*(-h+d),j=(-o+c+f)*(v+y-m),A=(o-f)*(v-m),O=o*y,N=(c+f)*(-y+m),I=(-o+a+u)*(g+y-b),R=(o-u)*(g-b),P=(a+u)*(-y+b),C=k+O+n*p,z=(r+n+o-i-a-c-f)*v+x+M+k+j+O+N,F=k+_+E+(r+n+o-a-u-s-c)*g+O+I+P,T=w+a*(-h+l+p-v-g-y+b)+x+k+O+I+R,D=w+x+M+k+u*m,q=O+I+R+P+i*d,L=k+_+S+c*(-h+d+p-v-g-y+m)+j+A+O,B=j+A+O+N+s*l,V=k+_+S+E+f*b;return e.set(0,0,C),e.set(0,1,z),e.set(0,2,F),e.set(1,0,T),e.set(1,1,D),e.set(1,2,q),e.set(2,0,L),e.set(2,1,B),e.set(2,2,V),e}},{key:"mmulStrassen",value:function(e){e=qe.checkMatrix(e);var r=this.clone(),n=r.rows,o=r.columns,i=e.rows,a=e.columns;function u(e,r,n){var o=e.rows,i=e.columns;if(o===r&&i===n)return e;var a=t.zeros(r,n);return a=a.setSubMatrix(e,0,0)}o!==i&&console.warn("Multiplying ".concat(n," x ").concat(o," and ").concat(i," x ").concat(a," matrix: dimensions do not match."));var s=Math.max(n,i),c=Math.max(o,a);return function e(r,n,o,i){if(o<=512||i<=512)return r.mmul(n);o%2==1&&i%2==1?(r=u(r,o+1,i+1),n=u(n,o+1,i+1)):o%2==1?(r=u(r,o+1,i),n=u(n,o+1,i)):i%2==1&&(r=u(r,o,i+1),n=u(n,o,i+1));var a=parseInt(r.rows/2,10),s=parseInt(r.columns/2,10),c=r.subMatrix(0,a-1,0,s-1),f=n.subMatrix(0,a-1,0,s-1),h=r.subMatrix(0,a-1,s,r.columns-1),l=n.subMatrix(0,a-1,s,n.columns-1),d=r.subMatrix(a,r.rows-1,0,s-1),p=n.subMatrix(a,n.rows-1,0,s-1),v=r.subMatrix(a,r.rows-1,s,r.columns-1),g=n.subMatrix(a,n.rows-1,s,n.columns-1),y=e(t.add(c,v),t.add(f,g),a,s),m=e(t.add(d,v),f,a,s),b=e(c,t.sub(l,g),a,s),w=e(v,t.sub(p,f),a,s),x=e(t.add(c,h),g,a,s),M=e(t.sub(d,c),t.add(f,l),a,s),k=e(t.sub(h,v),t.add(p,g),a,s),_=t.add(y,w);_.sub(x),_.add(k);var S=t.add(b,x),E=t.add(m,w),j=t.sub(y,m);j.add(b),j.add(M);var A=t.zeros(2*_.rows,2*_.columns);return(A=(A=(A=(A=A.setSubMatrix(_,0,0)).setSubMatrix(S,_.rows,0)).setSubMatrix(E,0,_.columns)).setSubMatrix(j,_.rows,_.columns)).subMatrix(0,o-1,0,i-1)}(r=u(r,s,c),e=u(e,s,c),s,c)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==Ie(t))throw new TypeError("options must be an object");var e=t.min,r=void 0===e?0:e,n=t.max,o=void 0===n?1:n;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(r>=o)throw new RangeError("min must be smaller than max");for(var i=new qe(this.rows,this.columns),a=0;a<this.rows;a++){var u=this.getRow(a);Zt(u,{min:r,max:o,output:u}),i.setRow(a,u)}return i}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==Ie(t))throw new TypeError("options must be an object");var e=t.min,r=void 0===e?0:e,n=t.max,o=void 0===n?1:n;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(r>=o)throw new RangeError("min must be smaller than max");for(var i=new qe(this.rows,this.columns),a=0;a<this.columns;a++){var u=this.getColumn(a);Zt(u,{min:r,max:o,output:u}),i.setColumn(a,u)}return i}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var r=0;r<t;r++){var n=this.get(e,r),o=this.get(e,this.columns-1-r);this.set(e,r,o),this.set(e,this.columns-1-r,n)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var r=0;r<t;r++){var n=this.get(r,e),o=this.get(this.rows-1-r,e);this.set(r,e,o),this.set(this.rows-1-r,e,n)}return this}},{key:"kroneckerProduct",value:function(t){t=qe.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.rows,o=t.columns,i=new qe(e*n,r*o),a=0;a<e;a++)for(var u=0;u<r;u++)for(var s=0;s<n;s++)for(var c=0;c<o;c++)i.set(n*a+s,o*u+c,this.get(a,u)*t.get(s,c));return i}},{key:"transpose",value:function(){for(var t=new qe(this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,r,n){le(this,t,e,r,n);for(var o=new qe(e-t+1,n-r+1),i=t;i<=e;i++)for(var a=r;a<=n;a++)o.set(i-t,a-r,this.get(i,a));return o}},{key:"subMatrixRow",value:function(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var n=new qe(t.length,r-e+1),o=0;o<t.length;o++)for(var i=e;i<=r;i++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));n.set(o,i-e,this.get(t[o],i))}return n}},{key:"subMatrixColumn",value:function(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var n=new qe(r-e+1,t.length),o=0;o<t.length;o++)for(var i=e;i<=r;i++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));n.set(i-e,o,this.get(i,t[o]))}return n}},{key:"setSubMatrix",value:function(t,e,r){le(this,e,e+(t=qe.checkMatrix(t)).rows-1,r,r+t.columns-1);for(var n=0;n<t.rows;n++)for(var o=0;o<t.columns;o++)this.set(e+n,r+o,t.get(n,o));return this}},{key:"selection",value:function(t,e){for(var r=function(t,e,r){return{row:fe(t,e),column:he(t,r)}}(this,t,e),n=new qe(t.length,e.length),o=0;o<r.row.length;o++)for(var i=r.row[o],a=0;a<r.column.length;a++){var u=r.column[a];n.set(o,a,this.get(i,u))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}},{key:"clone",value:function(){for(var t=new qe(this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}},{key:"sum",value:function(t){switch(t){case"row":return function(t){for(var e=de(t.rows),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}(this);case"column":return function(t){for(var e=de(t.columns),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0:return function(t){for(var e=0,r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)e+=t.get(r,n);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return function(t){for(var e=de(t.rows,1),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}(this);case"column":return function(t){for(var e=de(t.columns,1),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}(this);case void 0:return function(t){for(var e=1,r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)e*=t.get(r,n);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":for(var r=0;r<this.rows;r++)e[r]/=this.columns;return e;case"column":for(var n=0;n<this.columns;n++)e[n]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===Ie(t)&&(e=t,t=void 0),"object"!==Ie(e))throw new TypeError("options must be an object");var r=e,n=r.unbiased,o=void 0===n||n,i=r.mean,a=void 0===i?this.mean(t):i;if("boolean"!=typeof o)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(a))throw new TypeError("mean must be an array");return ve(this,o,a);case"column":if(!Array.isArray(a))throw new TypeError("mean must be an array");return ge(this,o,a);case void 0:if("number"!=typeof a)throw new TypeError("mean must be a number");return ye(this,o,a);default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){"object"===Ie(t)&&(e=t,t=void 0);var r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(var n=0;n<r.length;n++)r[n]=Math.sqrt(r[n]);return r}},{key:"center",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===Ie(t)&&(e=t,t=void 0),"object"!==Ie(e))throw new TypeError("options must be an object");var r=e,n=r.center,o=void 0===n?this.mean(t):n;switch(t){case"row":if(!Array.isArray(o))throw new TypeError("center must be an array");return me(this,o),this;case"column":if(!Array.isArray(o))throw new TypeError("center must be an array");return be(this,o),this;case void 0:if("number"!=typeof o)throw new TypeError("center must be a number");return we(this,o),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===Ie(t)&&(e=t,t=void 0),"object"!==Ie(e))throw new TypeError("options must be an object");var r=e.scale;switch(t){case"row":if(void 0===r)r=xe(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return Me(this,r),this;case"column":if(void 0===r)r=ke(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return _e(this,r),this;case void 0:if(void 0===r)r=Se(this);else if("number"!=typeof r)throw new TypeError("scale must be a number");return Ee(this,r),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return re(this,t)}},{key:"size",get:function(){return this.rows*this.columns}}],[{key:"from1DArray",value:function(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");for(var n=new qe(t,e),o=0;o<t;o++)for(var i=0;i<e;i++)n.set(o,i,r[o*e+i]);return n}},{key:"rowVector",value:function(t){for(var e=new qe(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}},{key:"columnVector",value:function(t){for(var e=new qe(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}},{key:"zeros",value:function(t,e){return new qe(t,e)}},{key:"ones",value:function(t,e){return new qe(t,e).fill(1)}},{key:"rand",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==Ie(r))throw new TypeError("options must be an object");for(var n=r.random,o=void 0===n?Math.random:n,i=new qe(t,e),a=0;a<t;a++)for(var u=0;u<e;u++)i.set(a,u,o());return i}},{key:"randInt",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==Ie(r))throw new TypeError("options must be an object");var n=r.min,o=void 0===n?0:n,i=r.max,a=void 0===i?1e3:i,u=r.random,s=void 0===u?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(o>=a)throw new RangeError("min must be smaller than max");for(var c=a-o,f=new qe(t,e),h=0;h<t;h++)for(var l=0;l<e;l++){var d=o+Math.round(s()*c);f.set(h,l,d)}return f}},{key:"eye",value:function(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);for(var n=Math.min(t,e),o=this.zeros(t,e),i=0;i<n;i++)o.set(i,i,r);return o}},{key:"diag",value:function(t,e,r){var n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);for(var o=Math.min(n,e,r),i=this.zeros(e,r),a=0;a<o;a++)i.set(a,a,t[a]);return i}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,o=new qe(r,n),i=0;i<r;i++)for(var a=0;a<n;a++)o.set(i,a,Math.min(t.get(i,a),e.get(i,a)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,o=new this(r,n),i=0;i<r;i++)for(var a=0;a<n;a++)o.set(i,a,Math.max(t.get(i,a),e.get(i,a)));return o}},{key:"checkMatrix",value:function(e){return t.isMatrix(e)?e:new qe(e)}},{key:"isMatrix",value:function(t){return null!=t&&"Matrix"===t.klass}}]),t}();function Fe(t,e){return t-e}ze.prototype.klass="Matrix","undefined"!=typeof Symbol&&(ze.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return re(this)}),ze.random=ze.rand,ze.randomInt=ze.randInt,ze.diagonal=ze.diag,ze.prototype.diagonal=ze.prototype.diag,ze.identity=ze.eye,ze.prototype.negate=ze.prototype.neg,ze.prototype.tensorProduct=ze.prototype.kroneckerProduct;var Te,De,qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(r,t);var e=Ae(r);function r(t,n){var o;if(Re(this,r),o=e.call(this),r.isMatrix(t))return Oe(o,t.clone());if(Number.isInteger(t)&&t>0){if(o.data=[],!(Number.isInteger(n)&&n>0))throw new TypeError("nColumns must be a positive integer");for(var i=0;i<t;i++)o.data.push(new Float64Array(n))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");var a=t;if(t=a.length,"number"!=typeof(n=a[0].length)||0===n)throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var u=0;u<t;u++){if(a[u].length!==n)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(a[u]))}}return o.rows=t,o.columns=n,o}return Ce(r,[{key:"set",value:function(t,e,r){return this.data[t][e]=r,this}},{key:"get",value:function(t,e){return this.data[t][e]}},{key:"removeRow",value:function(t){if(ae(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(t,1),this.rows-=1,this}},{key:"addRow",value:function(t,e){return void 0===e&&(e=t,t=this.rows),ae(this,t,!0),e=Float64Array.from(se(this,e)),this.data.splice(t,0,e),this.rows+=1,this}},{key:"removeColumn",value:function(t){if(ue(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var e=0;e<this.rows;e++){for(var r=new Float64Array(this.columns-1),n=0;n<t;n++)r[n]=this.data[e][n];for(var o=t+1;o<this.columns;o++)r[o-1]=this.data[e][o];this.data[e]=r}return this.columns-=1,this}},{key:"addColumn",value:function(t,e){void 0===e&&(e=t,t=this.columns),ue(this,t,!0),e=ce(this,e);for(var r=0;r<this.rows;r++){for(var n=new Float64Array(this.columns+1),o=0;o<t;o++)n[o]=this.data[r][o];for(n[o++]=e[r];o<this.columns+1;o++)n[o]=this.data[r][o-1];this.data[r]=n}return this.columns+=1,this}}]),r}(ze);function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ve(t,e){return(Ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=He(t);if(e){var o=He(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ye(this,r)}}function Ye(t,e){return!e||"object"!==Le(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}De=qe,(Te=ze).prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},Te.prototype.addS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},Te.prototype.addM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},Te.add=function(t,e){return new De(t).add(e)},Te.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},Te.prototype.subS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},Te.prototype.subM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},Te.sub=function(t,e){return new De(t).sub(e)},Te.prototype.subtract=Te.prototype.sub,Te.prototype.subtractS=Te.prototype.subS,Te.prototype.subtractM=Te.prototype.subM,Te.subtract=Te.sub,Te.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},Te.prototype.mulS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},Te.prototype.mulM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},Te.mul=function(t,e){return new De(t).mul(e)},Te.prototype.multiply=Te.prototype.mul,Te.prototype.multiplyS=Te.prototype.mulS,Te.prototype.multiplyM=Te.prototype.mulM,Te.multiply=Te.mul,Te.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},Te.prototype.divS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},Te.prototype.divM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},Te.div=function(t,e){return new De(t).div(e)},Te.prototype.divide=Te.prototype.div,Te.prototype.divideS=Te.prototype.divS,Te.prototype.divideM=Te.prototype.divM,Te.divide=Te.div,Te.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},Te.prototype.modS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},Te.prototype.modM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},Te.mod=function(t,e){return new De(t).mod(e)},Te.prototype.modulus=Te.prototype.mod,Te.prototype.modulusS=Te.prototype.modS,Te.prototype.modulusM=Te.prototype.modM,Te.modulus=Te.mod,Te.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},Te.prototype.andS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},Te.prototype.andM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},Te.and=function(t,e){return new De(t).and(e)},Te.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},Te.prototype.orS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},Te.prototype.orM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},Te.or=function(t,e){return new De(t).or(e)},Te.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},Te.prototype.xorS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},Te.prototype.xorM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},Te.xor=function(t,e){return new De(t).xor(e)},Te.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},Te.prototype.leftShiftS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},Te.prototype.leftShiftM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},Te.leftShift=function(t,e){return new De(t).leftShift(e)},Te.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},Te.prototype.signPropagatingRightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},Te.prototype.signPropagatingRightShiftM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},Te.signPropagatingRightShift=function(t,e){return new De(t).signPropagatingRightShift(e)},Te.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},Te.prototype.rightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},Te.prototype.rightShiftM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},Te.rightShift=function(t,e){return new De(t).rightShift(e)},Te.prototype.zeroFillRightShift=Te.prototype.rightShift,Te.prototype.zeroFillRightShiftS=Te.prototype.rightShiftS,Te.prototype.zeroFillRightShiftM=Te.prototype.rightShiftM,Te.zeroFillRightShift=Te.rightShift,Te.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},Te.not=function(t){return new De(t).not()},Te.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},Te.abs=function(t){return new De(t).abs()},Te.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},Te.acos=function(t){return new De(t).acos()},Te.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},Te.acosh=function(t){return new De(t).acosh()},Te.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},Te.asin=function(t){return new De(t).asin()},Te.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},Te.asinh=function(t){return new De(t).asinh()},Te.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},Te.atan=function(t){return new De(t).atan()},Te.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},Te.atanh=function(t){return new De(t).atanh()},Te.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},Te.cbrt=function(t){return new De(t).cbrt()},Te.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},Te.ceil=function(t){return new De(t).ceil()},Te.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},Te.clz32=function(t){return new De(t).clz32()},Te.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},Te.cos=function(t){return new De(t).cos()},Te.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},Te.cosh=function(t){return new De(t).cosh()},Te.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},Te.exp=function(t){return new De(t).exp()},Te.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},Te.expm1=function(t){return new De(t).expm1()},Te.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},Te.floor=function(t){return new De(t).floor()},Te.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},Te.fround=function(t){return new De(t).fround()},Te.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},Te.log=function(t){return new De(t).log()},Te.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},Te.log1p=function(t){return new De(t).log1p()},Te.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},Te.log10=function(t){return new De(t).log10()},Te.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},Te.log2=function(t){return new De(t).log2()},Te.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},Te.round=function(t){return new De(t).round()},Te.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},Te.sign=function(t){return new De(t).sign()},Te.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},Te.sin=function(t){return new De(t).sin()},Te.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},Te.sinh=function(t){return new De(t).sinh()},Te.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},Te.sqrt=function(t){return new De(t).sqrt()},Te.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},Te.tan=function(t){return new De(t).tan()},Te.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},Te.tanh=function(t){return new De(t).tanh()},Te.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},Te.trunc=function(t){return new De(t).trunc()},Te.pow=function(t,e){return new De(t).pow(e)},Te.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},Te.prototype.powS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},Te.prototype.powM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this};var We=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ve(t,e)}(i,t);var e,r,n,o=Ue(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).data=t,e.rows=t.length,e.columns=t[0].length,e}return e=i,(r=[{key:"set",value:function(t,e,r){return this.data[t][e]=r,this}},{key:"get",value:function(t,e){return this.data[t][e]}}])&&Be(e.prototype,r),n&&Be(e,n),i}(ze);function Ge(t,e){var r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}function $e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Je=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e(this,t);var n,o=(e=We.checkMatrix(e)).rows,i=e.columns,a=r.computeLeftSingularVectors,u=void 0===a||a,s=r.computeRightSingularVectors,c=void 0===s||s,f=r.autoTranspose,h=void 0!==f&&f,l=Boolean(u),d=Boolean(c),p=!1;if(o<i)if(h){o=(n=e.transpose()).rows,i=n.columns,p=!0;var v=l;l=d,d=v}else n=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else n=e.clone();for(var g=Math.min(o,i),y=Math.min(o+1,i),m=new Float64Array(y),b=new qe(o,g),w=new qe(i,i),x=new Float64Array(i),M=new Float64Array(o),k=new Float64Array(y),_=0;_<y;_++)k[_]=_;for(var S=Math.min(o-1,i),E=Math.max(0,Math.min(i-2,o)),j=Math.max(S,E),A=0;A<j;A++){if(A<S){m[A]=0;for(var O=A;O<o;O++)m[A]=Ge(m[A],n.get(O,A));if(0!==m[A]){n.get(A,A)<0&&(m[A]=-m[A]);for(var N=A;N<o;N++)n.set(N,A,n.get(N,A)/m[A]);n.set(A,A,n.get(A,A)+1)}m[A]=-m[A]}for(var I=A+1;I<i;I++){if(A<S&&0!==m[A]){for(var R=0,P=A;P<o;P++)R+=n.get(P,A)*n.get(P,I);R=-R/n.get(A,A);for(var C=A;C<o;C++)n.set(C,I,n.get(C,I)+R*n.get(C,A))}x[I]=n.get(A,I)}if(l&&A<S)for(var z=A;z<o;z++)b.set(z,A,n.get(z,A));if(A<E){x[A]=0;for(var F=A+1;F<i;F++)x[A]=Ge(x[A],x[F]);if(0!==x[A]){x[A+1]<0&&(x[A]=0-x[A]);for(var T=A+1;T<i;T++)x[T]/=x[A];x[A+1]+=1}if(x[A]=-x[A],A+1<o&&0!==x[A]){for(var D=A+1;D<o;D++)M[D]=0;for(var q=A+1;q<o;q++)for(var L=A+1;L<i;L++)M[q]+=x[L]*n.get(q,L);for(var B=A+1;B<i;B++)for(var V=-x[B]/x[A+1],U=A+1;U<o;U++)n.set(U,B,n.get(U,B)+V*M[U])}if(d)for(var Y=A+1;Y<i;Y++)w.set(Y,A,x[Y])}}var H=Math.min(i,o+1);if(S<i&&(m[S]=n.get(S,S)),o<H&&(m[H-1]=0),E+1<H&&(x[E]=n.get(E,H-1)),x[H-1]=0,l){for(var W=S;W<g;W++){for(var G=0;G<o;G++)b.set(G,W,0);b.set(W,W,1)}for(var $=S-1;$>=0;$--)if(0!==m[$]){for(var X=$+1;X<g;X++){for(var J=0,Q=$;Q<o;Q++)J+=b.get(Q,$)*b.get(Q,X);J=-J/b.get($,$);for(var K=$;K<o;K++)b.set(K,X,b.get(K,X)+J*b.get(K,$))}for(var Z=$;Z<o;Z++)b.set(Z,$,-b.get(Z,$));b.set($,$,1+b.get($,$));for(var tt=0;tt<$-1;tt++)b.set(tt,$,0)}else{for(var et=0;et<o;et++)b.set(et,$,0);b.set($,$,1)}}if(d)for(var rt=i-1;rt>=0;rt--){if(rt<E&&0!==x[rt])for(var nt=rt+1;nt<i;nt++){for(var ot=0,it=rt+1;it<i;it++)ot+=w.get(it,rt)*w.get(it,nt);ot=-ot/w.get(rt+1,rt);for(var at=rt+1;at<i;at++)w.set(at,nt,w.get(at,nt)+ot*w.get(at,rt))}for(var ut=0;ut<i;ut++)w.set(ut,rt,0);w.set(rt,rt,1)}for(var st=H-1,ct=Number.EPSILON;H>0;){var ft=void 0,ht=void 0;for(ft=H-2;ft>=-1&&-1!==ft;ft--){var lt=Number.MIN_VALUE+ct*Math.abs(m[ft]+Math.abs(m[ft+1]));if(Math.abs(x[ft])<=lt||Number.isNaN(x[ft])){x[ft]=0;break}}if(ft===H-2)ht=4;else{var dt=void 0;for(dt=H-1;dt>=ft&&dt!==ft;dt--){var pt=(dt!==H?Math.abs(x[dt]):0)+(dt!==ft+1?Math.abs(x[dt-1]):0);if(Math.abs(m[dt])<=ct*pt){m[dt]=0;break}}dt===ft?ht=3:dt===H-1?ht=1:(ht=2,ft=dt)}switch(ft++,ht){case 1:var vt=x[H-2];x[H-2]=0;for(var gt=H-2;gt>=ft;gt--){var yt=Ge(m[gt],vt),mt=m[gt]/yt,bt=vt/yt;if(m[gt]=yt,gt!==ft&&(vt=-bt*x[gt-1],x[gt-1]=mt*x[gt-1]),d)for(var wt=0;wt<i;wt++)yt=mt*w.get(wt,gt)+bt*w.get(wt,H-1),w.set(wt,H-1,-bt*w.get(wt,gt)+mt*w.get(wt,H-1)),w.set(wt,gt,yt)}break;case 2:var xt=x[ft-1];x[ft-1]=0;for(var Mt=ft;Mt<H;Mt++){var kt=Ge(m[Mt],xt),_t=m[Mt]/kt,St=xt/kt;if(m[Mt]=kt,xt=-St*x[Mt],x[Mt]=_t*x[Mt],l)for(var Et=0;Et<o;Et++)kt=_t*b.get(Et,Mt)+St*b.get(Et,ft-1),b.set(Et,ft-1,-St*b.get(Et,Mt)+_t*b.get(Et,ft-1)),b.set(Et,Mt,kt)}break;case 3:var jt=Math.max(Math.abs(m[H-1]),Math.abs(m[H-2]),Math.abs(x[H-2]),Math.abs(m[ft]),Math.abs(x[ft])),At=m[H-1]/jt,Ot=m[H-2]/jt,Nt=x[H-2]/jt,It=m[ft]/jt,Rt=x[ft]/jt,Pt=((Ot+At)*(Ot-At)+Nt*Nt)/2,Ct=At*Nt*(At*Nt),zt=0;0===Pt&&0===Ct||(zt=Ct/(Pt+(zt=Pt<0?0-Math.sqrt(Pt*Pt+Ct):Math.sqrt(Pt*Pt+Ct))));for(var Ft=(It+At)*(It-At)+zt,Tt=It*Rt,Dt=ft;Dt<H-1;Dt++){var qt=Ge(Ft,Tt);0===qt&&(qt=Number.MIN_VALUE);var Lt=Ft/qt,Bt=Tt/qt;if(Dt!==ft&&(x[Dt-1]=qt),Ft=Lt*m[Dt]+Bt*x[Dt],x[Dt]=Lt*x[Dt]-Bt*m[Dt],Tt=Bt*m[Dt+1],m[Dt+1]=Lt*m[Dt+1],d)for(var Vt=0;Vt<i;Vt++)qt=Lt*w.get(Vt,Dt)+Bt*w.get(Vt,Dt+1),w.set(Vt,Dt+1,-Bt*w.get(Vt,Dt)+Lt*w.get(Vt,Dt+1)),w.set(Vt,Dt,qt);if(0===(qt=Ge(Ft,Tt))&&(qt=Number.MIN_VALUE),Lt=Ft/qt,Bt=Tt/qt,m[Dt]=qt,Ft=Lt*x[Dt]+Bt*m[Dt+1],m[Dt+1]=-Bt*x[Dt]+Lt*m[Dt+1],Tt=Bt*x[Dt+1],x[Dt+1]=Lt*x[Dt+1],l&&Dt<o-1)for(var Ut=0;Ut<o;Ut++)qt=Lt*b.get(Ut,Dt)+Bt*b.get(Ut,Dt+1),b.set(Ut,Dt+1,-Bt*b.get(Ut,Dt)+Lt*b.get(Ut,Dt+1)),b.set(Ut,Dt,qt)}x[H-2]=Ft,1;break;case 4:if(m[ft]<=0&&(m[ft]=m[ft]<0?-m[ft]:0,d))for(var Yt=0;Yt<=st;Yt++)w.set(Yt,ft,-w.get(Yt,ft));for(;ft<st&&!(m[ft]>=m[ft+1]);){var Ht=m[ft];if(m[ft]=m[ft+1],m[ft+1]=Ht,d&&ft<i-1)for(var Wt=0;Wt<i;Wt++)Ht=w.get(Wt,ft+1),w.set(Wt,ft+1,w.get(Wt,ft)),w.set(Wt,ft,Ht);if(l&&ft<o-1)for(var Gt=0;Gt<o;Gt++)Ht=b.get(Gt,ft+1),b.set(Gt,ft+1,b.get(Gt,ft)),b.set(Gt,ft,Ht);ft++}0,H--}}if(p){var $t=w;w=b,b=$t}this.m=o,this.n=i,this.s=m,this.U=b,this.V=w}var e,r,n;return e=t,(r=[{key:"solve",value:function(t){for(var e=t,r=this.threshold,n=this.s.length,o=qe.zeros(n,n),i=0;i<n;i++)Math.abs(this.s[i])<=r?o.set(i,i,0):o.set(i,i,1/this.s[i]);for(var a=this.U,u=this.rightSingularVectors,s=u.mmul(o),c=u.rows,f=a.rows,h=qe.zeros(c,f),l=0;l<c;l++)for(var d=0;d<f;d++){for(var p=0,v=0;v<n;v++)p+=s.get(l,v)*a.get(d,v);h.set(l,d,p)}return h.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(qe.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,r=t.rows,n=t.columns,o=new qe(r,this.s.length),i=0;i<r;i++)for(var a=0;a<n;a++)Math.abs(this.s[a])>e&&o.set(i,a,t.get(i,a)/this.s[a]);for(var u=this.U,s=u.rows,c=u.columns,f=new qe(r,s),h=0;h<r;h++)for(var l=0;l<s;l++){for(var d=0,p=0;p<c;p++)d+=o.get(h,p)*u.get(l,p);f.set(h,l,d)}return f}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,n=0,o=r.length;n<o;n++)r[n]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return qe.diag(this.s)}}])&&Xe(e.prototype,r),n&&Xe(e,n),t}(),Qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.linkDistance=50,e.scaledDistances=null,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this.nodes,e=this.edges,r=void 0===e?[]:e,n=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],void(t[0].y=n[1]);var o=this.linkDistance,i=O({nodes:t,edges:r},!1),a=A(i);this.handleInfinity(a);var u,s,c=(u=o,s=[],a.forEach((function(t){var e=[];t.forEach((function(t){e.push(t*u)})),s.push(e)})),s);this.scaledDistances=c;var f=this.runMDS();this.positions=f,f.forEach((function(e,r){t[r].x=e[0]+n[0],t[r].y=e[1]+n[1]}))}},e.prototype.runMDS=function(){var t=this.scaledDistances,e=qe.mul(qe.pow(t,2),-.5),r=e.mean("row"),n=e.mean("column"),o=e.mean();e.add(o).subRowVector(r).subColumnVector(n);var i=new Je(e),a=qe.sqrt(i.diagonalMatrix).diagonal();return i.leftSingularVectors.toJSON().map((function(t){return qe.mul([t],[a]).toJSON()[0].splice(0,2)}))},e.prototype.handleInfinity=function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==1/0&&e<t&&(e=t)}))})),t.forEach((function(r,n){r.forEach((function(r,o){r===1/0&&(t[n][o]=e)}))}))},e}(c),Ke=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this.dimension,e=this.distances,r=this.linkDistance;try{var n=qe.mul(qe.pow(e,2),-.5),o=n.mean("row"),i=n.mean("column"),a=n.mean();n.add(a).subRowVector(o).subColumnVector(i);var u=new Je(n),s=qe.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map((function(e){return qe.mul([e],[s]).toJSON()[0].splice(0,t)}))}catch(t){for(var c=[],f=0;f<e.length;f++){var h=Math.random()*r,l=Math.random()*r;c.push([h,l])}return c}},t}(),Ze=function(){function t(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return t.prototype.layout=function(){var t=this.positions,e=[],r=this.iterations,n=this.width/10;this.maxDisplace=n,this.disp=e;for(var o=0;o<r;o++)t.forEach((function(t,r){e[r]={x:0,y:0}})),this.getRepulsion(),this.updatePositions();return t},t.prototype.getRepulsion=function(){var t=this,e=t.positions,r=t.nodes,n=t.disp,o=t.k,i=t.radii||[];e.forEach((function(a,u){n[u]={x:0,y:0},e.forEach((function(e,s){if(u!==s&&i[u]===i[s]){var c=a[0]-e[0],f=a[1]-e[1],h=Math.sqrt(c*c+f*f);if(0===h){h=1;var l=u>s?1:-1;c=.01*l,f=.01*l}if(h<t.nodeSizeFunc(r[u])/2+t.nodeSizeFunc(r[s])/2){var d=o*o/h;n[u].x+=c/h*d,n[u].y+=f/h*d}}}))}))},t.prototype.updatePositions=function(){var t=this.positions,e=this.disp,r=this.speed,n=this.strictRadial,o=this.focusID,i=this.maxDisplace||this.width/10;n&&e.forEach((function(e,r){var n=t[r][0]-t[o][0],i=t[r][1]-t[o][1],a=Math.sqrt(n*n+i*i),u=i/a,s=-n/a,c=Math.sqrt(e.x*e.x+e.y*e.y),f=Math.acos((u*e.x+s*e.y)/c);f>Math.PI/2&&(f-=Math.PI/2,u*=-1,s*=-1);var h=Math.cos(f)*c;e.x=u*h,e.y=s*h}));var a=this.radii;t.forEach((function(u,s){if(s!==o){var c=Math.sqrt(e[s].x*e[s].x+e[s].y*e[s].y);if(c>0&&s!==o){var f=Math.min(i*(r/800),c);if(u[0]+=e[s].x/c*f,u[1]+=e[s].y/c*f,n){var h=u[0]-t[o][0],l=u[1]-t[o][1],d=Math.sqrt(h*h+l*l);h=h/d*a[s],l=l/d*a[s],u[0]=t[o][0]+h,u[1]=t[o][1]+l}}}}))},t}();function tr(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var er=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=1e3,e.focusNode=null,e.unitRadius=null,e.linkDistance=50,e.preventOverlap=!1,e.strictRadial=!0,e.maxPreventOverlapIteration=200,e.sortStrength=10,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges||[],n=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=n[0],void(e[0].y=n[1]);var o=t.linkDistance,i=null;if(C()(t.focusNode)){for(var a=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(i=e[u],t.focusNode=i,a=!0,u=e.length);a||(i=null)}else i=t.focusNode;i||(i=e[0],t.focusNode=i);var s,c,f,h=(s=e,c=i.id,f=-1,s.forEach((function(t,e){t.id===c&&(f=e)})),f);t.focusIndex=h;var l=O({nodes:e,edges:r},!1),d=A(l),p=t.maxToFocus(d,h);t.handleInfinity(d,h,p+1),t.distances=d;var v=d[h];t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var g=t.width||500,y=t.height||500,m=g-n[0]>n[0]?n[0]:g-n[0],b=y-n[1]>n[1]?n[1]:y-n[1];0===m&&(m=g/2),0===b&&(b=y/2);var w=b>m?m:b,x=Math.max.apply(Math,v),M=[];v.forEach((function(e,r){t.unitRadius||(t.unitRadius=w/x),M[r]=e*t.unitRadius})),t.radii=M;var k=t.eIdealDisMatrix();t.eIdealDistances=k;var _=function(t){for(var e=t.length,r=t[0].length,n=[],o=0;o<e;o++){for(var i=[],a=0;a<r;a++)0!==t[o][a]?i.push(1/(t[o][a]*t[o][a])):i.push(0);n.push(i)}return n}(k);t.weights=_;var S=new Ke({distances:k,linkDistance:o}).layout();S.forEach((function(t){Gt(t[0])&&(t[0]=Math.random()*o),Gt(t[1])&&(t[1]=Math.random()*o)})),t.positions=S,S.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]})),S.forEach((function(t){t[0]-=S[h][0],t[1]-=S[h][1]})),t.run();var E=t.preventOverlap,N=t.nodeSize,I=t.strictRadial;if(E){var R,P=t.nodeSpacing;R=Tt()(P)?function(){return P}:zt()(P)?P:function(){return 0};var z={nodeSizeFunc:N?j()(N)?function(t){return(N[0]>N[1]?N[0]:N[1])+R(t)}:function(t){return N+R(t)}:function(t){return t.size?j()(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+R(t):t.size+R(t):10+R(t)},adjMatrix:l,positions:S,radii:M,height:y,width:g,strictRadial:I,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:S.length/4.5,nodes:e},F=new Ze(z);S=F.layout()}S.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]}))}},e.prototype.run=function(){for(var t=this.maxIteration,e=this.positions||[],r=this.weights||[],n=this.eIdealDistances||[],o=this.radii||[],i=0;i<=t;i++){var a=i/t;this.oneIteration(a,e,o,n,r)}},e.prototype.oneIteration=function(t,e,r,n,o){var i=1-t,a=this.focusIndex;e.forEach((function(u,s){var c=tr(u,[0,0]),f=0===c?0:1/c;if(s!==a){var h=0,l=0,d=0;e.forEach((function(t,e){if(s!==e){var r=tr(u,t),i=0===r?0:1/r,a=n[e][s];d+=o[s][e],h+=o[s][e]*(t[0]+a*(u[0]-t[0])*i),l+=o[s][e]*(t[1]+a*(u[1]-t[1])*i)}}));var p=0===r[s]?0:1/r[s];d*=i,d+=t*p*p,h*=i,h+=t*p*u[0]*f,u[0]=h/d,l*=i,l+=t*p*u[1]*f,u[1]=l/d}}))},e.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var r=t.distances,n=t.linkDistance,o=t.radii||[],i=t.unitRadius||50,a=[];return r&&r.forEach((function(r,u){var s=[];r.forEach((function(r,a){if(u===a)s.push(0);else if(o[u]===o[a])if("data"===t.sortBy)s.push(r*(Math.abs(u-a)*t.sortStrength)/(o[u]/i));else if(t.sortBy){var c=e[u][t.sortBy]||0,f=e[a][t.sortBy]||0;C()(c)&&(c=c.charCodeAt(0)),C()(f)&&(f=f.charCodeAt(0)),s.push(r*(Math.abs(c-f)*t.sortStrength)/(o[u]/i))}else s.push(r*n/(o[u]/i));else{var h=(n+i)/2;s.push(r*h)}})),a.push(s)})),a},e.prototype.handleInfinity=function(t,e,r){for(var n=t.length,o=0;o<n;o++)if(t[e][o]===1/0){t[e][o]=r,t[o][e]=r;for(var i=0;i<n;i++)t[o][i]!==1/0&&t[e][i]===1/0&&(t[e][i]=r+t[o][i],t[i][e]=r+t[o][i])}for(o=0;o<n;o++)if(o!==e)for(i=0;i<n;i++)if(t[o][i]===1/0){var a=Math.abs(t[e][o]-t[e][i]);a=0===a?1:a,t[o][i]=a}},e.prototype.maxToFocus=function(t,e){for(var r=0,n=0;n<t[e].length;n++)t[e][n]!==1/0&&(r=t[e][n]>r?t[e][n]:r);return r},e}(c),rr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.width=300,e.height=300,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.center;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+r[0],e.y=.9*(Math.random()-.5)*t.height+r[1]}))},e}(c),nr=r(32),or=r.n(nr),ir=r(33),ar=r.n(ir),ur=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function sr(t,e,r){var n;return(n=Math.round(t.h)>=60&&Math.round(t.h)<=240?r?Math.round(t.h)-2*e:Math.round(t.h)+2*e:r?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?n+=360:n>=360&&(n-=360),n}function cr(t,e,r){return 0===t.h&&0===t.s?t.s:((n=r?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)>1&&(n=1),r&&5===e&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function fr(t,e,r){var n;return(n=r?t.v+.05*e:t.v-.15*e)>1&&(n=1),Number(n.toFixed(2))}function hr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=ar()(t),o=5;o>0;o-=1){var i=n.toHsv(),a=ar()({h:sr(i,o,!0),s:cr(i,o,!0),v:fr(i,o,!0)}).toHexString();r.push(a)}r.push(n.toHexString());for(var u=1;u<=4;u+=1){var s=n.toHsv(),c=ar()({h:sr(s,u),s:cr(s,u),v:fr(s,u)}).toHexString();r.push(c)}return"dark"===e.theme?ur.map((function(t){var n=t.index,o=t.opacity;return ar.a.mix(e.backgroundColor||"#141414",r[n],100*o).toHexString()})):r}var lr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},dr={},pr={};Object.keys(lr).forEach((function(t){dr[t]=hr(lr[t]),dr[t].primary=dr[t][5],pr[t]=hr(lr[t],{theme:"dark",backgroundColor:"#141414"}),pr[t].primary=pr[t][5]}));dr.red,dr.volcano,dr.gold,dr.orange,dr.yellow,dr.lime,dr.green,dr.cyan,dr.blue,dr.geekblue,dr.purple,dr.magenta,dr.grey;var vr=function(t,e,r){var n=or()(t),o=or()(e);return or()([(1-r)*n.color[0]+r*o.color[0],(1-r)*n.color[1]+r*o.color[1],(1-r)*n.color[2]+r*o.color[2]]).rgb()},gr=function(t,e,r,n){void 0===e&&(e="#fff"),void 0===r&&(r="default"),void 0===n&&(n="rgb(150, 150, 150)");var o=vr(e,t,.05).rgb().toString(),i=vr(e,n,.02).rgb().toString(),a=vr(e,n,.05).rgb().toString(),u=vr(e,n,.1).rgb().toString(),s=vr(e,n,.2).rgb().toString(),c=vr(e,n,.3).rgb().toString(),f=hr(t,{theme:r,backgroundColor:e}),h=or()(t).hex().toLowerCase(),l=f.indexOf(h),d=t;return-1!==l&&(d=f[l+1]),{mainStroke:t,mainFill:vr(e,t,.1).rgb().toString(),activeStroke:t,activeFill:o,inactiveStroke:vr(e,t,.4).rgb().toString(),inactiveFill:o,selectedStroke:t,selectedFill:e,highlightStroke:d,highlightFill:vr(e,t,.2).rgb().toString(),disableStroke:c,disableFill:a,edgeMainStroke:c,edgeActiveStroke:t,edgeInactiveStroke:s,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:u,comboMainStroke:c,comboMainFill:i,comboActiveStroke:t,comboActiveFill:o,comboInactiveStroke:c,comboInactiveFill:i,comboSelectedStroke:t,comboSelectedFill:i,comboHighlightStroke:d,comboHighlightFill:i,comboDisableStroke:s,comboDisableFill:a}}("rgb(95, 149, 255)","rgb(255, 255, 255)"),yr={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:gr.mainStroke,fill:gr.mainFill},size:20,color:gr.mainStroke,linkPoints:{size:8,lineWidth:1,fill:gr.activeFill,stroke:gr.activeStroke}},nodeStateStyles:{active:{fill:gr.activeFill,stroke:gr.activeStroke,lineWidth:2,shadowColor:gr.mainStroke,shadowBlur:10},selected:{fill:gr.selectedFill,stroke:gr.selectedStroke,lineWidth:4,shadowColor:gr.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:gr.highlightFill,stroke:gr.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:gr.inactiveFill,stroke:gr.inactiveStroke,lineWidth:1},disable:{fill:gr.disableFill,stroke:gr.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:gr.edgeMainStroke,lineAppendWidth:2},color:gr.edgeMainStroke},edgeStateStyles:{active:{stroke:gr.edgeActiveStroke,lineWidth:1},selected:{stroke:gr.edgeSelectedStroke,lineWidth:2,shadowColor:gr.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:gr.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:gr.edgeInactiveStroke,lineWidth:1},disable:{stroke:gr.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:gr.comboMainFill,lineWidth:1,stroke:gr.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:gr.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:gr.comboActiveStroke,lineWidth:1,fill:gr.comboActiveFill},selected:{stroke:gr.comboSelectedStroke,lineWidth:2,fill:gr.comboSelectedFill,shadowColor:gr.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:gr.comboHighlightStroke,lineWidth:2,fill:gr.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:gr.comboInactiveStroke,fill:gr.comboInactiveFill,lineWidth:1},disable:{stroke:gr.comboDisableStroke,fill:gr.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},mr=Math.PI,br=Math.sin,wr=Math.cos,xr=(br(mr/8),wr(mr/8),function(t,e){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!xr(t.children[r],e))return;return!1!==e(t)}),Mr=function(t,e){"function"==typeof e&&xr(t,e)},kr={circular:R,concentric:z,dagre:D,force:Vt,g6force:Yt,comboForce:function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=100,e.gravity=10,e.comboGravity=10,e.linkDistance=10,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1/300),e.alphaTarget=0,e.velocityDecay=.6,e.edgeStrength=.2,e.nodeStrength=30,e.preventOverlap=!1,e.preventNodeOverlap=!1,e.preventComboOverlap=!1,e.collideStrength=void 0,e.nodeCollideStrength=void 0,e.comboCollideStrength=void 0,e.optimizeRangeFactor=1,e.onTick=function(){},e.onLayoutEnd=function(){},e.depthAttractiveForceScale=.5,e.depthRepulsiveForceScale=2,e.nodes=[],e.edges=[],e.combos=[],e.comboTrees=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.oriComboMap={},e.nodeIdxMap={},e.comboMap={},e.previousLayouted=!1,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);this.initVals(),this.run(),this.onLayoutEnd()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var n=t.center,o=t.velocityDecay,i=t.comboMap;t.previousLayouted||t.initPos(i);for(var a=function(r){var n=[];e.forEach((function(t,e){n[e]={x:0,y:0}})),t.applyCalculate(n),t.applyComboCenterForce(n),e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=n[e].x*o,t.y+=n[e].y*o)})),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<r;u++)a();var s=[0,0];e.forEach((function(t){k(t.x)&&k(t.y)&&(s[0]+=t.x,s[1]+=t.y)})),s[0]/=e.length,s[1]/=e.length;var c=[n[0]-s[0],n[1]-s[1]];e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=c[0],t.y+=c[1])})),t.combos.forEach((function(t){var e=i[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)})),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this.edges,e=this.nodes,r=this.combos,n={},o={},i={};e.forEach((function(t,e){o[t.id]=t,i[t.id]=e})),this.nodeMap=o,this.nodeIdxMap=i;var a={};r.forEach((function(t){a[t.id]=t})),this.oriComboMap=a,this.comboMap=this.getComboMap();var u=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||u,this.preventNodeOverlap=this.preventNodeOverlap||u;var s=this.collideStrength;s&&(this.comboCollideStrength=s,this.nodeCollideStrength=s);for(var c=0;c<t.length;++c)n[t[c].source]?n[t[c].source]++:n[t[c].source]=1,n[t[c].target]?n[t[c].target]++:n[t[c].target]=1;var f=[];for(c=0;c<t.length;++c)f[c]=n[t[c].source]/(n[t[c].source]+n[t[c].target]);this.bias=f;var h,l,d=this.nodeSize,p=this.nodeSpacing;if(l=k(p)?function(){return p}:g(p)?p:function(){return 0},this.nodeSpacing=l,d)if(g(d))h=function(t){return d(t)};else if(y(d)){var v=(d[0]>d[1]?d[0]:d[1])/2;h=function(t){return v}}else{var m=d/2;h=function(t){return m}}else h=function(t){return t.size?y(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:t.size/2:10};this.nodeSize=h;var b,w=this.comboSpacing;b=k(w)?function(){return w}:g(w)?w:function(){return 0},this.comboSpacing=b;var x,M=this.comboPadding;x=k(M)?function(){return M}:y(M)?function(){return Math.max.apply(null,M)}:g(M)?M:function(){return 0},this.comboPadding=x;var _,S=this.linkDistance;S||(S=10),_=k(S)?function(t){return S}:S,this.linkDistance=_;var E,j=this.edgeStrength;j||(j=1),E=k(j)?function(t){return j}:j,this.edgeStrength=E;var A,O=this.nodeStrength;O||(O=30),A=k(O)?function(t){return O}:O,this.nodeStrength=A},e.prototype.initPos=function(t){this.nodes.forEach((function(e,r){if(e.comboId){var n=t[e.comboId];e.x=n.cx+100/(r+1),e.y=n.cy+100/(r+1)}else e.x=100/(r+1),e.y=100/(r+1)}))},e.prototype.getComboMap=function(){var t=this,e=t.nodeMap,r=t.nodeIdxMap,n=t.comboTrees,o=t.oriComboMap,i={};return(n||[]).forEach((function(n){var a=[];Mr(n,(function(n){if("node"===n.itemType)return!0;if(!o[n.id])return!0;if(void 0===i[n.id]){var u={name:n.id,cx:0,cy:0,count:0,depth:t.oriComboMap[n.id].depth,children:[]};i[n.id]=u}var s=n.children;s&&s.forEach((function(t){if(!i[t.id]&&!e[t.id])return!0;a.push(t)}));var c=i[n.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var f=o[n.id],h=Object.keys(e).length,l=n.id+"-visual-child-"+h,d={id:l,x:f.x,y:f.y,depth:c.depth+1,itemType:"node"};t.nodes.push(d),e[l]=d,r[l]=h,c.cx=f.x,c.cy=f.y,a.push(d)}return a.forEach((function(t){if(c.count++,"node"!==t.itemType){var r=i[t.id];return k(r.cx)&&(c.cx+=r.cx),void(k(r.cy)&&(c.cy+=r.cy))}var n=e[t.id];n&&(k(n.x)&&(c.cx+=n.x),k(n.y)&&(c.cy+=n.y))})),c.cx/=c.count,c.cy/=c.count,c.children=a,!0}))})),i},e.prototype.applyComboCenterForce=function(t){var e=this.gravity,r=this.comboGravity||e,n=this.alpha,o=this.comboTrees,i=this.nodeIdxMap,a=this.nodeMap,u=this.comboMap;(o||[]).forEach((function(e){Mr(e,(function(e){if("node"===e.itemType)return!0;if(!u[e.id])return!0;var o=u[e.id],s=.5*(o.depth+1),c=o.cx,f=o.cy;return o.cx=0,o.cy=0,o.children.forEach((function(e){if("node"!==e.itemType){var h=u[e.id];return h&&k(h.cx)&&(o.cx+=h.cx),void(h&&k(h.cy)&&(o.cy+=h.cy))}var l=a[e.id],d=l.x-c||.005,p=l.y-f||.005,v=Math.sqrt(d*d+p*p),g=i[l.id],y=r*n/v*s;t[g].x-=d*y,t[g].y-=p*y,k(l.x)&&(o.cx+=l.x),k(l.y)&&(o.cy+=l.y)})),o.cx/=o.count,o.cy/=o.count,!0}))}))},e.prototype.applyCalculate=function(t){var e=this.comboMap,r=this.nodes,n={};r.forEach((function(t,e){r.forEach((function(r,o){if(!(e<o)){var i=t.x-r.x||.005,a=t.y-r.y||.005,u=i*i+a*a,s=Math.sqrt(u);u<1&&(u=s),n[t.id+"-"+r.id]={vx:i,vy:a,vl2:u,vl:s},n[r.id+"-"+t.id]={vx:-i,vy:-a,vl2:u,vl:s}}}))})),this.updateComboSizes(e),this.calRepulsive(t,n),this.calAttractive(t,n),this.preventComboOverlap&&this.comboNonOverlapping(t,e)},e.prototype.updateComboSizes=function(t){var e=this,r=e.comboTrees,n=e.nodeMap,o=e.nodeSize,i=e.comboSpacing,a=e.comboPadding;(r||[]).forEach((function(r){var u=[];Mr(r,(function(r){if("node"===r.itemType)return!0;var s=t[r.id];if(s){var c=r.children;c&&c.forEach((function(e){(t[e.id]||n[e.id])&&u.push(e)})),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0,u.forEach((function(t){if("node"!==t.itemType)return!0;var e=n[t.id];if(!e)return!0;var r=o(e),i=e.x-r,a=e.y-r,u=e.x+r,c=e.y+r;s.minX>i&&(s.minX=i),s.minY>a&&(s.minY=a),s.maxX<u&&(s.maxX=u),s.maxY<c&&(s.maxY=c)}));var f=e.oriComboMap[r.id].size||yr.defaultCombo.size;y(f)&&(f=f[0]);var h=Math.max(s.maxX-s.minX,s.maxY-s.minY,f);return s.r=h/2+i(s)/2+a(s),!0}}))}))},e.prototype.comboNonOverlapping=function(t,e){var r=this.comboTree,n=this.comboCollideStrength,o=this.nodeIdxMap,i=this.nodeMap;Mr(r,(function(r){if(e[r.id]||i[r.id]||"comboTreeRoot"===r.id){var a=r.children;return a&&a.length>1&&a.forEach((function(r,u){if("node"!==r.itemType){var s=e[r.id];s&&a.forEach((function(a,c){if(!(u<=c)&&"node"!==a.itemType){var f=e[a.id];if(f){var h=s.cx-f.cx||.005,l=s.cy-f.cy||.005,d=h*h+l*l,p=s.r,v=f.r,g=p+v,y=v*v,m=p*p;if(d<g*g){var b=r.children;if(!b||0===b.length)return;var w=a.children;if(!w||0===w.length)return;var x=Math.sqrt(d),M=(g-x)/x*n,k=h*M,_=l*M,S=y/(m+y),E=1-S;b.forEach((function(e){if("node"===e.itemType&&i[e.id]){var r=o[e.id];w.forEach((function(e){if("node"===e.itemType&&i[e.id]){var n=o[e.id];t[r].x+=k*S,t[r].y+=_*S,t[n].x-=k*E,t[n].y-=_*E}}))}}))}}}}))}})),!0}}))},e.prototype.calRepulsive=function(t,e){var r=this,n=r.nodes,o=r.width*r.optimizeRangeFactor,i=r.nodeStrength,a=r.alpha,u=r.nodeCollideStrength,s=r.preventNodeOverlap,c=r.nodeSize,f=r.nodeSpacing,h=r.depthRepulsiveForceScale,l=r.center;n.forEach((function(d,p){if(d.x&&d.y){if(l){var v=r.gravity,g=d.x-l[0]||.005,y=d.y-l[1]||.005,m=Math.sqrt(g*g+y*y);t[p].x-=g*v*a/m,t[p].y-=y*v*a/m}n.forEach((function(r,n){if(p!==n&&r.x&&r.y){var l=e[d.id+"-"+r.id],v=l.vl2,g=l.vl;if(!(g>o)){var y=e[d.id+"-"+r.id],m=y.vx,b=y.vy,w=Math.abs(r.depth-d.depth)+1||1;r.comboId!==d.comboId&&w++;var x=w?Math.pow(h,w):1,M=i(r)*a/v*x;if(t[p].x+=m*M,t[p].y+=b*M,p<n&&s){var k=c(d)+f(d),_=c(r)+f(r),S=k+_;if(v<S*S){var E=(S-g)/g*u,j=_*_,A=j/(k*k+j),O=m*E,N=b*E;t[p].x+=O*A,t[p].y+=N*A,A=1-A,t[n].x-=O*A,t[n].y-=N*A}}}}}))}}))},e.prototype.calAttractive=function(t,e){var r=this,n=r.edges,o=r.linkDistance,i=r.alpha,a=r.edgeStrength,u=r.bias,s=r.depthAttractiveForceScale;n.forEach((function(n,c){if(n.source&&n.target&&n.source!==n.target){var f=r.nodeIdxMap[n.source],h=r.nodeIdxMap[n.target],l=r.nodeMap[n.source],d=r.nodeMap[n.target],p=Math.abs(l.depth-d.depth);l.comboId===d.comboId&&(p/=2);var v=p?Math.pow(s,p):1;if(l.comboId!==d.comboId&&1===v?v=s/2:l.comboId===d.comboId&&(v=2),k(d.x)&&k(l.x)&&k(d.y)&&k(l.y)){var g=e[n.target+"-"+n.source],y=g.vl,m=g.vx,b=g.vy,w=(y-o(n))/y*i*a(n)*v,x=m*w,M=b*w,_=u[c];t[h].x-=x*_,t[h].y-=M*_,t[f].x+=x*(1-_),t[f].y+=M*(1-_)}}}))},e}(c),fruchterman:Ht,grid:$t,mds:Qe,radial:er,random:rr};o()(kr,(function(t,e){h.registerLayout(e,{},t)}));var _r=h,Sr=self;Sr.onmessage=function(t){(function(t){return t.data.type===Dt})(t)&&function(t){switch(t.data.type){case Dt:var e=t.data,r=e.nodes,n=e.edges,o=e.layoutCfg,i=void 0===o?{}:o,a=i.type,u=_r[a];if(!u){Sr.postMessage({type:Lt,message:"layout "+a+" not found"});break}var s=new u(i);s.init({nodes:r,edges:n}),s.execute(),Sr.postMessage({type:qt,nodes:r}),s.destroy()}}(t)};e.default=null}]);
//# sourceMappingURL=g6Layout.worker.js.map`,"Worker",void 0,s.p+"g6Layout.worker.js")},Sc=function(e){return setTimeout(e,16)},_c=function(e){return clearTimeout(e)},Aa=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||Sc)(e)},ja=function(e){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||_c)(e)},Oc=function(){function S(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return S.prototype.initLayout=function(){},S.prototype.getWorker=function(){return this.worker||(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new Mc),this.worker},S.prototype.stopWorker=function(){var e=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,e.requestId&&(ja(e.requestId),e.requestId=null),e.requestId2&&(ja(e.requestId2),e.requestId2=null))},S.prototype.getLayoutType=function(){return this.layoutCfg.type},S.prototype.layout=function(e){var t=this.graph;this.data=this.setDataFromGraph();var l=this.data.nodes;if(!l)return!1;var g=t.get("width"),w=t.get("height"),_={};Object.assign(_,{width:g,height:w,center:[g/2,w/2]},this.layoutCfg),this.layoutCfg=_;var k=!!this.layoutType,P=this.layoutMethod;P&&P.destroy(),t.emit("beforelayout");var T=this.initPositions(_.center,l);if(this.stopWorker(),_.workerEnabled&&this.layoutWithWorker(this.data,e))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var D=_.onTick,R=function(){D&&D(),t.refreshPositions()};_.tick=R;var L=_.onLayoutEnd;_.onLayoutEnd=function(){L&&L(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(_.comboTrees=t.get("comboTrees"));var Y=!1;if(this.layoutType!==void 0){try{P=new Jr[this.layoutType](_)}catch(nt){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(Y=P.enableTick){var z=_.onTick,q=_.onLayoutEnd;R=function(){z&&z(),t.refreshPositions()},P.tick=R,P.onLayoutEnd=function(){q&&q(),t.emit("afterlayout")}}P.init(this.data),k&&P.execute(),this.layoutMethod=P}return!k&&T||this.layoutType==="force"||Y||(t.emit("afterlayout"),this.refreshLayout()),!1},S.prototype.layoutWithWorker=function(e,t){var l=this,g=e.nodes,w=e.edges,_=this.layoutCfg,k=(this.graph,this.getWorker()),P=this.workerData;if(!k)return!1;P.requestId=null,P.requestId2=null,P.currentTick=null,P.currentTickData=null;var T=function(D,R){var L={};return D&&typeof D=="object"?(Object.keys(D).forEach(function(Y){D.hasOwnProperty(Y)&&R(D[Y])&&(L[Y]=D[Y])}),L):D}(_,function(D){return typeof D!="function"});return k.postMessage({type:Ru,nodes:g,edges:w,layoutCfg:T}),k.onmessage=function(D){l.handleWorkerMessage(D,e,t)},!0},S.prototype.handleWorkerMessage=function(e,t,l){var g=this.graph,w=this.workerData,_=this.layoutCfg,k=e.data,P=k.type,T=function(){_.onTick&&_.onTick()},D=function(){_.onLayoutEnd&&_.onLayoutEnd(),g.emit("afterlayout")};switch(P){case da:w.currentTick=k.currentTick,w.currentTickData=k,w.requestId||(w.requestId=Aa(function(){uo(t,k),g.refreshPositions(),T(),k.currentTick===1&&l&&l(),k.currentTick===k.totalTicks?D():w.currentTick===k.totalTicks&&(w.requestId2=Aa(function(){uo(t,w.currentTickData),g.refreshPositions(),w.requestId2=null,T(),D()})),w.requestId=null}));break;case Lu:w.currentTick==null&&(uo(t,k),this.refreshLayout(),l&&l(),g.emit("afterlayout"))}},S.prototype.refreshLayout=function(){var e=this.graph;e.get("animate")?e.positionsAnimate():e.refreshPositions()},S.prototype.updateLayoutCfg=function(e){var t=this.graph,l=this.layoutMethod;this.layoutType=e.type,l?(this.data=this.setDataFromGraph(),this.stopWorker(),e.workerEnabled&&this.layoutWithWorker(this.data,null)||(l.init(this.data),l.updateCfg(e),t.emit("beforelayout"),l.execute(),this.layoutType==="force"||l.enableTick||t.emit("afterlayout"),this.refreshLayout())):console.warn("You did not assign any layout type and the graph has no previous layout method!")},S.prototype.changeLayout=function(e){var t=this.graph,l=this.layoutMethod;this.layoutType=e,this.layoutCfg=t.get("layout")||{},this.layoutCfg.type=e,l&&l.destroy(),this.layout()},S.prototype.changeData=function(){var e=this.layoutMethod;e&&e.destroy(),this.layout()},S.prototype.destroyLayout=function(){var e=this.layoutMethod,t=this.graph;e&&e.destroy(),t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},S.prototype.setDataFromGraph=function(){var e=[],t=[],l=[],g=this.graph.getNodes(),w=this.graph.getEdges(),_=this.graph.getCombos();return g.forEach(function(k){if(k.isVisible()){var P=k.getModel();e.push(P)}}),w.forEach(function(k){if(!k.destroyed&&k.isVisible()){var P=k.getModel();P.isComboEdge||t.push(P)}}),_.forEach(function(k){if(!k.destroyed&&k.isVisible()){var P=k.getModel();l.push(P)}}),{nodes:e,edges:t,combos:l}},S.prototype.relayout=function(e){var t=this.graph,l=this.layoutMethod,g=this.layoutCfg;if(e){this.data=this.setDataFromGraph();var w=this.data.nodes;if(!w)return!1;this.initPositions(g.center,w),l.init(this.data)}this.layoutType==="force"&&(l.ticking=!1,l.forceSimulation.stop()),t.emit("beforelayout"),l.execute(e),this.layoutType==="force"||l.enableTick||t.emit("afterlayout"),this.refreshLayout()},S.prototype.layoutAnimate=function(){},S.prototype.moveToZero=function(){var e=this.graph.get("data").nodes;if(e[0].x!==void 0&&e[0].x!==null&&!at(e[0].x)){var t=[0,0];e.forEach(function(l){t[0]+=l.x,t[1]+=l.y}),t[0]/=e.length,t[1]/=e.length,e.forEach(function(l){l.x-=t[0],l.y-=t[1]})}},S.prototype.initPositions=function(e,t){var l=this.graph;if(!t)return!1;var g=!0,w=.85*l.get("width"),_=.85*l.get("height"),k=t.length,P=Math.ceil(Math.sqrt(k)*(w/_)),T=Math.ceil(k/P),D=w/(P-1),R=_/(T-1);isFinite(D)&&D||(D=0),isFinite(R)&&D||(R=0);var L=e[0]-w/2,Y=e[1]-_/2;return t.forEach(function(z,q){at(z.x)&&(g=!1,z.x=q%P*D+L),at(z.y)&&(g=!1,z.y=Math.floor(q/P)*R+Y)}),g},S.prototype.destroy=function(){var e=this.layoutMethod;this.graph=null,e&&e.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},S}();function uo(S,e){var t=S.nodes,l=e.nodes;t.forEach(function(g,w){g.x=l[w].x,g.y=l[w].y})}var Ar=null,Ec=function(){function S(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return S.checkCache=function(e,t,l){if(l[t]){var g=l[t].indexOf(e);g>=0&&l[t].splice(g,1)}},S.cacheState=function(e,t,l){l[t]||(l[t]=[]),l[t].push(e)},S.prototype.updateState=function(e,t,l){var g=this,w=S.checkCache,_=S.cacheState;if(!e.destroyed){var k=this.cachedStates,P=k.enabled,T=k.disabled;l?(w(e,t,T),_(e,t,P)):(w(e,t,P),_(e,t,T)),Ar&&clearTimeout(Ar),Ar=setTimeout(function(){Ar=null,g.updateGraphStates()},16)}},S.prototype.updateStates=function(e,t,l){var g=this;N()(t)?this.updateState(e,t,l):t.forEach(function(w){g.updateState(e,w,l)})},S.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;h()(t.disabled,function(l,g){e[g]&&(e[g]=e[g].filter(function(w){return l.indexOf(w)<0&&!l.destroyed}))}),h()(t.enabled,function(l,g){if(e[g]){var w={};e[g].forEach(function(_){_.destroyed||(w[_.get("id")]=!0)}),l.forEach(function(_){if(!_.destroyed){var k=_.get("id");w[k]||(w[k]=!0,e[g].push(_))}})}else e[g]=l}),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},S.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Ar&&clearTimeout(Ar),Ar=null,this.destroyed=!0},S}(),co=null,kc=function(){function S(e){this.graph=e;var t=e.get("groupStyle");this.styles=Me()({},S.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return S.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},S.prototype.create=function(e,t,l,g,w,_){l===void 0&&(l="circle"),g===void 0&&(g=0),w===void 0&&(w=!1),_===void 0&&(_={});var k=this.graph,P=k.get("customGroup");if(P.get("children").map(function(te){return te.get("id")}).indexOf(e)>-1)console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+e+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");else{var T=P.addGroup({id:e,zIndex:g}),D=this.styles.default,R=this.calculationGroupPosition(t),L=R.x,Y=R.y,z=R.width,q=R.height,nt=R.maxX,et=this.getGroupPadding(e);k.get("groupBBoxs")[e]={x:L,y:Y,width:z,height:q,maxX:nt};var st=null;if(w){var pt=k.get("groups");t.forEach(function(te){var ae=k.findById(te).getModel();ae.groupId||(ae.groupId=e)}),pt.find(function(te){return te.id===e})||(pt.push({id:e,title:_}),k.set({groups:pt}))}var Ot=k.get("groups").filter(function(te){return te.id===e});Ot&&Ot.length>0&&(st=Ot[0].title);var wt=0,yt=0,Tt=null;if(l==="circle"){var Dt=(z+2*L)/2,Gt=(q+2*Y)/2,zt=(z>q?z/2:q/2)+et;Tt=T.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},D),{x:Dt,y:Gt,r:zt}),draggable:!0,capture:!0,zIndex:g,groupId:e,name:"circle-group-shape"}),wt=Dt,yt=Gt-zt,this.setDeletageGroupByStyle(e,T,{width:z,height:q,x:Dt,y:Gt,r:zt})}else{var Kt=et*D.disCoefficient;Tt=T.addShape("rect",{attrs:Object(I.__assign)(Object(I.__assign)({},D),{x:L-Kt,y:Y-Kt,width:z+2*Kt,height:q+2*Kt}),draggable:!0,capture:!0,zIndex:g,groupId:e,name:"rect-group-shape"}),wt=L-Kt+15,yt=Y-Kt+15,this.setDeletageGroupByStyle(e,T,{x:L-Kt,y:Y-Kt,width:z+Kt,height:q+Kt,btnOffset:nt-3})}if(st){var qt=st.offsetX,Wt=qt===void 0?0:qt,ne=st.offsetY,Qt=ne===void 0?0:ne,se=st.text,oe=se===void 0?st:se,le=Object(I.__rest)(st,["offsetX","offsetY","text"]);T.addShape("text",{attrs:Object(I.__assign)({text:oe,stroke:"#444",x:wt+Wt,y:yt+Qt},le),className:"group-title",name:"group-title-shape"}).set("capture",!1)}T.set("keyShape",Tt),k.get("groupNodes")[e]=t}},S.prototype.setGroupStyle=function(e,t){if(e&&!e.get("destroyed")){var l={},g=this.styles,w=g.hover,_=g.default;N()(t)?t==="default"?l=Me()({},_):t==="hover"&&(l=Me()({},w)):l=Me()({},_,t),Object.keys(l).forEach(function(k){e.attr(k,l[k])})}},S.prototype.calculationGroupPosition=function(e,t){if(t===void 0&&(t={x:100,y:100}),e.length===0)return{x:t.x,y:t.y,width:100,height:100};var l=this.graph,g=1/0,w=-1/0,_=1/0,k=-1/0;e.forEach(function(D){var R=(N()(D)?l.findById(D):D).getBBox(),L=R.minX,Y=R.minY,z=R.maxX,q=R.maxY;L<g&&(g=L),Y<_&&(_=Y),z>w&&(w=z),q>k&&(k=q)});var P=Math.floor(g),T=Math.floor(_);return{x:P,y:T,width:Math.ceil(w)-P,height:Math.ceil(k)-T,maxX:Math.ceil(w)}},S.prototype.flatToTree=function(e,t,l){t===void 0&&(t="id"),l===void 0&&(l="parentId");var g=[],w=[];return e.forEach(function(_){g[_[t]]=_}),e.forEach(function(_){var k=g[_[l]];k?(k.children=k.children||[],k.children.push(_)):w.push(_)}),w},S.prototype.getGroupPadding=function(e){var t=this.graph,l=this.styles.default,g=t.get("groups"),w=g.filter(function(k){return k.parentId===e}),_=1;return w.length>0&&(co||(co=this.flatToTree(g)),fn(co[0],function(k){if(k.parentId===e&&k.children)return _+=k.children.length,!0})),g.filter(function(k){return k.id===e&&!k.parentId}).length>0&&(_+=1),g.filter(function(k){return k.parentId===e}).length>0?l.maxDis+30*(_>1?_/2:1):l.minDis},S.prototype.setDeletageGroupByStyle=function(e,t,l){var g=l.width,w=l.height,_=l.x,k=l.y,P=l.r,T=l.btnOffset,D=this.customGroup[e];if(D){var R=D.groupStyle,L=Me()({},R,l);this.customGroup[e]={nodeGroup:t,groupStyle:L}}else this.customGroup[e]={nodeGroup:t,groupStyle:{width:g,height:w,x:_,y:k,r:P,btnOffset:T}}},S.prototype.getDeletageGroupById=function(e){return this.customGroup[e]},S.prototype.collapseExpandGroup=function(e){var t=this.getDeletageGroupById(e).nodeGroup;t.get("hasHidden")?(t.set("hasHidden",!1),this.expandGroup(e)):(t.set("hasHidden",!0),this.collapseGroup(e))},S.prototype.setGroupTmpNode=function(e,t){var l=this.graph,g=l.get("groupNodes"),w=l.get("groups");g[e].indexOf(t)<0&&g[e].push(t);var _=w.filter(function(P){return P.id===e}),k=null;_.length>0&&(k=_[0].parentId),k&&this.setGroupTmpNode(k,t)},S.prototype.collapseGroup=function(e){var t=this,l=this.getDeletageGroupById(e).nodeGroup,g=this.styles.collapse,w=this.graph,_=w.get("groupType"),k=w.get("groupNodes")[e],P=l.get("keyShape"),T=g.r,D=g.width,R=g.height,L=g.offsetX,Y=g.offsetY,z=Object(I.__rest)(g,["r","width","height","offsetX","offsetY"]);Object.keys(z).forEach(function(yt){P.attr(yt,z[yt])});var q={groupId:e,id:e+"-custom-node",x:P.attr("x"),y:P.attr("y"),style:{r:T},type:"circle"},nt=l.find(function(yt){return yt.get("className")==="group-title"});_==="circle"?(P.animate({r:T},{duration:500,easing:"easeCubic"}),nt&&nt.attr({x:P.attr("x")+L,y:P.attr("y")+Y})):_==="rect"&&(P.animate({width:D,height:R},{duration:500,easing:"easeCubic"}),nt&&nt.attr({x:P.attr("x")+10,y:P.attr("y")+R/2+5}),q={groupId:e,id:e+"-custom-node",x:P.attr("x")+D/2,y:P.attr("y")+R/2,size:[D,R],type:"rect"});var et=w.getEdges(),st=et.filter(function(yt){var Tt=yt.getModel();return!k.includes(Tt.source)&&k.includes(Tt.target)}),pt=et.filter(function(yt){var Tt=yt.getModel();return k.includes(Tt.source)&&!k.includes(Tt.target)}),Ot=et.filter(function(yt){var Tt=yt.getModel();return k.includes(Tt.source)&&k.includes(Tt.target)});if(k.forEach(function(yt){var Tt=w.findById(yt),Dt=Tt.getModel().groupId;Dt&&Dt!==e&&t.getDeletageGroupById(Dt).nodeGroup.hide(),Tt.hide()}),Ot.forEach(function(yt){var Tt=yt.getSource(),Dt=yt.getTarget();Tt.isVisible()&&Dt.isVisible()?yt.show():yt.hide()}),st.length>0||pt.length>0){var wt=w.add("node",q);wt.set("capture",!1),wt.hide(),this.delegateInGroup[e]={delegateNode:wt},this.setGroupTmpNode(e,e+"-custom-node"),this.updateEdgeInGroupLinks(e,st,pt)}},S.prototype.updateEdgeInGroupLinks=function(e,t,l){var g=this.graph,w={};t.map(function(k){var P=k.getModel(),T=k.get("id"),D=P.target;return w[T]=D,g.updateItem(k,{target:e+"-custom-node"}),!0});var _={};l.map(function(k){var P=k.getModel(),T=k.get("id"),D=P.source;return _[T]=D,g.updateItem(k,{source:e+"-custom-node"}),!0}),this.delegateInGroup[e]=Me()({sourceOutTargetInEdges:t,sourceInTargetOutEdges:l,edgesOuts:w,edgesIn:_},this.delegateInGroup[e])},S.prototype.expandGroup=function(e){var t=this,l=this.graph,g=l.get("groupType"),w=l.get("groupNodes")[e],_=w.filter(function(oe){return oe.indexOf("custom-node")===-1}),k=this.calculationGroupPosition(_),P=k.width,T=k.height,D=this.getDeletageGroupById(e).nodeGroup,R=D.get("keyShape"),L=this.styles,Y=L.default,z=L.collapse;Object.keys(Y).forEach(function(oe){R.attr(oe,Y[oe])});var q=D.find(function(oe){return oe.get("className")==="group-title"}),nt=this.getGroupPadding(e);if(g==="circle"){var et=P>T?P/2:T/2;R.animate({r:et+nt},{duration:500,easing:"easeCubic"})}else if(g==="rect"){var st=z.width,pt=z.height;R.animate({width:st+P+nt*Y.disCoefficient*2,height:pt+T+nt*Y.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(q){var Ot=null,wt=l.get("groups").filter(function(oe){return oe.id===e});wt&&wt.length>0&&(Ot=wt[0].title);var yt=Ot.offsetX,Tt=yt===void 0?0:yt,Dt=Ot.offsetY,Gt=Dt===void 0?0:Dt;g==="circle"?q.animate({x:R.attr("x")+Tt,y:R.attr("y")-R.attr("r")+Gt},{duration:600,easing:"easeCubic"}):g==="rect"&&q.animate({x:R.attr("x")+(15+Tt),y:R.attr("y")+(15+Gt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){w.forEach(function(oe){var le=l.findById(oe),te=le.getModel().groupId;if(te&&te!==e){var ae=t.getDeletageGroupById(te).nodeGroup;ae.show(),ae.get("hasHidden")||le.show()}else le.show()}),l.getEdges().filter(function(oe){var le=oe.getModel();return w.includes(le.source)||w.includes(le.target)}).forEach(function(oe){var le=oe.getSource(),te=oe.getTarget();le.isVisible()&&te.isVisible()&&oe.show()})},300);var zt=this.delegateInGroup[e];if(zt){var Kt=zt.sourceOutTargetInEdges,qt=zt.sourceInTargetOutEdges,Wt=zt.edgesOuts,ne=zt.edgesIn,Qt=zt.delegateNode;Kt.map(function(oe){var le=oe.get("id"),te=Wt[le];return l.updateItem(oe,{target:te}),!0}),qt.map(function(oe){var le=oe.get("id"),te=ne[le];return l.updateItem(oe,{source:te}),!0});var se=Qt.getModel();this.deleteTmpNode(e,se.id),l.remove(Qt),delete this.delegateInGroup[e]}},S.prototype.deleteTmpNode=function(e,t){var l=this.graph,g=l.get("groups"),w=l.get("groupNodes")[e],_=w.indexOf(t);w.splice(_,1);var k=g.filter(function(T){return T.id===e}),P=null;k.length>0&&(P=k[0].parentId),P&&this.deleteTmpNode(P,t)},S.prototype.remove=function(e){var t=this.graph,l=this.getDeletageGroupById(e);if(l){var g=l.nodeGroup,w=t.get("groupNodes"),_=w[e];_.forEach(function(Y){var z=t.findById(Y),q=z.getModel(),nt=q.groupId;nt&&e===nt&&(delete q.groupId,t.updateItem(z,q))}),g.destroy(),delete this.customGroup[e];var k=t.get("groups");if(k.length>0){var P=k.filter(function(Y){return Y.id!==e});t.set("groups",P)}for(var T=null,D=null,R=0;R<k.length;R++){var L=k[R];if(e===L.id){T=L.parentId,D=L;break}}D&&delete D.parentId,delete w[e],T&&(w[T]=w[T].filter(function(Y){return!_.includes(Y)}))}},S.prototype.updateGroup=function(e,t,l){var g=this.graph,w=g.get("groupType");this.updateItemInGroup(e,t,l);for(var _=g.save().groups,k=null,P=null,T=0;T<_.length;T++){var D=_[T];if(e===D.id){k=D.parentId,P=D;break}}if(k){var R=this.getDeletageGroupById(k).nodeGroup,L=R.get("keyShape");this.setGroupStyle(L,"default");var Y=L.getBBox(),z=Y.minX,q=Y.minY,nt=Y.maxX,et=Y.maxY,st=this.getDeletageGroupById(e).nodeGroup.get("keyShape").getBBox(),pt=st.x,Ot=st.y;if(!(pt<nt&&pt>z&&Ot<et&&Ot>q)){delete P.parentId;var wt=g.get("groupNodes"),yt=wt[e],Tt=wt[k];wt[k]=Tt.filter(function(ze){return yt.indexOf(ze)===-1});var Dt=this.calculationGroupPosition(wt[k]),Gt=Dt.x,zt=Dt.y,Kt=Dt.width,qt=Dt.height,Wt=this.getGroupPadding(k),ne=R.find(function(ze){return ze.get("className")==="group-title"}),Qt=0,se=0;if(w==="circle"){var oe=Kt>qt?Kt/2:qt/2,le=Gt,te=zt;L.attr({r:oe+Wt,x:le,y:te}),Qt=le,se=te-L.attr("r")}else if(w==="rect"){var ae=Wt*this.styles.default.disCoefficient;L.attr({x:Gt-ae,y:zt-ae}),Qt=Gt-ae+15,se=zt-ae+15}if(ne){var me=P.title,ke=0,Ce=0;me&&(ke=me.offsetX,Ce=me.offsetY),ne.attr({x:Qt+ke,y:se+Ce})}}}},S.prototype.updateItemInGroup=function(e,t,l){var g=this,w=this.graph,_=w.get("groupType"),k=w.get("groupNodes"),P=k[e],T=this.getDeletageGroupById(e).nodeGroup.getBBox(),D=[];P.forEach(function(R,L){var Y=w.findById(R),z=Y.getModel(),q=z.groupId;q&&!D.includes(q)&&D.push(q),g.nodePoint[L]||(g.nodePoint[L]={x:z.x,y:z.y});var nt=t.x-T.x+g.nodePoint[L].x,et=t.y-T.y+g.nodePoint[L].y;g.nodePoint[L]={x:nt,y:et},w.updateItem(Y,{x:nt,y:et})}),D.includes(e)||D.push(e),D.forEach(function(R){var L=g.getDeletageGroupById(R).nodeGroup,Y=L.get("keyShape"),z=k[R].filter(function(Kt){return Kt.indexOf("custom-node")===-1}),q=g.calculationGroupPosition(z,t),nt=q.x,et=q.y,st=q.width,pt=q.height,Ot=0,wt=0;if(_==="circle"){var yt=(st+2*nt)/2,Tt=(pt+2*et)/2;Y.attr({x:yt,y:Tt}),Ot=yt,wt=Tt-Y.attr("r")}else if(_==="rect"){var Dt=L.get("hasHidden"),Gt={},zt=g.getGroupPadding(R)*g.styles.default.disCoefficient;Ot=nt-zt+15,wt=et-zt+15,Dt?(Gt={x:nt-zt,y:et-zt},wt+=10):Gt={x:nt-zt,y:et-zt,width:st+2*zt,height:pt+2*zt},Y.attr(Gt)}g.updateGroupTitle(L,R,Ot,wt)})},S.prototype.updateGroupTitle=function(e,t,l,g){var w=this.graph,_=e.find(function(R){return R.get("className")==="group-title"});if(_){var k=null,P=w.get("groups").filter(function(R){return R.id===t});P&&P.length>0&&(k=P[0].title);var T=0,D=0;k&&(T=k.offsetX||0,D=k.offsetY||0),_.attr({x:l+T,y:g+D})}},S.prototype.dynamicChangeGroupSize=function(e,t,l){var g=e.item.getModel().groupId,w=this.graph,_=w.get("groupType"),k=w.get("groupNodes"),P=k[g];if(P.length===0){delete k[g];var T=w.get("groups");w.set("groups",T.filter(function(yt){return yt.id!==g})),t.remove()}else{var D=this.calculationGroupPosition(P),R=D.x,L=D.y,Y=D.width,z=D.height,q=this.getGroupPadding(g),nt=0,et=0;if(_==="circle"){var st=Y>z?Y/2:z/2,pt=(Y+2*R)/2,Ot=(z+2*L)/2;l.attr({r:st+q,x:pt,y:Ot}),nt=pt,et=Ot-l.attr("r")}else if(_==="rect"){var wt=q*this.styles.default.disCoefficient;l.attr({x:R-wt,y:L-wt,width:Y+2*wt,height:z+2*wt}),nt=R-wt+15,et=L-wt+15}this.updateGroupTitle(t,g,nt,et)}this.setGroupStyle(l,"default")},S.prototype.resetNodePoint=function(){this.nodePoint.length=0},S.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},S}(),Ia=function(e){var t={};return e.getNodes().forEach(function(l){t[l.getID()]={degree:0,inDegree:0,outDegree:0}}),e.getEdges().forEach(function(l){t[l.getSource().getID()].degree++,t[l.getSource().getID()].outDegree++,t[l.getTarget().getID()].degree++,t[l.getTarget().getID()].inDegree++}),t},Pc=function(){function S(e){this.compare=e||S.defaultCompareFunction}return S.defaultCompareFunction=function(e,t){return e===t?0:e<t?-1:1},S.prototype.equal=function(e,t){return this.compare(e,t)===0},S.prototype.lessThan=function(e,t){return this.compare(e,t)<0},S.prototype.greaterThan=function(e,t){return this.compare(e,t)>0},S.prototype.lessThanOrEqual=function(e,t){return this.lessThan(e,t)||this.equal(e,t)},S.prototype.greaterThanOrEqual=function(e,t){return this.greaterThan(e,t)||this.equal(e,t)},S.prototype.reverse=function(){var e=this.compare;this.compare=function(t,l){return e(l,t)}},S}(),Ta=function(){function S(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return S.prototype.toString=function(e){return e?e(this.value):""+this.value},S}(),Na=function(){function S(e){e===void 0&&(e=null),this.head=null,this.tail=null,this.compare=new Pc(e)}return S.prototype.prepend=function(e){var t=new Ta(e,this.head);return this.head=t,this.tail||(this.tail=t),this},S.prototype.append=function(e){var t=new Ta(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},S.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,e);)t=this.head,this.head=this.head.next;var l=this.head;if(l!==null)for(;l.next;)this.compare.equal(l.next.value,e)?(t=l.next,l.next=l.next.next):l=l.next;return this.compare.equal(this.tail.value,e)&&(this.tail=l),t},S.prototype.find=function(e){var t=e.value,l=t===void 0?void 0:t,g=e.callback,w=g===void 0?void 0:g;if(!this.head)return null;for(var _=this.head;_;){if(w&&w(_.value)||l!==void 0&&this.compare.equal(_.value,l))return _;_=_.next}return null},S.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},S.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},S.prototype.fromArray=function(e){var t=this;return e.forEach(function(l){return t.append(l)}),this},S.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},S.prototype.reverse=function(){for(var e=this.head,t=null,l=null;e;)l=e.next,e.next=t,t=e,e=l;this.tail=this.head,this.head=t},S.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},S}(),Da=function(){function S(e){e===void 0&&(e=10),this.linkedList=new Na,this.maxStep=e}return Object.defineProperty(S.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),S.prototype.isEmpty=function(){return!this.linkedList.head},S.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},S.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},S.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},S.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},S.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},S.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},S}(),ki=function(e,t){var l=e.getNodes(),g=e.getEdges(),w=[],_={};if(!l)throw new Error("invalid nodes data!");return l&&l.forEach(function(k,P){_[k.getID()]=P,w.push([])}),g&&g.forEach(function(k){var P=k.getModel(),T=P.source,D=P.target,R=_[T],L=_[D];w[R][L]=1,t||(w[L][R]=1)}),w},Ba=function(e,t){var l=e.get("adjMatrix");l||(l=ki(e,t));for(var g=[],w=l.length,_=0;_<w;_+=1){g[_]=[];for(var k=0;k<w;k+=1)_===k?g[_][k]=0:l[_][k]!==0&&l[_][k]?g[_][k]=l[_][k]:g[_][k]=1/0}for(var P=0;P<w;P+=1)for(_=0;_<w;_+=1)for(k=0;k<w;k+=1)g[_][k]>g[_][P]+g[P][k]&&(g[_][k]=g[_][P]+g[P][k]);return g},Ra=function(e,t,l){return(e.y-l.y)*(t.x-l.x)-(e.x-l.x)*(t.y-l.y)},La=function(e){var t=e.map(function(_){return{x:_.getModel().x,y:_.getModel().y}});t.sort(function(_,k){return _.x===k.x?_.y-k.y:_.x-k.x});for(var l=[],g=0;g<t.length;g++){for(;l.length>=2&&Ra(l[l.length-2],l[l.length-1],t[g])<=0;)l.pop();l.push(t[g])}var w=[];for(g=t.length-1;g>=0;g--){for(;w.length>=2&&Ra(w[w.length-2],w[w.length-1],t[g])<=0;)w.pop();w.push(t[g])}return w.pop(),l.pop(),l.concat(w)},Cc={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Ac(S,e,t){var l=!1,g=function(P,T){return e.cells[P+T*e.width]},w=function(P,T){var D=0;return g(P-1,T-1)>=t&&(D+=1),g(P,T-1)>t&&(D+=2),g(P-1,T)>t&&(D+=4),g(P,T)>t&&(D+=8),D},_=function(P,T){for(var D,R,L=P,Y=T,z=0;z<e.width*e.height;z++){if(D=L,R=Y,S.findIndex(function(nt){return nt.x===L&&nt.y===Y})>-1){if(S[0].x===L&&S[0].y===Y)return!0}else S.push({x:L,y:Y});var q=w(L,Y);switch(q){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:L++;break;case 12:case 14:case 4:L--;break;case 6:D===0&&(R===-1?L-=1:L+=1);break;case 1:case 13:case 5:Y--;break;case 9:D===1&&(R===0?Y-=1:Y+=1);break;case 10:case 8:case 11:Y++;break;default:return console.warn("Marching squares invalid state: "+q),!0}}};this.march=function(){for(var k=0;k<e.width&&!l;k+=1)for(var P=0;P<e.height&&!l;P+=1)g(k,P)>t&&w(k,P)!==15&&(l=_(k,P));return l}}var Fa=function(e,t){var l=Number.POSITIVE_INFINITY,g=null;return e.forEach(function(w){var _=tr(w,t);_>=0&&_<l&&(g=w,l=_)}),g};function jc(S,e,t,l,g){var w=function(_,k,P){var T=null,D=Number.POSITIVE_INFINITY;return k.forEach(function(R){var L={x:_.getModel().x,y:_.getModel().y},Y={x:R.getModel().x,y:R.getModel().y},z=er(L,Y),q=new An(L.x,L.y,Y.x,Y.y),nt=P.reduce(function(et,st){return tr(st,q)>0?et+1:et},0);z*Math.pow(nt+1,2)<D&&(T=R,D=z*Math.pow(nt+1,2))}),T}(S,t,e);return w===null?[]:function(_){for(var k=[];_.length>0;){var P=_.pop();if(_.length===0){k.push(P);break}var T=_.pop(),D=new An(P.x1,P.y1,T.x2,T.y2);Fa(e,D)?(k.push(P),_.push(T)):_.push(D)}return k}(function(_,k,P,T){var D=[],R=[];R.push(_);for(var L=!0,Y=0,z=function(st,pt){var Ot=!1;return pt.forEach(function(wt){Ot||(lr(st,{x:wt.x1,y:wt.y1})||lr(st,{x:wt.x2,y:wt.y2}))&&(Ot=!0)}),Ot},q=function(st,pt){for(var Ot=0,wt=pt;Ot<wt.length;Ot++){var yt=wt[Ot].getBBox(),Tt=[[yt.x,yt.y],[yt.x+yt.width,yt.y],[yt.x,yt.y+yt.height],[yt.x+yt.width,yt.y+yt.height]];if(ln(Tt,st.x,st.y))return!0}return!1};L&&Y<P;){L=!1;for(var nt=function(){var st=R.pop(),pt=Fa(k,st);if(pt){var Ot=cr(pt,st),wt=Ot[0];if(Ot[1]===2){var yt=function(Dt){for(var Gt=T,zt=Ya(pt,Gt,wt,Dt),Kt=z(zt,R)||z(zt,D),qt=q(zt,k);!Kt&&qt&&Gt>=1;)zt=Ya(pt,Gt/=1.5,wt,Dt),Kt=z(zt,R)||z(zt,D),qt=q(zt,k);!zt||Kt||Dt&&qt||(R.push(new An(st.x1,st.y1,zt.x,zt.y)),R.push(new An(zt.x,zt.y,st.x2,st.y2)),L=!0)};yt(!0),L||yt(!1)}}L||D.push(st),Y+=1};!L&&R.length;)nt()}for(;R.length;)D.push(R.pop());return D}(new An(S.getModel().x,S.getModel().y,w.getModel().x,w.getModel().y),e,l,g))}var Ic=function(e,t,l){var g=Object.assign(Cc,l),w=gr(e.map(function(yt){return{x:yt.getModel().x,y:yt.getModel().y}}));e=e.sort(function(yt,Tt){return er({x:yt.getModel().x,y:yt.getModel().y},w)-er({x:Tt.getModel().x,y:Tt.getModel().y},w)});var _=[],k=[];e.forEach(function(yt){jc(yt,t,_,g.maxRoutingIterations,g.morphBuffer).forEach(function(Tt){k.push(Tt)}),_.push(yt)});for(var P,T,D,R,L,Y=function(yt,Tt,Dt){var Gt={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},zt=[];yt.forEach(function(ne){zt.push(ne.getBBox())}),Tt.forEach(function(ne){zt.push(ne.getBBox())});for(var Kt=0,qt=zt;Kt<qt.length;Kt++){var Wt=qt[Kt];Gt.minX=(Wt.minX<Gt.minX?Wt.minX:Gt.minX)-Dt,Gt.minY=(Wt.minY<Gt.minY?Wt.minY:Gt.minY)-Dt,Gt.maxX=(Wt.maxX>Gt.maxX?Wt.maxX:Gt.maxX)+Dt,Gt.maxY=(Wt.maxY>Gt.maxY?Wt.maxY:Gt.maxY)+Dt}return Gt.width=Gt.maxX-Gt.minX,Gt.height=Gt.maxY-Gt.minY,Gt.x=Gt.minX,Gt.y=Gt.minY,Gt}(e,k,g.nodeR0),z=(P=Y.width,T=Y.height,D=g.pixelGroupSize,R=Math.ceil(P/D),L=Math.ceil(T/D),{cells:new Float32Array(Math.max(0,R*L)).fill(0),width:R,height:L}),q=[],nt=[],et=0;et<g.maxMarchingIterations;et++)if(Tc(e,t,k,Y,z,g),nt=[],new Ac(q=[],z,g.threshold).march()){var st=q.map(function(yt){return{x:Math.round(yt.x*g.pixelGroupSize+Y.minX),y:Math.round(yt.y*g.pixelGroupSize+Y.minY)}});if(st){var pt=st.length;if(g.skip>1)for(pt=Math.floor(st.length/g.skip);pt<3&&g.skip>1;)g.skip-=1,pt=Math.floor(st.length/g.skip);for(var Ot=0,wt=0;wt<pt;wt+=1,Ot+=g.skip)nt.push({x:st[Ot].x,y:st[Ot].y})}if(nt&&function(){for(var yt=0,Tt=e;yt<Tt.length;yt++){var Dt=Tt[yt],Gt=nt.map(function(zt){return[zt.x,zt.y]});if(!ln(Gt,Dt.getBBox().centerX,Dt.getBBox().centerY))return!1}return!0}())return nt;if(g.threshold*=.9,et<=.5*g.maxMarchingIterations)g.memberInfluenceFactor*=1.2,g.edgeInfluenceFactor*=1.2;else{if(!(g.nonMemberInfluenceFactor!==0&&t.length>0))break;g.nonMemberInfluenceFactor*=.8}}return nt};function Tc(S,e,t,l,g,w){function _(L,Y){var z=Math.floor((L-Y)/w.pixelGroupSize);return z<0?0:z}function k(L,Y){return L*w.pixelGroupSize+Y}var P=(w.nodeR0-w.nodeR1)*(w.nodeR0-w.nodeR1),T=(w.edgeR0-w.edgeR1)*(w.edgeR0-w.edgeR1),D=function(Y,z){return[Math.min(_(Y.minX,z+l.minX),g.width),Math.min(_(Y.minY,z+l.minY),g.height),Math.min(_(Y.maxX,-z+l.minX),g.width),Math.min(_(Y.maxY,-z+l.minY),g.height)]},R=function(Y,z){for(var q=Y.getBBox(),nt=D(q,w.nodeR1),et=nt[0],st=nt[1],pt=nt[2],Ot=nt[3],wt=st;wt<Ot;wt+=1)for(var yt=et;yt<pt;yt+=1)if(!(z<0&&g[yt+wt*g.width]<=0)){var Tt=k(yt,l.minX),Dt=k(wt,l.minY),Gt=be({x:Tt,y:Dt},{x:q.minX,y:q.minY,width:q.width,height:q.height});if(Gt<Math.pow(w.nodeR1,2)){var zt=Math.sqrt(Gt)-w.nodeR1;g.cells[yt+wt*g.width]+=z*zt*zt}}};w.nodeInfluenceFactor&&S.forEach(function(L){R(L,w.nodeInfluenceFactor/P)}),w.edgeInfluenceFactor&&t.forEach(function(L){(function(Y,z){for(var q=Y.getBBox(),nt=D(q,w.edgeR1),et=nt[0],st=nt[1],pt=nt[2],Ot=nt[3],wt=st;wt<Ot;wt+=1)for(var yt=et;yt<pt;yt+=1)if(!(z<0&&g.cells[yt+wt*g.width]<=0)){var Tt=k(yt,l.minX),Dt=k(wt,l.minY),Gt=hr({x:Tt,y:Dt},Y);if(Gt<Math.pow(w.edgeR1,2)){var zt=Math.sqrt(Gt)-w.edgeR1;g.cells[yt+wt*g.width]+=z*zt*zt}}})(L,w.edgeInfluenceFactor/T)}),w.negativeNodeInfluenceFactor&&e.forEach(function(L){R(L,w.negativeNodeInfluenceFactor/P)})}function Ya(S,e,t,l){var g=S.getBBox(),w=t[0],_=t[1],k=t[2],P=t[3],T={topLeft:{x:g.minX-e,y:g.minY-e},topRight:{x:g.maxX+e,y:g.minY-e},bottomLeft:{x:g.minX-e,y:g.maxY+e},bottomRight:{x:g.maxX+e,y:g.maxY+e}},D=g.height*g.width;function R(L,Y){return g.width*(.5*(L.y-g.minY+(Y.y-g.minY)))}if(_)return w?l?T.topLeft:T.bottomRight:k?l?T.bottomLeft:T.topRight:R(_,P)<.5*D?_.y>P.y?l?T.topLeft:T.bottomRight:l?T.topRight:T.bottomLeft:_.y<P.y?l?T.bottomLeft:T.topRight:l?T.bottomRight:T.topLeft;if(P){if(w)return l?T.topRight:T.bottomLeft;if(k)return l?T.bottomRight:T.topLeft}return R(w,k)<.5*D?w.x>k.x?l?T.topLeft:T.bottomRight:l?T.bottomLeft:T.topRight:w.x<k.x?l?T.topRight:T.bottomLeft:l?T.bottomRight:T.topLeft}var Nc=function(){function S(e,t){this.cfg=Object(ut.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(l){return Object(ut.isString)(l)?e.findById(l):l}),this.nonMembers=this.cfg.nonMembers.map(function(l){return Object(ut.isString)(l)?e.findById(l):l}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return S.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},S.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},S.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},S.prototype.calcPath=function(e,t){var l,g,w;switch(this.type){case"round-convex":g=Yt(w=ge((l=La(e)).map(function(_){return[_.x,_.y]}),this.padding));break;case"smooth-convex":w=Ee((l=La(e)).map(function(_){return[_.x,_.y]}),this.padding),g=l.length>=2&&Ft(w);break;case"bubble":g=(l=Ic(e,t,this.cfg.bubbleCfg)).length>=2&&Ft(l)}return g},S.prototype.render=function(){this.group.addShape("path",{attrs:Object(I.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},S.prototype.addMember=function(e){if(e){Object(ut.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},S.prototype.addNonMember=function(e){if(e){Object(ut.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},S.prototype.removeMember=function(e){if(e){Object(ut.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1&&(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},S.prototype.removeNonMember=function(e){if(e){Object(ut.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1&&(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},S.prototype.updateData=function(e,t){var l=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(g){return Object(ut.isString)(g)?l.graph.findById(g):g})),t&&(this.nonMembers=t.map(function(g){return Object(ut.isString)(g)?l.graph.findById(g):g})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},S.prototype.updateStyle=function(e){this.group.findById(this.id).attr(Object(I.__assign)({},e))},S.prototype.updateCfg=function(e){var t=this;this.cfg=Object(ut.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(l){return Object(ut.isString)(l)?t.graph.findById(l):l})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(l){return Object(ut.isString)(l)?t.graph.findById(l):l})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},S.prototype.contain=function(e){var t,l,g=this,w=(t=Object(ut.isString)(e)?this.graph.findById(e):e).getKeyShape();if(t.get("type")==="path")l=Mt(w.attr("path"));else{var _=w.getCanvasBBox();l=[[_.minX,_.minY],[_.maxX,_.minY],[_.maxX,_.maxY],[_.minX,_.maxY]]}return l=l.map(function(k){var P=g.graph.getPointByCanvas(k[0],k[1]);return[P.x,P.y]}),Jn(l,Mt(this.path))},S.prototype.destroy=function(){this.group.remove(),this.cfg=null},S}(),ho=function(S){function e(t){var l=S.call(this)||this;return l.cfg=Object(ut.deepMix)(l.getDefaultCfg(),t),l.init(),l.animating=!1,l.destroyed=!1,l.cfg.enabledStack&&(l.undoStack=new Da(l.cfg.maxStep),l.redoStack=new Da(l.cfg.maxStep)),l}return Object(I.__extends)(e,S),e.prototype.init=function(){this.initCanvas();var t=new eu(this),l=new Qs(this),g=new $s(this),w=new gu(this),_=new Oc(this),k=new Ec(this),P=new kc(this);this.set({eventController:t,viewController:l,modeController:g,itemController:w,layoutController:_,stateController:k,customGroupControll:P}),this.initPlugin()},e.prototype.initCanvas=function(){var t=this.get("container");if(Object(ut.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var l,g=this.get("width"),w=this.get("height");if(this.get("renderer")==="svg")l=new Pr.a({container:t,width:g,height:w});else{var _={container:t,width:g,height:w},k=this.get("pixelRatio");k&&(_.pixelRatio=k),l=new Xn.a(_)}this.set("canvas",l),this.initGroups()},e.prototype.initPlugin=function(){var t=this;Object(ut.each)(t.get("plugins"),function(l){!l.destroyed&&l.initPlugin&&l.initPlugin(t)})},e.prototype.initGroups=function(){var t=this.get("canvas"),l=this.get("canvas").get("el").id,g=t.addGroup({id:l+"-root",className:J.rootContainerClassName});if(this.get("groupByTypes")){var w=g.addGroup({id:l+"-edge",className:J.edgeContainerClassName}),_=g.addGroup({id:l+"-node",className:J.nodeContainerClassName}),k=g.addGroup({id:l+"-combo",className:J.comboContainerClassName}),P=g.addGroup({id:l+"-group",className:J.customGroupContainerClassName});P.toBack(),k.toBack(),this.set({nodeGroup:_,edgeGroup:w,customGroup:P,comboGroup:k})}var T=g.addGroup({id:l+"-delegate",className:J.delegateContainerClassName});this.set({delegateGroup:T}),this.set("group",g)},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,l){return Object(ut.isPlainObject)(t)?this.cfg=Object(I.__assign)(Object(I.__assign)({},this.cfg),t):this.cfg[t]=l,this},e.prototype.get=function(t){return this.cfg[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,l){Object(ut.isString)(t)&&(t=this.findById(t));var g=this.get("itemController");l||(l=t.get("states")),g.clearItemStates(t,l),this.get("stateController").updateStates(t,l,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,l){var g,w=this.get(t+"s");return Object(ut.each)(w,function(_,k){if(l(_,k))return g=_}),g},e.prototype.findAll=function(t,l){var g=[];return Object(ut.each)(this.get(t+"s"),function(w,_){l(w,_)&&g.push(w)}),g},e.prototype.findAllByState=function(t,l){return this.findAll(t,function(g){return g.hasState(l)})},e.prototype.translate=function(t,l){var g=this.get("group"),w=Object(ut.clone)(g.getMatrix());w||(w=[1,0,0,0,1,0,0,0,1]),Hn.mat3.translate(w,w,[t,l]),g.setMatrix(w),this.emit("viewportchange",{action:"translate",matrix:g.getMatrix()}),this.autoPaint()},e.prototype.moveTo=function(t,l){var g=this.get("group");gn(g,{x:t,y:l}),this.emit("viewportchange",{action:"move",matrix:g.getMatrix()})},e.prototype.fitView=function(t){t&&this.set("fitViewPadding",t),this.get("viewController").fitView(),this.autoPaint()},e.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,l){return this.get("modeController").manipulateBehaviors(t,l,!0),this},e.prototype.removeBehaviors=function(t,l){return this.get("modeController").manipulateBehaviors(t,l,!1),this},e.prototype.zoom=function(t,l){var g=this.get("group"),w=Object(ut.clone)(g.getMatrix()),_=this.get("minZoom"),k=this.get("maxZoom");w||(w=[1,0,0,0,1,0,0,0,1]),l?(Hn.mat3.translate(w,w,[-l.x,-l.y]),Hn.mat3.scale(w,w,[t,t]),Hn.mat3.translate(w,w,[l.x,l.y])):Hn.mat3.scale(w,w,[t,t]),_&&w[0]<_||k&&w[0]>k||(g.setMatrix(w),this.emit("viewportchange",{action:"zoom",matrix:w}),this.autoPaint())},e.prototype.zoomTo=function(t,l){var g=t/this.getZoom();this.zoom(g,l)},e.prototype.focusItem=function(t,l,g){var w=this.get("viewController"),_=!1;l?_=!0:l===void 0&&(_=this.get("animate"));var k={};g?k=g:g===void 0&&(k=this.get("animateCfg")),w.focus(t,_,k),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,l){return this.get("viewController").getPointByClient(t,l)},e.prototype.getClientByPoint=function(t,l){return this.get("viewController").getClientByPoint(t,l)},e.prototype.getPointByCanvas=function(t,l){return this.get("viewController").getPointByCanvas(t,l)},e.prototype.getCanvasByPoint=function(t,l){return this.get("viewController").getCanvasByPoint(t,l)},e.prototype.showItem=function(t,l){l===void 0&&(l=!0);var g=this.get("itemController").changeItemVisibility(t,!0);if(l&&this.get("enabledStack")){var w=g.getID(),_={},k={};switch(g.getType()){case"node":_.nodes=[{id:w,visible:!1}],k.nodes=[{id:w,visible:!0}];break;case"edge":_.nodes=[{id:w,visible:!1}],k.edges=[{id:w,visible:!0}];break;case"combo":_.nodes=[{id:w,visible:!1}],k.combos=[{id:w,visible:!0}]}this.pushStack("visible",{before:_,after:k})}},e.prototype.hideItem=function(t,l){l===void 0&&(l=!0);var g=this.get("itemController").changeItemVisibility(t,!1);if(l&&this.get("enabledStack")){var w=g.getID(),_={},k={};switch(g.getType()){case"node":_.nodes=[{id:w,visible:!0}],k.nodes=[{id:w,visible:!1}];break;case"edge":_.nodes=[{id:w,visible:!0}],k.edges=[{id:w,visible:!1}];break;case"combo":_.nodes=[{id:w,visible:!0}],k.combos=[{id:w,visible:!1}]}this.pushStack("visible",{before:_,after:k})}},e.prototype.refreshItem=function(t){this.get("itemController").refreshItem(t)},e.prototype.setAutoPaint=function(t){this.set("autoPaint",t),this.get("canvas").set("autoDraw",t)},e.prototype.remove=function(t,l){l===void 0&&(l=!0),this.removeItem(t,l)},e.prototype.removeItem=function(t,l){l===void 0&&(l=!0);var g=t;if(Object(ut.isString)(t)&&(g=this.findById(t)),!g&&Object(ut.isString)(t))console.warn("The item to be removed does not exist!"),this.get("customGroupControll").remove(t);else if(g){var w="";if(g.getType&&(w=g.getType()),l&&this.get("enabledStack")){var _=Object(I.__assign)(Object(I.__assign)({},g.getModel()),{itemType:w}),k={};switch(w){case"node":k.nodes=[_],k.edges=[];for(var P=g.getEdges(),T=P.length-1;T>=0;T--)k.edges.push(Object(I.__assign)(Object(I.__assign)({},P[T].getModel()),{itemType:"edge"}));break;case"edge":k.edges=[_];break;case"combo":k.combos=[_]}this.pushStack("delete",{before:k,after:{}})}if(this.get("itemController").removeItem(t),w==="combo"){var D=qi(this.get("comboTrees"));this.set("comboTrees",D)}}},e.prototype.addItem=function(t,l,g,w){g===void 0&&(g=!0),w===void 0&&(w=!0);var _=this.get("comboSorted");this.set("comboSorted",_&&!w);var k=this.get("itemController");if(t==="group"){var P=l.groupId,T=l.nodes,D=l.type,R=l.zIndex,L=l.title,Y=L;return Object(ut.isString)(L)&&(Y={text:L}),this.get("customGroupControll").create(P,T,D,R,!0,Y)}if(!l.id||!this.findById(l.id)){var z,q=this.get("comboTrees");if(q||(q=[]),t==="combo"){var nt=this.get("itemMap"),et=!1;if(q.forEach(function(zt){et||Bn(zt,function(Kt){if(l.parentId===Kt.id){et=!0;var qt=Object(I.__assign)({id:l.id,depth:Kt.depth+2},l);Kt.children?Kt.children.push(qt):Kt.children=[qt],l.depth=qt.depth,z=k.addItem(t,l)}var Wt=nt[Kt.id];return et&&Wt&&Wt.getType&&Wt.getType()==="combo"&&k.updateCombo(Wt,Kt.children),!0})}),!et){var st=Object(I.__assign)({id:l.id,depth:0},l);l.depth=st.depth,q.push(st),z=k.addItem(t,l)}this.set("comboTrees",q)}else if(t==="node"&&Object(ut.isString)(l.comboId)&&q){var pt;if((pt=this.findById(l.comboId))&&pt.getType&&pt.getType()!=="combo")return void console.warn("'"+l.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");z=k.addItem(t,l);var Ot=this.get("itemMap"),wt=!1,yt=!1;(q||[]).forEach(function(zt){yt||wt||Bn(zt,function(Kt){if(Kt.id===l.id)return yt=!0,!1;if(l.comboId===Kt.id&&!yt){wt=!0;var qt=Object(ut.clone)(l);qt.itemType="node",Kt.children?Kt.children.push(qt):Kt.children=[qt],l.depth=Kt.depth+1}return wt&&Ot[Kt.id].getType&&Ot[Kt.id].getType()==="combo"&&k.updateCombo(Ot[Kt.id],Kt.children),!0})})}else z=k.addItem(t,l);(t==="node"&&l.comboId||t==="combo"&&l.parentId)&&(pt=this.findById(l.comboId||l.parentId))&&pt.addChild(z);var Tt=this.get("combos");if(Tt&&Tt.length>0&&this.sortCombos(),this.autoPaint(),g&&this.get("enabledStack")){var Dt=Object(I.__assign)(Object(I.__assign)({},z.getModel()),{itemType:t}),Gt={};switch(t){case"node":Gt.nodes=[Dt];break;case"edge":Gt.edges=[Dt];break;case"combo":Gt.combos=[Dt]}this.pushStack("add",{before:{},after:Gt})}return z}console.warn("This item exists already. Be sure the id %c"+l.id+"%c is unique.","font-size: 20px; color: red;","")},e.prototype.add=function(t,l,g,w){return g===void 0&&(g=!0),w===void 0&&(w=!0),this.addItem(t,l,g,w)},e.prototype.updateItem=function(t,l,g){var w=this;g===void 0&&(g=!0);var _,k=this.get("itemController");_=Object(ut.isString)(t)?this.findById(t):t;var P=Object(ut.clone)(_.getModel()),T="";_.getType&&(T=_.getType());var D=Object(I.__spreadArrays)(_.getStates());if(T==="combo"&&Object(ut.each)(D,function(z){return w.setItemState(_,z,!1)}),k.updateItem(_,l),T==="combo"&&Object(ut.each)(D,function(z){return w.setItemState(_,z,!0)}),g&&this.get("enabledStack")){var R={nodes:[],edges:[],combos:[]},L={nodes:[],edges:[],combos:[]},Y=Object(I.__assign)({id:P.id},l);switch(T){case"node":R.nodes.push(P),L.nodes.push(Y);break;case"edge":R.edges.push(P),L.edges.push(Y);break;case"combo":R.combos.push(P),L.combos.push(Y)}T==="node"&&R.nodes.push(P),this.pushStack("update",{before:R,after:L})}},e.prototype.update=function(t,l,g){g===void 0&&(g=!0),this.updateItem(t,l,g)},e.prototype.setItemState=function(t,l,g){Object(ut.isString)(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,l,g);var w=this.get("stateController");Object(ut.isString)(g)?w.updateState(t,l+":"+g,!0):w.updateState(t,l,g)},e.prototype.priorityState=function(t,l){this.get("itemController").priorityState(t,l)},e.prototype.data=function(t){this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var l=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!l)throw new Error("data must be defined first");var g=l.nodes,w=g===void 0?[]:g,_=l.edges,k=_===void 0?[]:_,P=l.combos,T=P===void 0?[]:P;if(this.clear(),this.emit("beforerender"),Object(ut.each)(w,function(z){t.add("node",z,!1,!1)}),T&&T.length!==0){var D=Wi(T,w);this.set("comboTrees",D),t.addCombos(T)}Object(ut.each)(k,function(z){t.add("edge",z,!1,!1)});var R=t.get("animate");function L(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",R)}if((t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1),t.get("layoutController").layout(L)||L(),this.get("groupByTypes")||(T&&T.length!==0?this.sortCombos():l.nodes&&l.edges&&l.nodes.length<l.edges.length?this.getNodes().forEach(function(z){z.toFront()}):this.getEdges().forEach(function(z){z.toBack()})),l.nodes&&l.nodes.filter(function(z){return z.groupId}).length>0){var Y=t.get("groupType");this.renderCustomGroup(l,Y)}this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,l,g){var w,_=this,k=this.get("itemMap");Object(ut.each)(g,function(P){if(w=k[P.id]){if(_.get("animate")&&t==="node"){var T=w.getContainer().getMatrix();T||(T=[1,0,0,0,1,0,0,0,1]),w.set("originAttrs",{x:T[6],y:T[7]})}_.updateItem(w,P,!1)}else w=_.addItem(t,P,!1);l[t+"s"].push(w)})},e.prototype.changeData=function(t,l){l===void 0&&(l=!0);var g=this;if(!t)return this;l&&this.get("enabledStack")&&this.pushStack("changedata",{before:g.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(z){return g.clearItemStates(z)}),this.getEdges().map(function(z){return g.clearItemStates(z)});var w=this.get("canvas"),_=w.get("localRefresh");w.set("localRefresh",!1),g.get("data")||(g.data(t),g.render());var k=this.get("itemMap"),P={nodes:[],edges:[]},T=t.combos;if(T){var D=Wi(T,t.nodes);this.set("comboTrees",D)}this.diffItems("node",P,t.nodes),Object(ut.each)(k,function(z,q){k[q].getModel().depth=0,z.getType&&z.getType()==="edge"||(z.getType&&z.getType()==="combo"?(delete k[q],z.destroy()):P.nodes.indexOf(z)<0&&(delete k[q],g.remove(z,!1)))});for(var R=this.getCombos(),L=R.length-1;L>=0;L--)R[L].destroyed&&R.splice(L,1);T&&(g.addCombos(T),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",P,t.edges),Object(ut.each)(k,function(z,q){(!z.getType||z.getType()!=="node"&&z.getType()!=="combo")&&P.edges.indexOf(z)<0&&(delete k[q],g.remove(z,!1))}),this.set({nodes:P.nodes,edges:P.edges});var Y=this.get("layoutController");return Y.changeData(),g.get("animate")&&!Y.getLayoutType()?g.positionsAnimate():g.autoPaint(),setTimeout(function(){w.set("localRefresh",_)},16),this},e.prototype.addCombos=function(t){var l=this.get("comboTrees");this.get("itemController").addCombos(l,t)},e.prototype.createCombo=function(t,l){var g=this;this.set("comboSorted",!1);var w,_="";if(t){if(Object(ut.isString)(t))_=t,w={id:t};else{if(!(_=t.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");w=t}var k=l.map(function(T){var D=g.findById(T),R="";D.getType&&(R=D.getType());var L={id:D.getID(),itemType:R};return R==="combo"?L.parentId=_:R==="node"&&(L.comboId=_),L});w.children=k,this.addItem("combo",w,!1),this.set("comboSorted",!1);var P=this.get("comboTrees");(P||[]).forEach(function(T){Bn(T,function(D){return D.id!==_||(D.itemType="combo",D.children=k,!1)})}),P&&this.sortCombos()}},e.prototype.uncombo=function(t){var l,g=this,w=t;if(Object(ut.isString)(t)&&(w=this.findById(t)),!w||w.getType&&w.getType()!=="combo")console.warn("The item is not a combo!");else{var _=w.getModel().parentId,k=this.get("comboTrees");k||(k=[]);var P,T=this.get("itemMap"),D=w.get("id"),R=[],L=this.get("combos"),Y=this.findById(_);if(k.forEach(function(q){P||Bn(q,function(nt){var et;if(nt.id===D){P=nt,w.getEdges().forEach(function(pt){g.removeItem(pt,!1)});var st=L.indexOf(t);L.splice(st,1),delete T[D],w.destroy()}return!_||!P||nt.id!==_||(Y.removeCombo(w),(st=(R=nt.children).indexOf(P))!==-1&&R.splice(st,1),(et=P.children)===null||et===void 0||et.forEach(function(pt){var Ot=g.findById(pt.id),wt=Ot.getModel();Ot.getType&&Ot.getType()==="combo"?(pt.parentId=_,delete pt.comboId,wt.parentId=_,delete wt.comboId):Ot.getType&&Ot.getType()==="node"&&(pt.comboId=_,wt.comboId=_),Y.addChild(Ot),R.push(pt)}),!1)})}),!_&&P){var z=k.indexOf(P);k.splice(z,1),(l=P.children)===null||l===void 0||l.forEach(function(q){q.parentId=void 0,g.findById(q.id).getModel().parentId=void 0,q.itemType!=="node"&&k.push(q)})}}},e.prototype.updateCombos=function(){var t=this,l=this.get("comboTrees"),g=this.get("itemController"),w=this.get("itemMap");(l||[]).forEach(function(_){Bn(_,function(k){if(!k)return!0;var P=w[k.id];if(P&&P.getType&&P.getType()==="combo"){var T=Object(I.__spreadArrays)(P.getStates());Object(ut.each)(T,function(D){return t.setItemState(P,D,!1)}),g.updateCombo(P,k.children),Object(ut.each)(T,function(D){return t.setItemState(P,D,!0)})}return!0})}),this.sortCombos()},e.prototype.updateCombo=function(t){var l,g=this,w=t;if(Object(ut.isString)(t)&&(w=this.findById(t)),!w||w.getType&&w.getType()!=="combo")console.warn("The item to be updated is not a combo!");else{l=w.get("id");var _=this.get("comboTrees"),k=this.get("itemController"),P=this.get("itemMap");(_||[]).forEach(function(T){Bn(T,function(D){if(!D)return!0;var R=P[D.id];if(l===D.id&&R&&R.getType&&R.getType()==="combo"){var L=Object(I.__spreadArrays)(R.getStates());Object(ut.each)(L,function(Y){R.getStateStyle(Y)&&g.setItemState(R,Y,!1)}),k.updateCombo(R,D.children),Object(ut.each)(L,function(Y){R.getStateStyle(Y)&&g.setItemState(R,Y,!0)}),l&&(l=D.parentId)}return!0})})}},e.prototype.updateComboTree=function(t,l){var g;this.set("comboSorted",!1);var w=(g=Object(ut.isString)(t)?this.findById(t):t).getModel(),_=w.comboId||w.parentId;if(l&&g.getType&&g.getType()==="combo"){var k,P=this.get("comboTrees"),T=!0;if((P||[]).forEach(function(z){k||fn(z,function(q){if(!k)return q.id===g.getID()&&(k=q),!0})}),fn(k,function(z){return z.id!==l||(T=!1,!1)}),!T)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(w.parentId||w.comboId){var D=this.findById(w.parentId||w.comboId);D&&D.removeChild(g)}var R,L="";g.getType&&(L=g.getType()),L==="combo"?w.parentId=l:L==="node"&&(w.comboId=l),l&&(R=this.findById(l))&&R.addChild(g),_&&(R=this.findById(_))&&R.removeChild(g);var Y=qi(this.get("comboTrees"),w.id,l);this.set("comboTrees",Y),this.updateCombos()},e.prototype.renderCustomGroup=function(t,l){var g=this,w=t.groups,_=t.nodes,k=_===void 0?[]:_,P=10;if(w){this.set({groups:w});var T=function(Y){var z=Bo()(Y.groups,"id"),q=Bo()(Y.groups,"parentId"),nt={};for(var et in q)if(et){var st=q[et],pt=z[et];if(pt&&st){var Ot=Object(I.__spreadArrays)(st,pt);nt[et]=Ot}else st&&(nt[et]=st)}var wt=Object(I.__assign)(Object(I.__assign)({},z),nt),yt={};for(var Tt in wt)Tt&&Tt!=="undefined"&&(st=wt[Tt].map(function(zt){return zt.id}),yt[Tt]=st);var Dt={},Gt=function(Kt){if(!Kt||Kt==="undefined")return"continue";for(var qt=yt[Kt],Wt=[],ne=0,Qt=qt;ne<Qt.length;ne++){var se=Qt[ne],oe=wt[se].map(function(te){return te.id});Wt.push.apply(Wt,oe)}var le=Y.nodes?Y.nodes.filter(function(te){return Wt.indexOf(te.groupId)>-1||Wt.indexOf(te.parentId)>-1}).map(function(te){return te.id}):[];Dt[Kt]=le};for(var Tt in yt)Gt(Tt);return Dt}(t);Object.keys(T).forEach(function(Y){var z=T[Y];g.get("customGroupControll").create(Y,z,l,P),P--}),this.get("customGroup").sort()}else{var D=k.filter(function(Y){return Y.groupId}),R=[],L=Object(ut.groupBy)(D,"groupId");Object.keys(L).forEach(function(Y){var z=L[Y].map(function(q){return q.id});g.get("customGroupControll").create(Y,z,l,P),P--,R.find(function(q){return q.id===Y})||R.push({id:Y})}),this.set({groups:R})}},e.prototype.save=function(){var t=[],l=[],g=[];return Object(ut.each)(this.get("nodes"),function(w){t.push(w.getModel())}),Object(ut.each)(this.get("edges"),function(w){l.push(w.getModel())}),Object(ut.each)(this.get("combos"),function(w){g.push(w.getModel())}),{nodes:t,edges:l,combos:g,groups:this.get("groups")}},e.prototype.changeSize=function(t,l){return this.get("viewController").changeSize(t,l),this},e.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var t=this.get("nodes"),l=this.get("edges"),g=this.get("edges");Object(ut.each)(t,function(w){w.refresh()}),Object(ut.each)(l,function(w){w.refresh()}),Object(ut.each)(g,function(w){w.refresh()})}this.emit("aftergraphrefresh"),this.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if(Object(ut.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||t.getType()==="combo"))return t.getChildren();console.warn("The combo does not exist!")},e.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var l=t.get("animateCfg"),g=l.onFrame,w=t.getNodes(),_=w.map(function(k){var P=k.getModel();return{id:P.id,x:P.x,y:P.y}});t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate(function(k){Object(ut.each)(_,function(P){var T=t.findById(P.id);if(T&&!T.destroyed){var D=T.get("originAttrs"),R=T.get("model");if(!D){var L=T.getContainer().getMatrix();L||(L=[1,0,0,0,1,0,0,0,1]),D={x:L[6],y:L[7]},T.set("originAttrs",D)}if(g){var Y=g(T,k,P,D);T.set("model",Object.assign(R,Y))}else R.x=D.x+(P.x-D.x)*k,R.y=D.y+(P.y-D.y)*k}}),t.refreshPositions()},{duration:l.duration,easing:l.easing,callback:function(){Object(ut.each)(w,function(P){P.set("originAttrs",null)}),l.callback&&l.callback(),t.emit("afteranimate"),t.animating=!1}})},e.prototype.refreshPositions=function(){this.emit("beforegraphrefreshposition");var t,l=this.get("nodes"),g=this.get("edges"),w=this.get("vedges"),_=this.get("combos"),k={};Object(ut.each)(l,function(P){t=P.getModel();var T=P.get("originAttrs");T&&t.x===T.x&&t.y===T.y||(P.updatePosition({x:t.x,y:t.y}),k[t.id]=!0,t.comboId&&(k[t.comboId]=!0))}),_&&_.length!==0&&this.updateCombos(),Object(ut.each)(g,function(P){var T=P.getSource().getModel(),D=P.getTarget().getModel();(k[T.id]||k[D.id]||P.getModel().isComboEdge)&&P.refresh()}),Object(ut.each)(w,function(P){P.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},e.prototype.setMode=function(t){return this.get("modeController").setMode(t),this},e.prototype.clear=function(){return this.get("canvas").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},e.prototype.toDataURL=function(t,l){var g=this.get("canvas"),w=g.getRenderer(),_=g.get("el");t||(t="image/png");var k="";if(w==="svg"){var P=_.cloneNode(!0),T=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),D=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",T);D.replaceChild(P,D.documentElement);var R=new XMLSerializer().serializeToString(D);k="data:image/svg+xml;charset=utf8,"+encodeURIComponent(R)}else{var L=void 0,Y=_.getContext("2d"),z=this.get("width"),q=this.get("height"),nt=void 0;if(l){var et=window.devicePixelRatio;L=Y.getImageData(0,0,z*et,q*et),nt=Y.globalCompositeOperation,Y.globalCompositeOperation="destination-over",Y.fillStyle=l,Y.fillRect(0,0,z,q)}k=_.toDataURL(t),l&&(Y.clearRect(0,0,z,q),Y.putImageData(L,0,0),Y.globalCompositeOperation=nt)}return k},e.prototype.toFullDataURL=function(t,l,g){var w=this.get("group").getCanvasBBox(),_=w.height,k=w.width,P=this.get("renderer"),T=ve()('<id="virtual-image"></div>'),D=g?g.backgroundColor:void 0,R=g?g.padding:void 0;R?Object(ut.isNumber)(R)&&(R=[R,R,R,R]):R=[0,0,0,0];var L=_+R[0]+R[2],Y=k+R[1]+R[3],z={container:T,height:L,width:Y,quickHit:!0},q=P==="svg"?new Pr.a(z):new Xn.a(z),nt=this.get("group").clone(),et=Object(ut.clone)(nt.getMatrix());et||(et=[1,0,0,0,1,0,0,0,1]);var st=(w.maxX+w.minX)/2,pt=(w.maxY+w.minY)/2;Hn.mat3.translate(et,et,[-st,-pt]),Hn.mat3.translate(et,et,[k/2+R[3],_/2+R[0]]),nt.resetMatrix(),nt.setMatrix(et),q.add(nt);var Ot=q.get("el"),wt="";l||(l="image/png"),setTimeout(function(){if(P==="svg"){var yt=Ot.cloneNode(!0),Tt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Dt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Tt);Dt.replaceChild(yt,Dt.documentElement);var Gt=new XMLSerializer().serializeToString(Dt);wt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Gt)}else{var zt=void 0,Kt=Ot.getContext("2d"),qt=void 0;if(D){var Wt=window.devicePixelRatio;zt=Kt.getImageData(0,0,Y*Wt,L*Wt),qt=Kt.globalCompositeOperation,Kt.globalCompositeOperation="destination-over",Kt.fillStyle=D,Kt.fillRect(0,0,Y,L)}wt=Ot.toDataURL(l),D&&(Kt.clearRect(0,0,Y,L),Kt.putImageData(zt,0,0),Kt.globalCompositeOperation=qt)}t==null||t(wt)},16)},e.prototype.downloadFullImage=function(t,l,g){var w=this,_=this.get("group").getCanvasBBox(),k=_.height,P=_.width,T=this.get("renderer"),D=ve()('<id="virtual-image"></div>'),R=g?g.backgroundColor:void 0,L=g?g.padding:void 0;L?Object(ut.isNumber)(L)&&(L=[L,L,L,L]):L=[0,0,0,0];var Y=k+L[0]+L[2],z=P+L[1]+L[3],q={container:D,height:Y,width:z},nt=T==="svg"?new Pr.a(q):new Xn.a(q),et=this.get("group").clone(),st=Object(ut.clone)(et.getMatrix());st||(st=[1,0,0,0,1,0,0,0,1]);var pt=(_.maxX+_.minX)/2,Ot=(_.maxY+_.minY)/2;Hn.mat3.translate(st,st,[-pt,-Ot]),Hn.mat3.translate(st,st,[P/2+L[3],k/2+L[0]]),et.resetMatrix(),et.setMatrix(st),nt.add(et);var wt=nt.get("el");l||(l="image/png"),setTimeout(function(){var yt="";if(T==="svg"){var Tt=wt.cloneNode(!0),Dt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Gt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Dt);Gt.replaceChild(Tt,Gt.documentElement);var zt=new XMLSerializer().serializeToString(Gt);yt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(zt)}else{var Kt=void 0,qt=wt.getContext("2d"),Wt=void 0;if(R){var ne=window.devicePixelRatio;Kt=qt.getImageData(0,0,z*ne,Y*ne),Wt=qt.globalCompositeOperation,qt.globalCompositeOperation="destination-over",qt.fillStyle=R,qt.fillRect(0,0,z,Y)}yt=wt.toDataURL(l),R&&(qt.clearRect(0,0,z,Y),qt.putImageData(Kt,0,0),qt.globalCompositeOperation=Wt)}var Qt=document.createElement("a"),se=(t||"graph")+(T==="svg"?".svg":"."+l.split("/")[1]);w.dataURLToImage(yt,T,Qt,se);var oe=document.createEvent("MouseEvents");oe.initEvent("click",!1,!1),Qt.dispatchEvent(oe)},16)},e.prototype.downloadImage=function(t,l,g){var w=this,_=this;_.isAnimating()&&_.stopAnimate();var k=_.get("canvas").getRenderer();l||(l="image/png");var P=(t||"graph")+(k==="svg"?".svg":l.split("/")[1]),T=document.createElement("a");setTimeout(function(){var D=_.toDataURL(l,g);w.dataURLToImage(D,k,T,P);var R=document.createEvent("MouseEvents");R.initEvent("click",!1,!1),T.dispatchEvent(R)},16)},e.prototype.dataURLToImage=function(t,l,g,w){if(typeof window!="undefined")if(window.Blob&&window.URL&&l!=="svg"){var _=t.split(","),k="";if(_&&_.length>0){var P=_[0].match(/:(.*?);/);P&&P.length>=2&&(k=P[1])}for(var T=atob(_[1]),D=T.length,R=new Uint8Array(D);D--;)R[D]=T.charCodeAt(D);var L=new Blob([R],{type:k});window.navigator.msSaveBlob?window.navigator.msSaveBlob(L,w):g.addEventListener("click",function(){g.download=w,g.href=window.URL.createObjectURL(L)})}else g.addEventListener("click",function(){g.download=w,g.href=t})},e.prototype.updateLayout=function(t){var l,g=this.get("layoutController");Object(ut.isString)(t)?t={type:l=t}:l=t.type;var w=this.get("layout"),_=w?w.type:void 0;if(l&&_!==l)this.set("layout",t),g.changeLayout(l);else{var k={};Object.assign(k,w,t),k.type=_||"random",this.set("layout",k),g.updateLayoutCfg(k)}},e.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),l=this.get("layout");l&&(l.workerEnabled?t.layout():t.layoutMethod?t.relayout(!0):t.layout())},e.prototype.collapseCombo=function(t){var l=this;if(Object(ut.isString)(t)&&(t=this.findById(t)),t){var g=t.getModel();this.get("itemController").collapseCombo(t),g.collapsed=!0;var w=this.getEdges().concat(this.get("vedges")),_=[],k=[],P=this.get("comboTrees"),T=!1,D={};(P||[]).forEach(function(Y){D[Y.id]=Y}),(P||[]).forEach(function(Y){T||fn(Y,function(z){if(T&&D[z.id])return!1;if(g.parentId===z.id?(D={},z.children.forEach(function(nt){D[nt.id]=nt})):g.id===z.id&&(T=!0),T){var q=l.findById(z.id);q&&q.getType&&q.getType()==="combo"&&(_=_.concat(q.getNodes()),k=k.concat(q.getCombos()))}return!0})});var R={},L=[];w.forEach(function(Y){if(!Y.isVisible()||Y.getModel().isVEdge){var z=Y.getSource(),q=Y.getTarget();if((_.includes(z)||k.includes(z))&&!_.includes(q)&&!k.includes(q)||z.getModel().id===g.id){if((pt=Y.getModel()).isVEdge)return void l.removeItem(Y,!1);for(var nt=q.getModel();!q.isVisible();){if(!(q=l.findById(nt.parentId||nt.comboId))||!nt.parentId&&!nt.comboId)return;nt=q.getModel()}var et=nt.id;if(R[g.id+"-"+et])return void(R[g.id+"-"+et]+=pt.size||1);var st=l.addItem("vedge",{source:g.id,target:et,isVEdge:!0},!1);R[g.id+"-"+et]=pt.size||1,L.push(st)}else if(!_.includes(z)&&!k.includes(z)&&(_.includes(q)||k.includes(q))||q.getModel().id===g.id){var pt;if((pt=Y.getModel()).isVEdge)return void l.removeItem(Y,!1);for(var Ot=z.getModel();!z.isVisible();){if(!(z=l.findById(Ot.parentId||Ot.comboId))||!Ot.parentId&&!Ot.comboId)return;Ot=z.getModel()}var wt=Ot.id;if(R[wt+"-"+g.id])return void(R[wt+"-"+g.id]+=pt.size||1);st=l.addItem("vedge",{target:g.id,source:wt,isVEdge:!0},!1),R[wt+"-"+g.id]=pt.size||1,L.push(st)}}}),L.forEach(function(Y){var z=Y.getModel();l.updateItem(Y,{size:R[z.source+"-"+z.target]},!1)})}else console.warn("The combo to be collapsed does not exist!")},e.prototype.expandCombo=function(t){var l=this;if(Object(ut.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo")console.warn("The combo to be collapsed does not exist!");else{var g=t.getModel();this.get("itemController").expandCombo(t),g.collapsed=!1;var w=this.getEdges().concat(this.get("vedges")),_=[],k=[],P=this.get("comboTrees"),T=!1,D={};(P||[]).forEach(function(Y){D[Y.id]=Y}),(P||[]).forEach(function(Y){T||fn(Y,function(z){if(T&&D[z.id])return!1;if(g.parentId===z.id?(D={},z.children.forEach(function(nt){D[nt.id]=nt})):g.id===z.id&&(T=!0),T){var q=l.findById(z.id);q&&q.getType&&q.getType()==="combo"&&(_=_.concat(q.getNodes()),k=k.concat(q.getCombos()))}return!0})});var R={},L={};w.forEach(function(Y){if(!Y.isVisible()||Y.getModel().isVEdge){var z=Y.getSource(),q=Y.getTarget(),nt=z.get("id"),et=q.get("id");if((_.includes(z)||k.includes(z))&&!_.includes(q)&&!k.includes(q)||nt===g.id){if(Y.getModel().isVEdge)return void l.removeItem(Y,!1);for(var st=q.getModel();!q.isVisible();){if(!(q=l.findById(st.comboId||st.parentId))||!st.parentId&&!st.comboId)return;st=q.getModel()}et=st.id;for(var pt=z.getModel();!z.isVisible();){if(!(z=l.findById(pt.comboId||pt.parentId))||!pt.parentId&&!pt.comboId)return;if(pt.comboId===g.id||pt.parentId===g.id)break;pt=z.getModel()}if(nt=pt.id,et){if(R[wt=nt+"-"+et])return R[wt]+=Y.getModel().size||1,void l.updateItem(L[wt],{size:R[wt]},!1);var Ot=l.addItem("vedge",{source:nt,target:et,isVEdge:!0},!1);R[wt]=Y.getModel().size||1,L[wt]=Ot}}else if(!_.includes(z)&&!k.includes(z)&&(_.includes(q)||k.includes(q))||et===g.id){if(Y.getModel().isVEdge)return void l.removeItem(Y,!1);for(pt=z.getModel();!z.isVisible();){if(!(z=l.findById(pt.comboId||pt.parentId))||!pt.parentId&&!pt.comboId)return;pt=z.getModel()}for(nt=pt.id,st=q.getModel();!q.isVisible();){if(!(q=l.findById(st.comboId||st.parentId))||!st.parentId&&!st.comboId)return;if(st.comboId===g.id||st.parentId===g.id)break;st=q.getModel()}if(et=st.id,nt){var wt;if(R[wt=nt+"-"+et])return R[wt]+=Y.getModel().size||1,void l.updateItem(L[wt],{size:R[wt]},!1);Ot=l.addItem("vedge",{target:et,source:nt,isVEdge:!0},!1),R[wt]=Y.getModel().size||1,L[wt]=Ot}}else(_.includes(z)||k.includes(z))&&(_.includes(q)||k.includes(q))&&z.isVisible()&&q.isVisible()&&Y.show()}})}},e.prototype.collapseExpandCombo=function(t){if(Object(ut.isString)(t)&&(t=this.findById(t)),!t.getType||t.getType()==="combo"){for(var l=t.getModel(),g=this.findById(l.parentId);g;){var w=g.getModel();if(w.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(g=void 0);g=this.findById(w.parentId)}l.collapsed?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.collapseGroup=function(t){this.get("customGroupControll").collapseGroup(t)},e.prototype.expandGroup=function(t){this.get("customGroupControll").expandGroup(t)},e.prototype.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},e.prototype.removePlugin=function(t){var l=this.get("plugins"),g=l.indexOf(t);g>=0&&(t.destroyPlugin(),l.splice(g,1))},e.prototype.sortCombos=function(){var t=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var l=[],g={};(this.get("comboTrees")||[]).forEach(function(w){fn(w,function(_){return l[_.depth]?l[_.depth].push(_.id):l[_.depth]=[_.id],g[_.id]=_.depth,!0})}),(this.getEdges().concat(this.get("vedges"))||[]).forEach(function(w){var _=w.getModel(),k=g[_.source]||0,P=g[_.target]||0,T=Math.max(k,P);l[T]?l[T].push(_.id):l[T]=[_.id]}),l.forEach(function(w){if(w&&w.length)for(var _=w.length-1;_>=0;_--){var k=t.findById(w[_]);k==null||k.toFront()}})}},e.prototype.getNeighbors=function(t,l){var g=t;return Object(ut.isString)(t)&&(g=this.findById(t)),g.getNeighbors(l)},e.prototype.getNodeDegree=function(t,l){l===void 0&&(l=void 0);var g=t;Object(ut.isString)(t)&&(g=this.findById(t));var w=this.get("degrees");w||(w=Ia(this)),this.set("degees",w);var _,k=w[g.getID()];switch(l){case"in":_=k.inDegree;break;case"out":_=k.outDegree;break;case"all":_=k;break;default:_=k.degree}return _},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,l,g){if(t===void 0&&(t="update"),g===void 0&&(g="undo"),this.get("enabledStack")){var w=l?Object(ut.clone)(l):{before:{},after:Object(ut.clone)(this.save())};g==="redo"?this.redoStack.push({action:t,data:w}):this.undoStack.push({action:t,data:w}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !")},e.prototype.getAdjMatrix=function(t,l){t===void 0&&(t=!0),l===void 0&&(l=this.get("directed"));var g=this.get("adjMatrix");return g&&t||(g=ki(this,l),this.set("adjMatrix",g)),g},e.prototype.getShortestPathMatrix=function(t,l){t===void 0&&(t=!0),l===void 0&&(l=this.get("directed"));var g=this.get("adjMatrix"),w=this.get("shortestPathMatrix");return g&&t||(g=ki(this,l),this.set("adjMatrix",g)),w&&t||(w=Ba(this,l),this.set("shortestPathMatrix",w)),w},e.prototype.destroy=function(){this.clear(),this.clearStack(),Object(ut.each)(this.get("plugins"),function(_){_.destroyPlugin()});var t=this.get("tooltips");if(t)for(var l=0;l<t.length;l++){var g=t[l];if(g){var w=g.parentElement;w&&w.removeChild(g)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){var l=this.get("hullGroup"),g=this.get("hullMap");if(g||(g={},this.set("hullMap",g)),l||((l=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",l)),g[t.id])return console.warn("Existed hull id."),g[t.id];var w=l.addGroup({id:t.id+"-container"}),_=new Nc(this,Object(I.__assign)(Object(I.__assign)({},t),{group:w}));return g[_.id]=_,_},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var l;l=Object(ut.isString)(t)?this.getHullById(t):t,delete this.get("hullMap")[l.id],l.destroy()},e.prototype.setImageWaterMarker=function(t,l){t===void 0&&(t=J.waterMarkerImage);var g=this.get("container");Object(ut.isString)(g)&&(g=document.getElementById(g)),g.style.position||(g.style.position="relative");var w=this.get("graphWaterMarker"),_=Object(ut.deepMix)({},J.imageWaterMarkerConfig,l),k=_.width,P=_.height,T=_.compatible,D=_.image;if(!w){var R={container:g,width:k,height:P,capture:!1},L=this.get("pixelRatio");L&&(R.pixelRatio=L),w=new Xn.a(R),this.set("graphWaterMarker",w)}w.get("el").style.display="none";var Y=w.get("context"),z=D.rotate,q=D.x,nt=D.y;Y.rotate(-z*Math.PI/180);var et=new Image;et.crossOrigin="anonymous",et.src=t,et.onload=function(){if(Y.drawImage(et,q,nt,D.width,D.height),Y.rotate(z*Math.PI/180),T)g.style.cssText="background-image: url("+w.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var st=document.querySelector(".g6-graph-watermarker");st||((st=document.createElement("div")).className="g6-graph-watermarker"),st.className="g6-graph-watermarker",w.destroyed||(st.style.cssText="background-image: url("+w.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",g.appendChild(st))}}},e.prototype.setTextWaterMarker=function(t,l){var g=this.get("container");Object(ut.isString)(g)&&(g=document.getElementById(g)),g.style.position||(g.style.position="relative");var w=this.get("graphWaterMarker"),_=Object(ut.deepMix)({},J.textWaterMarkerConfig,l),k=_.width,P=_.height,T=_.compatible,D=_.text;if(!w){var R={container:g,width:k,height:P,capture:!1},L=this.get("pixelRatio");L&&(R.pixelRatio=L),w=new Xn.a(R),this.set("graphWaterMarker",w)}w.get("el").style.display="none";var Y=w.get("context"),z=D.rotate,q=D.fill,nt=D.fontFamily,et=D.fontSize,st=D.baseline,pt=D.x,Ot=D.y,wt=D.lineHeight;Y.rotate(-z*Math.PI/180),Y.font=et+"px "+nt,Y.fillStyle=q,Y.textBaseline=st;for(var yt=t.length-1;yt>=0;yt--)Y.fillText(t[yt],pt,Ot+yt*wt);if(Y.rotate(z*Math.PI/180),T)g.style.cssText="background-image: url("+w.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Tt=document.querySelector(".g6-graph-watermarker");Tt||((Tt=document.createElement("div")).className="g6-graph-watermarker"),Tt.style.cssText="background-image: url("+w.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",g.appendChild(Tt)}},e}(Br.a),Dc=s(135),Ga=s.n(Dc),za=function(S){function e(t){var l=S.call(this,t)||this;return l.layoutAnimating=!1,l.set("removeList",[]),l.set("layoutMethod",l.getLayout()),l}return Object(I.__extends)(e,S),e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(l){var g=Ga.a[t.type](l,t);return zo(g),g}:function(l){return Ga.a[t.type](l,t)}):null},e.indexOfChild=function(t,l){var g=-1;return Object(v.each)(t,function(w,_){if(l===w.id)return g=_,!1}),g},e.prototype.getDefaultCfg=function(){var t=S.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,l,g){var w=this,_=t.data;_&&(_.x=t.x,_.y=t.y,_.depth=t.depth);var k=w.addItem("node",_,!1);if(l){if(k.set("parent",l),g){var P=l.get("originAttrs");if(P)k.set("originAttrs",P);else{var T=l.getModel();k.set("originAttrs",{x:T.x,y:T.y})}}var D=l.get("children");D?D.push(k):l.set("children",[k]),w.addItem("edge",{source:l,target:k,id:l.get("id")+":"+k.get("id")},!1)}return Object(v.each)(t.children||[],function(R){w.innerAddChild(R,k,g)}),w.emit("afteraddchild",{item:k,parent:l}),k},e.prototype.innerUpdateChild=function(t,l,g){var w=this,_=w.findById(t.id);if(_){Object(v.each)(t.children||[],function(Y){w.innerUpdateChild(Y,_,g)});var k,P,T=_.get("children");if(T&&T.length>0)for(var D=T.length-1;D>=0;D--){var R=T[D].getModel();e.indexOfChild(t.children||[],R.id)===-1&&(w.innerRemoveChild(R.id,{x:t.x,y:t.y},g),T.splice(D,1))}_.get("originAttrs")&&(k=_.get("originAttrs").x,P=_.get("originAttrs").y);var L=_.getModel();g&&_.set("originAttrs",{x:L.x,y:L.y}),_.set("model",t.data),k===t.x&&P===t.y||_.updatePosition({x:t.x,y:t.y})}else w.innerAddChild(t,l,g)},e.prototype.innerRemoveChild=function(t,l,g){var w=this,_=w.findById(t);if(_)if(Object(v.each)(_.get("children"),function(P){w.innerRemoveChild(P.getModel().id,l,g)}),g){var k=_.getModel();_.set("to",l),_.set("originAttrs",{x:k.x,y:k.y}),w.get("removeList").push(_)}else w.removeItem(_)},e.prototype.changeData=function(t){var l=this;this.getNodes().map(function(g){return l.clearItemStates(g)}),this.getEdges().map(function(g){return l.clearItemStates(g)}),t?(l.data(t),l.render()):l.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon"),this.updateLayout(t)},e.prototype.updateLayout=function(t){t?(this.set("layout",t),this.set("layoutMethod",this.getLayout()),this.layout()):console.warn("layout cannot be null")},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon"),this.layout(t)},e.prototype.layout=function(t){var l=this.get("data"),g=this.get("layoutMethod")(l,this.get("layout")),w=this.get("animate");this.emit("beforerefreshlayout",{data:l,layoutData:g}),this.emit("beforelayout"),this.innerUpdateChild(g,void 0,w),t&&this.get("viewController").fitView(),w?this.layoutAnimate(g):(this.refresh(),this.paint()),this.emit("afterrefreshlayout",{data:l,layoutData:g}),this.emit("afterlayout")},e.prototype.addChild=function(t,l){this.emit("beforeaddchild",{model:t,parent:l}),Object(v.isString)(l)||(l=l.get("id"));var g=this.findDataById(l);g&&(g.children||(g.children=[]),g.children.push(t),this.changeData())},e.prototype.updateChild=function(t,l){if(l&&this.findById(l)){var g=this.findById(l).getModel(),w=this.findById(t.id);if(g.children||(g.children=[]),w){var _=e.indexOfChild(g.children,t.id);g.children[_]=t}else g.children.push(t);this.changeData()}else this.changeData(t)},e.prototype.removeChild=function(t){var l=this.findById(t);if(l){var g=l.get("parent");if(g&&!g.destroyed){var w=this.findDataById(g.get("id")),_=w&&w.children||[],k=l.getModel(),P=e.indexOfChild(_,k.id);_.splice(P,1)}this.changeData()}},e.prototype.findDataById=function(t,l){var g=this;if(l||(l=g.get("data")),t===l.id)return l;var w=null;return Object(v.each)(l.children||[],function(_){return _.id===t?(w=_,!1):!(w=g.findDataById(t,_))&&void 0}),w},e.prototype.layoutAnimate=function(t,l){var g=this,w=this.get("animateCfg");g.emit("beforeanimate",{data:t}),g.getEdges().forEach(function(_){var k=_.get("model");k.sourceAnchor||(k.sourceAnchor=_.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(_){fn(t,function(k){var P=g.findById(k.id);if(P){var T=P.get("originAttrs"),D=P.get("model");if(T||(T={x:D.x,y:D.y},P.set("originAttrs",T)),l){var R=l(P,_,T,t);P.set("model",Object.assign(D,R))}else D.x=T.x+(k.x-T.x)*_,D.y=T.y+(k.y-T.y)*_}return!0}),Object(v.each)(g.get("removeList"),function(k){var P=k.getModel(),T=k.get("originAttrs"),D=k.get("to");P.x=T.x+(D.x-T.x)*_,P.y=T.y+(D.y-T.y)*_}),g.refreshPositions()},{duration:w.duration,easing:w.ease,callback:function(){Object(v.each)(g.getNodes(),function(k){k.set("originAttrs",null)}),Object(v.each)(g.get("removeList"),function(k){g.removeItem(k)}),g.set("removeList",[]),w.callback&&w.callback(),g.emit("afteranimate",{data:t})},delay:w.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(){if(!this.get("data"))throw new Error("data must be defined first");this.clear(),this.emit("beforerender"),this.layout(this.get("fitView")),this.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e}(ho),Pi=["startArrow","endArrow"],lo={options:{},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e){return Object(ut.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){var l=this.drawShape(e,t);return l.set("className",this.itemType+"-shape"),e.label&&this.drawLabel(e,t).set("className",this.itemType+"-label"),l},afterDraw:function(e,t,l){},drawShape:function(e,t){return null},drawLabel:function(e,t){var l=this.getOptions(e).labelCfg||{},g=this.getLabelStyle(e,l,t),w=g.rotate;delete g.rotate;var _=t.addShape("text",{attrs:g,draggable:!0,className:"text-shape",name:"text-shape"});if(w){var k=_.getBBox(),P=_.getMatrix();if(P||(P=[1,0,0,0,1,0,0,0,1]),g.rotateCenter)switch(g.rotateCenter){case"center":P=de(P,[["t",-k.width/2,-k.height/2],["r",w],["t",k.width/2,k.height/2]]);break;case"lefttop":P=de(P,[["t",-g.x,-g.y],["r",w],["t",g.x,g.y]]);break;case"leftcenter":P=de(P,[["t",-g.x,-g.y-k.height/2],["r",w],["t",g.x,g.y+k.height/2]]);break;default:P=de(P,[["t",-k.width/2,-k.height/2],["r",w],["t",k.width/2,k.height/2]])}else P=de(P,[["t",-g.x,-g.y-k.height/2],["r",w],["t",g.x,g.y+k.height/2]]);_.setMatrix(P)}if(g.background){var T=this.drawLabelBg(e,t,_),D=this.itemType+"-label-bg";T.set("classname",D),_.toFront()}return _},drawLabelBg:function(e,t,l){var g=this.options.labelCfg,w=Object(ut.mix)({},g,e.labelCfg),_=this.getLabelBgStyleByPosition(l,e,w,t);return t.addShape("rect",{name:"text-bg-shape",attrs:_})},getLabelStyleByPosition:function(e,t,l){return{text:e.label}},getLabelBgStyleByPosition:function(e,t,l,g){return{}},getLabelStyle:function(e,t,l){var g=this.getLabelStyleByPosition(e,t,l),w=this.itemType+"Label",_=J[w]?J[w].style:null;return Object(I.__assign)(Object(I.__assign)(Object(I.__assign)({},_),g),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t){this.updateShapeStyle(e,t),this.updateLabel(e,t)},updateShapeStyle:function(e,t){var l=t.getContainer(),g=t.getKeyShape(),w=Object(ut.mix)({},g.attr(),e.style),_=function(T){var D,R=w[T];if(Object(ut.isPlainObject)(R)){var L=l.find(function(Y){return Y.get("name")===T});L&&L.attr(R)}else g.attr(((D={})[T]=R,D))};for(var k in w)_(k)},updateLabel:function(e,t){var l=t.getContainer(),g=this.getOptions({}).labelCfg,w=this.itemType+"-label",_=l.find(function(pt){return pt.get("className")===w}),k=this.itemType+"-label-bg",P=l.find(function(pt){return pt.get("classname")===k});if(e.label||e.label==="")if(_){var T={};t.getModel&&(T=t.getModel().labelCfg);var D=Object(ut.deepMix)({},g,T,e.labelCfg),R=this.getLabelStyleByPosition(e,D,l),L=e.labelCfg?e.labelCfg.style:void 0,Y=D.style&&D.style.background,z=Object(I.__assign)(Object(I.__assign)(Object(I.__assign)({},_.attr()),R),L),q=z.rotate;if(delete z.rotate,q){var nt=[1,0,0,0,1,0,0,0,1];nt=de(nt,[["t",-z.x,-z.y],["r",q],["t",z.x,z.y]]),_.resetMatrix(),_.attr(Object(I.__assign)(Object(I.__assign)({},z),{matrix:nt}))}else _.resetMatrix(),_.attr(z);if(P)if(z.background){var et=this.getLabelBgStyleByPosition(_,e,D,l),st=Object(I.__assign)(Object(I.__assign)({},et),Y);P.resetMatrix(),q&&P.rotateAtStart(q),P.attr(st)}else l.removeChild(P);else z.background&&((P=this.drawLabelBg(e,l,_)).set("classname",k),_.toFront())}else this.drawLabel(e,l).set("className",w)},afterUpdate:function(e,t){},setState:function(e,t,l){var g,w,_=l.get("keyShape");if(_){var k=l.getType(),P=Object(ut.isBoolean)(t)?e:e+":"+t,T=this.getStateStyle(P,l),D=l.getStateStyle(P);if(D||T){var R=Object(ut.mix)({},D||T),L=l.getContainer();if(t){var Y=function(qt){var Wt,ne=R[qt];if(Object(ut.isPlainObject)(ne)&&!Pi.includes(qt)){var Qt=L.find(function(se){return se.get("name")===qt});Qt&&Qt.attr(ne)}else _.attr(((Wt={})[qt]=ne,Wt))};for(var z in R)Y(z)}else{var q=Object(ut.clone)(l.getCurrentStatesStyle()),nt=l.getModel(),et=Object(ut.mix)({},nt.style,Object(ut.clone)(l.getOriginStyle())),st=_.get("name"),pt=_.attr(),Ot={},wt=function(qt){var Wt=R[qt];if(Object(ut.isPlainObject)(Wt)&&!Pi.includes(qt)){var ne=L.find(function(se){return se.get("name")===qt});if(ne){var Qt=ne.attr();Object(ut.each)(Wt,function(se,oe){(Qt[oe]||Qt[oe]===0)&&delete Qt[oe]}),Ot[qt]=Qt}}else pt[qt]&&!{x:1,y:1,cx:1,cy:1}[qt]&&delete pt[qt]};for(var yt in R)wt(yt);for(var z in st?Ot[st]=pt:Object(ut.mix)(Ot,pt),q){var Tt=q[z];Object(ut.isPlainObject)(Tt)&&!Pi.includes(z)||(st?(Object(ut.mix)(et[st],((w={})[z]=Tt,w)),delete et[z]):Object(ut.mix)(et,((g={})[z]=Tt,g)),delete q[z])}var Dt={};Object(ut.deepMix)(Dt,et,Ot,q);var Gt=function(qt){var Wt,ne,Qt=Dt[qt];if(Object(ut.isPlainObject)(Qt)&&!Pi.includes(qt)){var se=L.find(function(oe){return oe.get("name")===qt});se&&se.attr(Qt)}else k==="combo"?st||_.attr(((Wt={})[qt]=Qt,Wt)):_.attr(((ne={})[qt]=Qt,ne))};for(var zt in Dt)Gt(zt)}}}},getStateStyle:function(e,t){var l=t.getModel(),g=t.getType(),w=this.getOptions(l),_=w.stateStyles,k=w.style,P=k===void 0?{}:k,T=l.stateStyles?l.stateStyles[e]:_&&_[e];return g==="combo"?Object(ut.clone)(T):Object(ut.mix)({},P,T)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){return this.getOptions(e).anchorPoints}},Bc={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:J.nodeLabel.offset,getSize:function(e){var t=e.size||this.getOptions({}).size||J.defaultNode.size;return Object(ut.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(ut.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var l=t.position||this.labelPosition;if(l==="center")return{x:0,y:0,text:e.label};var g=t.offset;Object(ut.isNil)(g)&&(g=this.offset);var w,_=this.getSize(e),k=_[0],P=_[1];switch(l){case"top":w={x:0,y:0-P/2-g,textBaseline:"bottom"};break;case"bottom":w={x:0,y:P/2+g,textBaseline:"top"};break;case"left":w={x:0-k/2-g,y:0,textAlign:"right"};break;default:w={x:k/2+g,y:0,textAlign:"left"}}return w.text=e.label,w},getLabelBgStyleByPosition:function(e,t,l,g){if(!e)return{};var w=e.getBBox(),_=l.style&&l.style.background;if(!_)return{};var k,P=U(_.padding),T=w.width+P[1]+P[3],D=w.height+P[0]+P[2],R=l.offset;return Object(ut.isNil)(R)&&(R=this.offset),k={x:w.minX-P[3],y:w.minY-P[0]},k=Object(I.__assign)(Object(I.__assign)(Object(I.__assign)({},k),_),{width:T,height:D})},drawShape:function(e,t){var l=this.shapeType,g=this.getShapeStyle(e);return t.addShape(l,{attrs:g,draggable:!0,name:"node-shape"})},updateLinkPoints:function(e,t){var l,g=this.getOptions(e).linkPoints,w=t.find(function(Tt){return Tt.get("className")==="link-point-left"}),_=t.find(function(Tt){return Tt.get("className")==="link-point-right"}),k=t.find(function(Tt){return Tt.get("className")==="link-point-top"}),P=t.find(function(Tt){return Tt.get("className")==="link-point-bottom"});w&&(l=w.attr()),_&&!l&&(l=_.attr()),k&&!l&&(l=k.attr()),P&&!l&&(l=P.attr()),l||(l=g);var T=Object(ut.mix)({},l,e.linkPoints),D=T.fill,R=T.stroke,L=T.lineWidth,Y=T.size/2;Y||(Y=T.r);var z=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},q=z.left,nt=z.right,et=z.top,st=z.bottom,pt=this.getSize(e),Ot=pt[0],wt=pt[1],yt={r:Y,fill:D,stroke:R,lineWidth:L};w?q||q===void 0?w.attr(Object(I.__assign)(Object(I.__assign)({},yt),{x:-Ot/2,y:0})):w.remove():q&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},yt),{x:-Ot/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),_?(nt||nt===void 0||_.remove(),_.attr(Object(I.__assign)(Object(I.__assign)({},yt),{x:Ot/2,y:0}))):nt&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},yt),{x:Ot/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),k?(et||et===void 0||k.remove(),k.attr(Object(I.__assign)(Object(I.__assign)({},yt),{x:0,y:-wt/2}))):et&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},yt),{x:0,y:-wt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P?st||st===void 0?P.attr(Object(I.__assign)(Object(I.__assign)({},yt),{x:0,y:wt/2})):P.remove():st&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},yt),{x:0,y:wt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(e,t,l,g){t.get("keyShape").attr(Object(I.__assign)({},l)),this.updateLabel(e,t),g&&this.updateIcon(e,t)},updateIcon:function(e,t){var l=this,g=t.getContainer(),w=this.getOptions(e).icon,_=(e.icon?e.icon:{show:void 0}).show,k=g.find(function(L){return L.get("className")===l.type+"-icon"});if(k)if(_||_===void 0){var P=Object(ut.mix)({},k.attr(),w),T=P.width,D=P.height;k.attr(Object(I.__assign)(Object(I.__assign)({},P),{x:-T/2,y:-D/2}))}else k.remove();else if(_){T=w.width,D=w.height,g.addShape("image",{attrs:Object(I.__assign)(Object(I.__assign)({},w),{x:-T/2,y:-D/2}),className:this.type+"-icon",name:this.type+"-icon"});var R=g.find(function(L){return L.get("className")==="node-label"});R&&R.toFront()}}},Rc=Object(I.__assign)(Object(I.__assign)({},lo),Bc);Ye.registerNode("single-node",Rc);var Lc={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:J.defaultEdge.size,style:{x:0,y:0,stroke:J.defaultEdge.style.stroke,lineAppendWidth:J.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:J.edgeLabel.style.fill,fontSize:J.edgeLabel.style.fontSize}},stateStyles:Object(I.__assign)({},J.edgeStateStyles)},getPath:function(e){var t=[];return Object(ut.each)(e,function(l,g){g===0?t.push(["M",l.x,l.y]):t.push(["L",l.x,l.y])}),t},getShapeStyle:function(e){var t=this.options.style,l={stroke:e.color},g=Object(ut.mix)({},t,l,e.style),w=e.size||J.defaultEdge.size,_=(e=this.getPathPoints(e)).startPoint,k=e.endPoint,P=this.getControlPoints(e),T=[_];P&&(T=T.concat(P)),T.push(k);var D=this.getPath(T);return Object(ut.mix)({},J.defaultEdge.style,{stroke:J.defaultEdge.color,lineWidth:w,path:D},g)},updateShapeStyle:function(e,t){var l=t.getContainer(),g={stroke:e.color},w=l.find(function(et){return et.get("className")==="edge-shape"})||t.getKeyShape(),_=e.size,k=(e=this.getPathPoints(e)).startPoint,P=e.endPoint,T=this.getControlPoints(e),D=[k];T&&(D=D.concat(T)),D.push(P);var R=Object(ut.mix)({},g,w.attr(),e.style),L=e.sourceNode,Y=e.targetNode,z={radius:R.radius};T||(z={source:L,target:Y,offset:R.offset,radius:R.radius});var q=this.getPath(D,z),nt=Object(ut.mix)(g,w.attr(),{lineWidth:_,path:q},e.style);w&&w.attr(nt)},getLabelStyleByPosition:function(e,t,l){var g,w=t.position||this.labelPosition,_={},k=l&&l.find(function(L){return L.get("className")==="edge-shape"});g=w==="start"?0:w==="end"?1:.5;var P=t.refX||this.refX,T=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return _.x=e.startPoint.x+P,_.y=e.startPoint.y+T,_.text=e.label,_;var D=Object(ut.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,R=gi(k,g,P,T,D);return _.x=R.x,_.y=R.y,_.rotate=R.rotate,_.textAlign=this._getTextAlign(w,R.angle),_.text=e.label,_},getLabelBgStyleByPosition:function(e,t,l,g){if(!e)return{};var w=e.getBBox(),_=l.style&&l.style.background;if(!_)return{};var k,P=_.padding,T=w.width+P[1]+P[3],D=w.height+P[0]+P[2],R=l.position||this.labelPosition,L=Object(I.__assign)(Object(I.__assign)({},_),{width:T,height:D,x:w.minX-P[2],y:w.minY-P[0],rotate:0}),Y=Object(ut.isNil)(l.autoRotate)?this.labelAutoRotate:l.autoRotate,z=g&&g.find(function(pt){return pt.get("className")==="edge-shape"});k=R==="start"?0:R==="end"?1:.5;var q=l.refX||this.refX,nt=l.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return L.x=t.startPoint.x+q,L.y=t.startPoint.y+nt,L;var et=gi(z,k,q-T/2,nt+D/2,Y),st=et.angle;return st>.5*Math.PI&&st<1.5*Math.PI&&(et=gi(z,k,q+T/2,nt+D/2,Y)),Y&&(L.x=et.x,L.y=et.y),L.rotate=et.rotate,L},_getTextAlign:function(e,t){var l="center";return t?(t%=2*Math.PI,e!=="center"&&(l=t>=0&&t<=Math.PI/2||t>=1.5*Math.PI&&t<2*Math.PI?e:function(g){var w=g;return g==="start"?w="end":g==="end"&&(w="start"),w}(e)),l):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var l=this.getShapeStyle(e);return t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:l})},drawLabel:function(e,t){var l=this.options.labelCfg,g=Object(ut.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},l,e.labelCfg),w=this.getLabelStyle(e,g,t),_=w.rotate;delete w.rotate;var k=t.addShape("text",{attrs:w,name:"text-shape"});if(_&&k.rotateAtStart(_),w.background){var P=this.drawLabelBg(e,t,k),T=this.itemType+"-label-bg";P.set("classname",T),k.toFront()}return k},drawLabelBg:function(e,t,l){var g=this.options.labelCfg,w=Object(ut.deepMix)({},g,e.labelCfg),_=this.getLabelStyle(e,w,t).rotate,k=this.getLabelBgStyleByPosition(l,e,w,t);delete k.rotate;var P=t.addShape("rect",{name:"text-bg-shape",attrs:k});return _&&P.rotateAtStart(_),P}},Fc=Object(I.__assign)(Object(I.__assign)({},lo),Lc);Ye.registerEdge("single-edge",Fc),Ye.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Ye.registerEdge("spline",{getPath:function(e){return he(e)}},"single-edge"),Ye.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t,l,g=e.startPoint,w=e.endPoint,_=(g.x+w.x)/2,k=(g.y+w.y)/2;if(e.controlPoints!==void 0){if(l=e.controlPoints[0],t=sn(g,l,w),g.x<=w.x&&g.y>w.y?this.clockwise=t.x>l.x?0:1:g.x<=w.x&&g.y<w.y?this.clockwise=t.x>l.x?1:0:g.x>w.x&&g.y<=w.y?this.clockwise=t.y<l.y?0:1:this.clockwise=t.y<l.y?1:0,(l.x-g.x)/(l.y-g.y)==(w.x-g.x)/(w.y-g.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),M()(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var P={x:w.x-g.x,y:w.y-g.y},T=Math.atan2(P.y,P.x);l={x:e.curveOffset*Math.cos(-Math.PI/2+T)+_,y:e.curveOffset*Math.sin(-Math.PI/2+T)+k},t=sn(g,l,w)}var D=on(g,t);return[{x:D,y:D}]},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),Ye.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var l=e.startPoint,g=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),M()(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),M()(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]),t=[ce(l,g,e.curvePosition,e.curveOffset)]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),Ye.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),j()(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),j()(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var l=e.startPoint,g=e.endPoint;t=[ce(l,g,e.curvePosition[0],e.curveOffset[0]),ce(l,g,e.curvePosition[1],e.curveOffset[1])]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),Ye.registerEdge("cubic-vertical",{curvePosition:[.5,.5],getControlPoints:function(e){var t=e.startPoint,l=e.endPoint;return e.curvePosition!==void 0&&(this.curvePosition=e.curvePosition),j()(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:t.x,y:(l.y-t.y)*this.curvePosition[0]+t.y},{x:l.x,y:(l.y-t.y)*this.curvePosition[1]+t.y}]}},"cubic"),Ye.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],getControlPoints:function(e){var t=e.startPoint,l=e.endPoint;return e.curvePosition!==void 0&&(this.curvePosition=e.curvePosition),j()(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:(l.x-t.x)*this.curvePosition[0]+t.x,y:t.y},{x:(l.x-t.x)*this.curvePosition[1]+t.x,y:l.y}]}},"cubic"),Ye.registerEdge("loop",{getPathPoints:function(e){return Yo(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var Yc={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:J.comboLabel.refX,refY:J.comboLabel.refY,options:{style:{stroke:J.defaultCombo.style.stroke,fill:J.defaultCombo.style.fill,lineWidth:J.defaultCombo.style.lineWidth},labelCfg:{style:{fill:J.comboLabel.style.fill,fontSize:J.comboLabel.style.fontSize}},stateStyles:Object(I.__assign)({},J.comboStateStyles)},getSize:function(e){var t=Object(ut.clone)(e.size||this.options.size||J.defaultCombo.size);return Object(ut.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(ut.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var l=t.position||this.labelPosition,g=e.style,w=e.padding||this.options.padding;Object(ut.isArray)(w)&&(w=w[0]);var _=t.refX,k=t.refY;Object(ut.isNil)(_)&&(_=this.refX),Object(ut.isNil)(k)&&(k=this.refY);var P,T=this.getSize(e),D=(Math.max(g.r,T[0]/2)||T[0]/2)+w;switch(l){case"top":P={x:0,y:-D-k,textBaseline:"bottom",textAlign:"center"};break;case"bottom":P={x:0,y:D+k,textBaseline:"bottom",textAlign:"center"};break;case"left":P={x:-D+_,y:0,textAlign:"left"};break;case"center":P={x:0,y:0,text:e.label,textAlign:"center"};break;default:P={x:D+_,y:0,textAlign:"right"}}return P.text=e.label,P},drawShape:function(e,t){var l=this.shapeType,g=this.getShapeStyle(e);return t.addShape(l,{attrs:g,draggable:!0,name:"combo-shape"})},updateShape:function(e,t,l){var g=t.get("keyShape");(e.animate===void 0?this.options.animate:e.animate)&&g.animate?g.animate(l,{duration:200,easing:"easeLinear"}):g.attr(Object(I.__assign)({},l)),this.updateLabel(e,t)}},Gc=Object(I.__assign)(Object(I.__assign)({},lo),Yc);Ye.registerCombo("single-combo",Gc),Ye.registerCombo("circle",{options:{size:[J.defaultCombo.size[0],J.defaultCombo.size[0]],padding:J.defaultCombo.padding[0],animate:!0,style:{stroke:J.defaultCombo.style.stroke,fill:J.defaultCombo.style.fill,lineWidth:J.defaultCombo.style.lineWidth},labelCfg:{style:{fill:J.comboLabel.style.fill,fontSize:J.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(I.__assign)({},J.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var l=this.getShapeStyle(e);return delete l.height,delete l.width,t.addShape("circle",{attrs:l,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(e){var t=this.options.style,l=e.padding||this.options.padding;Object(ut.isArray)(l)&&(l=l[0]);var g,w={stroke:e.color},_=Object(ut.mix)({},t,w,e.style),k=this.getSize(e);g=!Object(ut.isNumber)(_.r)||isNaN(_.r)?k[0]/2||J.defaultCombo.style.r:Math.max(_.r,k[0]/2)||k[0]/2,_.r=g+l;var P=Object(I.__assign)({x:0,y:0},_);return e.style?e.style.r=g:e.style={r:g},P},update:function(e,t){var l=this.getSize(e),g=e.padding||this.options.padding;Object(ut.isArray)(g)&&(g=g[0]);var w=Object(ut.clone)(e.style),_=Math.max(w.r,l[0]/2)||l[0]/2;w.r=_+g;var k=t.get("sizeCache");k&&(k.r=w.r);var P={stroke:e.color},T=t.get("keyShape"),D=Object(ut.mix)({},T.attr(),P,w);e.style?e.style.r=_:e.style={r:_},this.updateShape(e,t,D,!0)}},"single-combo"),Ye.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:J.defaultCombo.style.stroke,fill:J.defaultCombo.style.fill,lineWidth:J.defaultCombo.style.lineWidth},labelCfg:{style:{fill:J.comboLabel.style.fill,fontSize:J.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(I.__assign)({},J.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var l=this.getShapeStyle(e);return t.addShape("rect",{attrs:l,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(e,t){var l=t.position||this.labelPosition,g=e.style,w=e.padding||this.options.padding;Object(ut.isNumber)(w)&&(w=[w,w,w,w]);var _=t.refX,k=t.refY;Object(ut.isNil)(_)&&(_=this.refX),Object(ut.isNil)(k)&&(k=this.refY);var P,T=g.width/2+w[3],D=g.height/2+w[0];switch(l){case"top":P={x:0-T+_,y:0-D+k,textBaseline:"top",textAlign:"left"};break;case"bottom":P={x:0,y:D+k,textBaseline:"bottom",textAlign:"center"};break;case"left":P={x:0-T+k,y:0,textAlign:"left"};break;case"center":P={x:0,y:0,text:e.label,textAlign:"center"};break;default:P={x:T+_,y:0,textAlign:"right"}}return P.text=e.label,P},getShapeStyle:function(e){var t=this.options.style,l=e.padding||this.options.padding;Object(ut.isNumber)(l)&&(l=[l,l,l,l]);var g,w,_={stroke:e.color},k=Object(ut.mix)({},t,_,e.style),P=this.getSize(e);g=!Object(ut.isNumber)(k.width)||isNaN(k.width)?P[0]||J.defaultCombo.style.width:Math.max(k.width,P[0])||P[0],w=!Object(ut.isNumber)(k.height)||isNaN(k.height)?P[1]||J.defaultCombo.style.height:Math.max(k.height,P[1])||P[1];var T=-g/2-l[3],D=-w/2-l[0];k.width=g+l[1]+l[3],k.height=w+l[0]+l[2];var R=Object(I.__assign)({x:T,y:D},k);return e.style?(e.style.width=g,e.style.height=w):e.style={width:g,height:w},R},update:function(e,t){var l=this.getSize(e),g=e.padding||this.options.padding;Object(ut.isNumber)(g)&&(g=[g,g,g,g]);var w=Object(ut.clone)(e.style),_=Math.max(w.width,l[0])||l[0],k=Math.max(w.height,l[1])||l[1];w.width=_+g[1]+g[3],w.height=k+g[0]+g[2];var P=t.get("sizeCache");P&&(P.width=w.width,P.height=w.height),w.x=-_/2-g[3],w.y=-k/2-g[0];var T={stroke:e.color},D=t.get("keyShape"),R=Object(ut.mix)({},D.attr(),T,w);e.style?(e.style.width=_,e.style.height=k):e.style={width:_,height:k},this.updateShape(e,t,R,!1)},updateShape:function(e,t,l){var g=t.get("keyShape");(e.animate===void 0?this.options.animate:e.animate)&&g.animate?g.animate(l,{duration:200,easing:"easeLinear"}):g.attr(Object(I.__assign)({},l)),this.updateLabel(e,t)}},"single-combo"),Ye.registerNode("circle",{options:{size:J.defaultNode.size,style:{x:0,y:0,stroke:J.defaultNode.style.stroke,fill:J.defaultNode.style.fill,lineWidth:J.defaultNode.style.lineWidth},labelCfg:{style:{fill:J.nodeLabel.style.fill,fontSize:J.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:J.defaultNode.linkPoints.size,lineWidth:J.defaultNode.linkPoints.lineWidth,fill:J.defaultNode.linkPoints.fill,stroke:J.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(I.__assign)({},J.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var l=this.getOptions(e).icon,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=Me()({},g,e.icon),k=t.addShape("circle",{attrs:w,className:this.type+"-keyShape",draggable:!0}),P=_.width,T=_.height;return _.show&&t.addShape("image",{attrs:Object(I.__assign)({x:-P/2,y:-T/2},_),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),k},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,T=g.size,D=g.r,R=Object(I.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e)[0]/2;_&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:-L,y:0,r:T/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:L,y:0,r:T/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:-L,r:T/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:L,r:T/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Me()({},t,l),w=this.getSize(e)[0]/2;return Object(I.__assign)({x:0,y:0,r:w},g)},update:function(e,t){var l=t.getContainer(),g=this.getSize(e),w={stroke:e.color,r:g[0]/2},_=t.get("keyShape"),k=Me()({},_.attr(),w,e.style);this.updateShape(e,t,k,!0),this.updateLinkPoints(e,l)}},"single-node"),Ye.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:J.defaultNode.style.stroke,fill:J.defaultNode.style.fill,lineWidth:J.defaultNode.style.lineWidth},labelCfg:{style:{fill:J.nodeLabel.style.fill,fontSize:J.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:J.defaultNode.linkPoints.size,lineWidth:J.defaultNode.linkPoints.lineWidth,fill:J.defaultNode.linkPoints.fill,stroke:J.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(I.__assign)({},J.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var l=this.getShapeStyle(e),g=t.addShape("rect",{attrs:l,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(e,t),g},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,T=g.size,D=g.r,R=Object(I.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e),Y=L[0],z=L[1];_&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:-Y/2,y:0,r:T/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:Y/2,y:0,r:T/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:-z/2,r:T/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:z/2,r:T/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ut.mix)({},t,l),w=this.getSize(e),_=g.width||w[0],k=g.height||w[1];return Object(I.__assign)({x:-_/2,y:-k/2,width:_,height:k},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getSize(e),_=t.get("keyShape");e.size||(w[0]=_.attr("width")||g.width,w[1]=_.attr("height")||g.height);var k={stroke:e.color,x:-w[0]/2,y:-w[1]/2,width:w[0],height:w[1]},P=Object(ut.mix)({},g,_.attr(),k);P=Object(ut.mix)(P,e.style),this.updateShape(e,t,P,!1),this.updateLinkPoints(e,l)}},"single-node"),Ye.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:J.defaultNode.style.stroke,fill:J.defaultNode.style.fill,lineWidth:J.defaultNode.style.lineWidth},labelCfg:{style:{fill:J.nodeLabel.style.fill,fontSize:J.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:J.defaultNode.linkPoints.size,lineWidth:J.defaultNode.linkPoints.lineWidth,fill:J.defaultNode.linkPoints.fill,stroke:J.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(I.__assign)({},J.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var l=this.getOptions(e).icon,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=t.addShape("ellipse",{attrs:w,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),k=g.width,P=g.height;return g.show&&t.addShape("image",{attrs:Object(I.__assign)({x:-k/2,y:-P/2},g),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),_},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,T=g.size,D=g.r,R=Object(I.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e),Y=L[0]/2,z=L[1]/2;_&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:-Y,y:0,r:T/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:Y,y:0,r:T/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:-z,r:T/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:z,r:T/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ut.mix)({},t,l),w=this.getSize(e),_=w[0]/2,k=w[1]/2;return Object(I.__assign)({x:0,y:0,rx:_,ry:k},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getSize(e),_={stroke:e.color,rx:w[0]/2,ry:w[1]/2},k=t.get("keyShape"),P=Object(ut.mix)({},g,k.attr(),_);P=Object(ut.mix)(P,e.style),this.updateShape(e,t,P,!0),this.updateLinkPoints(e,l)}},"single-node"),Ye.registerNode("diamond",{options:{size:[80,80],style:{stroke:J.defaultNode.style.stroke,fill:J.defaultNode.style.fill,lineWidth:J.defaultNode.style.lineWidth},labelCfg:{style:{fill:J.nodeLabel.style.fill,fontSize:J.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:J.defaultNode.linkPoints.size,lineWidth:J.defaultNode.linkPoints.lineWidth,fill:J.defaultNode.linkPoints.fill,stroke:J.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(I.__assign)({},J.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var l=this.getOptions(e).icon,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=t.addShape("path",{attrs:w,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),k=g.width,P=g.height;return g.show&&t.addShape("image",{attrs:Object(I.__assign)({x:-k/2,y:-P/2},g),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),_},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,T=g.size,D=g.r,R=Object(I.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e),Y=L[0],z=L[1];_&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:-Y/2,y:0,r:T/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:Y/2,y:0,r:T/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:-z/2,r:T/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:z/2,r:T/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(e){var t=this.getSize(e),l=t[0],g=t[1];return[["M",0,-g/2],["L",l/2,0],["L",0,g/2],["L",-l/2,0],["Z"]]},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ut.mix)({},t,l),w=this.getPath(e);return Object(I.__assign)({path:w},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getPath(e),_={stroke:e.color,path:w},k=t.get("keyShape"),P=Object(ut.mix)({},g,k.attr(),_);P=Object(ut.mix)(P,e.style),this.updateShape(e,t,P,!0),this.updateLinkPoints(e,l)}},"single-node"),Ye.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:J.defaultNode.style.stroke,fill:J.defaultNode.style.fill,lineWidth:J.defaultNode.style.lineWidth},labelCfg:{style:{fill:J.nodeLabel.style.fill,fontSize:J.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:J.defaultNode.linkPoints.size,lineWidth:J.defaultNode.linkPoints.lineWidth,fill:J.defaultNode.linkPoints.fill,stroke:J.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(I.__assign)({},J.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var l=this.getOptions(e),g=l.icon,w=g===void 0?{}:g,_=l.direction,k=this.getShapeStyle(e),P=e.direction||_,T=t.addShape("path",{attrs:k,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),D=w.width,R=w.height,L=w.show,Y=w.offset;if(L){var z=-D/2,q=-R/2;P!=="up"&&P!=="down"||(q+=Y),P!=="left"&&P!=="right"||(z+=Y),t.addShape("image",{attrs:Object(I.__assign)({x:z,y:q},w),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(e,t),T},drawLinkPoints:function(e,t){var l=this.getOptions(e),g=l.linkPoints,w=g===void 0?{}:g,_=l.direction,k=e.direction||_,P=w.top,T=w.left,D=w.right,R=w.bottom,L=w.size,Y=w.r,z=Object(I.__rest)(w,["top","left","right","bottom","size","r"]),q=this.getSize(e)[0];if(T){var nt=null,et=q*Math.sin(1/3*Math.PI),st=q*Math.sin(1/3*Math.PI);k==="up"?nt=[-st,et]:k==="down"?nt=[-st,-et]:k==="left"&&(nt=[-st,st-et]),nt&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},z),{x:nt[0],y:nt[1],r:L/2||Y||5}),className:"link-point-left",name:"link-point-left"})}if(D){var pt=null;et=q*Math.sin(1/3*Math.PI),st=q*Math.sin(1/3*Math.PI),k==="up"?pt=[st,et]:k==="down"?pt=[st,-et]:k==="right"&&(pt=[st,st-et]),pt&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},z),{x:pt[0],y:pt[1],r:L/2||Y||5}),className:"link-point-right",name:"link-point-right"})}if(P){var Ot=null;et=q*Math.sin(1/3*Math.PI),st=q*Math.sin(1/3*Math.PI),k==="up"?Ot=[st-et,-et]:k==="left"?Ot=[st,-et]:k==="right"&&(Ot=[-st,-et]),Ot&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},z),{x:Ot[0],y:Ot[1],r:L/2||Y||5}),className:"link-point-top",name:"link-point-top"})}if(R){var wt=null;et=q*Math.sin(1/3*Math.PI),st=q*Math.sin(1/3*Math.PI),k==="down"?wt=[-st+et,et]:k==="left"?wt=[st,et]:k==="right"&&(wt=[-st,et]),wt&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},z),{x:wt[0],y:wt[1],r:L/2||Y||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(e){var t=this.getOptions(e).direction,l=e.direction||t,g=this.getSize(e)[0],w=g*Math.sin(1/3*Math.PI),_=g*Math.sin(1/3*Math.PI),k=[["M",-_,w],["L",0,-w],["L",_,w],["Z"]];return l==="down"?k=[["M",-_,-w],["L",_,-w],["L",0,w],["Z"]]:l==="left"?k=[["M",-_,_-w],["L",_,-_],["L",_,_],["Z"]]:l==="right"&&(k=[["M",_,_-w],["L",-_,_],["L",-_,-_],["Z"]]),k},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ut.mix)({},t,l),w=this.getPath(e);return Object(I.__assign)({path:w},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getPath(e),_={stroke:e.color,path:w},k=t.get("keyShape"),P=Object(ut.mix)({},g,k.attr(),_);P=Object(ut.mix)(P,e.style),this.updateShape(e,t,P,!0),this.updateLinkPoints(e,l)},updateLinkPoints:function(e,t){var l=this.getOptions({}),g=l.linkPoints,w=l.direction,_=e.direction||w,k=t.find(function(Qt){return Qt.get("className")==="link-point-left"}),P=t.find(function(Qt){return Qt.get("className")==="link-point-right"}),T=t.find(function(Qt){return Qt.get("className")==="link-point-top"}),D=t.find(function(Qt){return Qt.get("className")==="link-point-bottom"}),R=g,L=k||P||T||D;L&&(R=L.attr());var Y=Object(ut.mix)({},R,e.linkPoints),z=Y.fill,q=Y.stroke,nt=Y.lineWidth,et=Y.size/2;et||(et=Y.r);var st=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},pt=st.left,Ot=st.right,wt=st.top,yt=st.bottom,Tt=this.getSize(e)[0],Dt={r:et,fill:z,stroke:q,lineWidth:nt},Gt=null,zt=Tt*Math.sin(1/3*Math.PI),Kt=Tt*Math.sin(1/3*Math.PI);_==="up"?Gt=[-Kt,zt]:_==="down"?Gt=[-Kt,-zt]:_==="left"&&(Gt=[-Kt,Kt-zt]),Gt&&(k?pt||pt===void 0?k.attr(Object(I.__assign)(Object(I.__assign)({},Dt),{x:Gt[0],y:Gt[1]})):k.remove():pt&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},Dt),{x:Gt[0],y:Gt[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var qt=null;_==="up"?qt=[Kt,zt]:_==="down"?qt=[Kt,-zt]:_==="right"&&(qt=[Kt,Kt-zt]),qt&&(P?Ot||Ot===void 0?P.attr(Object(I.__assign)(Object(I.__assign)({},Dt),{x:qt[0],y:qt[1]})):P.remove():Ot&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},Dt),{x:qt[0],y:qt[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Wt=null;_==="up"?Wt=[Kt-zt,-zt]:_==="left"?Wt=[Kt,-zt]:_==="right"&&(Wt=[-Kt,-zt]),Wt&&(T?wt||wt===void 0?T.attr(Object(I.__assign)(Object(I.__assign)({},Dt),{x:Wt[0],y:Wt[1]})):T.remove():wt&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},Dt),{x:Wt[0],y:Wt[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var ne=null;_==="down"?ne=[-Kt+zt,zt]:_==="left"?ne=[Kt,zt]:_==="right"&&(ne=[-Kt,zt]),ne&&(D?yt||yt===void 0?D.attr(Object(I.__assign)(Object(I.__assign)({},Dt),{x:ne[0],y:ne[1]})):D.remove():yt&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},Dt),{x:ne[0],y:ne[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Ye.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:J.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var l=this.getOptions(e).preRect,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=this.getSize(e),k=_[0],P=_[1],T=t.addShape("rect",{attrs:w,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),D=g.show,R=Object(I.__rest)(g,["show"]);return D&&t.addShape("rect",{attrs:Object(I.__assign)({x:-k/2,y:-P/2,height:P},R),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),T},drawLogoIcon:function(e,t){var l=this.getOptions(e).logoIcon,g=l===void 0?{}:l,w=this.getSize(e)[0];if(g.show){var _=g.width,k=g.height,P=g.x,T=g.y,D=g.offset,R=Object(I.__rest)(g,["width","height","x","y","offset"]);t.addShape("image",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:P||-w/2+_+D,y:T||-k/2,width:_,height:k}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var l=this.getOptions(e).stateIcon,g=l===void 0?{}:l,w=this.getSize(e)[0];if(g.show){var _=g.width,k=g.height,P=g.x,T=g.y,D=g.offset,R=Object(I.__rest)(g,["width","height","x","y","offset"]);t.addShape("image",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:P||w/2-_+D,y:T||-k/2,width:_,height:k}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,T=g.size,D=g.r,R=Object(I.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e),Y=L[0],z=L[1];_&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:-Y/2,y:0,r:T/2||D||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:Y/2,y:0,r:T/2||D||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:-z/2,r:T/2||D||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},R),{x:0,y:z/2,r:T/2||D||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(e,t){var l=this.getOptions(e),g=l.labelCfg,w=g===void 0?{}:g,_=l.logoIcon,k=_===void 0?{}:_,P=l.descriptionCfg,T=P===void 0?{}:P,D=this.getSize(e)[0],R=null,L=k.show,Y=k.width,z=-D/2+w.offset;L&&(z=-D/2+Y+w.offset);var q=w.style,nt=T.style,et=T.paddingTop;return Object(ut.isString)(e.description)?(R=t.addShape("text",{attrs:Object(I.__assign)(Object(I.__assign)({},q),{x:z,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:Object(I.__assign)(Object(I.__assign)({},nt),{x:z,y:17+(et||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0})):R=t.addShape("text",{attrs:Object(I.__assign)(Object(I.__assign)({},q),{x:z,y:7,text:e.label}),draggable:!0}),R},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ut.mix)({},t,l),w=this.getSize(e),_=g.width||w[0],k=g.height||w[1];return Object(I.__assign)({x:-_/2,y:-k/2,width:_,height:k},g)},update:function(e,t){var l=this.getOptions(e),g=l.style,w=g===void 0?{}:g,_=l.labelCfg,k=_===void 0?{}:_,P=l.descriptionCfg,T=P===void 0?{}:P,D=this.getSize(e),R=D[0],L=D[1];t.get("keyShape").attr(Object(I.__assign)(Object(I.__assign)({},w),{x:-R/2,y:-L/2,width:R,height:L}));var Y=t.getContainer(),z=Y.find(function(Le){return Le.get("className")==="rect-logo-icon"}),q=z?z.attr():{},nt=Object(ut.mix)({},q,e.logoIcon),et=nt.width;et===void 0&&(et=this.options.logoIcon.width);var st=e.logoIcon?e.logoIcon.show:void 0,pt=k.offset,Ot=-R/2+et+pt;st||st===void 0||(Ot=-R/2+pt);var wt=Y.find(function(Le){return Le.get("className")==="node-label"}),yt=Y.find(function(Le){return Le.get("className")==="rect-description"});if(e.label)if(wt){var Tt=e.labelCfg?e.labelCfg.style:{},Dt=Object(ut.mix)({},wt.attr(),Tt);e.label&&(Dt.text=e.label),Dt.x=Ot,Object(ut.isString)(e.description)&&(Dt.y=-5),yt&&(yt.resetMatrix(),yt.attr({x:Ot})),wt.resetMatrix(),wt.attr(Dt)}else Y.addShape("text",{attrs:Object(I.__assign)(Object(I.__assign)({},k.style),{x:Ot,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0});if(Object(ut.isString)(e.description)){var Gt=T.paddingTop;if(yt){Tt=e.descriptionCfg?e.descriptionCfg.style:{};var zt=Object(ut.mix)({},yt.attr(),Tt);Object(ut.isString)(e.description)&&(zt.text=e.description),zt.x=Ot,yt.resetMatrix(),yt.attr(Object(I.__assign)(Object(I.__assign)({},zt),{y:17+(Gt||0)}))}else Y.addShape("text",{attrs:Object(I.__assign)(Object(I.__assign)({},T.style),{x:Ot,y:17+(Gt||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0})}var Kt=Y.find(function(Le){return Le.get("className")==="pre-rect"});if(Kt){var qt=Object(ut.mix)({},Kt.attr(),e.preRect);Kt.attr(Object(I.__assign)(Object(I.__assign)({},qt),{x:-R/2,y:-L/2,height:L}))}if(z)if(st||st===void 0){var Wt=nt.width,ne=nt.height,Qt=nt.x,se=nt.y,oe=nt.offset,le=Object(I.__rest)(nt,["width","height","x","y","offset"]);z.attr(Object(I.__assign)(Object(I.__assign)({},le),{x:Qt||-R/2+Wt+oe,y:se||-ne/2,width:Wt,height:ne}))}else z.remove();else st&&this.drawLogoIcon(e,Y);var te=Y.find(function(Le){return Le.get("className")==="rect-state-icon"}),ae=te?te.attr():{},me=Object(ut.mix)({},ae,e.stateIcon);if(te){me.show||me.show===void 0||te.remove();var ke=me.width,Ce=(ne=me.height,Qt=me.x,se=me.y,me.offset),ze=Object(I.__rest)(me,["width","height","x","y","offset"]);te.attr(Object(I.__assign)(Object(I.__assign)({},ze),{x:Qt||R/2-ke+Ce,y:se||-ne/2,width:ke,height:ne}))}else me.show&&this.drawStateIcon(e,Y);this.updateLinkPoints(e,Y)}},"single-node"),Ye.registerNode("star",{options:{size:60,style:{stroke:J.defaultNode.style.stroke,fill:J.defaultNode.style.fill,lineWidth:J.defaultNode.style.lineWidth},labelCfg:{style:{fill:J.nodeLabel.style.fill,fontSize:J.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:J.defaultNode.linkPoints.size,lineWidth:J.defaultNode.linkPoints.lineWidth,fill:J.defaultNode.linkPoints.fill,stroke:J.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(I.__assign)({},J.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var l=this.getOptions(e).icon,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=t.addShape("path",{attrs:w,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),k=g.width,P=g.height;return g.show&&t.addShape("image",{attrs:Object(I.__assign)({x:-k/2,y:-P/2},g),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),_},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.leftBottom,T=g.rightBottom,D=g.size,R=g.r,L=Object(I.__rest)(g,["top","left","right","leftBottom","rightBottom","size","r"]),Y=this.getSize(e)[0];if(k){var z=Math.cos(.1*Math.PI)*Y,q=Math.sin(.1*Math.PI)*Y;t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},L),{x:z,y:-q,r:D/2||R||5}),className:"link-point-right",name:"link-point-right"})}w&&(z=Math.cos(.5*Math.PI)*Y,q=Math.sin(.5*Math.PI)*Y,t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},L),{x:z,y:-q,r:D/2||R||5}),className:"link-point-top",name:"link-point-top"})),_&&(z=Math.cos(.9*Math.PI)*Y,q=Math.sin(.9*Math.PI)*Y,t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},L),{x:z,y:-q,r:D/2||R||5}),className:"link-point-left",name:"link-point-left"})),P&&(z=Math.cos(1.3*Math.PI)*Y,q=Math.sin(1.3*Math.PI)*Y,t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},L),{x:z,y:-q,r:D/2||R||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})),T&&(z=Math.cos(1.7*Math.PI)*Y,q=Math.sin(1.7*Math.PI)*Y,t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},L),{x:z,y:-q,r:D/2||R||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"}))},getPath:function(e){for(var t=this.getSize(e)[0],l=3*t/8,g=e.innerR||l,w=[],_=0;_<5;_++){var k=Math.cos((18+72*_)/180*Math.PI)*t,P=Math.sin((18+72*_)/180*Math.PI)*t,T=Math.cos((54+72*_)/180*Math.PI)*g,D=Math.sin((54+72*_)/180*Math.PI)*g;_===0?w.push(["M",k,-P]):w.push(["L",k,-P]),w.push(["L",T,-D])}return w.push(["Z"]),w},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ut.mix)({},t,l),w=this.getPath(e);return Object(I.__assign)({path:w},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getPath(e),_={stroke:e.color,path:w},k=t.get("keyShape"),P=Object(ut.mix)({},g,k.attr(),_);P=Object(ut.mix)(P,e.style),this.updateShape(e,t,P,!0),this.updateLinkPoints(e,l)},updateLinkPoints:function(e,t){var l=this.getOptions({}).linkPoints,g=t.find(function(zt){return zt.get("className")==="link-point-left"}),w=t.find(function(zt){return zt.get("className")==="link-point-right"}),_=t.find(function(zt){return zt.get("className")==="link-point-top"}),k=t.find(function(zt){return zt.get("className")==="link-point-left-bottom"}),P=t.find(function(zt){return zt.get("className")==="link-point-right-bottom"}),T=l,D=g||w||_||k||P;D&&(T=D.attr());var R=Object(ut.mix)({},T,e.linkPoints),L=R.fill,Y=R.stroke,z=R.lineWidth,q=R.size/2;q||(q=R.r);var nt=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},et=nt.left,st=nt.right,pt=nt.top,Ot=nt.leftBottom,wt=nt.rightBottom,yt=this.getSize(e)[0],Tt={r:q,fill:L,stroke:Y,lineWidth:z},Dt=Math.cos(.1*Math.PI)*yt,Gt=Math.sin(.1*Math.PI)*yt;w?st||st===void 0?w.attr(Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt})):w.remove():st&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Dt=Math.cos(.5*Math.PI)*yt,Gt=Math.sin(.5*Math.PI)*yt,_?pt||pt===void 0?_.attr(Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt})):_.remove():pt&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Dt=Math.cos(.9*Math.PI)*yt,Gt=Math.sin(.9*Math.PI)*yt,g?et||et===void 0?g.attr(Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt})):g.remove():et&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Dt=Math.cos(1.3*Math.PI)*yt,Gt=Math.sin(1.3*Math.PI)*yt,k?Ot||Ot===void 0?k.attr(Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt})):k.remove():Ot&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Dt=Math.cos(1.7*Math.PI)*yt,Gt=Math.sin(1.7*Math.PI)*yt,P?wt||wt===void 0?P.attr(Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt})):k.remove():wt&&t.addShape("circle",{attrs:Object(I.__assign)(Object(I.__assign)({},Tt),{x:Dt,y:-Gt}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),Ye.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var l=this.shapeType,g=this.getShapeStyle(e);delete g.fill;var w=t.addShape(l,{attrs:g,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(e,w),w},drawClip:function(e,t){var l=this.getOptions(e).clipCfg;if(l.show){var g=l.type,w=l.x,_=l.y,k=l.style;if(g==="circle"){var P=l.r;t.setClip({type:"circle",attrs:Object(I.__assign)({r:P,x:w,y:_},k)})}else if(g==="rect"){var T=l.width,D=l.height,R=w-T/2,L=_-D/2;t.setClip({type:"rect",attrs:Object(I.__assign)({x:R,y:L,width:T,height:D},k)})}else if(g==="ellipse"){var Y=l.rx,z=l.ry;t.setClip({type:"ellipse",attrs:Object(I.__assign)({x:w,y:_,rx:Y,ry:z},k)})}else if(g==="polygon"){var q=l.points;t.setClip({type:"polygon",attrs:Object(I.__assign)({points:q},k)})}else if(g==="path"){var nt=l.path;t.setClip({type:"path",attrs:Object(I.__assign)({path:nt},k)})}}},getShapeStyle:function(e){var t=this.getOptions(e).style,l=this.getSize(e),g=this.getOptions(e).img,w=l[0],_=l[1];return t&&(w=t.width||l[0],_=t.height||l[1]),Object(I.__assign)({x:-w/2,y:-_/2,width:w,height:_,img:g},t)},updateShapeStyle:function(e,t){var l=t.getContainer(),g=this.itemType+"-shape",w=l.find(function(k){return k.get("className")===g})||t.getKeyShape(),_=this.getShapeStyle(e);w&&w.attr(_)}},"single-node");var Ci=function(e){var t=e.x,l=e.y;return{x:t,y:l,centerX:t,centerY:l,minX:t,minY:l,maxX:t,maxY:l,height:0,width:0}},Xa=function(e,t){return 2*Math.abs(e.centerX-t.centerX)<e.width+t.width&&2*Math.abs(e.centerY-t.centerY)<e.height+t.height},fo=function(e){var t=[],l={};return e.forEach(function(g){var w=g.x+"-"+g.y;g.id=w,l[w]=g}),Object(ut.each)(l,function(g){t.push(g)}),t},Ai=function(e){return e=fo(e)},Ha=function(e,t){return[e,{x:e.x,y:t.y},t]},ji=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},po=function(e,t){return function(l,g){var w=Math.abs(l.x-g.centerX),_=Math.abs(l.y-g.centerY);return w/g.width>_/g.height}(t,e)?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},go=function(e,t){var l=Math.min(e.minX,t.minX),g=Math.min(e.minY,t.minY),w=Math.max(e.maxX,t.maxX),_=Math.max(e.maxY,t.maxY);return{centerX:(l+w)/2,centerY:(g+_)/2,minX:l,minY:g,maxX:w,maxY:_,height:_-g,width:w-l}},vo=function(e){var t=e.minX,l=e.minY,g=e.maxX,w=e.maxY;return[{x:t,y:l},{x:g,y:l},{x:g,y:w},{x:t,y:w}]},Ii=function(e,t){var l=e.x,g=e.y;return l<t.minX||l>t.maxX||g<t.minY||g>t.maxY},ti=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Va=function(e,t,l,g,w){return ti(e,t)+ti(e,l)+function(_,k){var P=0;return k.forEach(function(T){T&&(_.x===T.x&&(P+=-2),_.y===T.y&&(P+=-2))}),P}(e,[t,l,g,w])},zc=function S(e,t,l,g,w){w===void 0&&(w=0),e.unshift(t[g]),l[g]&&l[g]!==g&&w<=100&&S(e,t,l,l[g],w+1)},Ti=function(e,t,l,g){var w=t.x-e.x,_=t.y-e.y,k=g.x-l.x,P=g.y-l.y,T=(-_*(e.x-l.x)+w*(e.y-l.y))/(-k*_+w*P),D=(k*(e.y-l.y)-P*(e.x-l.x))/(-k*_+w*P);return T>=0&&T<=1&&D>=0&&D<=1},mo=function(e,t,l){if(l.width===0&&l.height===0)return!1;var g=vo(l),w=g[0],_=g[1],k=g[2],P=g[3];return Ti(e,t,w,_)||Ti(e,t,w,P)||Ti(e,t,_,k)||Ti(e,t,k,P)},Xc=function(e,t,l,g,w,_,k){var P=[],T=[t],D={},R={},L={};R[t.id]=0,L[t.id]=Va(t,l,t);var Y={};e.forEach(function(nt){Y[nt.id]=nt});for(var z=function(){var et,st,pt,Ot,wt=1/0;if(T.forEach(function(Tt){L[Tt.id]<wt&&(wt=L[Tt.id],et=Tt)}),et===l){var yt=[];return zc(yt,Y,D,l.id),{value:yt}}pt=et,(Ot=(st=T).indexOf(pt))>-1&&st.splice(Ot,1),P.push(et),function(Tt,Dt,Gt,zt){var Kt=[];return Tt.forEach(function(qt){qt!==Dt&&(qt.x!==Dt.x&&qt.y!==Dt.y||mo(qt,Dt,Gt)||mo(qt,Dt,zt)||Kt.push(qt))}),fo(Kt)}(e,et,g,w).forEach(function(Tt){if(P.indexOf(Tt)===-1){T.indexOf(Tt)===-1&&T.push(Tt);var Dt=L[et.id]+ti(et,Tt);R[Tt.id]&&Dt>=R[Tt.id]||(D[Tt.id]=et.id,R[Tt.id]=Dt,L[Tt.id]=R[Tt.id]+Va(Tt,l,t,_,k))}})};T.length;){var q=z();if(typeof q=="object")return q.value}return[t,l]},Ua=function(e,t){var l=[],g=e[0];return l.push("M"+g.x+" "+g.y),e.forEach(function(w,_){var k=e[_+1],P=e[_+2];if(k&&P)if(function(L,Y,z){return!(L.x===Y.x&&Y.x===z.x||L.y===Y.y&&Y.y===z.y)}(w,k,P)){var T=function(L,Y,z,q){var nt=ti(L,Y),et=ti(z,Y);return nt<q&&(q=nt),et<q&&(q=et),[{x:Y.x-q/nt*(Y.x-L.x),y:Y.y-q/nt*(Y.y-L.y)},{x:Y.x-q/et*(Y.x-z.x),y:Y.y-q/et*(Y.y-z.y)}]}(w,k,P,t),D=T[0],R=T[1];l.push("L"+D.x+" "+D.y),l.push("Q"+k.x+" "+k.y+" "+R.x+" "+R.y),l.push("L"+R.x+" "+R.y)}else l.push("L"+k.x+" "+k.y);else k&&l.push("L"+k.x+" "+k.y)}),l.join("")},Hc=function(e,t,l,g,w){var _,k;if(l&&l.getType()?l.getType()==="combo"?((_=l.getKeyShape().getCanvasBBox()||Ci(e)).centerX=(_.minX+_.maxX)/2,_.centerY=(_.minY+_.maxY)/2):_=l.getBBox():_=Ci(e),g&&g.getType()?g.getType()==="combo"?((k=g.getKeyShape().getCanvasBBox()||Ci(t)).centerX=(k.minX+k.maxX)/2,k.centerY=(k.minY+k.maxY)/2):k=g&&g.getBBox():k=Ci(t),Xa(_,k))return Ai(Ha(e,t));var P=ji(_,w),T=ji(k,w);if(Xa(P,T))return Ai(Ha(e,t));var D=po(P,e),R=po(T,t),L=function(st){st===void 0&&(st=[]);var pt=[],Ot=[];st.forEach(function(Gt){pt.push(Gt.x),Ot.push(Gt.y)});var wt=Math.min.apply(Math,pt),yt=Math.max.apply(Math,pt),Tt=Math.min.apply(Math,Ot),Dt=Math.max.apply(Math,Ot);return{centerX:(wt+yt)/2,centerY:(Tt+Dt)/2,maxX:yt,maxY:Dt,minX:wt,minY:Tt,height:Dt-Tt,width:yt-wt}}([D,R]),Y=(go(P,T),go(P,L)),z=go(T,L),q=[];q=(q=q.concat(vo(Y))).concat(vo(z));var nt={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[L,Y,z].forEach(function(st){q=q.concat(function(pt,Ot){return function(wt,yt){return yt<wt.minX||yt>wt.maxX?[]:[{x:yt,y:wt.minY},{x:yt,y:wt.maxY}]}(pt,Ot.x).concat(function(wt,yt){return yt<wt.minY||yt>wt.maxY?[]:[{x:wt.minX,y:yt},{x:wt.maxX,y:yt}]}(pt,Ot.y))}(st,nt).filter(function(pt){return Ii(pt,P)&&Ii(pt,T)}))}),[{x:D.x,y:R.y},{x:R.x,y:D.y}].forEach(function(st){Ii(st,P)&&Ii(st,T)&&q.push(st)}),q.unshift(D),q.push(R),q=fo(q);var et=Xc(q,D,R,_,k,e,t);return et.unshift(e),et.push(t),Ai(et)},Vc={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},fallbackRoute:function(e,t,l,g,w){return Ai(Hc(e,t,l,g,w.offset))}},jn=function(e,t){var l=Math.floor(e/t);return l<0?0:l},yo=function(e,t){var l=t.x-e.x,g=t.y-e.y;return l||g?(360+180*Math.atan2(g,l)/Math.PI)%360:0},Wa=function(e,t){var l=Math.abs(e-t);return l>180?360-l:l},qa=function(e,t,l){for(var g=1/0,w=0,_=t.length;w<_;w++){var k=l(e,t[w]);k<g&&(g=k)}return g},Za=function(e,t,l){var g=[];if(!t)return g;var w=l.directions,_=l.offset,k=t.getBBox(),P=ji(t.getBBox(),_);for(var T in P)P[T]=jn(P[T],l.gridSize);if(e.x>jn(k.minX,l.gridSize)&&e.x<jn(k.maxX,l.gridSize)&&e.y>jn(k.minY,l.gridSize)&&e.y<jn(k.maxY,l.gridSize))for(var D=0,R=w;D<R.length;D++){var L=R[D],Y=[[{x:P.minX,y:P.minY},{x:P.maxX,y:P.minY}],[{x:P.minX,y:P.minY},{x:P.minX,y:P.maxY}],[{x:P.maxX,y:P.minY},{x:P.maxX,y:P.maxY}],[{x:P.minX,y:P.maxY},{x:P.maxX,y:P.maxY}]];for(T=0;T<4;T++){var z,q=Y[T];(z=nn(e,{x:e.x+L.stepX*P.width,y:e.y+L.stepY*P.height},q[0],q[1]))&&!mo(e,z,t.getBBox())&&(z.id=z.x+"-"+z.y,g.push(z))}}else(z=po(P,e)).id=z.x+"-"+z.y,g.push(z);return g},Ka=function(e,t,l,g,w){var _=Me()(Vc,w);_.obstacles=_.obstacles||[];var k=function(Tt,Dt,Gt){var zt={};return Tt.forEach(function(Kt){if(Kt)for(var qt=ji(Kt.getBBox(),Gt),Wt=jn(qt.minX,Dt);Wt<=jn(qt.maxX,Dt);Wt+=1)for(var ne=jn(qt.minY,Dt);ne<=jn(qt.maxY,Dt);ne+=1)zt[Wt+"-"+ne]=!0}),zt}(_.obstacles.concat([l,g]),_.gridSize,_.offset),P={x:jn(e.x,_.gridSize),y:jn(e.y,_.gridSize)},T={x:jn(t.x,_.gridSize),y:jn(t.y,_.gridSize)};e.id=P.x+"-"+P.y,t.id=T.x+"-"+T.y;var D=Za(P,l,_),R=Za(T,g,_);D.forEach(function(Tt){delete k[Tt.id]}),R.forEach(function(Tt){delete k[Tt.id]});for(var L={},Y={},z={},q={},nt={},et=0;et<D.length;et++){var st=D[et];L[st.id]=st,q[st.id]=0,nt[st.id]=qa(st,R,_.distFunc)}for(var pt=function(Dt,Gt){var zt,Kt=yo(Dt,Gt);if(z[Dt.id]){var qt=yo({x:parseFloat(z[Dt.id].split("-")[0]),y:parseFloat(z[Dt.id].split("-")[1])},Dt);zt=Wa(qt,Kt)}else{var Wt=yo(P,Dt);zt=Wa(Wt,Kt)}return zt},Ot=_.maximumLoops,wt=function(){var Dt,Gt=1/0;for(var zt in L)nt[zt]<=Gt&&(Gt=nt[zt],Dt=L[zt]);if(!Dt)return"break";if(R.findIndex(function(oe){return oe.x===Dt.x&&oe.y===Dt.y})>-1)return{value:function(oe){var le=[t],te={x:parseFloat(oe.split("-")[0]),y:parseFloat(oe.split("-")[1]),id:oe};for(pt(te,T)&&le.unshift({x:te.x===T.x?t.x:te.x*_.gridSize,y:te.y===T.y?t.y:te.y*_.gridSize});z[oe]&&z[oe]!==oe;){var ae={x:parseFloat(oe.split("-")[0]),y:parseFloat(oe.split("-")[1]),id:oe},me=z[oe],ke={x:parseFloat(me.split("-")[0]),y:parseFloat(me.split("-")[1]),id:me};pt(ke,ae)&&le.unshift({x:ke.x===ae.x?le[0].x:ke.x*_.gridSize,y:ke.y===ae.y?le[0].y:ke.y*_.gridSize}),oe=me}var Ce=parseFloat(oe.split("-")[0]),ze=parseFloat(oe.split("-")[1]);return le[0].x=Ce===P.x?e.x:le[0].x,le[0].y=ze===P.y?e.y:le[0].y,le.unshift(e),le}(Dt.id)};delete L[Dt.id],Y[Dt.id]=!0;for(var Kt=0;Kt<_.directions.length;Kt++){var qt=_.directions[Kt],Wt={x:Dt.x+qt.stepX,y:Dt.y+qt.stepY,id:Dt.x+qt.stepX+"-"+(Dt.y+qt.stepY)};if(!Y[Wt.id]){var ne=pt(Dt,Wt);if(!(ne>_.maxAllowedDirectionChange||k[Wt.id])){L[Wt.id]||(L[Wt.id]=Wt);var Qt=_.distFunc(Dt,Wt)+(isNaN(_.penalties[ne])?_.gridSize:_.penalties[ne]),se=q[Dt.id]+Qt;q[Wt.id]&&se>=q[Wt.id]||(z[Wt.id]=Dt.id,q[Wt.id]=se,nt[Wt.id]=se+qa(Wt,R,_.distFunc))}}}Ot-=1};Object.keys(L).length>0&&Ot>0;){var yt=wt();if(typeof yt=="object")return yt.value;if(yt==="break")break}return _.fallbackRoute(e,t,l,g,_)};Ye.registerEdge("polyline",{options:{color:J.defaultEdge.color,size:J.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:J.defaultEdge.style.stroke,lineAppendWidth:J.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:J.edgeLabel.style.fill,fontSize:J.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:Object(I.__assign)({},J.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var l=this.getShapeStyle(e);return l.radius===0&&delete l.radius,t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:l})},getShapeStyle:function(e){var t=this.options.style,l={stroke:e.color},g=Object(ut.mix)({},t,l,e.style);e=this.getPathPoints(e),this.radius=g.radius,this.offset=g.offset;var w=e.startPoint,_=e.endPoint,k=this.getControlPoints(e),P=[w];k&&(P=P.concat(k)),P.push(_);var T=e.sourceNode,D=e.targetNode,R=g.radius,L=this.options.routeCfg;L.offset=g.offset;var Y=this.getPath(P,T,D,R,L);return(Object(ut.isArray)(Y)&&Y.length<=1||Object(ut.isString)(Y)&&Y.indexOf("L")===-1)&&(Y="M0 0, L0 0"),(isNaN(w.x)||isNaN(w.y)||isNaN(_.x)||isNaN(_.y))&&(Y="M0 0, L0 0"),Object(ut.mix)({},J.defaultEdge.style,g,{lineWidth:e.size,path:Y})},updateShapeStyle:function(e,t){var l=t.getContainer(),g={stroke:e.color},w=l.find(function(st){return st.get("className")==="edge-shape"})||t.getKeyShape(),_=e.size,k=(e=this.getPathPoints(e)).startPoint,P=e.endPoint,T=this.getControlPoints(e),D=[k];T&&(D=D.concat(T)),D.push(P);var R=Object(ut.mix)({},g,w.attr(),e.style),L=e.sourceNode,Y=e.targetNode,z=R.radius,q=this.options.routeCfg;q.offset=R.offset;var nt=this.getPath(D,L,Y,z,q);(Object(ut.isArray)(nt)&&nt.length<=1||Object(ut.isString)(nt)&&nt.indexOf("L")===-1)&&(nt="M0 0, L0 0"),(isNaN(k.x)||isNaN(k.y)||isNaN(P.x)||isNaN(P.y))&&(nt="M0 0, L0 0");var et=Object(ut.mix)(g,w.attr(),{lineWidth:_,path:nt},e.style);w&&w.attr(et)},getPath:function(e,t,l,g,w){var _;if(!w.offset||e.length>2){if(g)return Ua(e,g);var k=[];return Object(ut.each)(e,function(P,T){T===0?k.push(["M",P.x,P.y]):k.push(["L",P.x,P.y])}),k}return g?(_=Ka(e[0],e[e.length-1],t,l,w),Ua(_,g)):(_=Ka(e[0],e[e.length-1],t,l,w),Vt(_))}},"single-edge");var Uc={collapse:function(e,t,l){return[["M",e-l,t],["a",l,l,0,1,0,2*l,0],["a",l,l,0,1,0,2*-l,0],["M",e-l+4,t],["L",e+l-4,t]]},expand:function(e,t,l){return[["M",e-l,t],["a",l,l,0,1,0,2*l,0],["a",l,l,0,1,0,2*-l,0],["M",e-l+4,t],["L",e-l+2*l-4,t],["M",e-l+l,t-l+4],["L",e,t+l-4]]},upTriangle:function(e,t,l){var g=l*Math.cos(Math.PI/6),w=l*Math.sin(Math.PI/6);return[["M",e-g,t+w],["L",e+g,t+w],["L",e,t-l],["Z"]]},downTriangle:function(e,t,l){var g=l*Math.cos(Math.PI/6),w=l*Math.sin(Math.PI/6);return[["M",e-g,t-w],["L",e+g,t-w],["L",e,t+l],["Z"]]}},Gr=Ye,Wc={mat3:Hn.mat3,mix:qr.a,deepMix:Me.a,transform:Hn.transform},$a=Object(I.__assign)(Object(I.__assign)(Object(I.__assign)(Object(I.__assign)(Object(I.__assign)(Object(I.__assign)({},Wc),d),a),n),p),y),nr=function(){function S(e){this._cfgs=Me()(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return S.prototype.getDefaultCfgs=function(){return{}},S.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var l=t.getEvents(),g={};h()(l,function(w,_){var k=di()(t,w);g[_]=k,e.on(_,k)}),this._events=g,this.init()},S.prototype.init=function(){},S.prototype.getEvents=function(){return{}},S.prototype.get=function(e){return this._cfgs[e]},S.prototype.set=function(e,t){this._cfgs[e]=t},S.prototype.destroy=function(){},S.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;h()(t,function(l,g){e.off(g,l)}),this._events=null,this._cfgs=null,this.destroyed=!0},S}(),Qa="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",qc=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{img:Qa}},e.prototype.init=function(){var t=this.get("graph"),l=t.get("minZoom"),g=t.get("container"),w=t.get("canvas").get("el"),_=t.get("width"),k=t.get("height"),P=this.get("img")||Qa,T=ve()(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),D=ve()(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+P+`;
        user-select: none
        '></div>`);T.appendChild(D),ue()(T,{width:_+"px",height:k+"px",left:g.offsetLeft+"px",top:g.offsetTop+"px"}),ue()(D,{width:_/l+"px",height:k/l+"px",left:"0px",top:"0px"}),g.insertBefore(T,w),this.set("container",T),this.set("gridContainer",D)},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var l=this.get("gridContainer"),g=t.matrix;g||(g=[1,0,0,0,1,0,0,0,1]);var w="matrix("+g[0]+", "+g[1]+", "+g[3]+", "+g[4]+", 0, 0)";ue()(l,{transform:w})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph").get("container"),l=this.get("container");t.removeChild(l)},e}(nr),Zc=s(56),bo=s.n(Zc);bo()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var Kc=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(l){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(l){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),l=ve()("<div class="+(t||"g6-component-contextmenu")+"></div>");ue()(l,{top:"0px",position:"absolute",visibility:"hidden"});var g=this.get("container");g||(g=this.get("graph").get("container")),g.appendChild(l),this.set("menu",l)},e.prototype.onMenuShow=function(t){var l=this;if(t.preventDefault(),t.stopPropagation(),t.item&&this.get("shouldBegin")(t)){var g=this.get("itemTypes");if(t.item&&t.item.getType&&g.indexOf(t.item.getType())===-1)l.onMenuHide();else if(t.item){var w=this.get("menu"),_=this.get("getContent"),k=this.get("graph"),P=_(t,k);N()(P)?w.innerHTML=P:w.innerHTML=P.outerHTML,this.removeMenuEventListener();var T=this.get("handleMenuClick");if(T){var D=function(yt){T(yt.target,t.item,k)};this.set("handleMenuClickWrapper",D),w.addEventListener("click",D)}var R=k.get("width"),L=k.get("height"),Y=w.getBoundingClientRect(),z=this.get("offsetX")||0,q=this.get("offsetY")||0,nt=k.getContainer().offsetTop,et=k.getContainer().offsetLeft,st=t.canvasX+et+z,pt=t.canvasY+nt+q;st+Y.width>R&&(st=t.canvasX-Y.width-z+et),pt+Y.height>L&&(pt=t.canvasY-Y.height-q+nt),ue()(w,{top:pt+"px",left:st+"px",visibility:"visible"});var Ot=function(yt){l.onMenuHide()};document.body.addEventListener("click",Ot),this.set("handler",Ot)}}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),l=this.get("handler");t&&(this.get("menu").removeEventListener("click",t),this.set("handleMenuClickWrapper",null)),l&&document.body.removeEventListener("click",l)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&ue()(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var l=this.get("container");l||(l=this.get("graph").get("container")),l.removeChild(t)}},e}(nr),Ja=Math.max,$c=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.handleUpdateCanvas=Object(ut.debounce)(function(l){var g=t;g.destroyed||g.updateCanvas()},100,!1),t}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,l=this._cfgs,g=l.size,w=l.graph;if(!this.destroyed){var _=this.get("canvas").get("container"),k=ve()(`
      <div
        class=`+l.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),P=0,T=0,D=!1,R=0,L=0,Y=0,z=0,q=0,nt=0;k.addEventListener("dragstart",function(et){if(et.dataTransfer){var st=new Image;st.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",et.dataTransfer.setDragImage(st,0,0),et.dataTransfer.setData("text","view-port-minimap")}if(l.refresh=!1,et.target===k){var pt=k.style;R=parseInt(pt.left,10),L=parseInt(pt.top,10),Y=parseInt(pt.width,10),z=parseInt(pt.height,10),Y>g[0]||z>g[1]||(nt=w.getZoom(),q=t.get("ratio"),D=!0,P=et.clientX,T=et.clientY)}},!1),k.addEventListener("drag",function(et){if(D&&!E()(et.clientX)&&!E()(et.clientY)){var st=P-et.clientX,pt=T-et.clientY;(R-st<0||R-st+Y>=g[0])&&(st=0),(L-pt<0||L-pt+z>=g[1])&&(pt=0),R-=st,L-=pt,ue()(k,{left:R+"px",top:L+"px"}),w.translate(st*nt/q,pt*nt/q),P=et.clientX,T=et.clientY}},!1),k.addEventListener("dragend",function(){D=!1,l.refresh=!0},!1),this.set("viewport",k),_.appendChild(k)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),l=(this.get("dx"),this.get("dy"),this.get("totaldx")),g=this.get("totaldy"),w=this.get("graph"),_=this.get("size"),k=w.get("width"),P=w.get("height"),T=w.getPointByCanvas(0,0),D=w.getPointByCanvas(k,P),R=this.get("viewport");R||this.initViewport(),w.getZoom();var L=(D.x-T.x)*t,Y=(D.y-T.y)*t,z=T.x*t+l,q=T.y*t+g,nt=z+L,et=q+Y;z<0&&(L+=z,z=0),nt>_[0]&&(L-=nt-_[0]),q<0&&(Y+=q,q=0),et>_[1]&&(Y-=et-_[1]),this.set("ratio",t);var st=z+"px",pt=q+"px";ue()(R,{left:st,top:pt,width:L+"px",height:Y+"px"})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,l=this.get("canvas"),g=t.get("group");if(!g.destroyed){var w=g.clone();w.resetMatrix(),l.clear(),l.add(w),t.get("renderer")==="svg"&&this.updateVisible(w)}},e.prototype.updateVisible=function(t){var l=this;if(t.isGroup()||t.get("visible")){var g=t.get("children");if(!g||!g.length)return;g.forEach(function(w){w.get("visible")||w.hide(),l.updateVisible(w)})}else t.hide()},e.prototype.updateKeyShapes=function(){var t=this,l=this._cfgs.graph;h()(l.getEdges(),function(g){t.updateOneEdgeKeyShape(g)}),h()(l.getNodes(),function(g){t.updateOneNodeKeyShape(g)}),this.clearDestroyedShapes()},e.prototype.updateOneNodeKeyShape=function(t){var l=this.get("canvas"),g=l.get("children")[0]||l.addGroup(),w=this.get("itemMap")||{},_=w[t.get("id")],k=t.getBBox(),P=t.get("keyShape").clone(),T=P.attr(),D={x:k.centerX,y:k.centerY};_?D=Object.assign(T,D):(_=P,g.add(_));var R=_.get("type");R!=="rect"&&R!=="image"||(D.x=k.minX,D.y=k.minY),_.attr(D),t.isVisible()||_.hide(),_.exist=!0,w[t.get("id")]=_,this.set("itemMap",w)},e.prototype.updateDelegateShapes=function(){var t=this,l=this._cfgs.graph;h()(l.getEdges(),function(g){t.updateOneEdgeKeyShape(g)}),h()(l.getNodes(),function(g){t.updateOneNodeDelegateShape(g)}),this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},l=Object.keys(t);if(l&&l.length!==0)for(var g=l.length-1;g>=0;g--){var w=t[l[g]],_=w.exist;w.exist=!1,_||(w.remove(),delete t[l[g]])}},e.prototype.updateOneEdgeKeyShape=function(t){var l=this.get("canvas"),g=l.get("children")[0]||l.addGroup(),w=this.get("itemMap")||{},_=w[t.get("id")];if(_){var k=t.get("keyShape").attr("path");_.attr("path",k)}else _=t.get("keyShape").clone(),g.add(_),_.toBack();t.isVisible()||_.hide(),_.exist=!0,w[t.get("id")]=_,this.set("itemMap",w)},e.prototype.updateOneNodeDelegateShape=function(t){var l=this.get("canvas"),g=l.get("children")[0]||l.addGroup(),w=this.get("delegateStyle"),_=this.get("itemMap")||{},k=_[t.get("id")],P=t.getBBox();if(k){var T={x:P.minX,y:P.minY,width:P.width,height:P.height};k.attr(T)}else k=g.addShape("rect",{attrs:Object(I.__assign)({x:P.minX,y:P.minY,width:P.width,height:P.height},w),name:"minimap-node-shape"});t.isVisible()||k.hide(),k.exist=!0,_[t.get("id")]=k,this.set("itemMap",_)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this.get("graph"),l=this.get("size"),g=this.get("className"),w=this.get("container"),_=ve()("<div class='"+g+"' style='width: "+l[0]+"px; height: "+l[1]+"px; overflow: hidden'></div>");N()(w)&&(w=document.getElementById(w)),w?w.appendChild(_):t.get("container").appendChild(_),this.set("container",_);var k,P=ve()('<div class="g6-minimap-container" style="position: relative;"></div>');_.appendChild(P),k=t.get("renderer")==="svg"?new Pr.a({container:P,width:l[0],height:l[1]}):new Xn.a({container:P,width:l[0],height:l[1]}),this.set("canvas",k),this.updateCanvas()},e.prototype.updateCanvas=function(){if(this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var l=this.get("size"),g=this.get("canvas"),w=this.get("type"),_=this.get("padding");if(!g.destroyed){switch(w){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var k=g.get("children")[0];if(k){k.resetMatrix();var P=k.getCanvasBBox(),T=t.get("canvas").getBBox(),D=T.width,R=T.height;Number.isFinite(P.width)&&(D=Ja(P.width,D),R=Ja(P.height,R)),D+=2*_,R+=2*_;var L=Math.min(l[0]/D,l[1]/R),Y=[1,0,0,0,1,0,0,0,1],z=0,q=0;Number.isFinite(P.minX)&&(z=-P.minX),Number.isFinite(P.minY)&&(q=-P.minY);var nt=(l[0]-(D-2*_)*L)/2,et=(l[1]-(R-2*_)*L)/2;Y=de(Y,[["t",z,q],["s",L,L],["t",nt,et]]),k.setMatrix(Y),this.set("ratio",L),this.set("totaldx",nt+z*L),this.set("totaldy",et+q*L),this.set("dx",nt),this.set("dy",et),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},e}(nr);function rr(S,e,t){var l=S.x-e.x,g=S.y-e.y;return!t||Math.abs(l)>t||Math.abs(g)>t?Math.sqrt(l*l+g*g):t}function ts(S,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),l=(t*t*e.source.x+t*(S.y-e.source.y)+S.x)/(t*t+1);return{x:l,y:t*(l-e.source.x)+e.source.y}}var Qc=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),l=this.get("onTick");this.set("tick",function(){l&&l(),t.refreshPositions()})},e.prototype.bundling=function(t){var l=this;if(l.set("data",t),!l.isTicking()){var g=t.edges||[],w=t.nodes||[],_={},k=!1;if(w.forEach(function(pt){pt.x!==null&&!pt.y!==null&&pt.x!==void 0&&!pt.y!==void 0||(k=!0),_[pt.id]=pt}),k)throw new Error("please layout the graph or assign x and y for nodes first");l.set("nodeIdMap",_);var P=l.get("divisions"),T=l.get("divRate"),D=l.divideEdges(P);l.set("edgePoints",D);var R=l.getEdgeBundles();l.set("edgeBundles",R);for(var L=l.get("cycles"),Y=l.get("iterations"),z=l.get("iterRate"),q=l.get("lambda"),nt=0;nt<L;nt++){for(var et=function(Ot){var wt=[];g.forEach(function(yt,Tt){if(yt.source!==yt.target){var Dt=_[yt.source],Gt=_[yt.target];wt[Tt]=l.getEdgeForces({source:Dt,target:Gt},Tt,P,q);for(var zt=0;zt<P+1;zt++)D[Tt][zt].x+=wt[Tt][zt].x,D[Tt][zt].y+=wt[Tt][zt].y}})},st=0;st<Y;st++)et();q/=2,P*=T,Y*=z,D=l.divideEdges(P),l.set("edgePoints",D)}g.forEach(function(pt,Ot){pt.source!==pt.target&&(pt.shape="polyline",pt.type="polyline",pt.controlPoints=D[Ot].slice(1,D[Ot].length-1))}),l.get("graph").refresh()}},e.prototype.updateBundling=function(t){var l=this,g=t.data;if(g&&l.set("data",g),l.get("ticking")&&l.set("ticking",!1),Object.keys(t).forEach(function(_){l.set(_,t[_])}),t.onTick){var w=this.get("graph");l.set("tick",function(){t.onTick(),w.refresh()})}l.bundling(g)},e.prototype.divideEdges=function(t){var l=this,g=l.get("data").edges,w=l.get("nodeIdMap"),_=l.get("edgePoints");return _&&_!==void 0||(_=[]),g.forEach(function(k,P){_[P]&&_[P]!==void 0||(_[P]=[]);var T=w[k.source],D=w[k.target];if(t===1)_[P].push({x:T.x,y:T.y}),_[P].push({x:.5*(T.x+D.x),y:.5*(T.y+D.y)}),_[P].push({x:D.x,y:D.y});else{var R=(_[P]&&_[P]!==[]?l.getEdgeLength(_[P]):rr({x:T.x,y:T.y},{x:D.x,y:D.y}))/(t+1),L=R,Y=[{x:T.x,y:T.y}];_[P].forEach(function(z,q){if(q!==0){for(var nt=rr(z,_[P][q-1]);nt>L;){var et=L/nt,st={x:_[P][q-1].x,y:_[P][q-1].y};st.x+=et*(z.x-_[P][q-1].x),st.y+=et*(z.y-_[P][q-1].y),Y.push(st),nt-=L,L=R}L-=nt}}),Y.push({x:D.x,y:D.y}),_[P]=Y}}),_},e.prototype.getEdgeLength=function(t){var l=0;return t.forEach(function(g,w){w!==0&&(l+=rr(g,t[w-1]))}),l},e.prototype.getEdgeBundles=function(){var t=this,l=t.get("data").edges||[],g=t.get("bundleThreshold"),w=t.get("nodeIdMap"),_=t.get("edgeBundles");return _||(_=[]),l.forEach(function(k,P){_[P]&&_[P]!==void 0||(_[P]=[])}),l.forEach(function(k,P){var T=w[k.source],D=w[k.target];l.forEach(function(R,L){if(!(L<=P)){var Y=w[R.source],z=w[R.target];t.getBundleScore({source:T,target:D},{source:Y,target:z})>=g&&(_[P].push(L),_[L].push(P))}})}),_},e.prototype.getBundleScore=function(t,l){return t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,l.vx=l.target.x-l.source.x,l.vy=l.target.y-l.source.y,t.length=rr({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),l.length=rr({x:l.source.x,y:l.source.y},{x:l.target.x,y:l.target.y}),this.getAngleScore(t,l)*this.getScaleScore(t,l)*this.getPositionScore(t,l)*this.getVisibilityScore(t,l)},e.prototype.getAngleScore=function(t,l){return function(g,w){return g.x*w.x+g.y*w.y}({x:t.vx,y:t.vy},{x:l.vx,y:l.vy})/(t.length*l.length)},e.prototype.getScaleScore=function(t,l){var g=(t.length+l.length)/2;return 2/(g/Math.min(t.length,l.length)+Math.max(t.length,l.length)/g)},e.prototype.getPositionScore=function(t,l){var g=(t.length+l.length)/2;return g/(g+rr({x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},{x:(l.source.x+l.target.x)/2,y:(l.source.y+l.target.y)/2}))},e.prototype.getVisibilityScore=function(t,l){var g=this.getEdgeVisibility(t,l),w=this.getEdgeVisibility(l,t);return g<w?g:w},e.prototype.getEdgeVisibility=function(t,l){var g=ts(l.source,t),w=ts(l.target,t),_={x:(g.x+w.x)/2,y:(g.y+w.y)/2},k={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*rr(_,k)/rr(g,w))},e.prototype.getEdgeForces=function(t,l,g,w){for(var _=this.get("edgePoints"),k=this.get("K")/(rr(t.source,t.target)*(g+1)),P=[{x:0,y:0}],T=1;T<g;T++){var D={x:0,y:0},R=this.getSpringForce({pre:_[l][T-1],cur:_[l][T],next:_[l][T+1]},k),L=this.getElectrostaticForce(T,l);D.x=w*(R.x+L.x),D.y=w*(R.y+L.y),P.push(D)}return P.push({x:0,y:0}),P},e.prototype.getSpringForce=function(t,l){var g=t.pre.x+t.next.x-2*t.cur.x,w=t.pre.y+t.next.y-2*t.cur.y;return{x:g*=l,y:w*=l}},e.prototype.getElectrostaticForce=function(t,l){var g=this.get("eps"),w=this.get("edgeBundles"),_=this.get("edgePoints"),k=w[l],P={x:0,y:0};return k.forEach(function(T){var D={x:_[T][t].x-_[l][t].x,y:_[T][t].y-_[l][t].y};if(Math.abs(D.x)>g||Math.abs(D.y)>g){var R=1/rr(_[T][t],_[l][t]);P.x+=D.x*R,P.y+=D.y*R}}),P},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),S.prototype.destroy.call(this)},e}(nr),es={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Jc=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(v.clone)(es),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"}}return t},e.prototype.init=function(){var t=this.get("r");this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{}),this.set("r2",t*t);var l=this.get("d");this.set("molecularParam",(l+1)*t)},e.prototype.createDelegate=function(t){var l=this,g=this,w=g.get("delegate");w&&!w.destroyed||(g.magnify(t),(w=g.get("delegate")).on("dragstart",function(_){g.set("delegateCenterDiff",{x:w.attr("x")-_.x,y:w.attr("y")-_.y})}),w.on("drag",function(_){g.magnify(_)}),this.get("scaleDBy")==="wheel"&&w.on("mousewheel",function(_){l.scaleDByWheel(_)}),this.get("scaleRBy")==="wheel"&&w.on("mousewheel",function(_){g.scaleRByWheel(_)}))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var l,g=this.get("graph"),w=this.get("delegate"),_=(w?{x:w.attr("x"),y:w.attr("y")}:void 0)||g.getPointByClient(t.clientX,t.clientY);l=t.originalEvent.wheelDelta<0?.95:1/.95;var k=this.get("maxR"),P=this.get("minR"),T=this.get("r");(T>(k||g.get("height"))&&l>1||T<(P||.05*g.get("height"))&&l<1)&&(l=1),T*=l,this.set("r",T),this.set("r2",T*T);var D=this.get("d");this.set("molecularParam",(D+1)*T),this.set("delegateCenterDiff",void 0),this.magnify(t,_)}},e.prototype.scaleRByDrag=function(t){if(t){var l,g=this.get("dragPrePos"),w=this.get("graph"),_=w.getPointByClient(t.clientX,t.clientY);l=t.x-g.x<0?.95:1/.95;var k=this.get("maxR"),P=this.get("minR"),T=this.get("r");(T>(k||w.get("height"))&&l>1||T<(P||.05*w.get("height"))&&l<1)&&(l=1),T*=l,this.set("r",T),this.set("r2",T*T);var D=this.get("d");this.set("molecularParam",(D+1)*T),this.magnify(t,_),this.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){if(t||t.originalEvent){t.preventDefault&&t.preventDefault();var l=0;l=t.originalEvent.wheelDelta<0?-.1:.1;var g=this.get("d")+l,w=this.get("maxD"),_=this.get("minD");if(g<w&&g>_){this.set("d",g);var k=this.get("r");this.set("molecularParam",(g+1)*k);var P=this.get("delegate"),T=P?{x:P.attr("x"),y:P.attr("y")}:void 0;this.set("delegateCenterDiff",void 0),this.magnify(t,T)}}},e.prototype.scaleDByDrag=function(t){var l=this.get("dragPrePos"),g=t.x-l.x>0?.1:-.1,w=this.get("d")+g,_=this.get("maxD"),k=this.get("minD");if(w<_&&w>k){this.set("d",w);var P=this.get("r");this.set("molecularParam",(w+1)*P),this.magnify(t)}this.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,l){this.restoreCache();var g=this.get("graph"),w=this.get("cachedMagnifiedModels"),_=this.get("cachedOriginPositions"),k=this.get("showLabel"),P=this.get("r"),T=this.get("r2"),D=this.get("d"),R=this.get("molecularParam"),L=g.getNodes(),Y=L.length,z=l?{x:l.x,y:l.y}:{x:t.x,y:t.y};!this.get("dragging")||this.get("trigger")!=="mousemove"&&this.get("trigger")!=="click"||(z=this.get("cacheCenter"));var q=this.get("delegateCenterDiff");q&&(z.x+=q.x,z.y+=q.y),this.updateDelegate(z,P);for(var nt=0;nt<Y;nt++){var et=L[nt].getModel(),st=et.x,pt=et.y;if(!isNaN(st)&&!isNaN(pt)){var Ot=(st-z.x)*(st-z.x)+(pt-z.y)*(pt-z.y);if(!isNaN(Ot)&&Ot<T&&Ot!==0){var wt=Math.sqrt(Ot),yt=R*wt/(D*wt+P),Tt=(st-z.x)/wt,Dt=(pt-z.y)/wt;if(et.x=Tt*yt+z.x,et.y=Dt*yt+z.y,_[et.id]||(_[et.id]={x:st,y:pt,texts:[]}),w.push(et),k&&2*wt<P)for(var Gt=L[nt].getContainer().getChildren(),zt=Gt.length,Kt=0;Kt<zt;Kt++){var qt=Gt[Kt];qt.get("type")==="text"&&(_[et.id].texts.push({visible:qt.get("visible"),shape:qt}),qt.set("visible",!0))}}}}g.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this.get("cachedMagnifiedModels"),l=this.get("cachedOriginPositions"),g=t.length,w=0;w<g;w++){var _=t[w],k=l[_.id];_.x=k.x,_.y=k.y;for(var P=k.texts.length,T=0;T<P;T++){var D=k.texts[T];D.shape.set("visible",D.visible)}}this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var l=t.r,g=t.d,w=t.trigger,_=t.minD,k=t.maxD,P=t.minR,T=t.maxR,D=t.scaleDBy,R=t.scaleRBy;isNaN(t.r)||(this.set("r",l),this.set("r2",l*l)),isNaN(g)||this.set("d",g),isNaN(k)||this.set("maxD",k),isNaN(_)||this.set("minD",_),isNaN(T)||this.set("maxR",T),isNaN(P)||this.set("minR",P);var L,Y=this.get("d"),z=this.get("r");this.set("molecularParam",(Y+1)*z),w!=="mousemove"&&w!=="click"&&w!=="drag"||this.set("trigger",w),(D==="drag"||D==="wheel"||D==="unset")&&(this.set("scaleDBy",D),this.get("delegate").remove(),this.get("delegate").destroy(),(L=this.get("dPercentText"))&&(L.remove(),L.destroy())),R!=="drag"&&R!=="wheel"&&R!=="unset"||(this.set("scaleRBy",R),this.get("delegate").remove(),this.get("delegate").destroy(),(L=this.get("dPercentText"))&&(L.remove(),L.destroy()))},e.prototype.updateDelegate=function(t,l){var g=this,w=this,_=w.get("graph"),k=w.get("delegate");if(!k||k.destroyed){var P=_.get("group"),T=w.get("delegateStyle")||es;k=P.addShape("circle",{attrs:Object(I.__assign)({r:l/1.5,x:t.x,y:t.y},T),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?k.on("mousewheel",function(Y){w.scaleRByWheel(Y)}):this.get("scaleRBy")==="drag"&&(k.on("dragstart",function(Y){w.set("dragging",!0),w.set("cacheCenter",{x:Y.x,y:Y.y}),w.set("dragPrePos",{x:Y.x,y:Y.y})}),k.on("drag",function(Y){w.scaleRByDrag(Y)}),k.on("dragend",function(Y){w.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?k.on("mousewheel",function(Y){g.scaleDByWheel(Y)}):this.get("scaleDBy")==="drag"&&(k.on("dragstart",function(Y){w.set("dragging",!0),w.set("cacheCenter",{x:Y.x,y:Y.y}),w.set("dragPrePos",{x:Y.x,y:Y.y})}),k.on("drag",function(Y){g.scaleDByDrag(Y)}),k.on("dragend",function(Y){w.set("dragging",!1)})))}else k.attr({x:t.x,y:t.y,r:l/1.5});if(w.get("showDPercent")){var D=Math.round((w.get("d")-w.get("minD"))/(w.get("maxD")-w.get("minD"))*100),R=w.get("dPercentText"),L=t.y+l/1.5+16;!R||R.destroyed?(R=(P=_.get("group")).addShape("text",{attrs:{text:D+"%",x:t.x,y:L,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),w.set("dPercentText",R)):R.attr({text:D+"%",x:t.x,y:L})}w.set("delegate",k)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var l=this.get("delegate");l&&!l.destroyed&&(l.remove(),l.destroy());var g=this.get("dPercentText");g&&!g.destroyed&&(g.remove(),g.destroy())},e.prototype.destroy=function(){this.clear()},e}(nr);bo()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var th=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(l){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},e.prototype.init=function(){var t=this,l=this.get("graph"),g=this.get("getContent")(l),w=g;Object(v.isString)(g)&&(w=ve()(g));var _=this.get("className");w.setAttribute("class",_||"g6-component-toolbar");var k=this.get("container");k||(k=this.get("graph").get("container")),k.appendChild(w),this.set("toolBar",w);var P=this.get("handleClick");w.addEventListener("click",function(D){var R=D.path.filter(function(Y){return Y.nodeName==="LI"});if(R.length!==0){var L=R[0].getAttribute("code");L&&(P?P(L,l):t.handleDefaultOperator(L,l))}});var T=this.get("position");T&&ue()(w,{top:T.y+"px",left:T.x+"px"}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),l=document.querySelector('.g6-component-toolbar li[code="undo"]'),g=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),w=document.querySelector('.g6-component-toolbar li[code="redo"]'),_=document.querySelector('.g6-component-toolbar li[code="redo"] svg');l&&g&&w&&_&&t.on("stackchange",function(k){var P=k.undoStack,T=k.redoStack,D=P.length,R=T.length;D===1?(l.setAttribute("style","cursor: not-allowed"),g.setAttribute("style","opacity: 0.4")):(l.removeAttribute("style"),g.removeAttribute("style")),R===0?(w.setAttribute("style","cursor: not-allowed"),_.setAttribute("style","opacity: 0.4")):(w.removeAttribute("style"),_.removeAttribute("style"))})},e.prototype.undo=function(){var t=this.get("graph"),l=t.getUndoStack();if(l&&l.length!==0){var g=l.pop();if(g){var w=g.action;t.pushStack(w,Object(v.clone)(g.data),"redo");var _=g.data.before;if(w==="add"&&(_=g.data.after),!_)return;switch(w){case"visible":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(T){var D=t.findById(T.id);T.visible?t.showItem(D,!1):t.hideItem(D,!1)})});break;case"render":case"update":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(T){t.updateItem(T.id,T,!1)})});break;case"changedata":t.changeData(_,!1);break;case"delete":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(T){var D=T.itemType;delete T.itemType,t.addItem(D,T,!1)})});break;case"add":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(T){t.removeItem(T.id,!1)})})}}}},e.prototype.redo=function(){var t=this.get("graph"),l=t.getRedoStack();if(l&&l.length!==0){var g=l.pop();if(g){var w=g.action,_=g.data.after;if(t.pushStack(w,Object(v.clone)(g.data)),w==="delete"&&(_=g.data.before),!_)return;switch(w){case"visible":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(T){var D=t.findById(T.id);T.visible?t.showItem(D,!1):t.hideItem(D,!1)})});break;case"render":case"update":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(T){t.updateItem(T.id,T,!1)})});break;case"changedata":t.changeData(_,!1);break;case"delete":_.edges&&_.edges.forEach(function(k){t.removeItem(k.id,!1)}),_.nodes&&_.nodes.forEach(function(k){t.removeItem(k.id,!1)}),_.combos&&_.combos.forEach(function(k){t.removeItem(k.id,!1)});break;case"add":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(T){var D=T.itemType;delete T.itemType,t.addItem(D,T,!1)})})}}}},e.prototype.handleDefaultOperator=function(t,l){var g=l.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":if(1.25*g>5)return;l.zoomTo(1.1*g);break;case"zoomIn":if(.75*g<.3)return;l.zoomTo(.9*g);break;case"realZoom":l.zoomTo(1);break;case"autoZoom":l.fitView([20,20])}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var l=this.get("container");l||(l=this.get("graph").get("container")),l.removeChild(t)}var g=this.get("handleClick");g&&t.removeEventListener("click",g)},e}(nr);bo()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var eh=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(l){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+l.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+l.item.getID()+`</span>
        `},shouldBegin:function(l){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",l=ve()("<div class="+t+"></div>"),g=this.get("container");g||(g=this.get("graph").get("container")),ue()(l,{position:"absolute",visibility:"hidden"}),g.appendChild(l),this.set("tooltip",l)},e.prototype.onMouseEnter=function(t){var l=this.get("itemTypes");if(!t.item||!t.item.getType||l.indexOf(t.item.getType())!==-1){var g=t.item,w=this.get("graph");this.currentTarget=g,this.showTooltip(t),w.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var l=this.get("itemTypes");t.item&&t.item.getType&&l.indexOf(t.item.getType())===-1||this.currentTarget&&t.item===this.currentTarget&&this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.showTooltip=function(t){if(t.item){var l=this.get("itemTypes");if(!t.item.getType||l.indexOf(t.item.getType())!==-1){var g=this.get("tooltip"),w=this.get("getContent")(t);N()(w)?g.innerHTML=w:g.innerHTML=w.outerHTML,this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&ue()(t,{visibility:"hidden"})},e.prototype.updatePosition=function(t){var l=this.get("shouldBegin"),g=this.get("tooltip");if(l(t)){var w=this.get("graph"),_=w.get("width"),k=w.get("height"),P=this.get("offsetX")||0,T=this.get("offsetY")||0,D=w.getPointByClient(t.clientX,t.clientY),R=w.getCanvasByPoint(D.x,D.y),L=R.x,Y=R.y;L+=P,Y+=T;var z=g.getBoundingClientRect();L+z.width>_&&(L=L-z.width-P),Y+z.height>k&&(Y=Y-z.height-T),ue()(g,{left:L+"px",top:Y+"px",visibility:"visible"})}else ue()(g,{visibility:"hidden"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var l=this.get("container");l||(l=this.get("graph").get("container")),l.removeChild(t)}},e}(nr),ns={};function ir(S,e){ns[S]=e}var xo=function(){function S(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return S.prototype.translate=function(e){return e},S.prototype.change=function(e){Object(ut.assign)(this.__cfg__,e),this.init()},S.prototype.clone=function(){return this.constructor(this.__cfg__)},S.prototype.getTicks=function(){var e=this;return Object(ut.map)(this.ticks,function(t,l){return Object(ut.isObject)(t)?t:{text:e.getText(t,l),tickValue:t,value:e.scale(t)}})},S.prototype.getText=function(e,t){var l=this.formatter,g=l?l(e,t):e;return Object(ut.isNil)(g)||!Object(ut.isFunction)(g.toString)?"":g.toString()},S.prototype.getConfig=function(e){return this.__cfg__[e]},S.prototype.init=function(){Object(ut.assign)(this,this.__cfg__),this.setDomain(),Object(ut.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},S.prototype.initCfg=function(){},S.prototype.setDomain=function(){},S.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if(Object(ut.isString)(e)){var l=ns[e];if(!l)throw new Error("There is no method to to calculate ticks!");t=l(this)}else Object(ut.isFunction)(e)&&(t=e(this));return t},S.prototype.rangeMin=function(){return Object(ut.head)(this.range)},S.prototype.rangeMax=function(){return Object(ut.last)(this.range)},S.prototype.calcPercent=function(e,t,l){return Object(ut.isNumber)(e)?(e-t)/(l-t):NaN},S.prototype.calcValue=function(e,t,l){return t+e*(l-t)},S}(),ei=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return Object(I.__extends)(e,S),e.prototype.translate=function(t){var l=Object(ut.indexOf)(this.values,t);return l===-1?Object(ut.isNumber)(t)?t:NaN:l},e.prototype.scale=function(t){var l=this.translate(t),g=this.calcPercent(l,this.min,this.max);return this.calcValue(g,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var l=this.max-this.min,g=this.calcPercent(t,this.rangeMin(),this.rangeMax()),w=Math.round(l*g)+this.min;return w<this.min||w>this.max?NaN:this.values[w]},e.prototype.getText=function(t){for(var l=[],g=1;g<arguments.length;g++)l[g-1]=arguments[g];var w=t;return Object(ut.isNumber)(t)&&!this.values.includes(t)&&(w=this.values[w]),S.prototype.getText.apply(this,Object(I.__spreadArrays)([w],l))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Object(ut.isNil)(this.getConfig("min"))&&(this.min=0),Object(ut.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}},e}(xo),rs=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,ni="[^\\s]+",is=/\[([^]*?)\]/gm;function os(S,e){for(var t=[],l=0,g=S.length;l<g;l++)t.push(S[l].substr(0,e));return t}var as=function(e){return function(t,l){var g=l[e].map(function(w){return w.toLowerCase()}).indexOf(t.toLowerCase());return g>-1?g:null}};function mr(S){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var l=0,g=e;l<g.length;l++){var w=g[l];for(var _ in w)S[_]=w[_]}return S}var ss=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],us=["January","February","March","April","May","June","July","August","September","October","November","December"],nh=os(us,3),wo={dayNamesShort:os(ss,3),dayNames:ss,monthNamesShort:nh,monthNames:us,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},Ni=mr({},wo),cs=function(e){return Ni=mr(Ni,e)},hs=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},_n=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},rh={D:function(e){return String(e.getDate())},DD:function(e){return _n(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return _n(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return _n(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return _n(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return _n(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return _n(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return _n(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return _n(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return _n(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return _n(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return _n(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+_n(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+_n(Math.floor(Math.abs(t)/60),2)+":"+_n(Math.abs(t)%60,2)}},ls=function(e){return+e-1},fs=[null,"[1-9]\\d?"],ds=[null,ni],ps=["isPm",ni,function(S,e){var t=S.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],gs=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(S){var e=(S+"").match(/([+-]|\d\d)/gi);if(e){var t=60*+e[1]+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],ih={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+ni,function(S){return parseInt(S,10)}],M:["month","[1-9]\\d?",ls],MM:["month","\\d\\d",ls],YY:["year","\\d\\d",function(S){var e=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+S>68?e-1:e)+S)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(S){return 100*+S}],SS:["millisecond","\\d\\d",function(S){return 10*+S}],SSS:["millisecond","\\d{3}"],d:fs,dd:fs,ddd:ds,dddd:ds,MMM:["month",ni,as("monthNamesShort")],MMMM:["month",ni,as("monthNames")],a:ps,A:ps,ZZ:gs,Z:gs},Di={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},vs=function(e){return mr(Di,e)},ms=function(e,t,l){if(t===void 0&&(t=Di.default),l===void 0&&(l={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var g=[];t=(t=Di[t]||t).replace(is,function(_,k){return g.push(k),"@@@"});var w=mr(mr({},Ni),l);return(t=t.replace(rs,function(_){return rh[_](e,w)})).replace(/@@@/g,function(){return g.shift()})};function ys(S,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=Di[e]||e,S.length>1e3)return null;var l={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},g=[],w=[],_=e.replace(is,function(pt,Ot){return w.push(hs(Ot)),"@@@"}),k={},P={};_=hs(_).replace(rs,function(pt){var Ot=ih[pt],wt=Ot[0],yt=Ot[1],Tt=Ot[3];if(k[wt])throw new Error("Invalid format. "+wt+" specified twice in format");return k[wt]=!0,Tt&&(P[Tt]=!0),g.push(Ot),"("+yt+")"}),Object.keys(P).forEach(function(pt){if(!k[pt])throw new Error("Invalid format. "+pt+" is required in specified format")}),_=_.replace(/@@@/g,function(){return w.shift()});var T=S.match(new RegExp(_,"i"));if(!T)return null;for(var D=mr(mr({},Ni),t),R=1;R<T.length;R++){var L=g[R-1],Y=L[0],z=L[2],q=z?z(T[R],D):+T[R];if(q==null)return null;l[Y]=q}l.isPm===1&&l.hour!=null&&+l.hour!=12?l.hour=+l.hour+12:l.isPm===0&&+l.hour==12&&(l.hour=0);for(var nt=new Date(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond),et=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],st=(R=0,et.length);R<st;R++)if(k[et[R][0]]&&l[et[R][0]]!==nt[et[R][1]]())return null;return l.timezoneOffset==null?nt:new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute-l.timezoneOffset,l.second,l.millisecond))}var bs={format:ms,parse:ys,defaultI18n:wo,setGlobalDateI18n:cs,setGlobalDateMasks:vs};function xs(S,e){return(u.format||bs.format)(S,e)}function Bi(S){return Object(ut.isString)(S)&&(S=S.indexOf("T")>0?new Date(S).getTime():new Date(S.replace(/-/gi,"/")).getTime()),Object(ut.isDate)(S)&&(S=S.getTime()),S}var jr=36e5,yr=24*jr,ri=31*yr,ii=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",jr],["HH",6*jr],["HH",12*jr],["YYYY-MM-DD",yr],["YYYY-MM-DD",4*yr],["YYYY-WW",7*yr],["YYYY-MM",ri],["YYYY-MM",4*ri],["YYYY-MM",6*ri],["YYYY",380*yr]];function oh(S,e,t){var l,g=(l=function(k){return k[1]},function(_,k,P,T){for(var D=Object(ut.isNil)(P)?0:P,R=Object(ut.isNil)(T)?_.length:T;D<R;){var L=D+R>>>1;l(_[L])>k?R=L:D=L+1}return D})(ii,(e-S)/t)-1,w=ii[g];return g<0?w=ii[0]:g>=ii.length&&(w=Object(ut.last)(ii)),w}var ah=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="timeCat",t}return Object(I.__extends)(e,S),e.prototype.translate=function(t){t=Bi(t);var l=this.values.indexOf(t);return l===-1&&(l=Object(ut.isNumber)(t)&&t<this.values.length?t:NaN),l},e.prototype.getText=function(t,l){var g=this.translate(t);if(g>-1){var w=this.values[g],_=this.formatter;return w=_?_(w,l):xs(w,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;Object(ut.each)(t,function(l,g){t[g]=Bi(l)}),t.sort(function(l,g){return l-g}),S.prototype.setDomain.call(this)},e}(ei),Ri=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.isContinuous=!0,t}return Object(I.__extends)(e,S),e.prototype.scale=function(t){if(Object(ut.isNil)(t))return NaN;var l=this.rangeMin(),g=this.rangeMax();return this.max===this.min?l:l+this.getScalePercent(t)*(g-l)},e.prototype.init=function(){S.prototype.init.call(this);var t=this.ticks,l=Object(ut.head)(t),g=Object(ut.last)(t);l<this.min&&(this.min=l),g>this.max&&(this.max=g),Object(ut.isNil)(this.minLimit)||(this.min=l),Object(ut.isNil)(this.maxLimit)||(this.max=g)},e.prototype.setDomain=function(){var t=Object(ut.getRange)(this.values),l=t.min,g=t.max;Object(ut.isNil)(this.min)&&(this.min=l),Object(ut.isNil)(this.max)&&(this.max=g),this.min>this.max&&(this.min=l,this.max=g)},e.prototype.calculateTicks=function(){var t=this,l=S.prototype.calculateTicks.call(this);return this.nice||(l=Object(ut.filter)(l,function(g){return g>=t.min&&g<=t.max})),l},e.prototype.getScalePercent=function(t){var l=this.max,g=this.min;return(t-g)/(l-g)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(xo),oi=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return Object(I.__extends)(e,S),e.prototype.invert=function(t){var l=this.getInvertPercent(t);return this.min+l*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Ri);function br(S,e){var t=Math.E;return e>=0?Math.pow(t,Math.log(e)/S):-1*Math.pow(t,Math.log(-e)/S)}function Ln(S,e){return S===1?1:Math.log(e)/Math.log(S)}function ws(S,e,t){Object(ut.isNil)(t)&&(t=Math.max.apply(null,S));var l=t;return Object(ut.each)(S,function(g){g>0&&g<l&&(l=g)}),l===t&&(l=t/e),l>1&&(l=1),l}var sh=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="log",t}return Object(I.__extends)(e,S),e.prototype.invert=function(t){var l,g=this.base,w=Ln(g,this.max),_=this.rangeMin(),k=this.rangeMax()-_,P=this.positiveMin;if(P){if(t===0)return 0;var T=1/(w-(l=Ln(g,P/g)))*k;if(t<T)return t/T*P}else l=Ln(g,this.min);var D=(t-_)/k*(w-l)+l;return Math.pow(g,D)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){S.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=ws(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var l=this.max,g=this.min;if(l===g||t<=0)return 0;var w=this.base,_=this.positiveMin;return _&&(g=1*_/w),t<_?t/_/(Ln(w,l)-Ln(w,g)):(Ln(w,t)-Ln(w,g))/(Ln(w,l)-Ln(w,g))},e}(Ri),uh=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="pow",t}return Object(I.__extends)(e,S),e.prototype.invert=function(t){var l=this.getInvertPercent(t),g=this.exponent,w=br(g,this.max),_=br(g,this.min),k=l*(w-_)+_,P=k>=0?1:-1;return Math.pow(k,g)*P},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var l=this.max,g=this.min;if(l===g)return 0;var w=this.exponent;return(br(w,t)-br(w,g))/(br(w,l)-br(w,g))},e}(Ri),ch=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="time",t}return Object(I.__extends)(e,S),e.prototype.getText=function(t,l){var g=this.translate(t),w=this.formatter;return w?w(g,l):xs(g,this.mask)},e.prototype.scale=function(t){var l=t;return(Object(ut.isString)(l)||Object(ut.isDate)(l))&&(l=this.translate(l)),S.prototype.scale.call(this,l)},e.prototype.translate=function(t){return Bi(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,l=this.getConfig("min"),g=this.getConfig("max");if(Object(ut.isNil)(l)&&Object(ut.isNumber)(l)||(this.min=this.translate(this.min)),Object(ut.isNil)(g)&&Object(ut.isNumber)(g)||(this.max=this.translate(this.max)),t&&t.length){var w=[],_=1/0,k=_,P=0;Object(ut.each)(t,function(T){var D=Bi(T);if(isNaN(D))throw new TypeError("Invalid Time: "+T+" in time scale!");_>D?(k=_,_=D):k>D&&(k=D),P<D&&(P=D),w.push(D)}),t.length>1&&(this.minTickInterval=k-_),Object(ut.isNil)(l)&&(this.min=_),Object(ut.isNil)(g)&&(this.max=P)}},e}(oi),Ms=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="quantize",t}return Object(I.__extends)(e,S),e.prototype.invert=function(t){var l=this.ticks,g=l.length,w=this.getInvertPercent(t),_=Math.floor(w*(g-1));if(_>=g-1)return Object(ut.last)(l);if(_<0)return Object(ut.head)(l);var k=l[_],P=_/(g-1);return k+(w-P)/((_+1)/(g-1)-P)*(l[_+1]-k)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=S.prototype.calculateTicks.call(this);return this.nice||(Object(ut.last)(t)!==this.max&&t.push(this.max),Object(ut.head)(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var l=this.ticks;if(t<Object(ut.head)(l))return 0;if(t>Object(ut.last)(l))return 1;var g=0;return Object(ut.each)(l,function(w,_){if(!(t>=w))return!1;g=_}),g/(l.length-1)},e}(Ri),hh=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="quantile",t}return Object(I.__extends)(e,S),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Ms),Ss={};function or(S,e){if(function(t){return Ss[t]}(S))throw new Error("type '"+S+"' existed.");Ss[S]=e}var lh=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return Object(I.__extends)(e,S),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Object(ut.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var l=this.range;return t<l[0]||t>l[1]?NaN:this.values[0]},e}(xo),fh=[1,5,2,2.5,4,3],_s=100*Number.EPSILON;function dh(S,e,t,l,g,w){var _=Object(ut.size)(e),k=Object(ut.indexOf)(e,S),P=0,T=function(D,R){return(D%R+R)%R}(l,w);return(T<_s||w-T<_s)&&l<=0&&g>=0&&(P=1),1-k/(_-1)-t+P}function ph(S,e,t){var l=Object(ut.size)(e);return 1-Object(ut.indexOf)(e,S)/(l-1)-t+1}function gh(S,e,t,l,g,w){var _=(S-1)/(w-g),k=(e-1)/(Math.max(w,l)-Math.min(t,g));return 2-Math.max(_/k,k/_)}function vh(S,e){return S>=e?2-(S-1)/(e-1):1}function mh(S,e,t,l){var g=e-S;return 1-.5*(Math.pow(e-l,2)+Math.pow(S-t,2))/Math.pow(.1*g,2)}function yh(S,e,t){var l=e-S;if(t>l){var g=(t-l)/2;return 1-Math.pow(g,2)/Math.pow(.1*l,2)}return 1}function Os(S,e,t,l,g,w){if(t===void 0&&(t=5),l===void 0&&(l=!0),g===void 0&&(g=fh),w===void 0&&(w=[.25,.2,.5,.05]),typeof S!="number"||typeof e!="number")return{min:0,max:0,ticks:[]};if(S===e||t===1)return{min:S,max:e,ticks:[S]};for(var _={score:-2,lmin:0,lmax:0,lstep:0},k=1;k<1/0;){for(var P=0,T=g;P<T.length;P++){var D=T[P],R=ph(D,g,k);if(Number.isNaN(R))throw new Error("NaN");if(w[0]*R+w[1]+w[2]+w[3]<_.score){k=1/0;break}for(var L=2;L<1/0;){var Y=vh(L,t);if(w[0]*R+w[1]+w[2]*Y+w[3]<_.score)break;for(var z=(e-S)/(L+1)/k/D,q=Math.ceil(Math.log10(z));q<1/0;){var nt=k*D*Math.pow(10,q),et=yh(S,e,nt*(L-1));if(w[0]*R+w[1]*et+w[2]*Y+w[3]<_.score)break;var st=Math.floor(e/nt)*k-(L-1)*k,pt=Math.ceil(S/nt)*k;if(st>pt)q+=1;else{for(var Ot=st;Ot<=pt;Ot+=1){var wt=Ot*(nt/k),yt=wt+nt*(L-1),Tt=nt,Dt=dh(D,g,k,wt,yt,Tt),Gt=mh(S,e,wt,yt),zt=gh(L,t,S,e,wt,yt),Kt=w[0]*Dt+w[1]*Gt+w[2]*zt+1*w[3];Kt>_.score&&(!l||wt<=S&&yt>=e)&&(_.lmin=wt,_.lmax=yt,_.lstep=Tt,_.score=Kt)}q+=1}}L+=1}}k+=1}for(var qt=Number.isInteger(_.lstep)?0:Math.ceil(Math.abs(Math.log10(_.lstep))),Wt=[],ne=_.lmin;ne<=_.lmax;ne+=_.lstep)Wt.push(ne);var Qt=qt?Object(ut.map)(Wt,function(se){return Number.parseFloat(se.toFixed(qt))}):Wt;return{min:Math.min(S,Object(ut.head)(Qt)),max:Math.max(e,Object(ut.last)(Qt)),ticks:Qt}}function Es(S){var e=S.values,t=S.tickInterval,l=S.tickCount,g=e;if(Object(ut.isNumber)(t))return Object(ut.filter)(g,function(P,T){return T%t==0});var w=S.min,_=S.max;if(Object(ut.isNil)(w)&&(w=0),Object(ut.isNil)(_)&&(_=e.length-1),Object(ut.isNumber)(l)&&l<_-w){var k=Os(w,_,l,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(ut.filter)(k,function(P){return P>=w&&P<=_}).map(function(P){return e[P]})}return e.slice(w,_+1)}var ks=Math.sqrt(50),Ps=Math.sqrt(10),Cs=Math.sqrt(2),bh=function(){function S(){this._domain=[0,1]}return S.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},S.prototype.nice=function(e){var t,l;e===void 0&&(e=5);var g,w=this._domain.slice(),_=0,k=this._domain.length-1,P=this._domain[_],T=this._domain[k];return T<P&&(P=(t=[T,P])[0],T=t[1],_=(l=[k,_])[0],k=l[1]),(g=Li(P,T,e))>0?g=Li(P=Math.floor(P/g)*g,T=Math.ceil(T/g)*g,e):g<0&&(g=Li(P=Math.ceil(P*g)/g,T=Math.floor(T*g)/g,e)),g>0?(w[_]=Math.floor(P/g)*g,w[k]=Math.ceil(T/g)*g,this.domain(w)):g<0&&(w[_]=Math.ceil(P*g)/g,w[k]=Math.floor(T*g)/g,this.domain(w)),this},S.prototype.ticks=function(e){return e===void 0&&(e=5),function(t,l,g){var w,_,k,P,T=-1;if(g=+g,(t=+t)==(l=+l)&&g>0)return[t];if((w=l<t)&&(_=t,t=l,l=_),(P=Li(t,l,g))===0||!isFinite(P))return[];if(P>0)for(t=Math.ceil(t/P),l=Math.floor(l/P),k=new Array(_=Math.ceil(l-t+1));++T<_;)k[T]=(t+T)*P;else for(t=Math.floor(t*P),l=Math.ceil(l*P),k=new Array(_=Math.ceil(t-l+1));++T<_;)k[T]=(t-T)/P;return w&&k.reverse(),k}(this._domain[0],this._domain[this._domain.length-1],e||5)},S}();function Li(S,e,t){var l=(e-S)/Math.max(0,t),g=Math.floor(Math.log(l)/Math.LN10),w=l/Math.pow(10,g);return g>=0?(w>=ks?10:w>=Ps?5:w>=Cs?2:1)*Math.pow(10,g):-Math.pow(10,-g)/(w>=ks?10:w>=Ps?5:w>=Cs?2:1)}function As(S,e,t){return(t==="ceil"?Math.ceil(S/e):t==="floor"?Math.floor(S/e):Math.round(S/e))*e}function Mo(S,e,t){var l=As(S,t,"floor"),g=As(e,t,"ceil");l=Object(ut.fixedBase)(l,t),g=Object(ut.fixedBase)(g,t);for(var w=[],_=l;_<=g;_+=t){var k=Object(ut.fixedBase)(_,t);w.push(k)}return{min:l,max:g,ticks:w}}function So(S,e,t){var l,g=S.minLimit,w=S.maxLimit,_=S.min,k=S.max,P=S.tickCount,T=P===void 0?5:P,D=Object(ut.isNil)(g)?Object(ut.isNil)(e)?_:e:g,R=Object(ut.isNil)(w)?Object(ut.isNil)(t)?k:t:w;if(D>R&&(R=(l=[D,R])[0],D=l[1]),T<=2)return[D,R];for(var L=(R-D)/(T-1),Y=[],z=0;z<T;z++)Y.push(D+L*z);return Y}function js(S,e,t){t===void 0&&(t=5);var l={max:0,min:0,ticks:[]};if(S===e)return{max:e,min:S,ticks:[S]};var g=(e-S)/t,w=Math.pow(10,Math.floor(Math.log10(g))),_=w<1?Math.ceil(Math.abs(Math.log10(w))):0,k=w;2*w-g<1.5*(g-k)&&5*w-g<2.75*(g-(k=2*w))&&10*w-g<1.5*(g-(k=5*w))&&(k=10*w);var P=Math.ceil(e/k),T=Math.floor(S/k);l.max=Math.max(P*k,e),l.min=Math.min(T*k,S);for(var D=Number.parseFloat((T*k).toFixed(_));D<e;)l.ticks.push(D),D+=k,_&&(D=Number.parseFloat(D.toFixed(_)));return l.ticks.push(D),l}function xh(S,e){var t=S.length*e;return e===1?S[S.length-1]:e===0?S[0]:t%1!=0?S[Math.ceil(t)-1]:S.length%2==0?(S[t-1]+S[t])/2:S[t]}function Fi(S){return new Date(S).getFullYear()}function wh(S){return new Date(S,0,1).getTime()}function _o(S){return new Date(S).getMonth()}function Mh(S,e){return new Date(S,e,1).getTime()}ir("cat",Es),ir("time-cat",function(S){var e=Es(S),t=Object(ut.last)(S.values);return t!==Object(ut.last)(e)&&e.push(t),e}),ir("wilkinson-extended",function(S){var e=S.min,t=S.max,l=S.tickCount,g=S.nice,w=S.tickInterval,_=S.minLimit,k=S.maxLimit,P=Os(e,t,l,g).ticks;return Object(ut.isNil)(_)&&Object(ut.isNil)(k)?w?Mo(e,t,w).ticks:P:So(S,Object(ut.head)(P),Object(ut.last)(P))}),ir("r-pretty",function(S){var e=S.min,t=S.max,l=S.tickCount,g=S.tickInterval,w=S.minLimit,_=S.maxLimit,k=js(e,t,l).ticks;return Object(ut.isNil)(w)&&Object(ut.isNil)(_)?g?Mo(e,t,g).ticks:k:So(S,Object(ut.head)(k),Object(ut.last)(k))}),ir("time",function(S){var e=S.min,t=S.max,l=S.minTickInterval,g=S.tickInterval,w=S.tickCount;if(g)w=Math.ceil((t-e)/g);else{var _=(t-e)/(g=oh(e,t,w)[1])/w;_>1&&(g*=Math.ceil(_)),l&&g<l&&(g=l)}for(var k=[],P=e;P<t+g;P+=g)k.push(P);return k}),ir("time-pretty",function(S){var e=S.min,t=S.max,l=S.minTickInterval,g=S.tickCount,w=S.tickInterval,_=[];w||(w=(t-e)/g,l&&w<l&&(w=l));var k=Fi(e);if(w>31536e6)for(var P=Fi(t),T=Math.ceil(w/31536e6),D=k;D<=P+T;D+=T)_.push(wh(D));else if(w>ri){var R=Math.ceil(w/ri),L=_o(e),Y=function(Wt,ne){var Qt=Fi(Wt),se=Fi(ne),oe=_o(Wt);return 12*(se-Qt)+(_o(ne)-oe)%12}(e,t);for(D=0;D<=Y+R;D+=R)_.push(Mh(k,D+L))}else if(w>yr){var z=(pt=new Date(e)).getFullYear(),q=pt.getMonth(),nt=pt.getDate(),et=Math.ceil(w/yr),st=function(Wt,ne){return Math.ceil((ne-Wt)/yr)}(e,t);for(D=0;D<st+et;D+=et)_.push(new Date(z,q,nt+D).getTime())}else if(w>jr){z=(pt=new Date(e)).getFullYear(),q=pt.getMonth(),et=pt.getDate();var pt,Ot=pt.getHours(),wt=Math.ceil(w/jr),yt=function(Wt,ne){return Math.ceil((ne-Wt)/jr)}(e,t);for(D=0;D<=yt+wt;D+=wt)_.push(new Date(z,q,et,Ot+D).getTime())}else if(w>6e4){var Tt=function(Wt,ne){return Math.ceil((ne-Wt)/6e4)}(e,t),Dt=Math.ceil(w/6e4);for(D=0;D<=Tt+Dt;D+=Dt)_.push(e+6e4*D)}else{var Gt=w;Gt<1e3&&(Gt=1e3);var zt=1e3*Math.floor(e/1e3),Kt=Math.ceil((t-e)/1e3),qt=Math.ceil(Gt/1e3);for(D=0;D<Kt+qt;D+=qt)_.push(zt+1e3*D)}return _.length>=512&&console.warn("Notice: current ticks length("+_.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+w+") is too small, increase the value to solve the problem!"),_}),ir("log",function(S){var e,t=S.base,l=S.tickCount,g=S.min,w=S.max,_=S.values,k=Ln(t,w);if(g>0)e=Math.floor(Ln(t,g));else{var P=ws(_,t,w);e=Math.floor(Ln(t,P))}for(var T=k-e,D=Math.ceil(T/l),R=[],L=e;L<k+D;L+=D)R.push(Math.pow(t,L));return g<=0&&R.unshift(0),R}),ir("pow",function(S){var e=S.exponent,t=S.tickCount,l=Math.ceil(br(e,S.max));return js(Math.floor(br(e,S.min)),l,t).ticks.map(function(g){var w=g>=0?1:-1;return Math.pow(g,e)*w})}),ir("quantile",function(S){var e=S.tickCount,t=S.values;if(!t||!t.length)return[];for(var l=t.slice().sort(function(k,P){return k-P}),g=[],w=0;w<e;w++){var _=w/(e-1);g.push(xh(l,_))}return g}),ir("d3-linear",function(S){var e=S.min,t=S.max,l=S.tickInterval,g=S.minLimit,w=S.maxLimit,_=function(k){var P=k.min,T=k.max,D=k.nice,R=k.tickCount,L=new bh;return L.domain([P,T]),D&&L.nice(R),L.ticks(R)}(S);return Object(ut.isNil)(g)&&Object(ut.isNil)(w)?l?Mo(e,t,l).ticks:_:So(S,Object(ut.head)(_),Object(ut.last)(_))}),or("cat",ei),or("category",ei),or("identity",lh),or("linear",oi),or("log",sh),or("pow",uh),or("time",ch),or("timeCat",ah),or("quantize",Ms),or("quantile",hh);var Is=s(136);function Ts(S){return function(e){return Object(ut.map)(e,function(t,l){return[l===0?"M":"L",t[0],t[1]]})}(S)}function Sh(S,e,t,l){l===void 0&&(l=!0);var g=new oi({values:S}),w=new ei({values:Object(ut.map)(S,function(k,P){return P})}),_=Object(ut.map)(S,function(k,P){return[w.scale(P)*e,t-g.scale(k)*t]});return l?function(k){if(k.length<=2)return Ts(k);var P=[];Object(ut.each)(k,function(Y){Object(ut.isEqual)(Y,P.slice(P.length-2))||P.push(Y[0],Y[1])});var T=xt(P,!1),D=Object(ut.head)(k),R=D[0],L=D[1];return T.unshift(["M",R,L]),T}(_):Ts(_)}function _h(S,e,t){for(var l=new oi({values:S}),g=new ei({values:Object(ut.map)(S,function(D,R){return R})}),w=Object(ut.map)(S,function(D,R){return[g.scale(R)*e,t-l.scale(D)*t]}),_=[],k=0;k<w.length;k++){var P=w[k],T=Eh({x:P[0],y:P[1],y0:t,size:5});_.push.apply(_,T)}return function(D,R){R===void 0&&(R=!0);var L=[],Y=D[0];L.push(["M",Y.x,Y.y]);for(var z=1,q=D.length;z<q;z++)L.push(["L",D[z].x,D[z].y]);return R&&(L.push(["L",Y.x,Y.y]),L.push(["z"])),L}(_)}function Oh(S,e,t,l){var g=Object(I.__spreadArrays)(S),w=function(_,k){var P=new oi({values:_}),T=Math.max(0,P.min);return k-P.scale(T)*k}(l,t);return g.push(["L",e,w]),g.push(["L",0,w]),g.push(["Z"]),g}function Eh(S){var e,t,l,g,w=S.x,_=S.y,k=S.y0,P=S.size;Object(Is.isArray)(_)?(e=_[0],t=_[1]):(e=k,t=_),Object(Is.isArray)(w)?(l=w[0],g=w[1]):(l=w-P/2,g=w+P/2);var T=[{x:l,y:e},{x:l,y:t}];return T.push({x:g,y:t},{x:g,y:e}),T}var kh={stroke:"#C5C5C5",strokeOpacity:.85},Ph={fill:"#CACED4",opacity:.85},Ch=function(){function S(e){var t=e.x,l=t===void 0?0:t,g=e.y,w=g===void 0?0:g,_=e.width,k=_===void 0?200:_,P=e.height,T=P===void 0?26:P,D=e.smooth,R=D===void 0||D,L=e.isArea,Y=L!==void 0&&L,z=e.data,q=z===void 0?[]:z,nt=e.lineStyle,et=e.areaStyle,st=e.group,pt=e.interval,Ot=pt===void 0?null:pt;this.group=st,this.x=l,this.y=w,this.width=k,this.height=T,this.data=q,this.smooth=R,this.isArea=Y,this.lineStyle=Object.assign({},kh,nt),this.areaStyle=Object.assign({},Ph,et),this.intervalConfig=Ot,this.renderLine()}return S.prototype.renderLine=function(){var e=this,t=e.x,l=e.y,g=e.width,w=e.height,_=e.data,k=e.smooth,P=e.isArea,T=(e.backgroundStyle,e.lineStyle),D=e.areaStyle,R=this.group.addGroup({name:"trend-group"});if(_){var L=Sh(_,g,w,k);if(R.addShape("path",{attrs:Object(I.__assign)({path:L},T)}),P){var Y=Oh(L,g,w,_);R.addShape("path",{attrs:Object(I.__assign)({path:Y},D)})}}this.intervalConfig&&R.addShape("path",{attrs:Object(I.__assign)({path:_h(this.intervalConfig.data,g,w)},this.intervalConfig.style)}),R.move(t,l)},S.prototype.destory=function(){this.group.destroy()},S}(),Ah={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},jh={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},Ns=function(){function S(e){var t=e.group,l=e.name,g=e.type,w=e.x,_=w===void 0?0:w,k=e.y,P=k===void 0?0:k,T=e.width,D=T===void 0?2:T,R=e.height,L=R===void 0?24:R,Y=e.style,z=Y===void 0?{}:Y;this.group=t,this.name=l,this.handleType=g,this.x=_,this.y=P,this.width=D,this.height=L,g==="trend"?this.style=Object(I.__assign)(Object(I.__assign)({},Ah),z):g==="simple"&&(this.style=Object(I.__assign)(Object(I.__assign)({},jh),z)),this.renderHandle()}return S.prototype.setX=function(e){this.setXY(e,void 0)},S.prototype.setY=function(e){this.setXY(void 0,e)},S.prototype.setXY=function(e,t){Object(ut.isNumber)(e)&&(this.x=e),Object(ut.isNumber)(t)&&(this.y=t),this.updateXY()},S.prototype.renderHandle=function(){var e=this.width,t=this.height,l=this.style,g=this.name,w=l.fill,_=l.stroke,k=l.radius,P=l.opacity,T=l.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:e,height:t,fill:w,stroke:_,radius:k,opacity:P,cursor:T},name:g+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:e/2,y:0,r:2*e,fill:w,stroke:_,radius:k,opacity:P,cursor:T},name:g+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:e/2,y:t,r:2*e,fill:w,stroke:_,radius:k,opacity:P,cursor:T},name:g+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:e/2,y:t/2,r:2*e,fill:w,stroke:_,radius:k,opacity:P,cursor:T},name:g+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:e/2,y:t/2,r:2*e,fill:w,stroke:_,radius:k,opacity:P,cursor:T},name:g+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},S.prototype.bindEvents=function(){var e=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var l=e.style.highLightFill;e.background.attr("fill",l)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var l=e.style.fill;e.background.attr("fill",l)})},S.prototype.show=function(){this.handleGroup.show()},S.prototype.hide=function(){this.handleGroup.hide()},S.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},S}(),Ih=function(){function S(e){this.config=Object(ut.deepMix)({},e),this.init()}return S.prototype.update=function(e){this.config=Object(ut.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},S.prototype.init=function(){this.initElement(),this.renderMarker()},S.prototype.initElement=function(){var e=this.config,t=e.group,l=e.style;this.circle=t.addShape("circle",{attrs:Object(I.__assign)({x:this.config.x,y:this.config.y,r:this.config.r},l)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var g=1/4*this.config.r,w=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-w/2,width:2.5*g,height:w,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-w/2,width:g,height:w,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-w/2,width:g,height:w,fill:"#ccc"},name:"playPauseBtn"})},S.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var e=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",e),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",e),this.pauseRightMarker.attr("height",t)},S.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},S.prototype.getStartMarkerPath=function(){var e=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-e/Math.sqrt(3)/2,this.config.y-e/2],["L",this.config.x+e/Math.sqrt(3),this.config.y],["L",this.config.x-e/Math.sqrt(3)/2,this.config.y+e/2]]},S}(),Th={fill:"#607889",stroke:"#607889"},Nh={fill:"#fff"},Dh={fill:"green"},Bh={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Ds=function(){function S(e){this.controllerCfg=Object(ut.deepMix)({},Bh,e),this.group=e.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return S.prototype.init=function(){this.renderPlayButton()},S.prototype.getNextMarkerPath=function(e,t,l){return[["M",e,t-l],["L",e+l,t],["L",e,t+l]]},S.prototype.getPreMarkerPath=function(e,t,l){return[["M",e,t-l],["L",e-l,t],["L",e,t+l]]},S.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,l=e.height,g=e.x,w=e.y,_=e.hiddleToggle,k=e.fill,P=k===void 0?"#ccc":k,T=e.stroke,D=T===void 0?"green":T,R=e.playBtnStyle,L=R===void 0?Th:R,Y=e.preBtnStyle,z=Y===void 0?Nh:Y,q=e.nextBtnStyle,nt=q===void 0?Dh:q,et=l/2-5,st=w+10,pt=this.group.addShape("rect",{attrs:{x:g,y:st,width:t,height:l,stroke:D,fill:P},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:st,r:et}):this.playButton=new Ih({group:this.group,x:t/2,y:st+et+5,r:et,isPlay:this.isPlay,style:L}),this.group.addShape("path",{attrs:Object(I.__assign)({path:this.getPreMarkerPath(t/2-5*et,st+et+5,.5*et)},z),name:"preStepBtn"}),this.group.addShape("path",{attrs:Object(I.__assign)({path:this.getPreMarkerPath(t/2-4.5*et,st+et+5,.5*et)},z),name:"preStepBtn"}),this.group.addShape("path",{attrs:Object(I.__assign)({path:this.getNextMarkerPath(t/2+5*et,st+et+5,.5*et)},nt),name:"nextStepBtn"}),this.group.addShape("path",{attrs:Object(I.__assign)({path:this.getNextMarkerPath(t/2+4.5*et,st+et+5,.5*et)},nt),name:"nextStepBtn"}),pt.toBack(),this.renderSpeedBtn(),_||this.renderToggleTime(),this.bindEvent()},S.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,l=e.width,g=e.hiddleToggle,w=this.group.addGroup({name:"speed-group"});this.speedGroup=w;for(var _=1,k=[],P=9,T=0;T<5;T++){var D=t+15+T*(T+1)+_;w.addShape("rect",{attrs:{x:l-(g?50:110),y:D,width:15,height:2,fill:"#ccc"},speed:P,name:"speed-rect"}),this.speedAxisY.push(D),k.push(P),P-=2,_++}for(T=0;T<4;T++)w.addShape("rect",{attrs:{x:l-(g?50:110),y:this.speedAxisY[T]+2,width:15,height:2*T+1,fill:"#fff",opacity:.3},speed:k[T]-1,name:"speed-rect"});this.speedText=w.addShape("text",{attrs:{x:l-(g?50:110)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=w.addShape("path",{attrs:{path:this.getPath(l-(g?50:110),this.speedAxisY[4]),fill:"#ccc"}})},S.prototype.getPath=function(e,t){return[["M",e,t],["L",e-12,t-6],["L",e-12,t+6],["Z"]]},S.prototype.renderToggleTime=function(){var e=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:e-50,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",e-50+3,this.speedAxisY[1]+6],["L",e-50+7,this.speedAxisY[1]+10],["L",e-50+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:e-50+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},S.prototype.bindEvent=function(){var e=this,t=this.controllerCfg,l=t.width,g=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(w){e.speedPoint.attr("path",e.getPath(l-(g?50:110),w.y)),e.currentSpeed=w.target.get("speed"),e.speedText.attr("text",e.currentSpeed+".0X"),e.group.emit("timebarConfigChanged",{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(w){var _=w.target.get("isChecked");_?(e.checkedIcon.hide(),e.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),e.currentType="single"),w.target.set("isChecked",!_),e.group.emit("timebarConfigChanged",{type:e.currentType,speed:e.currentSpeed})})},S.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},S}(),Rh={fill:"#416180",opacity:.05},Lh={fill:"#416180",opacity:.15,radius:5},Fh={fill:"#5B8FF9",opacity:.3,cursor:"move"},Yh={width:2,height:24},Gh={textBaseline:"middle",fill:"#000",opacity:.45},zh=function(){function S(e){var t=this;this.prevX=0,this.onMouseDown=function(ae){return function(me){t.currentHandler=ae;var ke=me.originalEvent;ke.stopPropagation(),ke.preventDefault(),t.prevX=Object(ut.get)(ke,"touches.0.pageX",ke.pageX);var Ce=t.canvas.get("container");Ce.addEventListener("mousemove",t.onMouseMove),Ce.addEventListener("mouseup",t.onMouseUp),Ce.addEventListener("mouseleave",t.onMouseUp),Ce.addEventListener("touchmove",t.onMouseMove),Ce.addEventListener("touchend",t.onMouseUp),Ce.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(ae){ae.stopPropagation(),ae.preventDefault();var me=Object(ut.get)(ae,"touches.0.pageX",ae.pageX),ke=me-t.prevX,Ce=t.adjustOffsetRange(ke/t.width);t.updateStartEnd(Ce),t.updateUI(),t.prevX=me},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var ae=t.canvas.get("container");ae&&(ae.removeEventListener("mousemove",t.onMouseMove),ae.removeEventListener("mouseup",t.onMouseUp),ae.removeEventListener("mouseleave",t.onMouseUp),ae.removeEventListener("touchmove",t.onMouseMove),ae.removeEventListener("touchend",t.onMouseUp),ae.removeEventListener("touchcancel",t.onMouseUp))};var l=e.x,g=l===void 0?0:l,w=e.y,_=w===void 0?0:w,k=e.width,P=k===void 0?100:k,T=e.height,D=e.padding,R=D===void 0?10:D,L=e.trendCfg,Y=e.controllerCfg,z=Y===void 0?{speed:1}:Y,q=e.backgroundStyle,nt=q===void 0?{}:q,et=e.foregroundStyle,st=et===void 0?{}:et,pt=e.handlerStyle,Ot=pt===void 0?{}:pt,wt=e.textStyle,yt=wt===void 0?{}:wt,Tt=e.start,Dt=Tt===void 0?0:Tt,Gt=e.end,zt=Gt===void 0?1:Gt,Kt=e.minText,qt=Kt===void 0?"":Kt,Wt=e.maxText,ne=Wt===void 0?"":Wt,Qt=e.group,se=e.graph,oe=e.canvas,le=e.ticks,te=e.type;this.graph=se,this.canvas=oe,this.group=Qt,this.timeBarType=te,this.x=g,this.y=_,this.width=P,this.height=T,this.padding=R,this.ticks=le,this.trendCfg=L,this.controllerCfg=z,this.currentSpeed=z.speed,te==="trend"?this.backgroundStyle=Object(I.__assign)(Object(I.__assign)({},Rh),nt):te==="simple"&&(this.backgroundStyle=Object(I.__assign)(Object(I.__assign)({},Lh),nt)),this.foregroundStyle=Object(I.__assign)(Object(I.__assign)({},Fh),st),this.handlerStyle=Object(I.__assign)(Object(I.__assign)({},Yh),Ot),this.textStyle=Object(I.__assign)(Object(I.__assign)({},Gh),yt),this.currentMode="range",this.start=Dt,this.end=zt,this.minText=qt,this.maxText=ne,this.renderSlider()}return S.prototype.update=function(e){var t=e.x,l=e.y,g=e.width,w=e.height,_=e.minText,k=e.maxText,P=e.start,T=e.end;this.start=Math.min(1,Math.max(P,0)),this.end=Math.min(1,Math.max(T,0)),Object(ut.assign)(this,{x:t,y:l,width:g,height:w,minText:_,maxText:k}),this.updateUI()},S.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},S.prototype.renderSlider=function(){var e=this,t=this.width,l=this.height,g=this.timeBarType;if(g==="trend"&&Object(ut.size)(Object(ut.get)(this.trendCfg,"data"))){var w=new Ch(Object(I.__assign)(Object(I.__assign)({x:this.x,y:this.y,width:t,height:l},this.trendCfg),{group:this.group}));this.trendComponent=w}var _=this.group.addGroup({name:"slider-group"});_.addShape("rect",{attrs:Object(I.__assign)({x:0,y:0,width:t,height:l},this.backgroundStyle)});var k=this.group.addGroup();g==="trend"?(this.minTextShape=k.addShape("text",{attrs:Object(I.__assign)({x:0,y:l/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=k.addShape("text",{attrs:Object(I.__assign)({y:l/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=k.addShape("text",{attrs:Object(I.__assign)({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=k.addShape("text",{attrs:Object(I.__assign)({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Object(I.__assign)({x:0,y:this.y,height:l},this.foregroundStyle)});var P=Object(ut.get)(this.handlerStyle,"width",2),T=Object(ut.get)(this.handlerStyle,"height",24),D=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Ns(Object(I.__assign)({name:"minHandlerShape",group:D,type:g,x:this.x,y:this.y,width:P,height:T,cursor:"ew-resize"},this.handlerStyle));var R=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Ns(Object(I.__assign)({name:"maxHandlerShape",group:R,type:g,x:this.x,y:this.y,width:P,height:T,cursor:"ew-resize"},this.handlerStyle));var L=this.ticks,Y=t/(L.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(q){q.destroy()});var z=-1/0;this.textList=L.map(function(q,nt){e.tickPosList.push(e.x+nt*Y);var et=e.group.addShape("text",{attrs:{x:e.x+nt*Y,y:e.y+l+5,text:q,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),st=e.group.addShape("line",{attrs:{x1:e.x+nt*Y,y1:e.y+l+2,x2:e.x+nt*Y,y2:e.y+l+6,lineWidth:1,stroke:"#ccc"}}),pt=et.getBBox();return pt.minX>z?(et.show(),st.show(),z=pt.minX+pt.width+10):(et.hide(),st.hide()),et}),this.controllerBtnGroup=new Ds({group:this.group,x:this.x,y:this.y+l+25,width:t,height:40}),this.updateUI(),_.move(this.x,this.y),this.bindEvents()},S.prototype.bindEvents=function(){var e=this,t=this.group.find(function(g){return g.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var l=this.group.find(function(g){return g.get("name")==="maxHandlerShape"});l&&(l.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),l.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("playPauseBtn:click",function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on("nextStepBtn:click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on("preStepBtn:click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on("timebarConfigChanged",function(g){var w=g.type,_=g.speed;e.currentSpeed=_,e.currentMode=w,w==="single"?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):w==="range"&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},S.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1},S.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:var t=0-this.start,l=1-this.start;return Math.min(l,Math.max(t,e));case this.maxHandlerShape:return t=0-this.end,l=1-this.end,Math.min(l,Math.max(t,e));case this.foregroundShape:return t=0-this.start,l=1-this.end,Math.min(l,Math.max(t,e));default:return 0}},S.prototype.updateStartEnd=function(e){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)]}},S.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,l=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",l-t);var g=Object(ut.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var w=this.dodgeText([t,l]),_=w[0],k=w[1];this.minHandlerShape.setX(t-g/2),Object(ut.each)(_,function(P,T){return e.minTextShape.attr(T,P)}),this.maxHandlerShape.setX(l-g/2),Object(ut.each)(k,function(P,T){return e.maxTextShape.attr(T,P)}),this.currentMode==="range"?this.graph.emit("valueChange",{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit("valueChange",{value:[this.end,this.end]})},S.prototype.dodgeText=function(e){var t,l,g=Object(ut.get)(this.handlerStyle,"width",2),w=this.minTextShape,_=this.maxTextShape,k=e[0],P=e[1],T=!1;k>P&&(k=(t=[P,k])[0],P=t[1],w=(l=[_,w])[0],_=l[1],T=!0);var D=w.getBBox(),R=_.getBBox(),L=null,Y=null;return this.timeBarType==="trend"?(L=D.width>k-2?{x:k+g/2+2,textAlign:"left"}:{x:k-g/2-2,textAlign:"right"},Y=R.width>this.width-P-2?{x:P-g/2-2,textAlign:"right"}:{x:P+g/2+2,textAlign:"left"}):this.timeBarType==="simple"&&(L=D.width>k-2?{x:k+g/2+2,textAlign:"center"}:{x:k-g/2-2,textAlign:"center"},Y=R.width>this.width-P-2?{x:P-g/2-2,textAlign:"center"}:{x:P+g/2+2,textAlign:"center"}),T?[Y,L]:[L,Y]},S.prototype.startPlay=function(){var e=this;return window.requestAnimationFrame(function(){var t=e,l=t.ticks,g=t.width,w=e.currentSpeed,_=g/l.length/(1e3*(10-w)/60),k=e.adjustOffsetRange(_/e.width);e.updateStartEnd(k),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())})},S.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timelinestart",null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit("timelineend",null))},S.prototype.destory=function(){this.graph.off("valueChange");var e=this.group,t=e.find(function(g){return g.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var l=e.find(function(g){return g.get("name")==="maxHandlerShape"});l&&(l.off("maxHandlerShape-handler:mousedown"),l.off("maxHandlerShape-handler:touchstart"),l.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("playPauseBtn:click"),e.off("nextStepBtn:click"),e.off("preStepBtn:click"),e.off("timebarConfigChanged"),e.destroy(),this.trendComponent&&this.trendComponent.destory()},S}(),Xh=function(){function S(e){var t=e.x,l=t===void 0?0:t,g=e.y,w=g===void 0?0:g,_=e.container,k=e.text,P=e.padding,T=P===void 0?[4,4,4,4]:P,D=e.className,R=D===void 0?"g6-component-timebar-tooltip":D,L=e.backgroundColor,Y=L===void 0?"#000":L,z=e.textColor,q=z===void 0?"#fff":z,nt=e.opacity,et=nt===void 0?.8:nt,st=e.fontSize,pt=st===void 0?12:st;this.container=_,this.className=R,this.backgroundColor=Y,this.textColor=q,this.x=l,this.y=w,this.text=k,this.padding=T,this.opacity=et,this.fontSize=pt,this.render()}return S.prototype.render=function(){var e=this.className,t=(this.x,this.y,this.backgroundColor),l=this.textColor,g=this.text,w=this.padding,_=this.opacity,k=this.fontSize,P=this.container,T=ve()("<div class='"+e+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+_+'"></div>');Object(ut.isString)(P)&&(P=document.getElementById(P)),P.appendChild(T),this.parentHeight=P.offsetHeight,this.parentWidth=P.offsetWidth,ue()(T,{visibility:"hidden",top:0,left:0});var D=ve()(`
      <div style='position: absolute; white-space:nowrap; background-color: `+t+"; font-size: "+k+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+l+"; padding: "+w[0]+"px "+w[1]+"px "+w[2]+"px "+w[3]+"px'></div>");D.innerHTML=g,T.appendChild(D),this.backgroundDOM=D;var R=ve()("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+t+"'></div>");T.appendChild(R),this.arrowDOM=R,this.container=T},S.prototype.show=function(e){var t=e.text,l=e.x;e.y,e.clientX,e.clientY,this.backgroundDOM.innerHTML=t;var g=this.backgroundDOM.offsetWidth,w=this.backgroundDOM.offsetHeight,_=this.arrowDOM.offsetWidth,k=this.arrowDOM.offsetHeight;ue()(this.container,{top:-w-k+"px",left:l+"px",visibility:"visible"}),ue()(this.backgroundDOM,{marginLeft:-g/2+"px"}),ue()(this.arrowDOM,{marginLeft:-_/2+"px",top:w+"px"});var P=l-g/2,T=l+g/2;P<0?ue()(this.backgroundDOM,{marginLeft:-g/2-P+"px"}):T>this.parentWidth&&ue()(this.backgroundDOM,{marginLeft:-g/2-T+this.parentWidth+12+"px"})},S.prototype.hide=function(){ue()(this.container,{top:0,left:0,visibility:"hidden"})},S}(),Hh={fill:"#5B8FF9"},Vh={fill:"#e6e8e9"},Uh=function(){function S(e){this.frameCount=0;var t=e.graph,l=e.canvas,g=e.group,w=e.width,_=e.height,k=e.padding,P=e.data,T=e.start,D=e.end,R=e.x,L=R===void 0?0:R,Y=e.y,z=Y===void 0?0:Y,q=e.tickLabelFormatter,nt=e.selectedTickStyle,et=nt===void 0?Hh:nt,st=e.unselectedTickStyle,pt=st===void 0?Vh:st,Ot=e.tooltipBackgroundColor,wt=e.tooltipFomatter;this.graph=t,this.group=g,this.sliceGroup=g.addGroup({name:"slice-group"}),this.canvas=l,this.width=w,this.height=_,this.padding=k,this.data=P,this.start=T,this.end=D,this.tickLabelFormatter=q,this.selectedTickStyle=et,this.unselectedTickStyle=pt,this.x=L,this.y=z,this.tooltipBackgroundColor=Ot,this.tooltipFomatter=wt,this.renderSlices(),this.initEvent()}return S.prototype.renderSlices=function(){var e=this,t=e.width,l=e.height,g=e.padding,w=e.data,_=e.start,k=e.end,P=e.tickLabelFormatter,T=e.selectedTickStyle,D=e.unselectedTickStyle,R=t-2*g,L=l-(3*g+4+10)-2*g,Y=w.length,z=(R-2*(Y-1))/Y;this.tickWidth=z;var q=this.sliceGroup,nt=[],et=[],st=Math.round(Y*_),pt=Math.round(Y*k);this.startTickRectId=st,this.endTickRectId=pt,w.forEach(function(wt,yt){var Tt=yt>=st&&yt<=pt?T:D,Dt=q.addShape("rect",{attrs:Object(I.__assign)({x:g+yt*(z+2),y:g,width:z,height:L},Tt),draggable:!0,name:"tick-rect-"+yt}),Gt=q.addShape("rect",{attrs:{x:g+yt*z+2*(2*yt-1)/2,y:g,width:yt===0||yt===Y-1?z+1:z+2,height:L,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+yt});Gt.toFront();var zt,Kt=Dt.getBBox(),qt=(Kt.minX+Kt.maxX)/2;if(nt.push({rect:Dt,pickRect:Gt,value:wt.date,x:qt,y:Kt.minY}),P?(zt=P(wt),!Object(ut.isString)(zt)&&zt&&(zt=wt.date)):yt%Math.round(Y/10)==0&&(zt=wt.date),zt){et.push(zt);var Wt=Kt.maxY+2*g;q.addShape("line",{attrs:{stroke:"#BFBFBF",x1:qt,y1:Wt,x2:qt,y2:Wt+4}});var ne=Wt+4+g,Qt=q.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:qt,y:ne,textAlign:"center",text:zt,textBaseline:"top",fontSize:10},capture:!1}),se=Qt.getBBox();se.maxX>t?Qt.attr("textAlign","right"):se.minX<0&&Qt.attr("textAlign","left")}}),this.tickRects=nt;var Ot=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Ds({group:Ot,x:this.x,y:this.y+l+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},S.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(T){var D=T.target;if(D.get("type")==="rect"&&D.get("name")){var R=parseInt(D.get("name").split("-")[2],10);if(!isNaN(R)){var L=e.tickRects,Y=e.unselectedTickStyle;L.forEach(function(nt){nt.rect.attr(Y)});var z=e.selectedTickStyle;L[R].rect.attr(z),e.startTickRectId=R,e.endTickRectId=R;var q=R/L.length;e.graph.emit("valueChange",{value:[q,q]})}}}),t.on("dragstart",function(T){var D=e.tickRects,R=e.unselectedTickStyle;D.forEach(function(nt){nt.rect.attr(R)});var L=T.target,Y=parseInt(L.get("name").split("-")[2],10),z=e.selectedTickStyle;D[Y].rect.attr(z),e.startTickRectId=Y;var q=Y/D.length;e.graph.emit("valueChange",{value:[q,q]}),e.dragging=!0}),t.on("dragover",function(T){if(e.dragging&&T.target.get("type")==="rect"){for(var D=parseInt(T.target.get("name").split("-")[2],10),R=e.startTickRectId,L=e.tickRects,Y=e.selectedTickStyle,z=e.unselectedTickStyle,q=0;q<L.length;q++){var nt=q>=R&&q<=D?Y:z;L[q].rect.attr(nt)}var et=L.length;e.endTickRectId=D;var st=R/et,pt=D/et;e.graph.emit("valueChange",{value:[st,pt]})}}),t.on("drop",function(T){if(e.dragging&&(e.dragging=!1,T.target.get("type")==="rect")){var D=e.startTickRectId,R=parseInt(T.target.get("name").split("-")[2],10);if(!(R<D)){var L=e.selectedTickStyle,Y=e.tickRects;Y[R].rect.attr(L),e.endTickRectId=R;var z=Y.length,q=D/z,nt=R/z;e.graph.emit("valueChange",{value:[q,nt]})}}});var l=this.tooltipBackgroundColor,g=this.tooltipFomatter,w=this.canvas,_=new Xh({container:w.get("container"),backgroundColor:l}),k=this.tickRects;k.forEach(function(T){var D=T.pickRect;D.on("mouseenter",function(R){var L=R.target;if(L.get("type")==="rect"){var Y=parseInt(L.get("name").split("-")[2],10),z=w.getClientByPoint(k[Y].x,k[Y].y);_.show({x:k[Y].x,y:k[Y].y,clientX:z.x,clientY:z.y,text:g?g(k[Y].value):k[Y].value})}}),D.on("mouseleave",function(R){_.hide()})});var P=this.group;P.on("playPauseBtn:click",function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),P.on("nextStepBtn:click",function(){e.updateStartEnd(1)}),P.on("preStepBtn:click",function(){e.updateStartEnd(-1)}),P.on("timebarConfigChanged",function(T){T.type;var D=T.speed;e.currentSpeed=D})},S.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timelinestart",null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit("timelineend",null))},S.prototype.startPlay=function(){var e=this;return window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)==0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())})},S.prototype.updateStartEnd=function(e){var t=this.tickRects,l=t.length,g=this.unselectedTickStyle,w=this.selectedTickStyle,_=this.endTickRectId;if(e>0?this.endTickRectId++:(t[this.endTickRectId].rect.attr(g),this.endTickRectId--),_!==this.startTickRectId)this.endTickRectId<this.startTickRectId&&(this.startTickRectId=this.endTickRectId);else{for(var k=this.startTickRectId;k<=this.endTickRectId-1;k++)t[k].rect.attr(g);this.startTickRectId=this.endTickRectId}if(t[this.endTickRectId]){t[this.endTickRectId].rect.attr(w);var P=this.startTickRectId/l,T=this.endTickRectId/l;this.graph.emit("valueChange",{value:[P,T]})}},S.prototype.destory=function(){this.graph.off("valueChange");var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var l=t.pickRect;l.off("mouseenter"),l.off("mouseleave")}),this.tickRects.length=0,e.off("playPauseBtn:click"),e.off("nextStepBtn:click"),e.off("preStepBtn:click"),e.off("timebarConfigChanged"),this.sliceGroup.destroy()},S}(),Wh=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},e.prototype.initContainer=function(){var t,l,g=this.get("graph"),w=this._cfgs,_=w.width,k=w.height,P=this.get("className")||"g6-component-timebar",T=this.get("container"),D=this.get("graph").get("container");T?t=T:(t=ve()("<div class='"+P+"'></div>"),ue()(t,{position:"relative"})),D.appendChild(t),this.set("timeBarContainer",t),l=g.get("renderer")==="SVG"?new Pr.a({container:t,width:_,height:k}):new Xn.a({container:t,width:_,height:k}),this.set("canvas",l)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",t),this.renderTrend(),this.initEvent()},e.prototype.renderTrend=function(){var t=this._cfgs,l=t.width,g=t.x,w=t.y,_=t.padding,k=t.type,P=t.trend,T=t.slider,D=t.controllerCfg,R=P.data,L=Object(I.__rest)(P,["data"]),Y=l-2*_,z=k==="trend"?26:8,q=this.get("graph"),nt=this.get("timeBarGroup"),et=this.get("canvas"),st=null;if(k==="trend"||k==="simple")st=new zh(Object(I.__assign)(Object(I.__assign)({graph:q,canvas:et,group:nt,type:k,x:g+_,y:k==="trend"?w+_:w+_+15,width:Y,height:z,padding:_,trendCfg:Object(I.__assign)(Object(I.__assign)({},L),{data:R.map(function(Ot){return Ot.value})})},T),{ticks:R.map(function(Ot){return Ot.date}),handlerStyle:Object(I.__assign)(Object(I.__assign)({},T.handlerStyle),{height:T.height||z}),controllerCfg:D}));else if(k==="tick"){var pt=this._cfgs.tick;st=new Uh(Object(I.__assign)({graph:q,canvas:et,group:nt,x:g+_,y:w+_},pt))}this.set("timebar",st)},e.prototype.filterData=function(t){var l=t.value,g=null,w=this._cfgs.type;if(w==="trend"||w==="simple"?g=this._cfgs.trend.data:w==="tick"&&(g=this._cfgs.tick.data),g&&g.length!==0){var _=this.get("rangeChange"),k=this.get("graph"),P=Math.round(g.length*l[0]),T=Math.round(g.length*l[1]);T=T>=g.length?g.length-1:T;var D=g[P].date,R=g[T].date;if(w!=="tick"&&this.get("timebar").setText(D,R),_)_(k,D,R);else{var L=k.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=L);var Y=this.cacheGraphData.nodes.filter(function(nt){return nt.date>=D&&nt.date<=R}),z=Y.map(function(nt){return nt.id}),q=this.cacheGraphData.edges.filter(function(nt){return z.includes(nt.source)&&z.includes(nt.target)});k.changeData({nodes:Y,edges:q})}}else console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E")},e.prototype.initEvent=function(){var t=this,l=0,g=0,w=this._cfgs.type;w&&w!=="trend"&&w!=="simple"?w==="tick"&&(l=this._cfgs.tick.start,g=this._cfgs.tick.end):(l=this._cfgs.slider.start,g=this._cfgs.slider.end);var _=this.get("graph");_.on("afterrender",function(){t.filterData({value:[l,g]})}),_.on("valueChange",function(k){t.filterData(k)})},e.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),S.prototype.destroy.call(this);var l=this.get("timeBarContainer");if(l){var g=this.get("container");g||(g=this.get("graph").get("container")),g.removeChild(l)}},e}(nr),qh=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,l=this._cfgs,g=l.graph;if(!this.destroyed){var w=this.get("container"),_=ve()("<div class="+l.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),k=0,P=0,T=!1,D=0,R=0,L=0,Y=0,z=0,q=0;w.addEventListener("mousedown",function(nt){if(l.refresh=!1,nt.target===_){var et=_.style;L=parseInt(et.width,10),Y=parseInt(et.height,10);var st=t.get("width"),pt=t.get("height");L>st||Y>pt||(q=g.getZoom(),z=t.get("ratio"),T=!0,k=nt.clientX,P=nt.clientY)}},!1),w.addEventListener("mousemove",function(nt){if(T&&!E()(nt.clientX)&&!E()(nt.clientY)){var et=t.get("width"),st=t.get("height"),pt=_.style;D=parseInt(pt.left,10),R=parseInt(pt.top,10),L=parseInt(pt.width,10),Y=parseInt(pt.height,10);var Ot=k-nt.clientX,wt=P-nt.clientY;D-Ot<0?Ot=D:D-Ot+L>=et&&(Ot=0),R-wt<0?wt=R:R-wt+Y>=st&&(wt=0),D-=Ot,R-=wt,ue()(_,{left:D+"px",top:R+"px"}),g.translate(Ot*q/z,wt*q/z),k=nt.clientX,P=nt.clientY}},!1),w.addEventListener("mouseleave",function(){T=!1,l.refresh=!0},!1),w.addEventListener("mouseup",function(){T=!1,l.refresh=!0},!1),this.set("viewport",_),w.appendChild(_)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),l=this.get("width"),g=this.get("height"),w=this.get("graph"),_=w.get("width"),k=_/w.get("height"),P=w.getGroup(),T=P.getCanvasBBox(),D=[(T.minX+T.maxX)/2,(T.minY+T.maxY)/2],R=[T.maxX-T.minX,T.maxY-T.minY],L={centerX:D[0],centerY:D[1],width:0,height:0,minX:0,minY:0};T[0]/T[1]>k?(L.width=R[0],L.height=L.width/k):(L.height=R[1],L.width=L.height*k),L.minX=D[0]-L.width/2,L.minY=D[1]-L.height/2;var Y=P.getMatrix();Y||(Y=[1,0,0,0,1,0,0,0,1]);var z=Ht.invert([],Y),q=rn({x:L.minX,y:L.minY},z),nt=w.getCanvasByPoint(q.x,q.y),et=this.get("viewport");et||this.initViewport();var st=_/L.width,pt=st*l,Ot=st*g,wt=l*-nt.x/L.width,yt=g*-nt.y/L.height,Tt=wt+pt,Dt=yt+Ot;wt<0&&(pt+=wt,wt=0),Tt>l&&(pt-=Tt-l),yt<0&&(Ot+=yt,yt=0),Dt>g&&(Ot-=Dt-g),this.set("ratio",t);var Gt=wt+"px",zt=yt+"px";ue()(et,{left:Gt,top:zt,width:pt+"px",height:Ot+"px"})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this.get("graph"),l=t.get("width"),g=t.get("height")/l,w=this.get("className"),_=this.get("container"),k=this.get("width"),P=this.get("height");k||P||(k=200),k?(P=g*k,this.set("height",P)):(k=1/g*P,this.set("width",k));var T=ve()("<div class='"+w+"' style='width: "+k+"px; height: "+P+"px; overflow: hidden; position: relative;'></div>");N()(_)&&(_=document.getElementById(_)),_?_.appendChild(T):t.get("container").appendChild(T),this.set("container",T);var D=ve()('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');T.appendChild(D);var R=ve()('<span style="display: table-cell; vertical-align: middle; "></span>');D.appendChild(R),this.set("containerDOM",D),this.set("containerSpan",R);var L=ve()('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');this.set("imgDOM",L),this.updateImgSize(),R.appendChild(L),this.updateCanvas()},e.prototype.updateImgSize=function(){var t=this.get("imgDOM"),l=this.get("width"),g=this.get("height");t.onload=function(){var w=function(_,k){var P,T;if(_.naturalWidth)P=_.naturalWidth,T=_.naturalHeight;else{var D=new Image;D.src=_.src,D.onload=function(){k==null||k(D.width,D.height)}}return[P,T]}(t);w[0]>w[1]?t.width=l:t.height=g}},e.prototype.updateCanvas=function(){if(this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var l=this.get("width")/t.get("canvas").getCanvasBBox().width;this.set("ratio",l),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){this.get("imgDOM").remove(),this.set("graphImg",t);var l=ve()('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');this.set("imgDOM",l),l.src=t,this.updateImgSize(),this.get("containerSpan").appendChild(l),this.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(nr),Bs={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},dn={Menu:Kc,Grid:qc,Minimap:$c,Bundling:Qc,ToolBar:th,Tooltip:eh,Fisheye:Jc,TimeBar:Wh,ImageMinimap:qh,EdgeFilterLens:function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(I.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(v.clone)(Bs),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"}}return t},e.prototype.init=function(){var t=this.get("showLabel"),l=t==="node"||t==="both",g=t==="edge"||t==="both";this.set("showNodeLabel",l),this.set("showEdgeLabel",g),this.get("shouldShow")||this.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var l=this,g=l.get("delegate");g&&!g.destroyed||(l.filter(t),(g=l.get("delegate")).on("dragstart",function(w){}),g.on("drag",function(w){l.filter(w)}),this.get("scaleRBy")==="wheel"&&g.on("mousewheel",function(w){l.scaleRByWheel(w)}))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var l,g=this.get("graph"),w=this.get("delegate");(w?{x:w.attr("x"),y:w.attr("y")}:void 0)||g.getPointByClient(t.clientX,t.clientY),l=t.originalEvent.wheelDelta<0?.95:1/.95;var _=this.get("maxR"),k=this.get("minR"),P=this.get("r");(P>(_||g.get("height"))&&l>1||P<(k||.05*g.get("height"))&&l<1)&&(l=1),P*=l,this.set("r",P),this.filter(t)}},e.prototype.filter=function(t){var l=this.get("graph"),g=l.getNodes(),w={},_=this.get("r"),k=this.get("type"),P={x:t.x,y:t.y};this.updateDelegate(P,_);var T=this.get("shouldShow"),D=this.get("vShapes");D&&D.forEach(function(nt){nt.remove(),nt.destroy()}),D=[],g.forEach(function(nt){var et=nt.getModel(),st=et.x,pt=et.y;on({x:st,y:pt},P)<_&&(w[et.id]=nt)});var R=l.getEdges(),L=[];R.forEach(function(nt){var et=nt.getModel(),st=et.source,pt=et.target;T(et)&&(k==="only-source"||k==="one"?w[st]&&!w[pt]&&L.push(nt):k==="only-target"||k==="one"?w[pt]&&!w[st]&&L.push(nt):k==="both"&&w[st]&&w[pt]&&L.push(nt))});var Y=this.get("showNodeLabel"),z=this.get("showEdgelabel"),q=l.get("group");L.forEach(function(nt){nt.get("group").get("children").forEach(function(et){var st=et.get("type"),pt=q.addShape(st,{attrs:et.attr()});D.push(pt),Y&&st==="text"&&pt.set("visible",!0)})}),Object.keys(w).forEach(function(nt){var et=w[nt].get("group").clone();if(q.add(et),D.push(et),z)for(var st=et.get("children"),pt=0;pt<st.length;pt++){var Ot=st[pt];Ot.get("type")==="text"&&Ot.set("visible",!0)}}),this.set("vShapes",D)},e.prototype.updateParams=function(t){var l=t.r,g=t.trigger,w=t.minR,_=t.maxR,k=t.scaleRBy,P=t.showLabel,T=t.shouldShow;if(isNaN(t.r)||this.set("r",l),isNaN(_)||this.set("maxR",_),isNaN(w)||this.set("minR",w),g!=="mousemove"&&g!=="click"||this.set("trigger",g),k==="wheel"||k==="unset"){this.set("scaleRBy",k),this.get("delegate").remove(),this.get("delegate").destroy();var D=this.get("dPercentText");D&&(D.remove(),D.destroy())}P!=="node"&&P!=="both"||this.set("showNodeLabel",!0),P!=="edge"&&P!=="both"||this.set("showEdgeLabel",!0),T&&this.set("shouldShow",T)},e.prototype.updateDelegate=function(t,l){var g=this,w=g.get("graph"),_=g.get("delegate");if(!_||_.destroyed){var k=w.get("group"),P=g.get("delegateStyle")||Bs;_=k.addShape("circle",{attrs:Object(I.__assign)({r:l,x:t.x,y:t.y},P),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&_.on("mousewheel",function(T){g.scaleRByWheel(T)})}else _.attr({x:t.x,y:t.y,r:l});g.set("delegate",_)},e.prototype.clear=function(){var t=this.get("vShapes");t&&t.forEach(function(g){g.remove(),g.destroy()}),t=[],this.set("vShapes",t);var l=this.get("delegate");l&&!l.destroyed&&(l.remove(),l.destroy())},e.prototype.destroy=function(){this.clear()},e}(nr)};function Rs(S,e,t){var l=S.findById(e);(function g(w,_,k,P){P.enter({current:_,previous:k}),w.getNeighbors(_,"target").forEach(function(T){P.allowTraversal({previous:k,current:_,next:T})&&g(w,T,_,P)}),P.leave({current:_,previous:k})})(S,l,null,function(g){g===void 0&&(g={});var w,_=g,k=function(){},P=(w={},function(T){var D=T.next;return!w[D.get("id")]&&(w[D.get("id")]=!0,!0)});return _.allowTraversal=g.allowTraversal||P,_.enter=g.enter||k,_.leave=g.leave||k,_}(t))}var Zh=function(){function S(){this.linkedList=new Na}return S.prototype.isEmpty=function(){return!this.linkedList.head},S.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},S.prototype.enqueue=function(e){this.linkedList.append(e)},S.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},S.prototype.toString=function(e){return this.linkedList.toString(e)},S}(),Kh=function(e,t,l){var g=function(T){T===void 0&&(T={});var D,R=T,L=function(){},Y=(D={},function(z){var q=z.next.get("id");return!D[q]&&(D[q]=!0,!0)});return R.allowTraversal=T.allowTraversal||Y,R.enter=T.enter||L,R.leave=T.leave||L,R}(l),w=new Zh,_=e.findById(t);w.enqueue(_);for(var k=null,P=function(){var D=w.dequeue();g.enter({current:D,previous:k}),e.getNeighbors(D,"target").forEach(function(R){g.allowTraversal({previous:k,current:D,next:R})&&w.enqueue(R)}),g.leave({current:D,previous:k}),k=D};!w.isEmpty();)P()};function Ls(S){for(var e=[],t={},l={},g={},w=[],_=0,k=function R(L){l[L.get("id")]=_,g[L.get("id")]=_,_+=1,e.push(L),t[L.get("id")]=!0;for(var Y=L.getNeighbors("target").filter(function(st){return S.indexOf(st)>-1}),z=0;z<Y.length;z++){var q=Y[z];l[q.get("id")]||l[q.get("id")]===0?t[q.get("id")]&&(g[L.get("id")]=Math.min(g[L.get("id")],l[q.get("id")])):(R(q),g[L.get("id")]=Math.min(g[L.get("id")],g[q.get("id")]))}if(g[L.get("id")]===l[L.get("id")]){for(var nt=[];e.length>0;){var et=e.pop();if(t[et.get("id")]=!1,nt.push(et),et===L)break}nt.length>0&&w.push(nt)}},P=0,T=S;P<T.length;P++){var D=T[P];l[D.get("id")]||l[D.get("id")]===0||k(D)}return w}function Fs(S,e){var t=e===void 0?S.get("directed"):e,l=S.getNodes();return t?Ls(l):function(g){for(var w=[],_={},k=[],P=function L(Y){k.push(Y),_[Y.get("id")]=!0;for(var z=Y.getNeighbors(),q=0;q<z.length;++q){var nt=z[q];_[nt.get("id")]||L(nt)}},T=0;T<g.length;T++){var D=g[T];if(!_[D.get("id")]){P(D);for(var R=[];k.length>0;)R.push(k.pop());w.push(R)}}return w}(l)}var Ys=function(e,t,l){var g,w,_;l===void 0&&(l=!0);for(var k=[],P=0,T=Fs(e,!1);P<T.length;P++){var D=T[P];if(D.length)for(var R=D[0],L=R.get("id"),Y=[R],z=((g={})[L]=R,g),q=((w={})[L]=new Set,w);Y.length>0;)for(var nt=Y.pop(),et=nt.get("id"),st=nt.getNeighbors(),pt=0;pt<st.length;pt+=1){var Ot=st[pt],wt=Ot.get("id");if(wt===et)k.push(((_={})[Ot.getID()]=nt,_));else if(wt in q){if(!q[et].has(Ot)){for(var yt=!0,Tt=[Ot,nt],Dt=z[et];q[wt].size&&!q[wt].has(Dt)&&(Tt.push(Dt),Dt!==z[Dt.getID()]);)Dt=z[Dt.getID()];if(Tt.push(Dt),t&&l?(yt=!1,Tt.findIndex(function(Kt){return t.indexOf(Kt.get("id"))>-1})>-1&&(yt=!0)):t&&!l&&Tt.findIndex(function(Kt){return t.indexOf(Kt.get("id"))>-1})>-1&&(yt=!1),yt){for(var Gt={},zt=1;zt<Tt.length;zt+=1)Gt[Tt[zt-1].getID()]=Tt[zt];Tt.length&&(Gt[Tt[Tt.length-1].getID()]=Tt[0]),k.push(Gt)}q[wt].add(nt)}}else z[wt]=nt,Y.push(Ot),q[wt]=new Set([nt])}}return k},Gs=function(e,t,l){l===void 0&&(l=!0);for(var g=[],w=new Set,_=[],k=[],P={},T={},D=function Tt(Dt,Gt,zt){var Kt=!1;if(t&&l===!1&&t.indexOf(Dt.get("id"))>-1)return Kt;g.push(Dt),w.add(Dt);for(var qt=zt[Dt.getID()],Wt=0;Wt<qt.length;Wt+=1)if((se=P[qt[Wt]])===Gt){for(var ne={},Qt=1;Qt<g.length;Qt+=1)ne[g[Qt-1].getID()]=g[Qt];g.length&&(ne[g[g.length-1].getID()]=g[0]),k.push(ne),Kt=!0}else w.has(se)||Tt(se,Gt,zt)&&(Kt=!0);if(Kt)(function(oe){for(var le=[oe];le.length>0;){var te=le.pop();w.has(te)&&(w.delete(te),_[te.get("id")].forEach(function(ae){le.push(ae)}),_[te.get("id")].clear())}})(Dt);else for(Wt=0;Wt<qt.length;Wt+=1){var se=P[qt[Wt]];_[se.get("id")].has(Dt)||_[se.get("id")].add(Dt)}return g.pop(),Kt},R=e.getNodes(),L=0;L<R.length;L+=1){var Y=R[L],z=Y.getID();T[z]=L,P[L]=Y}if(t&&l)for(L=0;L<t.length;L++)z=t[L],T[R[L].getID()]=T[z],T[z]=0,P[0]=e.findById(z),P[T[R[L].getID()]]=R[L];for(var q=function(Dt){for(var Gt,zt,Kt=1/0,qt=0;qt<Dt.length;qt+=1)for(var Wt=Dt[qt],ne=0;ne<Wt.length;ne++){var Qt=T[Wt[ne].getID()];Qt<Kt&&(Kt=Qt,zt=qt)}var se=Dt[zt],oe=[];for(qt=0;qt<se.length;qt+=1){var le=se[qt];oe[le.getID()]=[];for(var te=0,ae=le.getNeighbors("target").filter(function(ke){return se.indexOf(ke)>-1});te<ae.length;te++){var me=ae[te];me!==le||l===!1&&t.indexOf(le.getId())>-1?oe[le.getID()].push(T[me.getID()]):k.push(((Gt={})[le.getID()]=le,Gt))}}return{component:se,adjList:oe,minIdx:Kt}},nt=0;nt<R.length;){var et=Ls(R.filter(function(Tt){return T[Tt.getID()]>=nt})).filter(function(Tt){return Tt.length>1});if(et.length===0)break;var st=q(et),pt=st.minIdx,Ot=st.adjList,wt=st.component;if(!(wt.length>1))break;wt.forEach(function(Tt){_[Tt.get("id")]=new Set});var yt=P[pt];if(t&&l&&t.indexOf(yt.get("id"))===-1)return k;D(yt,yt,Ot),nt=pt+1}return k},$h=function(e,t,l,g){return g===void 0&&(g=!0),t===void 0&&(t=e.get("directed")),t?Gs(e,l,g):Ys(e,l,g)},Qh=function(e){var t=null,l={},g={},w={},_={};e.getNodes().forEach(function(P){g[P.getID()]=P});for(var k={enter:function(T){var D=T.current,R=T.previous;if(w[D.getID()]){t={};for(var L=D,Y=R;Y.getID()!==D.getID();)t[L.getID()]=Y,L=Y,Y=l[Y.getID()];t[L.getID()]=Y}else w[D.getID()]=D,delete g[D.getID()],l[D.getID()]=R},leave:function(T){var D=T.current;_[D.getID()]=D,delete w[D.getID()]},allowTraversal:function(T){var D=T.next;return!t&&!_[D.getID()]}};Object.keys(g).length;)Rs(e,Object.keys(g)[0],k);return t},Jh=function(e,t,l,g){var w=e.getNodes(),_=[],k={},P={},T={};w.forEach(function(nt,et){var st=nt.getID();_.push(st),P[st]=1/0,st===t&&(P[st]=0)});for(var D=w.length,R=function(et){var st=function(Ot,wt,yt){for(var Tt,Dt=1/0,Gt=0;Gt<wt.length;Gt++){var zt=wt[Gt].get("id");!yt[zt]&&Ot[zt]<=Dt&&(Dt=Ot[zt],Tt=wt[Gt])}return Tt}(P,w,k),pt=st.get("id");if(k[pt]=!0,P[pt]===1/0)return"continue";(l?st.getOutEdges():st.getEdges()).forEach(function(Ot){var wt=Ot.getTarget().getID(),yt=Ot.getSource().getID(),Tt=wt===pt?yt:wt,Dt=g&&Ot.getModel()[g]?Ot.getModel()[g]:1;P[Tt]>P[st.get("id")]+Dt&&(P[Tt]=P[st.get("id")]+Dt,T[Tt]=st.get("id"))})},L=0;L<D;L++)R();var Y={};for(var z in P){Y[z]=[z];for(var q=T[z];q!==void 0;)Y[z].unshift(q),q=T[q]}return{length:P,path:Y}},tl=function(e,t,l,g,w){Object(ut.isString)(t)&&(t=e.findById(t)),Object(ut.isString)(l)&&(l=e.findById(l));var _=Jh(e,t.get("id"),g,w),k=_.length,P=_.path;return{length:k[l.get("id")],path:P[l.get("id")]}},el=function(e,t,l,g){var w;if(Object(ut.isString)(t)&&(t=e.findById(t)),Object(ut.isString)(l)&&(l=e.findById(l)),g===void 0&&(g=e.get("directed")),t===l)return[[t.get("id")]];var _=[t],k=((w={})[t.get("id")]=!0,w),P=[],T=[],D=g?t.getNeighbors("target"):t.getNeighbors();for(P.push(D);_.length>0&&P.length>0;){var R=P[P.length-1];if(R.length){var L=R.shift();if(L&&(_.push(L),k[L.get("id")]=!0,D=g?L.getNeighbors("target"):L.getNeighbors(),P.push(D.filter(function(q){return!k[q.get("id")]}))),_[_.length-1]===l){var Y=_.map(function(q){return q.get("id")});T.push(Y),z=_.pop(),k[z.get("id")]=!1,P.pop()}}else{var z=_.pop();k[z.get("id")]=!1,P.pop()}}return T},nl=function(){function S(e){this.count=e.length,this.parent={};for(var t=0,l=e;t<l.length;t++){var g=l[t];this.parent[g]=g}}return S.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},S.prototype.union=function(e,t){var l=this.find(e),g=this.find(t);l!==g&&(l<g?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},S.prototype.connected=function(e,t){return this.find(e)===this.find(t)},S}(),rl=function(e,t){return e-t},il=function(){function S(e){e===void 0&&(e=rl),this.compareFn=e,this.list=[]}return S.prototype.getLeft=function(e){return 2*e+1},S.prototype.getRight=function(e){return 2*e+2},S.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},S.prototype.isEmpty=function(){return this.list.length<=0},S.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},S.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},S.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},S.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var l=this.list[t];this.list[t]=this.list[e],this.list[e]=l,e=t,t=this.getParent(e)}},S.prototype.moveDown=function(e){var t,l=e,g=this.getLeft(e),w=this.getRight(e),_=this.list.length;g!==null&&g<_&&this.compareFn(this.list[l],this.list[g])>0?l=g:w!==null&&w<_&&this.compareFn(this.list[l],this.list[w])>0&&(l=w),e!==l&&(t=[this.list[l],this.list[e]],this.list[e]=t[0],this.list[l]=t[1],this.moveDown(l))},S}(),ol=function(e,t){var l=[],g=e.getNodes();if(g.length===0)return l;var w=g[0],_=new Set;_.add(w);var k=new il(function(R,L){return t?R.getModel()[t]-L.getModel()[t]:0});for(w.getEdges().forEach(function(R){k.insert(R)});!k.isEmpty();){var P=k.delMin(),T=P.getSource(),D=P.getTarget();_.has(T)&&_.has(D)||(l.push(P),_.has(T)||(_.add(T),T.getEdges().forEach(function(R){k.insert(R)})),_.has(D)||(_.add(D),D.getEdges().forEach(function(R){k.insert(R)})))}return l},zs=function(e,t){var l=[];if(e.getNodes().length===0)return l;var g=e.getEdges().map(function(T){return T});t&&g.sort(function(T,D){return T.getModel()[t]-D.getModel()[t]});for(var w=new nl(e.getNodes().map(function(T){return T.get("id")}));g.length>0;){var _=g.shift(),k=_.getSource().get("id"),P=_.getTarget().get("id");w.connected(k,P)||(l.push(_),w.union(k,P))}return l};function al(S,e,t){return t?{prim:ol,kruskal:zs}[t](S,e):zs(S,e)}var sl=function(e,t,l){typeof t!="number"&&(t=1e-6),typeof l!="number"&&(l=.85);for(var g,w=1,_=0,k=1e3,P=e.getNodes(),T=P.length,D={},R={},L=0;L<T;++L)D[Y=(st=P[L]).get("id")]=1/T,R[Y]=1/T;for(;k>0&&w>t;){for(_=0,L=0;L<T;++L){var Y=(st=P[L]).get("id");if(g=0,e.getNodeDegree(st,"in")===0)D[Y]=0;else{for(var z=st.getNeighbors("source"),q=0;q<z.length;++q){var nt=z[q],et=e.getNodeDegree(nt,"out");et>0&&(g+=R[nt.get("id")]/et)}D[Y]=l*g,_+=D[Y]}}for(_=(1-_)/T,w=0,L=0;L<T;++L){var st;g=D[Y=(st=P[L]).get("id")]+_,w+=Math.abs(g-R[Y]),R[Y]=g}k-=1}return R},ul=Gr.registerNode,cl=Gr.registerEdge,hl=Gr.registerCombo,ll=zn.registerBehavior,fl=Jr.registerLayout,dl=dn.Minimap,pl=dn.Grid,gl=dn.Bundling,vl=dn.Menu,Xs=dn.Fisheye,ml=dn.ToolBar,yl=dn.Tooltip,Hs=dn.TimeBar,Vs=dn.ImageMinimap,Us=dn.EdgeFilterLens;x.default={version:o.a,Graph:ho,TreeGraph:za,Util:$a,registerNode:Gr.registerNode,registerEdge:Gr.registerEdge,registerCombo:Gr.registerCombo,registerBehavior:zn.registerBehavior,registerLayout:Jr.registerLayout,Layout:Jr,Global:J,Minimap:dn.Minimap,Grid:dn.Grid,Bundling:dn.Bundling,Menu:dn.Menu,ToolBar:dn.ToolBar,Tooltip:dn.Tooltip,TimeBar:Hs,Fisheye:Xs,ImageMinimap:Vs,EdgeFilterLens:Us,Algorithm:i,Arrow:{triangle:function(e,t,l){e===void 0&&(e=10),t===void 0&&(t=15),l===void 0&&(l=0);var g=2*l;return"M "+g+",0 L "+(g+t)+",-"+e/2+" L "+(g+t)+","+e/2+" Z"},vee:function(e,t,l){e===void 0&&(e=15),t===void 0&&(t=20),l===void 0&&(l=0);var g=2*l;return"M "+g+",0 L "+(g+t)+",-"+e/2+`
        L `+(g+2*t/3)+",0 L "+(g+t)+","+e/2+" Z"},circle:function(e,t){return e===void 0&&(e=5),t===void 0&&(t=0),"M "+2*t+`, 0
            a `+e+","+e+" 0 1,0 "+2*e+`,0
            a `+e+","+e+" 0 1,0 "+2*-e+",0"},rect:function(e,t,l){e===void 0&&(e=10),t===void 0&&(t=10),l===void 0&&(l=0);var g=2*l;return"M "+g+","+-e/2+` 
        L `+(g+t)+","+-e/2+` 
        L `+(g+t)+","+e/2+` 
        L `+g+","+e/2+" Z"},diamond:function(e,t,l){e===void 0&&(e=15),t===void 0&&(t=15),l===void 0&&(l=0);var g=2*l;return"M "+g+`,0 
        L `+(g+t/2)+","+-e/2+` 
        L `+(g+t)+`,0 
        L `+(g+t/2)+","+e/2+" Z"},triangleRect:function(e,t,l,g,w,_){e===void 0&&(e=15),t===void 0&&(t=15),l===void 0&&(l=15),g===void 0&&(g=3),w===void 0&&(w=5),_===void 0&&(_=0);var k=2*_,P=k+t+w;return"M "+k+",0 L "+(k+t)+",-"+e/2+" L "+(k+t)+","+e/2+` Z
            M `+P+", -"+l/2+`
            L `+(P+g)+" -"+l/2+`
            L `+(P+g)+" "+l/2+`
            L `+P+" "+l/2+`
            Z`}},Marker:Uc}}]).default})},75054:function(Zt,A,x){"use strict";x.d(A,{Z:function(){return j}});var s=x(32526),d=x(29405),y=x(59301),p=x(92691),n=x.n(p),a=x(73548),u=x(77590),i=function(B,N){var I={};for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&N.indexOf(F)<0&&(I[F]=B[F]);if(B!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,F=Object.getOwnPropertySymbols(B);G<F.length;G++)N.indexOf(F[G])<0&&Object.prototype.propertyIsEnumerable.call(B,F[G])&&(I[F[G]]=B[F[G]]);return I},r=function(N){var I=N.prefixCls,F=N.className,G=N.hoverable,U=G===void 0?!0:G,H=i(N,["prefixCls","className","hoverable"]);return y.createElement(u.C,null,function(Q){var at=Q.getPrefixCls,$=at("card",I),K=n()("".concat($,"-grid"),F,(0,s.Z)({},"".concat($,"-grid-hoverable"),U));return y.createElement("div",(0,d.Z)({},H,{className:K}))})},o=r,c=function(B,N){var I={};for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&N.indexOf(F)<0&&(I[F]=B[F]);if(B!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,F=Object.getOwnPropertySymbols(B);G<F.length;G++)N.indexOf(F[G])<0&&Object.prototype.propertyIsEnumerable.call(B,F[G])&&(I[F[G]]=B[F[G]]);return I},h=function(N){return y.createElement(u.C,null,function(I){var F=I.getPrefixCls,G=N.prefixCls,U=N.className,H=N.avatar,Q=N.title,at=N.description,$=c(N,["prefixCls","className","avatar","title","description"]),K=F("card",G),ot=n()("".concat(K,"-meta"),U),it=H?y.createElement("div",{className:"".concat(K,"-meta-avatar")},H):null,ht=Q?y.createElement("div",{className:"".concat(K,"-meta-title")},Q):null,St=at?y.createElement("div",{className:"".concat(K,"-meta-description")},at):null,gt=ht||St?y.createElement("div",{className:"".concat(K,"-meta-detail")},ht,St):null;return y.createElement("div",(0,d.Z)({},$,{className:ot}),it,gt)})},v=h,f=x(65914),m=x(80021),b=x(97325),M=x(81964),O=function(B,N){var I={};for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&N.indexOf(F)<0&&(I[F]=B[F]);if(B!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,F=Object.getOwnPropertySymbols(B);G<F.length;G++)N.indexOf(F[G])<0&&Object.prototype.propertyIsEnumerable.call(B,F[G])&&(I[F[G]]=B[F[G]]);return I};function E(B){var N=B.map(function(I,F){return y.createElement("li",{style:{width:"".concat(100/B.length,"%")},key:"action-".concat(F)},y.createElement("span",null,I))});return N}var C=function(N){var I,F,G=y.useContext(u.E_),U=G.getPrefixCls,H=G.direction,Q=y.useContext(M.Z),at=function(ve){var xe;(xe=N.onTabChange)===null||xe===void 0||xe.call(N,ve)},$=function(){var ve;return y.Children.forEach(N.children,function(xe){xe&&xe.type&&xe.type===o&&(ve=!0)}),ve},K=N.prefixCls,ot=N.className,it=N.extra,ht=N.headStyle,St=ht===void 0?{}:ht,gt=N.bodyStyle,bt=gt===void 0?{}:gt,mt=N.title,vt=N.loading,_t=N.bordered,Nt=_t===void 0?!0:_t,At=N.size,It=N.type,dt=N.cover,X=N.actions,V=N.tabList,Z=N.children,W=N.activeTabKey,rt=N.defaultActiveTabKey,J=N.tabBarExtraContent,tt=N.hoverable,ft=N.tabProps,kt=ft===void 0?{}:ft,jt=O(N,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),Bt=U("card",K),Rt=bt.padding===0||bt.padding==="0px"?{padding:24}:void 0,Lt=y.createElement("div",{className:"".concat(Bt,"-loading-block")}),Pt=y.createElement("div",{className:"".concat(Bt,"-loading-content"),style:Rt},y.createElement(m.Z,{gutter:8},y.createElement(b.Z,{span:22},Lt)),y.createElement(m.Z,{gutter:8},y.createElement(b.Z,{span:8},Lt),y.createElement(b.Z,{span:15},Lt)),y.createElement(m.Z,{gutter:8},y.createElement(b.Z,{span:6},Lt),y.createElement(b.Z,{span:18},Lt)),y.createElement(m.Z,{gutter:8},y.createElement(b.Z,{span:13},Lt),y.createElement(b.Z,{span:9},Lt)),y.createElement(m.Z,{gutter:8},y.createElement(b.Z,{span:4},Lt),y.createElement(b.Z,{span:3},Lt),y.createElement(b.Z,{span:16},Lt))),Ct=W!==void 0,Ht=(0,d.Z)((0,d.Z)({},kt),(I={},(0,s.Z)(I,Ct?"activeKey":"defaultActiveKey",Ct?W:rt),(0,s.Z)(I,"tabBarExtraContent",J),I)),Xt,ut=V&&V.length?y.createElement(f.Z,(0,d.Z)({size:"large"},Ht,{className:"".concat(Bt,"-head-tabs"),onChange:at}),V.map(function(ye){return y.createElement(f.Z.TabPane,{tab:ye.tab,disabled:ye.disabled,key:ye.key})})):null;(mt||it||ut)&&(Xt=y.createElement("div",{className:"".concat(Bt,"-head"),style:St},y.createElement("div",{className:"".concat(Bt,"-head-wrapper")},mt&&y.createElement("div",{className:"".concat(Bt,"-head-title")},mt),it&&y.createElement("div",{className:"".concat(Bt,"-extra")},it)),ut));var re=dt?y.createElement("div",{className:"".concat(Bt,"-cover")},dt):null,pe=y.createElement("div",{className:"".concat(Bt,"-body"),style:bt},vt?Pt:Z),de=X&&X.length?y.createElement("ul",{className:"".concat(Bt,"-actions")},E(X)):null,we=(0,a.Z)(jt,["onTabChange"]),fe=At||Q,ue=n()(Bt,(F={},(0,s.Z)(F,"".concat(Bt,"-loading"),vt),(0,s.Z)(F,"".concat(Bt,"-bordered"),Nt),(0,s.Z)(F,"".concat(Bt,"-hoverable"),tt),(0,s.Z)(F,"".concat(Bt,"-contain-grid"),$()),(0,s.Z)(F,"".concat(Bt,"-contain-tabs"),V&&V.length),(0,s.Z)(F,"".concat(Bt,"-").concat(fe),fe),(0,s.Z)(F,"".concat(Bt,"-type-").concat(It),!!It),(0,s.Z)(F,"".concat(Bt,"-rtl"),H==="rtl"),F),ot);return y.createElement("div",(0,d.Z)({},we,{className:ue}),Xt,re,pe,de)};C.Grid=o,C.Meta=v;var j=C},27820:function(Zt,A,x){"use strict";var s=x(90887),d=x.n(s),y=x(66338),p=x.n(y),n=x(27545),a=x(80754),u=x(88988)},97325:function(Zt,A,x){"use strict";var s=x(21002);A.Z=s.Z},88988:function(Zt,A,x){"use strict";var s=x(90887),d=x.n(s),y=x(6079)},10264:function(Zt,A,x){"use strict";var s=x(29405),d=x(32526),y=x(59301),p=x(92691),n=x.n(p),a=x(77590),u=function(r,o){var c={};for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&o.indexOf(h)<0&&(c[h]=r[h]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,h=Object.getOwnPropertySymbols(r);v<h.length;v++)o.indexOf(h[v])<0&&Object.prototype.propertyIsEnumerable.call(r,h[v])&&(c[h[v]]=r[h[v]]);return c},i=function(o){return y.createElement(a.C,null,function(c){var h,v=c.getPrefixCls,f=c.direction,m=o.prefixCls,b=o.type,M=b===void 0?"horizontal":b,O=o.orientation,E=O===void 0?"center":O,C=o.className,j=o.children,B=o.dashed,N=o.plain,I=u(o,["prefixCls","type","orientation","className","children","dashed","plain"]),F=v("divider",m),G=E.length>0?"-".concat(E):E,U=!!j,H=n()(F,"".concat(F,"-").concat(M),(h={},(0,d.Z)(h,"".concat(F,"-with-text"),U),(0,d.Z)(h,"".concat(F,"-with-text").concat(G),U),(0,d.Z)(h,"".concat(F,"-dashed"),!!B),(0,d.Z)(h,"".concat(F,"-plain"),!!N),(0,d.Z)(h,"".concat(F,"-rtl"),f==="rtl"),h),C);return y.createElement("div",(0,s.Z)({className:H},I,{role:"separator"}),j&&y.createElement("span",{className:"".concat(F,"-inner-text")},j))})};A.Z=i},38391:function(Zt,A,x){"use strict";var s=x(90887),d=x.n(s),y=x(23638),p=x.n(y)},80021:function(Zt,A,x){"use strict";var s=x(63468);A.Z=s.Z},80754:function(Zt,A,x){"use strict";var s=x(90887),d=x.n(s),y=x(6079)},89108:function(Zt,A,x){var s=x(24634),d=x(25385),y=x(67053),p=s.TypeError;Zt.exports=function(n){if(d(n))return n;throw p(y(n)+" is not a function")}},7264:function(Zt,A,x){var s=x(24634),d=x(9566),y=s.String,p=s.TypeError;Zt.exports=function(n){if(d(n))return n;throw p(y(n)+" is not an object")}},99153:function(Zt,A,x){"use strict";var s=x(18730).forEach,d=x(13290),y=d("forEach");Zt.exports=y?[].forEach:function(n){return s(this,n,arguments.length>1?arguments[1]:void 0)}},18537:function(Zt,A,x){var s=x(8985),d=x(76241),y=x(10795),p=function(n){return function(a,u,i){var r=s(a),o=y(r),c=d(i,o),h;if(n&&u!=u){for(;o>c;)if(h=r[c++],h!=h)return!0}else for(;o>c;c++)if((n||c in r)&&r[c]===u)return n||c||0;return!n&&-1}};Zt.exports={includes:p(!0),indexOf:p(!1)}},18730:function(Zt,A,x){var s=x(63121),d=x(2547),y=x(62953),p=x(39616),n=x(10795),a=x(87593),u=d([].push),i=function(r){var o=r==1,c=r==2,h=r==3,v=r==4,f=r==6,m=r==7,b=r==5||f;return function(M,O,E,C){for(var j=p(M),B=y(j),N=s(O,E),I=n(B),F=0,G=C||a,U=o?G(M,I):c||m?G(M,0):void 0,H,Q;I>F;F++)if((b||F in B)&&(H=B[F],Q=N(H,F,j),r))if(o)U[F]=Q;else if(Q)switch(r){case 3:return!0;case 5:return H;case 6:return F;case 2:u(U,H)}else switch(r){case 4:return!1;case 7:u(U,H)}return f?-1:h||v?v:U}};Zt.exports={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6),filterReject:i(7)}},1398:function(Zt,A,x){var s=x(98715),d=x(5414),y=x(37718),p=d("species");Zt.exports=function(n){return y>=51||!s(function(){var a=[],u=a.constructor={};return u[p]=function(){return{foo:1}},a[n](Boolean).foo!==1})}},13290:function(Zt,A,x){"use strict";var s=x(98715);Zt.exports=function(d,y){var p=[][d];return!!p&&s(function(){p.call(null,y||function(){throw 1},1)})}},21992:function(Zt,A,x){var s=x(2547);Zt.exports=s([].slice)},30477:function(Zt,A,x){var s=x(24634),d=x(58816),y=x(48781),p=x(9566),n=x(5414),a=n("species"),u=s.Array;Zt.exports=function(i){var r;return d(i)&&(r=i.constructor,y(r)&&(r===u||d(r.prototype))?r=void 0:p(r)&&(r=r[a],r===null&&(r=void 0))),r===void 0?u:r}},87593:function(Zt,A,x){var s=x(30477);Zt.exports=function(d,y){return new(s(d))(y===0?0:y)}},77695:function(Zt,A,x){var s=x(2547),d=s({}.toString),y=s("".slice);Zt.exports=function(p){return y(d(p),8,-1)}},78309:function(Zt,A,x){var s=x(24634),d=x(47596),y=x(25385),p=x(77695),n=x(5414),a=n("toStringTag"),u=s.Object,i=p(function(){return arguments}())=="Arguments",r=function(o,c){try{return o[c]}catch(h){}};Zt.exports=d?p:function(o){var c,h,v;return o===void 0?"Undefined":o===null?"Null":typeof(h=r(c=u(o),a))=="string"?h:i?p(c):(v=p(c))=="Object"&&y(c.callee)?"Arguments":v}},78089:function(Zt,A,x){var s=x(72210),d=x(38106),y=x(2409),p=x(90874);Zt.exports=function(n,a){for(var u=d(a),i=p.f,r=y.f,o=0;o<u.length;o++){var c=u[o];s(n,c)||i(n,c,r(a,c))}}},6232:function(Zt,A,x){var s=x(98484),d=x(90874),y=x(61960);Zt.exports=s?function(p,n,a){return d.f(p,n,y(1,a))}:function(p,n,a){return p[n]=a,p}},61960:function(Zt){Zt.exports=function(A,x){return{enumerable:!(A&1),configurable:!(A&2),writable:!(A&4),value:x}}},30475:function(Zt,A,x){"use strict";var s=x(38893),d=x(90874),y=x(61960);Zt.exports=function(p,n,a){var u=s(n);u in p?d.f(p,u,y(0,a)):p[u]=a}},98484:function(Zt,A,x){var s=x(98715);Zt.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},68233:function(Zt,A,x){var s=x(24634),d=x(9566),y=s.document,p=d(y)&&d(y.createElement);Zt.exports=function(n){return p?y.createElement(n):{}}},27544:function(Zt){Zt.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6334:function(Zt,A,x){var s=x(68233),d=s("span").classList,y=d&&d.constructor&&d.constructor.prototype;Zt.exports=y===Object.prototype?void 0:y},93252:function(Zt,A,x){var s=x(28266);Zt.exports=s("navigator","userAgent")||""},37718:function(Zt,A,x){var s=x(24634),d=x(93252),y=s.process,p=s.Deno,n=y&&y.versions||p&&p.version,a=n&&n.v8,u,i;a&&(u=a.split("."),i=u[0]>0&&u[0]<4?1:+(u[0]+u[1])),!i&&d&&(u=d.match(/Edge\/(\d+)/),(!u||u[1]>=74)&&(u=d.match(/Chrome\/(\d+)/),u&&(i=+u[1]))),Zt.exports=i},5902:function(Zt){Zt.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},81102:function(Zt,A,x){var s=x(24634),d=x(2409).f,y=x(6232),p=x(82365),n=x(53132),a=x(78089),u=x(10698);Zt.exports=function(i,r){var o=i.target,c=i.global,h=i.stat,v,f,m,b,M,O;if(c?f=s:h?f=s[o]||n(o,{}):f=(s[o]||{}).prototype,f)for(m in r){if(M=r[m],i.noTargetGet?(O=d(f,m),b=O&&O.value):b=f[m],v=u(c?m:o+(h?".":"#")+m,i.forced),!v&&b!==void 0){if(typeof M==typeof b)continue;a(M,b)}(i.sham||b&&b.sham)&&y(M,"sham",!0),p(f,m,M,i)}}},98715:function(Zt){Zt.exports=function(A){try{return!!A()}catch(x){return!0}}},28008:function(Zt){var A=Function.prototype,x=A.apply,s=A.bind,d=A.call;Zt.exports=typeof Reflect=="object"&&Reflect.apply||(s?d.bind(x):function(){return d.apply(x,arguments)})},63121:function(Zt,A,x){var s=x(2547),d=x(89108),y=s(s.bind);Zt.exports=function(p,n){return d(p),n===void 0?p:y?y(p,n):function(){return p.apply(n,arguments)}}},28819:function(Zt){var A=Function.prototype.call;Zt.exports=A.bind?A.bind(A):function(){return A.apply(A,arguments)}},12356:function(Zt,A,x){var s=x(98484),d=x(72210),y=Function.prototype,p=s&&Object.getOwnPropertyDescriptor,n=d(y,"name"),a=n&&function(){}.name==="something",u=n&&(!s||s&&p(y,"name").configurable);Zt.exports={EXISTS:n,PROPER:a,CONFIGURABLE:u}},2547:function(Zt){var A=Function.prototype,x=A.bind,s=A.call,d=x&&x.bind(s);Zt.exports=x?function(y){return y&&d(s,y)}:function(y){return y&&function(){return s.apply(y,arguments)}}},28266:function(Zt,A,x){var s=x(24634),d=x(25385),y=function(p){return d(p)?p:void 0};Zt.exports=function(p,n){return arguments.length<2?y(s[p]):s[p]&&s[p][n]}},42100:function(Zt,A,x){var s=x(89108);Zt.exports=function(d,y){var p=d[y];return p==null?void 0:s(p)}},24634:function(Zt,A,x){var s=function(d){return d&&d.Math==Math&&d};Zt.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof x.g=="object"&&x.g)||function(){return this}()||Function("return this")()},72210:function(Zt,A,x){var s=x(2547),d=x(39616),y=s({}.hasOwnProperty);Zt.exports=Object.hasOwn||function(n,a){return y(d(n),a)}},67695:function(Zt){Zt.exports={}},1375:function(Zt,A,x){var s=x(98484),d=x(98715),y=x(68233);Zt.exports=!s&&!d(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},62953:function(Zt,A,x){var s=x(24634),d=x(2547),y=x(98715),p=x(77695),n=s.Object,a=d("".split);Zt.exports=y(function(){return!n("z").propertyIsEnumerable(0)})?function(u){return p(u)=="String"?a(u,""):n(u)}:n},3936:function(Zt,A,x){var s=x(2547),d=x(25385),y=x(17259),p=s(Function.toString);d(y.inspectSource)||(y.inspectSource=function(n){return p(n)}),Zt.exports=y.inspectSource},53176:function(Zt,A,x){var s=x(22850),d=x(24634),y=x(2547),p=x(9566),n=x(6232),a=x(72210),u=x(17259),i=x(8613),r=x(67695),o="Object already initialized",c=d.TypeError,h=d.WeakMap,v,f,m,b=function(N){return m(N)?f(N):v(N,{})},M=function(N){return function(I){var F;if(!p(I)||(F=f(I)).type!==N)throw c("Incompatible receiver, "+N+" required");return F}};if(s||u.state){var O=u.state||(u.state=new h),E=y(O.get),C=y(O.has),j=y(O.set);v=function(N,I){if(C(O,N))throw new c(o);return I.facade=N,j(O,N,I),I},f=function(N){return E(O,N)||{}},m=function(N){return C(O,N)}}else{var B=i("state");r[B]=!0,v=function(N,I){if(a(N,B))throw new c(o);return I.facade=N,n(N,B,I),I},f=function(N){return a(N,B)?N[B]:{}},m=function(N){return a(N,B)}}Zt.exports={set:v,get:f,has:m,enforce:b,getterFor:M}},58816:function(Zt,A,x){var s=x(77695);Zt.exports=Array.isArray||function(y){return s(y)=="Array"}},25385:function(Zt){Zt.exports=function(A){return typeof A=="function"}},48781:function(Zt,A,x){var s=x(2547),d=x(98715),y=x(25385),p=x(78309),n=x(28266),a=x(3936),u=function(){},i=[],r=n("Reflect","construct"),o=/^\s*(?:class|function)\b/,c=s(o.exec),h=!o.exec(u),v=function(m){if(!y(m))return!1;try{return r(u,i,m),!0}catch(b){return!1}},f=function(m){if(!y(m))return!1;switch(p(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!c(o,a(m))};Zt.exports=!r||d(function(){var m;return v(v.call)||!v(Object)||!v(function(){m=!0})||m})?f:v},10698:function(Zt,A,x){var s=x(98715),d=x(25385),y=/#|\.prototype\./,p=function(r,o){var c=a[n(r)];return c==i?!0:c==u?!1:d(o)?s(o):!!o},n=p.normalize=function(r){return String(r).replace(y,".").toLowerCase()},a=p.data={},u=p.NATIVE="N",i=p.POLYFILL="P";Zt.exports=p},9566:function(Zt,A,x){var s=x(25385);Zt.exports=function(d){return typeof d=="object"?d!==null:s(d)}},92703:function(Zt){Zt.exports=!1},44101:function(Zt,A,x){var s=x(24634),d=x(28266),y=x(25385),p=x(18255),n=x(34559),a=s.Object;Zt.exports=n?function(u){return typeof u=="symbol"}:function(u){var i=d("Symbol");return y(i)&&p(i.prototype,a(u))}},10795:function(Zt,A,x){var s=x(45600);Zt.exports=function(d){return s(d.length)}},72428:function(Zt,A,x){var s=x(37718),d=x(98715);Zt.exports=!!Object.getOwnPropertySymbols&&!d(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&s&&s<41})},22850:function(Zt,A,x){var s=x(24634),d=x(25385),y=x(3936),p=s.WeakMap;Zt.exports=d(p)&&/native code/.test(y(p))},90874:function(Zt,A,x){var s=x(24634),d=x(98484),y=x(1375),p=x(7264),n=x(38893),a=s.TypeError,u=Object.defineProperty;A.f=d?u:function(r,o,c){if(p(r),o=n(o),p(c),y)try{return u(r,o,c)}catch(h){}if("get"in c||"set"in c)throw a("Accessors not supported");return"value"in c&&(r[o]=c.value),r}},2409:function(Zt,A,x){var s=x(98484),d=x(28819),y=x(54349),p=x(61960),n=x(8985),a=x(38893),u=x(72210),i=x(1375),r=Object.getOwnPropertyDescriptor;A.f=s?r:function(c,h){if(c=n(c),h=a(h),i)try{return r(c,h)}catch(v){}if(u(c,h))return p(!d(y.f,c,h),c[h])}},74334:function(Zt,A,x){var s=x(43024),d=x(5902),y=d.concat("length","prototype");A.f=Object.getOwnPropertyNames||function(n){return s(n,y)}},12878:function(Zt,A){A.f=Object.getOwnPropertySymbols},18255:function(Zt,A,x){var s=x(2547);Zt.exports=s({}.isPrototypeOf)},43024:function(Zt,A,x){var s=x(2547),d=x(72210),y=x(8985),p=x(18537).indexOf,n=x(67695),a=s([].push);Zt.exports=function(u,i){var r=y(u),o=0,c=[],h;for(h in r)!d(n,h)&&d(r,h)&&a(c,h);for(;i.length>o;)d(r,h=i[o++])&&(~p(c,h)||a(c,h));return c}},95510:function(Zt,A,x){var s=x(43024),d=x(5902);Zt.exports=Object.keys||function(p){return s(p,d)}},54349:function(Zt,A){"use strict";var x={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,d=s&&!x.call({1:2},1);A.f=d?function(p){var n=s(this,p);return!!n&&n.enumerable}:x},89688:function(Zt,A,x){var s=x(24634),d=x(28819),y=x(25385),p=x(9566),n=s.TypeError;Zt.exports=function(a,u){var i,r;if(u==="string"&&y(i=a.toString)&&!p(r=d(i,a))||y(i=a.valueOf)&&!p(r=d(i,a))||u!=="string"&&y(i=a.toString)&&!p(r=d(i,a)))return r;throw n("Can't convert object to primitive value")}},38106:function(Zt,A,x){var s=x(28266),d=x(2547),y=x(74334),p=x(12878),n=x(7264),a=d([].concat);Zt.exports=s("Reflect","ownKeys")||function(i){var r=y.f(n(i)),o=p.f;return o?a(r,o(i)):r}},82365:function(Zt,A,x){var s=x(24634),d=x(25385),y=x(72210),p=x(6232),n=x(53132),a=x(3936),u=x(53176),i=x(12356).CONFIGURABLE,r=u.get,o=u.enforce,c=String(String).split("String");(Zt.exports=function(h,v,f,m){var b=m?!!m.unsafe:!1,M=m?!!m.enumerable:!1,O=m?!!m.noTargetGet:!1,E=m&&m.name!==void 0?m.name:v,C;if(d(f)&&(String(E).slice(0,7)==="Symbol("&&(E="["+String(E).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(f,"name")||i&&f.name!==E)&&p(f,"name",E),C=o(f),C.source||(C.source=c.join(typeof E=="string"?E:""))),h===s){M?h[v]=f:n(v,f);return}else b?!O&&h[v]&&(M=!0):delete h[v];M?h[v]=f:p(h,v,f)})(Function.prototype,"toString",function(){return d(this)&&r(this).source||a(this)})},42623:function(Zt,A,x){var s=x(24634),d=s.TypeError;Zt.exports=function(y){if(y==null)throw d("Can't call method on "+y);return y}},53132:function(Zt,A,x){var s=x(24634),d=Object.defineProperty;Zt.exports=function(y,p){try{d(s,y,{value:p,configurable:!0,writable:!0})}catch(n){s[y]=p}return p}},8613:function(Zt,A,x){var s=x(93901),d=x(90650),y=s("keys");Zt.exports=function(p){return y[p]||(y[p]=d(p))}},17259:function(Zt,A,x){var s=x(24634),d=x(53132),y="__core-js_shared__",p=s[y]||d(y,{});Zt.exports=p},93901:function(Zt,A,x){var s=x(92703),d=x(17259);(Zt.exports=function(y,p){return d[y]||(d[y]=p!==void 0?p:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},76241:function(Zt,A,x){var s=x(50965),d=Math.max,y=Math.min;Zt.exports=function(p,n){var a=s(p);return a<0?d(a+n,0):y(a,n)}},8985:function(Zt,A,x){var s=x(62953),d=x(42623);Zt.exports=function(y){return s(d(y))}},50965:function(Zt){var A=Math.ceil,x=Math.floor;Zt.exports=function(s){var d=+s;return d!==d||d===0?0:(d>0?x:A)(d)}},45600:function(Zt,A,x){var s=x(50965),d=Math.min;Zt.exports=function(y){return y>0?d(s(y),9007199254740991):0}},39616:function(Zt,A,x){var s=x(24634),d=x(42623),y=s.Object;Zt.exports=function(p){return y(d(p))}},77308:function(Zt,A,x){var s=x(24634),d=x(28819),y=x(9566),p=x(44101),n=x(42100),a=x(89688),u=x(5414),i=s.TypeError,r=u("toPrimitive");Zt.exports=function(o,c){if(!y(o)||p(o))return o;var h=n(o,r),v;if(h){if(c===void 0&&(c="default"),v=d(h,o,c),!y(v)||p(v))return v;throw i("Can't convert object to primitive value")}return c===void 0&&(c="number"),a(o,c)}},38893:function(Zt,A,x){var s=x(77308),d=x(44101);Zt.exports=function(y){var p=s(y,"string");return d(p)?p:p+""}},47596:function(Zt,A,x){var s=x(5414),d=s("toStringTag"),y={};y[d]="z",Zt.exports=String(y)==="[object z]"},67053:function(Zt,A,x){var s=x(24634),d=s.String;Zt.exports=function(y){try{return d(y)}catch(p){return"Object"}}},90650:function(Zt,A,x){var s=x(2547),d=0,y=Math.random(),p=s(1 .toString);Zt.exports=function(n){return"Symbol("+(n===void 0?"":n)+")_"+p(++d+y,36)}},34559:function(Zt,A,x){var s=x(72428);Zt.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},5414:function(Zt,A,x){var s=x(24634),d=x(93901),y=x(72210),p=x(90650),n=x(72428),a=x(34559),u=d("wks"),i=s.Symbol,r=i&&i.for,o=a?i:i&&i.withoutSetter||p;Zt.exports=function(c){if(!y(u,c)||!(n||typeof u[c]=="string")){var h="Symbol."+c;n&&y(i,c)?u[c]=i[c]:a&&r?u[c]=r(h):u[c]=o(h)}return u[c]}},63839:function(Zt,A,x){"use strict";var s=x(81102),d=x(24634),y=x(98715),p=x(58816),n=x(9566),a=x(39616),u=x(10795),i=x(30475),r=x(87593),o=x(1398),c=x(5414),h=x(37718),v=c("isConcatSpreadable"),f=9007199254740991,m="Maximum allowed index exceeded",b=d.TypeError,M=h>=51||!y(function(){var j=[];return j[v]=!1,j.concat()[0]!==j}),O=o("concat"),E=function(j){if(!n(j))return!1;var B=j[v];return B!==void 0?!!B:p(j)},C=!M||!O;s({target:"Array",proto:!0,forced:C},{concat:function(B){var N=a(this),I=r(N,0),F=0,G,U,H,Q,at;for(G=-1,H=arguments.length;G<H;G++)if(at=G===-1?N:arguments[G],E(at)){if(Q=u(at),F+Q>f)throw b(m);for(U=0;U<Q;U++,F++)U in at&&i(I,F,at[U])}else{if(F>=f)throw b(m);i(I,F++,at)}return I.length=F,I}})},46598:function(Zt,A,x){"use strict";var s=x(81102),d=x(99153);s({target:"Array",proto:!0,forced:[].forEach!=d},{forEach:d})},64158:function(Zt,A,x){"use strict";var s=x(81102),d=x(2547),y=x(62953),p=x(8985),n=x(13290),a=d([].join),u=y!=Object,i=n("join",",");s({target:"Array",proto:!0,forced:u||!i},{join:function(o){return a(p(this),o===void 0?",":o)}})},34252:function(Zt,A,x){"use strict";var s=x(81102),d=x(18730).map,y=x(1398),p=y("map");s({target:"Array",proto:!0,forced:!p},{map:function(a){return d(this,a,arguments.length>1?arguments[1]:void 0)}})},59100:function(Zt,A,x){var s=x(98484),d=x(12356).EXISTS,y=x(2547),p=x(90874).f,n=Function.prototype,a=y(n.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,i=y(u.exec),r="name";s&&!d&&p(n,r,{configurable:!0,get:function(){try{return i(u,a(this))[1]}catch(o){return""}}})},21333:function(Zt,A,x){var s=x(81102),d=x(39616),y=x(95510),p=x(98715),n=p(function(){y(1)});s({target:"Object",stat:!0,forced:n},{keys:function(u){return y(d(u))}})},61849:function(Zt,A,x){var s=x(24634),d=x(27544),y=x(6334),p=x(99153),n=x(6232),a=function(i){if(i&&i.forEach!==p)try{n(i,"forEach",p)}catch(r){i.forEach=p}};for(var u in d)d[u]&&a(s[u]&&s[u].prototype);a(y)},78009:function(Zt,A,x){var s=x(81102),d=x(24634),y=x(28008),p=x(25385),n=x(93252),a=x(21992),u=/MSIE .\./.test(n),i=d.Function,r=function(o){return function(c,h){var v=arguments.length>2,f=v?a(arguments,2):void 0;return o(v?function(){y(p(c)?c:i(c),this,f)}:c,h)}};s({global:!0,bind:!0,forced:u},{setTimeout:r(d.setTimeout),setInterval:r(d.setInterval)})},21433:function(Zt,A,x){(function(s,d){Zt.exports=d(x(49346))})(window,function(s){return function(d){var y={};function p(n){if(y[n])return y[n].exports;var a=y[n]={i:n,l:!1,exports:{}};return d[n].call(a.exports,a,a.exports,p),a.l=!0,a.exports}return p.m=d,p.c=y,p.d=function(n,a,u){p.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:u})},p.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},p.t=function(n,a){if(1&a&&(n=p(n)),8&a||4&a&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(p.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var i in n)p.d(u,i,function(r){return n[r]}.bind(null,i));return u},p.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return p.d(a,"a",a),a},p.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},p.p="",p(p.s=25)}([function(d,y,p){"use strict";function n(E){for(var C=1;C<arguments.length;C++){var j=arguments[C]!=null?arguments[C]:{},B=Object.keys(j);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(j).filter(function(N){return Object.getOwnPropertyDescriptor(j,N).enumerable}))),B.forEach(function(N){a(E,N,j[N])})}return E}function a(E,C,j){return C in E?Object.defineProperty(E,C,{value:j,enumerable:!0,configurable:!0,writable:!0}):E[C]=j,E}function u(E,C,j){return E.addShape("path",{attrs:n({},j,{path:C})})}function i(E){return[{x:E.centerX,y:E.minY},{x:E.maxX,y:E.centerY},{x:E.centerX,y:E.maxY},{x:E.minX,y:E.centerY}]}function r(E,C){var j,B,N=i(C),I=1/0;return N.forEach(function(F,G){var U,H,Q=(U=E,H=F,Math.sqrt(Math.pow(U.x-H.x,2)+Math.pow(U.y-H.y,2)));Q<I&&(j=F,I=Q,B=G)}),{point:j,index:B}}function o(E,C){return{x:(E[C].x+E[C+1].x)/2,y:(E[C].y+E[C+1].y)/2}}function c(E,C){var j=E.point,B=E.index,N=C.point,I=C.index;return j.x===N.x||j.y===N.y?[j,N]:B===2&&I===0||B===0&&I===2?[j,{x:j.x,y:(j.y+N.y)/2},{x:N.x,y:(j.y+N.y)/2},N]:B!==2&&B!==0||I!==3&&I!==1?B!==1&&B!==3||I!==2&&I!==0?[j,{x:(j.x+N.x)/2,y:j.y},{x:(j.x+N.x)/2,y:N.y},N]:[j,{x:N.x,y:j.y},N]:[j,{x:j.x,y:N.y},N]}function h(E,C){return E[C].x===E[C+1].x}function v(E,C,j){return h(C,j)?E.x===C[j].x&&(E.y-C[j].y)*(E.y-C[j+1].y)<=0:E.y===C[j].y&&(E.x-C[j].x)*(E.x-C[j+1].x)<=0}function f(E,C){for(var j,B,N,I,F,G=1/0,U=0;U<C.length-1;U++){var H=h(C,U),Q=void 0;if(v(Q=H?{x:C[U].x,y:E.y}:{x:E.x,y:C[U].y},C,U)){var at=(I=E,F=Q,Math.pow(I.x-F.x,2)+Math.pow(I.y-F.y,2));G>at&&(G=at,j=U,B=Q,N=H)}}return{verticalPoint:B,index:j,vertical:N}}function m(E,C,j){var B,N,I,F=function(Q){if(!Q)return{x:void 0,y:void 0};var at=Q.getBBox();return{x:at.centerX,y:at.centerY}}(C),G=E.getLinkPoints(F)[0];if(j){var U=i(E.getBBox())[j];B=E.getBBox(),N=U,I={x:C.getBBox().centerX,y:C.getBBox().centerY},((B.centerX-N.x)*(B.centerX-I.x)>0||(B.centerY-N.y)*(B.centerY-I.y)>0)&&(G=U)}G=r(G,E.getBBox());var H=C.getLinkPoints(G.point)[0];return{sourcePoint:G,targetPoint:H=r(H,C.getBBox())}}function b(E,C,j){return h(C,j)?E.minX>C[j].x?1:E.maxX<C[j].x?-1:0:E.minY>C[j].y?1:E.maxY<C.y?-1:0}function M(E,C,j){return h(C,j)?{x:C[j].x,y:E.y}:{x:E.x,y:C[j].y}}function O(E){var C;switch(E){case 0:C=2;break;case 1:C=3;break;case 3:C=1;break;default:C=0}return C}p.d(y,"b",function(){return u}),p.d(y,"c",function(){return i}),p.d(y,"f",function(){return r}),p.d(y,"j",function(){return o}),p.d(y,"h",function(){return c}),p.d(y,"i",function(){return h}),p.d(y,"l",function(){return v}),p.d(y,"e",function(){return f}),p.d(y,"d",function(){return m}),p.d(y,"a",function(){return b}),p.d(y,"g",function(){return M}),p.d(y,"k",function(){return O})},function(d,y,p){function n(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){a(h,b,f[b])})}return h}function a(h,v,f){return v in h?Object.defineProperty(h,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[v]=f,h}var u=p(7),i=p(3),r=p(4),o={getActivedStyle:function(){},getSelectedStyle:function(){},getStyle:function(){},getPath:function(){}};function c(h,v,f){var m=[];return r.isString(h)?m=[v,h]:r.isArray(h)?(h.unshift(v),m=h):m=[v],f&&m.unshift(f+"-base"),m}u.registerNode("page-base",n({},o)),u.registerEdge("page-base",n({},o)),u.registerGroup("page-base",n({},o)),u.registerGuide("page-base",n({},o)),i.setRegister=function(h,v,f){h.registerNode=function(m,b,M){u.registerNode(m,b,c(M,v+"-base",f))},h.registerEdge=function(m,b,M){u.registerEdge(m,b,c(M,v+"-base",f))},h.registerGroup=function(m,b,M){u.registerGroup(m,b,c(M,v+"-base",f))},h.registerGuide=function(m,b,M){u.registerGuide(m,b,c(M,v+"-base",f))},h.registerBehaviour=function(m,b,M){u.registerBehaviour(m,function(O){var E=O.get("page");E.set("_graph",O),b(E)},M)}},i.setRegister(i,"page"),p(44),d.exports=i},function(d,y,p){function n(c,h,v){return h in c?Object.defineProperty(c,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):c[h]=v,c}var a=p(7),u=p(22),i=p(63),r=p(64),o=function(c){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{},f=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(v).filter(function(m){return Object.getOwnPropertyDescriptor(v,m).enumerable}))),f.forEach(function(m){n(c,m,v[m])})}return c}({},a.Util,u,i,r);d.exports=o},function(d,y,p){function n(C){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(C)}function a(C){for(var j=1;j<arguments.length;j++){var B=arguments[j]!=null?arguments[j]:{},N=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(B).filter(function(I){return Object.getOwnPropertyDescriptor(B,I).enumerable}))),N.forEach(function(I){u(C,I,B[I])})}return C}function u(C,j,B){return j in C?Object.defineProperty(C,j,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[j]=B,C}function i(C,j){for(var B=0;B<j.length;B++){var N=j[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(C,N.key,N)}}function r(C,j){return!j||n(j)!=="object"&&typeof j!="function"?function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(C):j}function o(C){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(C)}function c(C,j){return(c=Object.setPrototypeOf||function(B,N){return B.__proto__=N,B})(C,j)}var h=p(21),v=p(4),f=p(14),m=p(34),b=p(35),M=p(37),O=[m,p(38),p(39),b,M,p(40),p(42),p(43)],E=function(C){function j(F){var G;(function(H,Q){if(!(H instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,j);var U={defaultData:null,shortcut:{redo:!0,undo:!0,delete:!0,resetZoom:!0,autoZoom:!0,zoomIn:!0,zoomOut:!0},_controllers:{},_signals:{}};return v.each(O,function(H){v.mix(U,H.CFG)}),v.mix(!0,U,F),(G=r(this,o(j).call(this,U))).isPage=!0,G.type="page",G._init(),G}var B,N,I;return function(F,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(G&&G.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),G&&c(F,G)}(j,h),B=j,(N=[{key:"getDelegation",value:function(F,G){var U;if(G||(G=this.getGraph().getRootGroup()),F.length!==1||F[0].isNode||F[0].isGroup){var H=v.getTotalBBox(F.map(function(Q){return Q.getBBox()}));(U=v.getRectByBox(H,G,f.nodeDelegationStyle)).set("capture",!1)}else F[0].isEdge?U=G.addShape("path",{attrs:a({path:"M0 0L 1 1"},f.edgeDelegationStyle),capture:!1}):(U=v.getRectByBox(F[0],G,f.nodeDelegationStyle)).set("capture",!1);return U}},{key:"focusGraphWrapper",value:function(){this.getGraph().getKeyboardEventWrapper().focus()}},{key:"saveImage",value:function(F){var G,U,H=this,Q=this.getGraph(),at=Q.getBBox(),$=Q.getFitViewPadding();return Q.saveImage(a({width:at.width+$[1]+$[3],height:at.height+$[0]+$[2],beforeTransform:function(){G=H.getSelected().map(function(K){return K.id}),U=H.getSelected().map(function(K){return K.id}),H.clearSelected(),H.clearActived()},afterTransform:function(){H.setSelected(G,!0),H.setActived(U,!0)}},F))}},{key:"_init",value:function(){var F=this;v.each(O,function(G){G.INIT&&F[G.INIT]()}),this.bindEvent(),this._cacheBBox()}},{key:"executeCommand",value:function(F,G){var U=this.editor;U?U.executeCommand(F,G):F()}},{key:"_cacheBBox",value:function(){var F=this.getGraph();this.set("bboxCache",F.getBBox())}},{key:"bindEvent",value:function(){var F=this;this.getGraph().on("afterchange",function(){F._cacheBBox()})}},{key:"translateLimt",value:function(F){var G=this.getGraph(),U=this.get("bboxCache"),H=G.getWidth(),Q=G.getHeight(),at=[U.minX,U.minY,1],$=[U.maxX,U.maxY,1];return v.vec3.transformMat3(at,at,F),v.vec3.transformMat3($,$,F),$[0]<100&&v.mat3.translate(F,F,[100-$[0],0]),$[1]<100&&v.mat3.translate(F,F,[0,100-$[1]]),at[1]>Q-100&&v.mat3.translate(F,F,[0,Q-100-at[1]]),at[0]>H-100&&v.mat3.translate(F,F,[H-100-at[0],0]),!0}},{key:"setSignal",value:function(F,G){this.get("_signals")[F]=G}},{key:"getSignal",value:function(F){return this.get("_signals")[F]}},{key:"setController",value:function(F,G){this.get("_controllers")[F]=G}},{key:"getController",value:function(F){return this.get("_controllers")[F]}},{key:"destroy",value:function(){var F=this.get("_graph"),G=this.get("_controllers");v.each(G,function(U){U.destroy()}),F.destroy()}}])&&i(B.prototype,N),I&&i(B,I),j}();v.each(O,function(C){v.mix(E.prototype,C.AUGMENT)}),d.exports=E},function(d,y,p){function n(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}var a=p(6),u=p(14),i=a.createDOM("<canvas>").getContext("2d");d.exports=function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{},h=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(c).filter(function(v){return Object.getOwnPropertyDescriptor(c,v).enumerable}))),h.forEach(function(v){n(r,v,c[v])})}return r}({},a,{getPanCanvasBehaviour:function(r){return function(o){var c,h,v=o.getGraph();v.behaviourOn("canvas:mouseenter",function(){o.css({cursor:u.cursor.beforePanCanvas})}),v.behaviourOn("mouseleave",function(f){f.toShape||o.css({cursor:u.cursor.beforePanCanvas})}),v.behaviourOn("mousedown",function(f){(f.button!==2&&!r||!f.shape||f.item&&f.item.dragable===!1&&f.item.shapeObj.type!=="mind-root"&&!o.getSignal("dragEdge"))&&(c={x:f.domX,y:f.domY},o.css({cursor:u.cursor.panningCanvas}),h=v.getMatrix(),o.setCapture(!1))}),v.behaviourOn("drag",function(f){if(c){var m=f.domX-c.x,b=f.domY-c.y,M=[];a.mat3.translate(M,h,[m,b]),o.translateLimt(M)&&(v.updateMatrix(M),v.draw())}}),v.behaviourOn("mouseup",function(){c&&(c=void 0,h=void 0,o.setCapture(!0),o.css({cursor:u.cursor.beforePanCanvas}))})}},getLabelTextByTextLineWidth:function(r,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:320;i.font=o;var h=i.measureText(r).width;if(h>c){h=0;for(var v=1;v<r.length;v++)(h+=i.measureText(r[v]).width)>=c&&(r=r.substring(0,v)+`
`+r.substring(v,r.length),v+=1,h=0)}return r}})},function(d,y){d.exports={orbitGap:10,nodeDefaultShape:"flow-node",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-group",nodeActivedOutterStyle:{lineWidth:0},groupSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},nodeSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},edgeActivedStyle:{stroke:"#1890FF",strokeOpacity:.92},nodeActivedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupActivedStyle:{stroke:"#1890FF"},edgeSelectedStyle:{lineWidth:2,strokeOpacity:.92,stroke:"#A3B1BF"},nodeSelectedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupSelectedStyle:{stroke:"#1890FF",fillOpacity:.92},nodeStyle:{stroke:"#CED4D9",fill:"#FFFFFF",shadowOffsetX:0,shadowOffsetY:4,shadowBlur:10,shadowColor:"rgba(13, 26, 38, 0.08)",lineWidth:1,radius:4,fillOpacity:.92},edgeStyle:{stroke:"#A3B1BF",strokeOpacity:.92,lineWidth:1,lineAppendWidth:8,endArrow:!0},groupBackgroundPadding:[40,10,10,10],groupLabelOffsetX:10,groupLabelOffsetY:10,edgeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},edgeLabelRectPadding:4,edgeLabelRectStyle:{fill:"white"},nodeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",radius:4},groupLabelStyle:{fill:"#666",textAlign:"left",textBaseline:"top"},multiSelectRectStyle:{fill:"#1890FF",fillOpacity:.08,stroke:"#1890FF",opacity:.1},dragNodeHoverToGroupStyle:{stroke:"#1890FF",lineWidth:2},dragNodeLeaveFromGroupStyle:{stroke:"#BAE7FF",lineWidth:2},anchorPointStyle:{radius:3.5,fill:"#fff",stroke:"#1890FF",lineAppendWidth:12},anchorHotsoptStyle:{radius:12,fill:"#1890FF",fillOpacity:.25},anchorHotsoptActivedStyle:{radius:14},anchorPointHoverStyle:{radius:4,fill:"#1890FF",fillOpacity:1,stroke:"#1890FF"},nodeControlPointStyle:{radius:4,fill:"#fff",shadowBlur:4,shadowColor:"#666"},edgeControlPointStyle:{radius:6,symbol:"square",lineAppendWidth:6,fillOpacity:0,strokeOpacity:0},nodeSelectedBoxStyle:{stroke:"#C2C2C2"},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab",hoverNode:"move",hoverEffectiveAnchor:"crosshair",hoverEdge:"default",hoverGroup:"move",hoverUnEffectiveAnchor:"default",hoverEdgeControllPoint:"crosshair",multiSelect:"crosshair"},zIndex:{anchorPoint:3,anchorHotsopt:2,selectedBox:1,controlPoint:4},polylineEdgeStyle:{offset:10,borderRadius:5},addToGroupDelayTime:400,outFromGroupDelayTime:400}},function(d,y,p){function n(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){a(h,b,f[b])})}return h}function a(h,v,f){return v in h?Object.defineProperty(h,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[v]=f,h}var u=p(7),i=p(28),r=p(29),o={whitespace:{9:"Tab",13:"Enter",32:"Space"},fn:{112:"f1 ",113:"f2 ",114:"f3 ",115:"f4 ",116:"f5 ",117:"f6 ",118:"f7 ",119:"f8 ",120:"f9 ",121:"f10",122:"f11",123:"f12"},letter:{65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"},number:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9"},navigation:{37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},symbol:{110:"decimal point",186:"semi-colon",187:"=",188:"comma",189:"-",190:"period ",191:"/",192:"grave accent",219:"open bracket ",220:"back slash ",221:"close bracket ",222:"single quote "},smallNumberKey:{96:"numpad 0 ",97:"numpad 1 ",98:"numpad 2 ",99:"numpad 3 ",100:"numpad 4 ",101:"numpad 5 ",102:"numpad 6 ",103:"numpad 7 ",104:"numpad 8 ",105:"numpad 9 "},modifierKey:{16:"Shift",17:"Ctrl ",18:"Alt",20:"caps lock"},escKey:{8:"Backspace",46:"Delete",27:"Escape"},homeKey:{91:"Windows Key / Left command",92:"right window key ",93:"Windows Menu"},computeKey:{106:"multiply ",107:"add",109:"subtract ",111:"divide "}},c=n({},u.Util,i,{getNodeSize:function(h){if(h){if(u.Util.isNumber(h))return[h,h];if(u.Util.isString(h)){if(h.indexOf("*")===-1){var v=Number(h);return[v,v]}return h.split("*")}return h}return[96,48]},getTypeAndChar:function(h){var v;for(var f in h=""+h,o)for(var m in v=f,o[f])if(m===h)return{type:v,character:o[f][m]};return{}},getKeyboradKey:function(h){return h.key||c.getTypeAndChar(h.keyCode).character},getIndex:function(h){return h.getParent().get("children").indexOf(h)},setId:function(h){h.id||(h.id=u.Util.guid())},pointLineDistance:function(h,v,f,m,b,M){var O=[f-h,m-v];if(u.Util.vec2.exactEquals(O,[0,0]))return NaN;var E=[-O[1],O[0]];u.Util.vec2.normalize(E,E);var C=[b-h,M-v];return Math.abs(u.Util.vec2.dot(C,E))},getRectByBox:function(h,v,f){return v.addShape("rect",{attrs:n({},f,{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY})})},objectToValues:function(h){var v,f=[];for(v in h)h.hasOwnProperty(v)&&f.push(h[v]);return f},getValue:function(h){return u.Util.isFunction(h)?h():h},getContrast:function(h,v){var f={};return u.Util.each(v,function(m,b){f[b]=h[b]}),f},arrowTo:function(h,v,f,m,b,M,O){var E=[M-m,O-b],C=u.Util.vec2.angleTo(E,[1,0],!0);return h.transform([["r",C],["t",v,f]]),h},setEndOfContenteditable:function(h){var v,f;document.createRange?((v=document.createRange()).selectNodeContents(h),v.collapse(!1),(f=window.getSelection()).removeAllRanges(),f.addRange(v)):document.selection&&((v=document.body.createTextRange()).moveToElementText(h),v.collapse(!1),v.select())},matches:function(h,v){return(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(f){for(var m=(this.document||this.ownerDocument).querySelectorAll(f),b=m.length;--b>=0&&m.item(b)!==this;);return b>-1}).call(h,v)},delegateEvent:function(h,v,f,m){return c.addEventListener(h,v,function(b){for(var M=b.target||b.srcElement;M!==h;)c.matches(M,f)&&m.call(M,Array.prototype.slice.call(arguments)),M=M.parentNode})},Palettes:r});d.exports=c},function(d,y){d.exports=s},function(d,y,p){function n(O){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function a(O){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{},j=Object.keys(C);typeof Object.getOwnPropertySymbols=="function"&&(j=j.concat(Object.getOwnPropertySymbols(C).filter(function(B){return Object.getOwnPropertyDescriptor(C,B).enumerable}))),j.forEach(function(B){u(O,B,C[B])})}return O}function u(O,E,C){return E in O?Object.defineProperty(O,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[E]=C,O}function i(O,E){for(var C=0;C<E.length;C++){var j=E[C];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}function r(O,E){return!E||n(E)!=="object"&&typeof E!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(O):E}function o(O,E,C){return(o=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(j,B,N){var I=function(G,U){for(;!Object.prototype.hasOwnProperty.call(G,U)&&(G=c(G))!==null;);return G}(j,B);if(I){var F=Object.getOwnPropertyDescriptor(I,B);return F.get?F.get.call(N):F.value}})(O,E,C||O)}function c(O){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function h(O,E){return(h=Object.setPrototypeOf||function(C,j){return C.__proto__=j,C})(O,E)}var v=p(7),f=p(1),m=p(10),b=[],M=function(O){function E(N){var I;(function(U,H){if(!(U instanceof H))throw new TypeError("Cannot call a class as a function")})(this,E);var F={showHotArea:!1,defaultData:{roots:[{label:"\u601D\u7EF4\u5BFC\u56FE",children:[{label:"\u65B0\u5EFA\u8282\u70B9"},{label:"\u65B0\u5EFA\u8282\u70B9"},{label:"\u65B0\u5EFA\u8282\u70B9"}]}]},shortcut:{append:!0,appendChild:!0,collapseExpand:!0,selectAll:!0},labelEditable:!0,graph:{modes:{default:["clickNodeSelected","keydownMoveSelection","clickCanvasSelected","keydownEditLabel","panBlank","wheelChangeViewport","panMindNode","clickCollapsedButton","clickExpandedButton","hoverButton","hoverNodeActived","dblclickItemEditLabel"],readOnly:["clickNodeSelected","wheelChangeViewport","keydownMoveSelection","hoverNodeActived","panCanvas","clickExpandedButton","hoverButton","clickCanvasSelected"]},layout:new v.Layouts.Mindmap({direction:"H",getSubTreeSep:function(U){return U.children&&U.children.length>0?U.hierarchy<=2?8:2:0},getHGap:function(U){return U.hierarchy===1?8:U.hierarchy===2?24:18},getVGap:function(U){return U.hierarchy===1||U.hierarchy===2?24:2},getSide:function(U){return U.data.side?U.data.side:"right"}}),mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"mind-base",edgeDefaultShape:"mind-edge",minZoom:.2,maxZoom:2},align:{item:!1},rootShape:"mind-root",firstSubShape:"mind-first-sub",secondSubShape:"mind-second-sub",subShape:"mind-base",nodeDefaultShape:"mind-base",graphConstructor:v.Tree,defaultSide:"right"},G={};return m.each(b,function(U){m.mix(G,U.CFG)}),m.mix(!0,F,G,N),(I=r(this,c(E).call(this,F))).isMind=!0,I}var C,j,B;return function(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),I&&h(N,I)}(E,f),C=E,(j=[{key:"_init",value:function(){var N=this;o(c(E.prototype),"_init",this).call(this),m.each(b,function(K){K.INIT&&N[K.INIT]()});var I=this.getGraph(),F=this.get("defaultData"),G=I.get("mode"),U=I.getRootGroup().addGroup();if(this.set("hotAreaGroup",U),I.edge().shape(function(K){if(I.find(K.target).getModel().isPlaceholder)return"mind-placeholder-edge"}),F&&this.read(F),G==="default"){if(F){var H=this.getRoot(),Q=I.find(H.id);this.setSelected(Q,!0)}}else if(G==="readOnly"){var at=this.get("shortcut");at.append=!1,at.appendChild=!1,at.selectAll=!1,at.delete=!1}if(F){var $=this.getRoot();this.focus($.id)}}},{key:"bindEvent",value:function(){var N=this;o(c(E.prototype),"bindEvent",this).call(this);var I=this.get("_graph");I.on("keydown",function(F){F.domEvent.preventDefault()}),I.on("beforechange",function(F){F.action==="add"?N._beforeAdd(F):F.action==="changeData"&&N._beforeChangeData(F)}),I.on("aftersource",function(){N._setHierarchy()}),I.on("afterchange",function(){N._setHotArea()}),I.on("afteritemdraw",function(F){var G=F.item,U=G.getModel();if(G.isEdge){var H=G.getGraphicGroup();m.toBack(H,H.getParent()),H.setSilent("capture",!1)}U.parent||(G.isRoot=!0,G.deleteable=!1,G.collapseExpand=!1,G.appendable=!1,G.dragable=!1)}),this.on("beforedelete",function(F){var G=F.items[0],U=N._getBrothers(G),H=N._getNth(G);U[H-1]?N.setSelected(U[H-1].id,!0):U[H+1]?N.setSelected(U[H+1].id,!0):N.setSelected(G.getParent(),!0)}),this.on("afteritemselected",function(F){N._tryAdjustViewport(F.item)})}},{key:"getRoot",value:function(){return this.getGraph().getSource().roots[0]}},{key:"_setHierarchy",value:function(N){var I=this.getGraph(),F=this.get("firstSubShape"),G=this.get("secondSubShape"),U=this.get("defaultSide");if(N){var H=I.find(N.parent);if(H){var Q=H.getModel();N.hierarchy=Q.hierarchy+1,N.shape!=="mind-placeholder"&&(N.hierarchy===2&&(N.shape=F,N.side||(N.side=U)),N.hierarchy===3&&(N.shape=G))}}else(N=this.getRoot()).hierarchy=1;m.traverseTree(N,function(at,$){at.hierarchy=$.hierarchy+1,at.side||(at.side=U),$.side&&(at.side=$.side),at.hierarchy===2?at.shape=F:at.hierarchy===3&&(at.shape=G)},function(at){return at.children})}},{key:"getFirstChildrenBySide",value:function(N){var I=this.getRoot(),F=[];return I.children.forEach(function(G){G.side===N&&F.push(G)}),F}},{key:"_getNth",value:function(N){return this.getGraph().getNth(N)}},{key:"_getBrothers",value:function(N){return N.getParent().getModel().children}},{key:"_getMoveChildModel",value:function(N){if(N&&N.length>0){var I=N.length;return N[parseInt(I/2)]}}},{key:"_getVerticalMoveItem",value:function(N,I,F){for(var G,U=this.getGraph().getNodes(),H=N.getBBox(),Q=[H.minX,H.maxX],at=[],$=0;$<Q.length;$++)for(var K=Q[$],ot=0;ot<U.length;ot++){var it=U[ot],ht=it.getBBox();I(ht,H,K)&&at.push({long:F(ht,H),node:it})}return at.length>0&&(at.sort(function(St,gt){return St.long-gt.long}),G=at[0].node),G}},{key:"_arrowTopItem",value:function(N){var I=this._getBrothers(N),F=this._getNth(N);return I[F-1]?I[F-1]:this._getVerticalMoveItem(N,function(G,U,H){return G.centerY<U.centerY&&H<=G.maxX&&H>=G.minX},function(G,U){return U.centerY-G.centerY})}},{key:"_arrowBottomItem",value:function(N){var I=this._getBrothers(N),F=this._getNth(N);return I[F+1]?I[F+1]:this._getVerticalMoveItem(N,function(G,U,H){return G.centerY>U.centerY&&H<=G.maxX&&H>=G.minX},function(G,U){return G.centerY-U.centerY})}},{key:"_arrowLeftItem",value:function(N){var I=m.getMindNodeSide(N);if(N.isRoot){var F=this.getFirstChildrenBySide("left");return this._getMoveChildModel(F)}if(I==="left"){var G=N.getModel().children;return this._getMoveChildModel(G)}return N.getParent()}},{key:"_arrowRightItem",value:function(N){var I=m.getMindNodeSide(N);if(N.isRoot){var F=this.getFirstChildrenBySide("right");return this._getMoveChildModel(F)}if(I==="right"){var G=N.getModel().children;return this._getMoveChildModel(G)}return N.getParent()}},{key:"_moveItemSelection",value:function(N){var I=this.getGraph(),F=this.getSelected()[0];if(F){var G,U=N.domEvent,H=m.getKeyboradKey(U);H!=="ArrowUp"||F.isRoot?H!=="ArrowDown"||F.isRoot?H==="ArrowLeft"?G=this._arrowLeftItem(F):H==="ArrowRight"&&(G=this._arrowRightItem(F)):G=this._arrowBottomItem(F):G=this._arrowTopItem(F),G&&(G=I.find(G.id)).isVisible()&&(this.clearSelected(),this.setSelected(G,!0))}}},{key:"showLabelEditor",value:function(N){var I=N.domEvent,F=this.getSelected()[0],G=m.getKeyboradKey(I);if(F&&G.length===1&&!I.metaKey&&!I.ctrlKey){var U=this.get("labelTextArea");F&&(this.beginEditLabel(F),U.innerHTML=G,m.setEndOfContenteditable(U))}}},{key:"_tryAdjustViewport",value:function(N){var I=this.get("_graph"),F=N.getBBox(),G={x:F.minX,y:F.minY},U={x:F.maxX,y:F.maxY},H=I.getDomPoint(G),Q=I.getDomPoint(U),at=I.getWidth(),$=I.getHeight();H.x<0&&I.translate(16-H.x,0),H.y<0&&I.translate(0,16-H.y),Q.x>at&&I.translate(at-Q.x-16,0),Q.y>$&&I.translate(0,$-Q.y-16)}},{key:"_beforeChangeData",value:function(N){var I=N.data.roots[0],F=this.get("rootShape");I.shape=F,this._setHierarchy(I)}},{key:"_beforeAdd",value:function(N){var I=this.get("_graph"),F=N.model,G=I.find(F.parent);G.getModel().collapsed&&I.update(G,{collapsed:!1}),this._setHierarchy(F)}},{key:"_drawHotAreaShape",value:function(){var N=this.get("_graph"),I=this.get("hotAreaGroup"),F=this.get("hotAreas");I.clear(),F.forEach(function(G){I.addShape("rect",{attrs:{x:G.minX,y:G.minY,width:G.maxX-G.minX,height:G.maxY-G.minY,fill:G.color,fillOpacity:.4},capture:!1})}),N.draw()}},{key:"_setHotArea",value:function(){var N=[],I=this.get("_graph"),F=this.getRoot(),G="placeholder",U=this.get("showHotArea"),H=I.find(F.id).getBBox();N.push({minX:H.minX-90,minY:H.minY-60,maxX:(H.minX+H.maxX)/2,maxY:H.maxY+60,parent:F,current:F,id:F.id+"left"+G,nth:F.children.length,side:"left",color:"orange"}),N.push({minX:(H.minX+H.maxX)/2,minY:H.minY-60,maxX:H.maxX+90,maxY:H.maxY+60,parent:F,current:F,id:F.id+"right"+G,nth:F.children.length,side:"right",color:"pink"}),m.traverseTree(F,function(Q,at,$){var K=I.find(Q.id);if(!Q.isPlaceholder&&K&&K.isVisible()){var ot=function(_t,Nt,At){var It=At.children,dt=_t;if(!At.parent)for(;It[dt]&&It[dt].side!==Nt.side;)dt++;for(;It[dt]&&It[dt].isPlaceholder;)dt++;if(It[dt]&&It[dt].side===Nt.side)return It[dt]}($+1,Q,at),it=function(_t,Nt,At){var It=At.children,dt=_t;if(!At.parent)for(;It[dt]&&It[dt].side!==Nt.side;)dt--;for(;It[dt]&&It[dt].isPlaceholder;)dt--;if(It[dt]&&It[dt].side===Nt.side)return It[dt]}($-1,Q,at),ht=I.find(Q.id).getBBox(),St=at.children,gt=Q.hierarchy===2&&Q.side==="right",bt=Q.hierarchy===2&&Q.side==="left";if(it||N.push({minX:gt?ht.minX-90:ht.minX,minY:function(){var _t=it?ht.minY:ht.minY-16;return St[$-1]&&St[$-1].isPlaceholder&&St[$-1].side===Q.side&&(_t=I.find(St[$-1].id).getBBox().minY),_t}(),maxX:bt?ht.maxX+90:ht.maxX,maxY:(ht.minY+ht.maxY)/2,parent:at,id:(it?it.id:void 0)+Q.id+at.id+G,side:Q.side,color:"yellow",nth:$}),ot){var mt=I.find(ot.id).getBBox();N.push({minX:Q.side==="left"?Math.max(ht.minX,mt.minX):gt?ht.minX-90:ht.minX,minY:(ht.minY+ht.maxY)/2,maxX:Q.side==="right"?Math.min(ht.maxX,mt.maxX):bt?ht.maxX+90:ht.maxX,maxY:(mt.minY+mt.maxY)/2,parent:at,id:Q.id+(ot?ot.id:void 0)+at.id+G,side:Q.side,color:"blue",nth:$+1})}else N.push({minX:gt?ht.minX-90:ht.minX,minY:(ht.minY+ht.maxY)/2,maxX:bt?ht.maxX+90:ht.maxX,maxY:function(){var _t=ht.maxY+16;return St[$+1]&&St[$+1].isPlaceholder&&St[$+1].side===Q.side&&(_t=I.find(St[$+1].id).getBBox().maxY),_t}(),parent:at,id:Q.id+void 0+at.id+G,color:"red",nth:$+1,addOrder:"push",side:Q.side});if(!Q.children||Q.children.length===0||Q.children.length===1&&Q.children[0].isPlaceholder){var vt;vt=Q.x>at.x?{minX:ht.maxX,minY:ht.minY-0,maxX:ht.maxX+100,maxY:ht.maxY+0}:{minX:ht.minX-100,minY:ht.minY-0,maxX:ht.minX,maxY:ht.maxY+0},N.push(a({},vt,{parent:Q,id:NaN+Q.id+G,nth:0,color:"green",side:Q.side,addOrder:"push"}))}}},function(Q){return Q.children}),this.set("hotAreas",N),U&&this._drawHotAreaShape()}},{key:"hideHotArea",value:function(){var N=this.get("_graph");this.get("hotAreaGroup").clear(),N.draw(),this.set("showHotArea",!1)}},{key:"showHotArea",value:function(){this._drawHotAreaShape(),this.set("showHotArea",!0)}},{key:"getHotArea",value:function(N){var I;return this.get("hotAreas").forEach(function(F){if(N.x>F.minX&&N.x<F.maxX&&N.y>F.minY&&N.y<F.maxY)return I=F,!1}),I}},{key:"saveExpandImage",value:function(N){var I,F,G,U=this,H=this.getGraph(),Q=H.getBBox(),at=H.getFitViewPadding();return H.saveImage(a({width:Q.width+at[1]+at[3],height:Q.height+at[0]+at[2],beforeTransform:function(){var $=H.getNodes();(I=$.filter(function(K){return K.getModel().collapsed}).map(function(K){return K.getModel().id})).forEach(function(K){H.update(K,{collapsed:!1})}),H.layout(),F=U.getSelected().map(function(K){return K.id}),G=U.getSelected().map(function(K){return K.id}),U.clearSelected(),U.clearActived()},afterTransform:function(){I.forEach(function($){H.update($,{collapsed:!0})}),U.setSelected(F,!0),U.setActived(G,!0)}},N))}},{key:"save",value:function(){var N=this.get("_graph").save();return N.roots.forEach(function(I){m.traverseTree(I,function(F){delete F.x,delete F.y,delete F.width,delete F.height,delete F.parent,delete F.nth,delete F.hierarchy,delete F.index,delete F.shape},function(F){return F.children},!0)}),N}}])&&i(C.prototype,j),B&&i(C,B),E}();m.each(b,function(O){m.mix(M.prototype,O.AUGMENT)}),f.setRegister(M,"mind","page"),d.exports=M},function(d,y,p){function n(r,o){for(var c=0;c<o.length;c++){var h=o[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}function a(r,o,c){return o&&n(r.prototype,o),c&&n(r,c),r}var u=p(7).Util,i=function(){function r(o){(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,r);var c=this.getDefaultCfg();u.mix(!0,this,c,o),this.init()}return a(r,[{key:"getDefaultCfg",value:function(){return{}}}]),a(r,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),r}();d.exports=i},function(d,y,p){function n(u,i,r){return i in u?Object.defineProperty(u,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[i]=r,u}var a=function(u){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable}))),o.forEach(function(c){n(u,c,r[c])})}return u}({},p(4),{getMindNodeSide:function(u){var i=u.getModel();if(i.side)return i.side;var r=u.getParent();return r?r.getModel().side?r.getModel().side:a.getMindNodeSide(r):void 0}});d.exports=a},function(d,y,p){function n(v){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function a(v,f){return!f||n(f)!=="object"&&typeof f!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(v):f}function u(v){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}function i(v,f){return(i=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m})(v,f)}var r=p(1),o=p(16),c=p(19),h=function(v){function f(m){var b;(function(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")})(this,f);var M={graph:{modes:{default:["panBlank","hoverGroupActived","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelChangeViewport","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint","dragEdgeControlPoint"],add:["dragPanelItemAddNode"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"flow-base",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-base"},linkNode:!1};return c.mix(!0,M,{},m),(b=a(this,u(f).call(this,M))).isFlow=!0,b}return function(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),b&&i(m,b)}(f,o),f}();r.setRegister(h,"flow","diagram"),d.exports=h},function(d,y,p){function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}function a(m,b){for(var M=0;M<b.length;M++){var O=b[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function u(m,b){return!b||n(b)!=="object"&&typeof b!="function"?function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(m):b}function i(m,b,M){return(i=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(O,E,C){var j=function(N,I){for(;!Object.prototype.hasOwnProperty.call(N,I)&&(N=r(N))!==null;);return N}(O,E);if(j){var B=Object.getOwnPropertyDescriptor(j,E);return B.get?B.get.call(C):B.value}})(m,b,M||m)}function r(m){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(m)}function o(m,b){return(o=Object.setPrototypeOf||function(M,O){return M.__proto__=O,M})(m,b)}var c=p(16),h=p(1),v=p(6),f=function(m){function b(C){var j;(function(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")})(this,b);var B={graph:{modes:{default:["panBlank","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","hoverNodeActived","hoverEdgeActived","hoverButton","wheelChangeViewport","keydownShiftMultiSelected","panItem","hoverNodeShowArrowController","hoverEdgeControlPoint","dragEdgeControlPoint","bpmnMoveEdgeController"],add:["dragPanelItemAddNode","processAddEdge"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"bpmn-base",edgeDefaultShape:"bpmn-base"},arrowController:{thickness:32,long:32,controllers:[]}};return v.mix(!0,B,{},C),(j=u(this,r(b).call(this,B))).isBPMN=!0,j}var M,O,E;return function(C,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(j&&j.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),j&&o(C,j)}(b,c),M=b,(O=[{key:"_init",value:function(){i(r(b.prototype),"_init",this).call(this),this._initArrowController()}},{key:"_createArrowController",value:function(C,j){var B=this,N=this.get("arrowController").controllers,I=v.createDOM('<div class="g6-bpmn-arrow"><svg t="1543840367375" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1061" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32"><defs><style type="text/css"></style></defs><path d="M906.77248 512c0 4.77184-2.21184 9.2672-5.9904 12.17536l-376.5248 289.4848c-2.7648 2.11968-6.06208 3.18464-9.3696 3.18464-3.25632 0-6.5024-1.03424-9.24672-3.09248-5.50912-4.15744-7.5776-11.48928-5.03808-17.90976l75.71456-191.67232L132.58752 604.17024c-8.48896 0-15.36-6.88128-15.36-15.36l0-153.6c0-8.48896 6.87104-15.36 15.36-15.36l443.72992 0-75.71456-191.68256c-2.53952-6.42048-0.47104-13.75232 5.04832-17.90976 5.50912-4.15744 13.12768-4.13696 18.60608 0.09216l376.5248 289.4848C904.56064 502.7328 906.77248 507.22816 906.77248 512z" p-id="1062" fill="#34B7EF"></path></svg></div>',{visibility:"hidden",width:C+"px",height:j+"px",position:"absolute"});return I.setAttribute("draggable","true"),v.addEventListener(I,"dragstart",function(){var F=I.hoverNode,G={shape:"bpmn-base",source:F.id,anchorIndex:I.getAttribute("anchorIndex")},U=F.getBBox(),H=B.getDelegation([{isEdge:!0}]);B.setSignal("dragEdge",!0),B.beginAdd("edge",G),B.set("addEdgeConfig",{addModel:G,delegation:H,startPoint:{x:U.centerX,y:U.centerY},sourceItem:F}),B.hideArrowController()}),N.push(I),I}},{key:"showArrowController",value:function(C){this.get("arrowController").controllers.forEach(function(j){j.show(),j.hoverNode=C})}},{key:"hideArrowController",value:function(){this.get("arrowController").controllers.forEach(function(C){C.hide()})}},{key:"_initArrowController",value:function(){var C=this.getGraph().getGraphContainer(),j=this.get("arrowController"),B=j.thickness,N=j.long,I=this._createArrowController(B,N),F=this._createArrowController(B,N),G=this._createArrowController(N,B),U=this._createArrowController(N,B);C.appendChild(I),C.appendChild(F),C.appendChild(G),C.appendChild(U),j.topArrow=I,j.bottomArrow=F,j.leftArrow=G,j.rightArrow=U}},{key:"bindEvent",value:function(){var C=this;i(r(b.prototype),"bindEvent",this).call(this);var j=this.getGraph();j.on("beforepanitem",function(){C.hideArrowController()}),j.on("afterviewportchange",function(){C.hideArrowController()})}}])&&a(M.prototype,O),E&&a(M,E),b}();h.setRegister(f,"bpmn","diagram"),d.exports=f},function(d,y,p){function n(C){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(C)}function a(C,j){for(var B=0;B<j.length;B++){var N=j[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(C,N.key,N)}}function u(C,j){return!j||n(j)!=="object"&&typeof j!="function"?function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(C):j}function i(C,j,B){return(i=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(N,I,F){var G=function(H,Q){for(;!Object.prototype.hasOwnProperty.call(H,Q)&&(H=r(H))!==null;);return H}(N,I);if(G){var U=Object.getOwnPropertyDescriptor(G,I);return U.get?U.get.call(F):U.value}})(C,j,B||C)}function r(C){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(C)}function o(C,j){return(o=Object.setPrototypeOf||function(B,N){return B.__proto__=N,B})(C,j)}var c=p(7),h=p(1),v=p(2),f=p(65),m=p(66),b=p(68),M=p(72),O=[f,p(73),M,m,b,p(74)],E=function(C){function j(F){var G;(function(Q,at){if(!(Q instanceof at))throw new TypeError("Cannot call a class as a function")})(this,j);var U={shortcut:{copy:!0,paste:!0,selectAll:!0,addGroup:!0,unGroup:!0},graph:{minZoom:.2,maxZoom:2},graphConstructor:c.Graph,noEndEdge:!0},H={};return v.each(O,function(Q){v.mix(H,Q.CFG)}),v.mix(!0,U,H,F),(G=u(this,r(j).call(this,U))).isFlow=!0,G}var B,N,I;return function(F,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(G&&G.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),G&&o(F,G)}(j,h),B=j,(N=[{key:"_init",value:function(){var F=this;i(r(j.prototype),"_init",this).call(this),v.each(O,function(G){G.INIT&&F[G.INIT]()})}},{key:"bindEvent",value:function(){var F=this;i(r(j.prototype),"bindEvent",this).call(this),this.on("beforeitemactived",function(G){var U=G.item,H=F.get("_graph").getShapeObj(U).getActivedOutterStyle(U);U.isNode&&F.addOutterShape(U,H)}),this.on("beforeitemunactived",function(G){var U=G.item;(U.isNode||U.isGroup)&&F.clearOutterShape(U)}),this.on("beforeitemselected",function(G){var U=G.item,H=F.get("_graph").getShapeObj(U).getSelectedOutterStyle(U);(U.isNode||U.isGroup)&&F.addOutterShape(U,H)}),this.on("beforeitemunselected",function(G){var U=G.item;(U.isNode||U.isGroup)&&F.clearOutterShape(U)})}}])&&a(B.prototype,N),I&&a(B,I),j}();v.each(O,function(C){v.mix(E.prototype,C.AUGMENT)}),h.setRegister(E,"diagram","page"),d.exports=E},function(d,y){d.exports={gridStyle:{stroke:"#A3B1BF",lineWidth:.5},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab"},wheelPanRatio:.3,alignLineStyle:{stroke:"#FA8C16",lineWidth:1},nodeDelegationStyle:{stroke:"#1890FF",fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},edgeDelegationStyle:{stroke:"#1890FF",lineDash:[4,4],lineWidth:1}}},function(d,y,p){var n=p(18);p(32),p(33),d.exports=n},function(d,y,p){var n=p(13);p(75),p(80),d.exports=n},function(d,y,p){function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}function a(m,b){for(var M=0;M<b.length;M++){var O=b[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function u(m,b){return!b||n(b)!=="object"&&typeof b!="function"?function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(m):b}function i(m,b,M){return(i=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(O,E,C){var j=function(N,I){for(;!Object.prototype.hasOwnProperty.call(N,I)&&(N=r(N))!==null;);return N}(O,E);if(j){var B=Object.getOwnPropertyDescriptor(j,E);return B.get?B.get.call(C):B.value}})(m,b,M||m)}function r(m){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(m)}function o(m,b){return(o=Object.setPrototypeOf||function(M,O){return M.__proto__=O,M})(m,b)}var c=p(1),h=p(16),v=p(24),f=function(m){function b(C){var j;(function(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")})(this,b);var B={graph:{modes:{default:["panBlank","hoverGroupActived","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelChangeViewport","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint","dragEdgeControlPoint"],add:["dragPanelItemAddNode","processAddEdge"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"circle",nodeDefaultShape:"koni-base",edgeDefaultShape:"koni-base",groupDefaultShape:"koni-base",minZoom:.5,maxZoom:2},orbit:{satellite:["forkAndLink"]},anchorLink:!1,noEndEdge:!1};return v.mix(!0,B,{},C),(j=u(this,r(b).call(this,B))).isKoni=!0,j}var M,O,E;return function(C,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(j&&j.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),j&&o(C,j)}(b,h),M=b,(O=[{key:"bindEvent",value:function(){i(r(b.prototype),"bindEvent",this).call(this);var C=this.getGraph();C.on("afterchange",function(j){var B=j.item,N=j.action,I=j.originModel,F=j.updateModel;if(B&&B.isEdge){if(N==="add"||N==="remove"){var G=B.getSource(),U=B.getTarget();v.getParallelEdges(G,U,!0).forEach(function(ht){ht.update()})}else if(N==="update"){var H=C.find(I.source),Q=C.find(I.target),at=[];if(v.getParallelEdges(H,Q,!0).forEach(function(ht){ht.update()}),v.isNil(F.target)&&!v.isNil(F.source)){var $=C.find(F.source);at=v.getParallelEdges($,Q,!0)}else if(!v.isNil(F.target)&&v.isNil(F.source)){var K=C.find(F.target);at=v.getParallelEdges(H,K,!0)}else if(!v.isNil(F.target)&&!v.isNil(F.source)){var ot=C.find(F.source),it=C.find(F.target);at=v.getParallelEdges(ot,it,!0)}at.forEach(function(ht){ht.update()})}}N==="changeData"&&C.getEdges().forEach(function(ht){ht.update()}),C.draw()})}}])&&a(M.prototype,O),E&&a(M,E),b}();c.setRegister(f,"koni","diagram"),d.exports=f},function(d,y,p){function n(b){for(var M=1;M<arguments.length;M++){var O=arguments[M]!=null?arguments[M]:{},E=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(O).filter(function(C){return Object.getOwnPropertyDescriptor(O,C).enumerable}))),E.forEach(function(C){a(b,C,O[C])})}return b}function a(b,M,O){return M in b?Object.defineProperty(b,M,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[M]=O,b}var u=p(6),i={};function r(b){return b.getCurrentPage().getSelected().length>0}function o(b){var M=b.getCurrentPage();this.snapShot=M.save(),this.selectedItems=M.getSelected().map(function(O){return O.id}),this.method&&(u.isString(this.method)?M[this.method]():this.method(b))}function c(b){var M=b.getCurrentPage();M.read(this.snapShot),M.setSelected(this.selectedItems,!0)}function h(b){return b.getCurrentPage().getMode()!==this.toMode}function v(b){var M=b.getCurrentPage();this.fromMode=M.getMode(),M.changeMode(this.toMode)}function f(b){b.getCurrentPage().changeMode(this.fromMode)}function m(b){var M={},O=[];return b.forEach(function(E){var C=E.model,j=u.mix(!0,{},n({},C,{id:u.guid()}));M[C.id]=j.id,O.push(n({},E,{model:j}))}),O.forEach(function(E){var C=E.model;if(C.parent){var j=M[C.parent];j?C.parent=j:delete C.parent}}),O.sort(function(E,C){return E.index-C.index}),O}i.list=[],i.registerCommand=function(b,M,O){if(i[b])u.mix(i[b],M);else{var E=n({enable:function(){return!0},init:function(){},execute:o,back:c,shortcutCodes:void 0,executeTimes:1,name:b,queue:!0},M);O&&i[O]&&(E=u.mix({},i[O],M)),i[b]=E,i.list.push(E)}},i.execute=function(b,M,O){var E=u.mix(!0,{},i[b],O),C=M.get("_command");return E.enable(M)&&(E.init(),E.queue&&(C.queue.splice(C.current,C.queue.length-C.current,E),C.current+=1),M.emit("beforecommandexecute",{command:E}),E.execute(M),M.emit("aftercommandexecute",{command:E}),M.setCommandDOMenable()),E},i.enable=function(b,M){return i[b].enable(M)},i.registerCommand("common",{back:c}),i.registerCommand("copyAdjacent",{enable:function(){return this.copyNode&&this.copyNode.isNode&&this.x&&this.y},execute:function(b){var M=this.copyNode,O=b.getCurrentPage(),E=O.getGraph(),C=M.getModel(),j=u.clone(C);j.id=u.guid(),j.x=this.x,j.y=this.y;var B=E.add("node",j),N=E.add("edge",{source:C.id,target:j.id});this.executeTimes===1&&(this.addIds=[B.id,N.id],this.page=O)},back:function(){var b=this.page.getGraph();this.addIds.forEach(function(M){b.remove(M)})}}),i.registerCommand("add",{enable:function(){return this.type&&this.addModel},execute:function(b){var M=b.getCurrentPage(),O=M.getGraph().add(this.type,this.addModel);this.executeTimes===1&&(this.addId=O.id,this.page=M)},back:function(){this.page.getGraph().remove(this.addId)}}),i.registerCommand("update",{enable:function(){return this.itemId&&this.updateModel},execute:function(b){var M=b.getCurrentPage(),O=M.getGraph(),E=O.find(this.itemId);this.executeTimes===1&&(this.originModel=u.getContrast(E.getModel(),this.updateModel),this.page=M),O.update(E,this.updateModel)},back:function(){var b=this.page.getGraph(),M=b.find(this.itemId);b.update(M,this.originModel)}}),i.registerCommand("redo",{queue:!1,enable:function(b){var M=b.get("_command"),O=M.queue;return M.current<O.length},execute:function(b){var M=b.get("_command");M.queue[M.current].execute(b),M.current+=1},shortcutCodes:[["metaKey","shiftKey","z"],["ctrlKey","shiftKey","z"]]}),i.registerCommand("undo",{queue:!1,enable:function(b){return b.get("_command").current>0},execute:function(b){var M=b.get("_command"),O=M.queue[M.current-1];O.executeTimes++,O.back(b),M.current-=1},shortcutCodes:[["metaKey","z"],["ctrlKey","z"]]}),i.registerCommand("copy",{queue:!1,enable:r,method:function(b){var M=b.getCurrentPage().getSelected(),O=b.get("_command"),E=M.map(function(j){return j.getGraphicGroup()}),C=u.getChildrenBBox(E);O.clipboard=[],M.forEach(function(j){u.traverseTree(j,function(B){var N=B.getModel(),I=B.getGraphicGroup();O.clipboard.push({type:B.type,index:u.getIndex(I),model:N})},function(B){return B.getChildren&&B.getChildren()},!0)}),b.set("copyCenterBox",n({},C))}}),i.registerCommand("pasteHere",{enable:function(b){return b.get("_command").clipboard.length>0},method:function(b){var M=b.getCurrentPage(),O=b.get("_command"),E=this.pasteData?this.pasteData:m(O.clipboard),C=this.copyCenterBox?this.copyCenterBox:b.get("copyCenterBox"),j=this.contextmenuPoint?this.contextmenuPoint:b.get("contextmenuPoint");M.clearSelected(),this.copyCenterBox=u.clone(C),this.pasteData=u.clone(E),this.contextmenuPoint=u.clone(j),E.forEach(function(B){var N=B.model;N.x&&(N.x+=j.x-C.minX),N.y&&(N.y+=j.y-C.minY),M.add(B.type,N)})},back:c}),i.registerCommand("paste",{enable:function(b){return b.get("_command").clipboard.length>0},method:function(b){var M=b.getCurrentPage(),O=b.get("_command"),E=this.pasteData?this.pasteData:m(O.clipboard);M.clearSelected(),this.pasteData=u.clone(E),E.forEach(function(C){var j=C.model;j.x&&(j.x+=10),j.y&&(j.y+=10),M.add(C.type,j)})},back:c}),i.registerCommand("addGroup",{init:function(){this.addGroupId=u.guid()},enable:function(b){return b.getCurrentPage().getSelected().length>1},method:function(b){b.getCurrentPage().addGroup({id:this.addGroupId})},back:c}),i.registerCommand("unGroup",{enable:function(b){var M=b.getCurrentPage().getSelected();return M.length===1&&M[0].isGroup},method:"unGroup",back:c}),i.registerCommand("delete",{getDeleteItems:function(b){var M=b.getCurrentPage(),O=M.getGraph(),E=this.itemIds?this.itemIds.map(function(C){return O.find(C)}):M.getSelected();return E=E.filter(function(C){return C.deleteable!==!1})},enable:function(b){return this.getDeleteItems(b).length>0},method:function(b){var M=b.getCurrentPage(),O=this.getDeleteItems(b),E=M.getGraph();M.emit("beforedelete",{items:O}),u.each(O,function(C){E.remove(C)}),M.emit("afterdelete",{items:O}),this.itemIds=O.map(function(C){return C.getModel().id})},back:c,shortcutCodes:["Delete","Backspace"]}),i.registerCommand("selectAll",{method:function(b){var M=b.getCurrentPage();M.getGraph().getItems().forEach(function(O){M.setSelected(O,!0)})},back:c,shortcutCodes:[["metaKey","a"]]}),i.registerCommand("toBack",{enable:r,method:"toBack",back:c}),i.registerCommand("toFront",{enable:r,method:"toFront",back:c}),i.registerCommand("clear",{enable:function(b){return b.getCurrentPage().getItems().length>0},method:"clear",back:c}),i.registerCommand("multiSelect",{enable:h,toMode:"multiSelect",execute:v,back:f}),i.registerCommand("move",{enable:h,toMode:"move",execute:v,back:f}),d.exports=i},function(d,y,p){d.exports=p(2)},function(d,y,p){"use strict";p.r(y),p.d(y,"mouseEnterEdge",function(){return a}),p.d(y,"mouseLeaveEdge",function(){return u}),p.d(y,"startMove",function(){return i}),p.d(y,"endMove",function(){return r}),p.d(y,"mouseMoveEdge",function(){return o}),p.d(y,"mergeLine",function(){return c});var n=p(0);function a(h){var v=h.graph,f=h.bpmn,m=h.ev,b=h.backUpCursor,M=m.item,O=M.model.controlPoints,E=Object(n.e)({x:m.x,y:m.y},O),C=E.index,j=E.vertical;C!=null&&(b&&(M._cursor=f.getGraph().getMouseEventWrapper().style.cursor),v.update(M,{hold:{index:C,vertical:j}}),j?f.css({cursor:"col-resize"}):f.css({cursor:"row-resize"}))}function u(h){var v=h.graph,f=h.bpmn,m=h.item;m._cursor&&f.css({cursor:m._cursor}),delete m._cursor,v.update(m,{hold:void 0})}function i(h,v){var f=v.item;h.update(f,{lastMouse:{x:v.x,y:v.y}})}function r(h){var v=h.graph,f=h.item;v.update(f,{lastMouse:void 0,moveDelta:void 0})}function o(h,v,f){var m;m=v.model&&v.model.hold&&v.model.hold.vertical?{x:f.x-v.model.lastMouse.x,y:0}:{x:0,y:f.y-v.model.lastMouse.y},h.update(v,{edgeMoved:m,modifiedByMouse:!0})}function c(h,v,f){var m,b=h.model,M=v||b.hold.index,O=b.controlPoints;f===null&&(f=b.hold.vertical);var E=[];return M>=2&&(f?Math.abs(O[M-2].x-O[M].x)<=3&&(m=[{x:O[M-2].x,y:O[M-2].y},{x:O[M-2].x,y:O[M+1].y}],E.push(M-1,M),b.hold.index=M-2,b.controlPoints[M+1].x=O[M-2].x):Math.abs(O[M-2].y-O[M].y)<=3&&(m=[{x:O[M-2].x,y:O[M-2].y},{x:O[M+1].x,y:O[M-2].y}],E.push(M-1,M),b.hold.index=M-2,b.controlPoints[M+1].y=O[M-2].y)),M<=O.length-4&&(f?Math.abs(O[M].x-O[M+2].x)<=3&&(m?(m[1]={x:O[M-2].x,y:O[M+3].y},b.controlPoints[M+3].x=O[M-2].x):(m=[{x:O[M+3].x,y:O[M].y},{x:O[M+3].x,y:O[M+3].y}],b.controlPoints[M].x=O[M+3].x),E.push(M+1,M+2)):Math.abs(O[M].y-O[M+2].y)<=3&&(m?(m[1]={x:O[M+3].x,y:O[M-2].y},b.controlPoints[M+3].y=O[M-2].y):(m=[{x:O[M].x,y:O[M+3].y},{x:O[M+3].x,y:O[M+3].y}],b.controlPoints[M].y=O[M+3].y),E.push(M+1,M+2))),E&&E.length&&O.splice(E[0],E.length),m}},function(d,y,p){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function a(f,m){return!m||n(m)!=="object"&&typeof m!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(f):m}function u(f){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(f)}function i(f,m){for(var b=0;b<m.length;b++){var M=m[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function r(f,m,b){return m&&i(f.prototype,m),b&&i(f,b),f}function o(f,m){return(o=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(f,m)}var c=p(27),h=p(6),v=function(f){function m(b){var M;(function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")})(this,m);var O=(M=a(this,u(m).call(this))).getDefaultCfg();return M._cfg=h.mix(!0,{},M._cfg,O,b),M}return function(b,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(M&&M.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),M&&o(b,M)}(m,c),r(m,[{key:"getDefaultCfg",value:function(){return{}}}]),r(m,[{key:"get",value:function(b){return this._cfg[b]}},{key:"set",value:function(b,M){this._cfg[b]=M}},{key:"destroy",value:function(){this._cfg={},this.destroyed=!0}}]),m}();d.exports=v},function(d,y,p){function n(u,i,r){return i in u?Object.defineProperty(u,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[i]=r,u}var a=p(4);d.exports=function(u){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable}))),o.forEach(function(c){n(u,c,r[c])})}return u}({},a,{getParallelEdges:function(u,i){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.getEdges().filter(function(o){var c=o.getModel();return c.target===i.id||r&&c.source===i.id})},object2array:function(u){var i=[];return a.each(u,function(r){i.push(r)}),i}})},function(d,y,p){function n(v){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function a(v,f){for(var m=0;m<f.length;m++){var b=f[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function u(v,f){return!f||n(f)!=="object"&&typeof f!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(v):f}function i(v){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}function r(v,f){return(r=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m})(v,f)}var o=p(9),c=p(2),h=function(v){function f(){return function(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")}(this,f),u(this,i(f).apply(this,arguments))}var m,b,M;return function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),E&&r(O,E)}(f,o),m=f,(b=[{key:"getDefaultCfg",value:function(){return{name:"",render:function(){return"<button>satellite</button>"},bindEvent:function(){return[]}}}},{key:"_renderDOM",value:function(){var O=c.createDOM(this.render(this.diagram));return this.dom=O,O.isSatellite=!0,O}},{key:"getDOM",value:function(){return this.dom||this._renderDOM()}},{key:"init",value:function(){var O=this.getDOM(),E=this.diagram.getGraph().getGraphContainer();O&&(O.css({position:"absolute",visibility:"hidden"}),E.appendChild(O),O&&this.bindEvent(O,this.diagram))}},{key:"enable",value:function(){return!0}},{key:"show",value:function(){this.getDOM().show()}},{key:"hide",value:function(){this.getDOM().hide()}},{key:"isVisible",value:function(){return this.getDOM().style.visibility!=="hidden"}},{key:"destroy",value:function(){var O=this.events;O&&O.forEach(function(E){E.remove()})}}])&&a(m.prototype,b),M&&a(m,M),f}();d.exports=h},function(d,y,p){d.exports=p(2)},function(d,y,p){var n=p(26),a=p(6),u=p(15);p(7),n.Editor=n,n.Util=a,n.Diagram=p(16),n.Page=p(1),n.Flow=p(95),n.Koni=p(102),n.Mind=p(107),n.Toolbar=p(121),n.Contextmenu=p(122),n.Command=p(15),n.BPMN=p(123),n.registerBehaviour=n.Page.registerBehaviour,n.registerNode=n.Page.registerNode,n.registerEdge=n.Page.registerEdge,n.registerGroup=n.Page.registerGroup,n.registerGuide=n.Page.registerGuide,n.registerCommand=u.registerCommand,d.exports=n},function(d,y,p){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function a(f,m){for(var b=0;b<m.length;b++){var M=m[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function u(f,m){return!m||n(m)!=="object"&&typeof m!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(f):m}function i(f){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(f)}function r(f,m){return(r=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(f,m)}var o=p(21),c=p(6),h=p(15),v=function(f){function m(){return function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,m),u(this,i(m).apply(this,arguments))}var b,M,O;return function(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),C&&r(E,C)}(m,o),b=m,(M=[{key:"getDefaultCfg",value:function(){return{_components:[],_command:{zoomDelta:.1,queue:[],current:0,clipboard:[]}}}},{key:"_getComponentsBy",value:function(E){return this.get("_components").filter(E)}},{key:"_bindCommands",value:function(E){var C=this;c.each(E,function(j){var B=j.dataset,N=B.command;h[N]?c.addEventListener(j,"click",function(){C.getCurrentPage().focusGraphWrapper(),C.executeCommand(N,B)}):console.warn("\u8BF7\u8BBE\u7F6E\u6709\u6548\u7684\u547D\u4EE4\uFF01")})}},{key:"getCommands",value:function(){return this.get("_command").queue}},{key:"getCurrentCommand",value:function(){var E=this.get("_command");return E.queue[E.current-1]}},{key:"executeCommand",value:function(E,C){c.isString(E)?h.execute(E,this,C):h.execute("common",this,{method:E},C)}},{key:"commandEnable",value:function(E){return h.enable(E,this)}},{key:"setCommandDOMenable",value:function(){var E=this,C=this.getComponentsByType("toolbar"),j=this.getComponentsByType("contextmenu"),B=[];C.forEach(function(N){c.each(N.getCommandDoms(),function(I){B.push(I)})}),j.forEach(function(N){c.each(N.getCommandDoms(),function(I){B.push(I)})}),c.each(B,function(N){var I=N.dataset.command;h.enable(I,E)?N.classList.remove("disable"):N.classList.add("disable")})}},{key:"_onPageStatusChange",value:function(){this.setCommandDOMenable()}},{key:"_afterAddContextmenu",value:function(){this.getCurrentPage()&&this.setCommandDOMenable()}},{key:"_afterAddPage",value:function(E){var C=this;this.setCommandDOMenable(),E.on("statuschange",function(j){C._onPageStatusChange(j)}),E.on("mousedown",function(){C.getComponentsByType("contextmenu").forEach(function(j){j.hide()})}),E.on("contextmenu",function(j){var B=C.getComponentsByType("contextmenu"),N=E.getGraph().getCanvas().get("el"),I=c.getBoundingClientRect(N),F={x:j.x,y:j.y},G=j.item;G&&!G.isSelected&&(E.clearSelected(),E.setSelected(j.item,!0)),C.set("contextmenuPoint",F),j.domEvent.preventDefault(),B.forEach(function(U){U.show(),U.contextmenuPoint=F,U.move(I.left+j.domX,I.top+j.domY)})}),E.on("statuschange",function(j){C.getComponentsByType("contextmenu").forEach(function(B){B.switch(j.status)})}),this._bindShortcut(E)}},{key:"_beforeAddToolbar",value:function(E){var C=E.getCommandDoms();this._bindCommands(C)}},{key:"_beforeAddContextmenu",value:function(E){var C=E.getCommandDoms();E.bindEvent(),this._bindCommands(C)}},{key:"getComponentsByType",value:function(E){return this._getComponentsBy(function(C){return C.type===E})}},{key:"getCurrentPage",value:function(){var E,C=this.getComponentsByType("page");return C.every(function(j){return!j.isActived||(E=j,!1)}),E||(E=C[0]),E}},{key:"getComponents",value:function(){return this.get("_components")}},{key:"_shortcutEnable",value:function(E,C){for(var j=E.shortcutCodes,B=c.getKeyboradKey(C),N=!1,I=0;I<j.length;I++){var F=j[I];if(c.isArray(F)){for(var G=F.length,U=!0,H=0;H<G-1;H++)if(!C[F[H]]){U=!1;break}F[G-1]!==B&&F[G-1]!==c.lowerFirst(B)||!U||(N=!0)}else F===B&&(N=!0);if(N)break}return N}},{key:"_bindShortcut",value:function(E){var C=this,j=E.get("shortcut");E.getGraph().on("keydown",function(B){var N=C.getComponentsByType("contextmenu"),I=B.domEvent;N.forEach(function(H){H.hide()}),I.preventDefault();for(var F=h.list.filter(function(H){return H.shortcutCodes&&j[H.name]}),G=0;G<F.length;G++){var U=F[G];if(C._shortcutEnable(U,I))return C.executeCommand(U.name),!1}})}},{key:"add",value:function(E){var C=this.get("_components"),j=c.upperFirst(E.type);E.editor=this,this["_beforeAdd"+j]&&this["_beforeAdd"+j](E),C.push(E),this["_afterAdd"+j]&&this["_afterAdd"+j](E)}},{key:"destroy",value:function(){this.get("_components").forEach(function(E){E.destroy()})}}])&&a(b.prototype,M),O&&a(b,O),m}();d.exports=v},function(d,y,p){var n;/*!
 * EventEmitter v5.2.6 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(a){"use strict";function u(){}var i=u.prototype,r=a.EventEmitter;function o(h,v){for(var f=h.length;f--;)if(h[f].listener===v)return f;return-1}function c(h){return function(){return this[h].apply(this,arguments)}}i.getListeners=function(h){var v,f,m=this._getEvents();if(h instanceof RegExp)for(f in v={},m)m.hasOwnProperty(f)&&h.test(f)&&(v[f]=m[f]);else v=m[h]||(m[h]=[]);return v},i.flattenListeners=function(h){var v,f=[];for(v=0;v<h.length;v+=1)f.push(h[v].listener);return f},i.getListenersAsObject=function(h){var v,f=this.getListeners(h);return f instanceof Array&&((v={})[h]=f),v||f},i.addListener=function(h,v){if(!function M(O){return typeof O=="function"||O instanceof RegExp||!(!O||typeof O!="object")&&M(O.listener)}(v))throw new TypeError("listener must be a function");var f,m=this.getListenersAsObject(h),b=typeof v=="object";for(f in m)m.hasOwnProperty(f)&&o(m[f],v)===-1&&m[f].push(b?v:{listener:v,once:!1});return this},i.on=c("addListener"),i.addOnceListener=function(h,v){return this.addListener(h,{listener:v,once:!0})},i.once=c("addOnceListener"),i.defineEvent=function(h){return this.getListeners(h),this},i.defineEvents=function(h){for(var v=0;v<h.length;v+=1)this.defineEvent(h[v]);return this},i.removeListener=function(h,v){var f,m,b=this.getListenersAsObject(h);for(m in b)b.hasOwnProperty(m)&&(f=o(b[m],v))!==-1&&b[m].splice(f,1);return this},i.off=c("removeListener"),i.addListeners=function(h,v){return this.manipulateListeners(!1,h,v)},i.removeListeners=function(h,v){return this.manipulateListeners(!0,h,v)},i.manipulateListeners=function(h,v,f){var m,b,M=h?this.removeListener:this.addListener,O=h?this.removeListeners:this.addListeners;if(typeof v!="object"||v instanceof RegExp)for(m=f.length;m--;)M.call(this,v,f[m]);else for(m in v)v.hasOwnProperty(m)&&(b=v[m])&&(typeof b=="function"?M.call(this,m,b):O.call(this,m,b));return this},i.removeEvent=function(h){var v,f=typeof h,m=this._getEvents();if(f==="string")delete m[h];else if(h instanceof RegExp)for(v in m)m.hasOwnProperty(v)&&h.test(v)&&delete m[v];else delete this._events;return this},i.removeAllListeners=c("removeEvent"),i.emitEvent=function(h,v){var f,m,b,M,O=this.getListenersAsObject(h);for(M in O)if(O.hasOwnProperty(M))for(f=O[M].slice(0),b=0;b<f.length;b++)(m=f[b]).once===!0&&this.removeListener(h,m.listener),m.listener.apply(this,v||[])===this._getOnceReturnValue()&&this.removeListener(h,m.listener);return this},i.trigger=c("emitEvent"),i.emit=function(h){var v=Array.prototype.slice.call(arguments,1);return this.emitEvent(h,v)},i.setOnceReturnValue=function(h){return this._onceReturnValue=h,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},u.noConflict=function(){return a.EventEmitter=r,u},(n=function(){return u}.call(a,p,a,d))===void 0||(d.exports=n)})(typeof window!="undefined"?window:this||{})},function(d,y,p){var n=p(7).Util;d.exports={getGroupIconPath:function(){return"M9.75,9.60000014 L3.75,9.60000014 C3.33578644,9.60000014 3,9.2865995 3,8.90000022 C3,8.51340093 3.33578644,8.20000029 3.75,8.20000029 L9.75,8.20000029 C10.1642136,8.20000029 10.5,8.51340093 10.5,8.90000022 C10.5,9.2865995 10.1642136,9.60000014 9.75,9.60000014 M3,11.6999999 C3,11.3134006 3.33578644,11 3.75,11 L6.75,11 C7.16421356,11 7.5,11.3134006 7.5,11.6999999 C7.5,12.0865992 7.16421356,12.3999999 6.75,12.3999999 L3.75,12.3999999 C3.33578644,12.3999999 3,12.0865992 3,11.6999999 M3.75,13.7999997 L6.75,13.7999997 C7.16421356,13.7999997 7.5,14.1134004 7.5,14.4999996 C7.5,14.8865989 7.16421356,15.1999996 6.75,15.1999996 L3.75,15.1999996 C3.33578644,15.1999996 3,14.8865989 3,14.4999996 C3,14.1134004 3.33578644,13.7999997 3.75,13.7999997 M16.4985,4.00000072 L1.5015,4.00000072 C0.674533504,3.99922416 0.00289396564,4.6232696 0,5.39510058 L0,16.6048994 C0.00289396564,17.3767304 0.674533504,18.0007758 1.5015,17.9999993 L16.4985,17.9999993 C17.3254665,18.0007758 17.997106,17.3767304 18,16.6048994 L18,5.39510058 C17.997106,4.6232696 17.3254665,3.99922416 16.4985,4.00000072M19,13.9999993 L19,3 L5,3 L5,1.39510058 C5.00289397,0.623269599 5.6745335,-0.00077583787 6.5015,7.23978642e-07 L21.4985,7.23978642e-07 C22.3254665,-0.00077583787 22.997106,0.623269599 23,1.39510058 L23,12.6048994 C22.997106,13.3767304 22.3254665,14.0007758 21.4985,13.9999993 L19,13.9999993 Z"},getCollapsedButtonPath:function(){return n.getRectPath(0,0,14,14,2)+"M3,7L11,7"},getExpandedButtonPath:function(){return n.getRectPath(0,0,14,14,2)+"M3,7L11,7M7,3L7,11"}}},function(d,y,p){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.presetPrimaryColors=y.presetPalettes=y.generate=void 0;var n,a=p(30),u=(n=a)&&n.__esModule?n:{default:n},i={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},r={};Object.keys(i).forEach(function(o){r[o]=(0,u.default)(i[o])}),y.generate=u.default,y.presetPalettes=r,y.presetPrimaryColors=i},function(d,y,p){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(O){for(var E=[],C=(0,u.default)(O),j=v;j>0;j-=1){var B=C.toHsv(),N=(0,u.default)({h:m(B,j,!0),s:b(B,j,!0),v:M(B,j,!0)}).toHexString();E.push(N)}E.push(C.toHexString());for(var I=1;I<=f;I+=1){var F=C.toHsv(),G=(0,u.default)({h:m(F,I),s:b(F,I),v:M(F,I)}).toHexString();E.push(G)}return E};var n,a=p(31),u=(n=a)&&n.__esModule?n:{default:n},i=2,r=16,o=5,c=5,h=15,v=5,f=4;function m(O,E,C){var j=void 0;return(j=Math.round(O.h)>=60&&Math.round(O.h)<=240?C?Math.round(O.h)-i*E:Math.round(O.h)+i*E:C?Math.round(O.h)+i*E:Math.round(O.h)-i*E)<0?j+=360:j>=360&&(j-=360),j}function b(O,E,C){if(O.h===0&&O.s===0)return O.s;var j=void 0;return(j=C?Math.round(100*O.s)-r*E:E===f?Math.round(100*O.s)+r:Math.round(100*O.s)+o*E)>100&&(j=100),C&&E===v&&j>10&&(j=10),j<6&&(j=6),j}function M(O,E,C){return C?Math.round(100*O.v)+c*E:Math.round(100*O.v)-h*E}},function(d,y,p){var n;(function(a){var u=/^\s+/,i=/\s+$/,r=0,o=a.round,c=a.min,h=a.max,v=a.random;function f(V,Z){if(Z=Z||{},(V=V||"")instanceof f)return V;if(!(this instanceof f))return new f(V,Z);var W=function(rt){var J={r:0,g:0,b:0},tt=1,ft=null,kt=null,jt=null,Bt=!1,Rt=!1;typeof rt=="string"&&(rt=function(Ht){Ht=Ht.replace(u,"").replace(i,"").toLowerCase();var Xt,ut=!1;if(K[Ht])Ht=K[Ht],ut=!0;else if(Ht=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Xt=dt.rgb.exec(Ht))?{r:Xt[1],g:Xt[2],b:Xt[3]}:(Xt=dt.rgba.exec(Ht))?{r:Xt[1],g:Xt[2],b:Xt[3],a:Xt[4]}:(Xt=dt.hsl.exec(Ht))?{h:Xt[1],s:Xt[2],l:Xt[3]}:(Xt=dt.hsla.exec(Ht))?{h:Xt[1],s:Xt[2],l:Xt[3],a:Xt[4]}:(Xt=dt.hsv.exec(Ht))?{h:Xt[1],s:Xt[2],v:Xt[3]}:(Xt=dt.hsva.exec(Ht))?{h:Xt[1],s:Xt[2],v:Xt[3],a:Xt[4]}:(Xt=dt.hex8.exec(Ht))?{r:gt(Xt[1]),g:gt(Xt[2]),b:gt(Xt[3]),a:_t(Xt[4]),format:ut?"name":"hex8"}:(Xt=dt.hex6.exec(Ht))?{r:gt(Xt[1]),g:gt(Xt[2]),b:gt(Xt[3]),format:ut?"name":"hex"}:(Xt=dt.hex4.exec(Ht))?{r:gt(Xt[1]+""+Xt[1]),g:gt(Xt[2]+""+Xt[2]),b:gt(Xt[3]+""+Xt[3]),a:_t(Xt[4]+""+Xt[4]),format:ut?"name":"hex8"}:(Xt=dt.hex3.exec(Ht))?{r:gt(Xt[1]+""+Xt[1]),g:gt(Xt[2]+""+Xt[2]),b:gt(Xt[3]+""+Xt[3]),format:ut?"name":"hex"}:!1}(rt)),typeof rt=="object"&&(X(rt.r)&&X(rt.g)&&X(rt.b)?(Lt=rt.r,Pt=rt.g,Ct=rt.b,J={r:255*ht(Lt,255),g:255*ht(Pt,255),b:255*ht(Ct,255)},Bt=!0,Rt=String(rt.r).substr(-1)==="%"?"prgb":"rgb"):X(rt.h)&&X(rt.s)&&X(rt.v)?(ft=mt(rt.s),kt=mt(rt.v),J=function(Ht,Xt,ut){Ht=6*ht(Ht,360),Xt=ht(Xt,100),ut=ht(ut,100);var re=a.floor(Ht),pe=Ht-re,de=ut*(1-Xt),we=ut*(1-pe*Xt),fe=ut*(1-(1-pe)*Xt),ue=re%6;return{r:255*[ut,we,de,de,fe,ut][ue],g:255*[fe,ut,ut,we,de,de][ue],b:255*[de,de,fe,ut,ut,we][ue]}}(rt.h,ft,kt),Bt=!0,Rt="hsv"):X(rt.h)&&X(rt.s)&&X(rt.l)&&(ft=mt(rt.s),jt=mt(rt.l),J=function(Ht,Xt,ut){var re,pe,de;function we(ye,ve,xe){return xe<0&&(xe+=1),xe>1&&(xe-=1),xe<1/6?ye+6*(ve-ye)*xe:xe<.5?ve:xe<2/3?ye+(ve-ye)*(2/3-xe)*6:ye}if(Ht=ht(Ht,360),Xt=ht(Xt,100),ut=ht(ut,100),Xt===0)re=pe=de=ut;else{var fe=ut<.5?ut*(1+Xt):ut+Xt-ut*Xt,ue=2*ut-fe;re=we(ue,fe,Ht+1/3),pe=we(ue,fe,Ht),de=we(ue,fe,Ht-1/3)}return{r:255*re,g:255*pe,b:255*de}}(rt.h,ft,jt),Bt=!0,Rt="hsl"),rt.hasOwnProperty("a")&&(tt=rt.a));var Lt,Pt,Ct;return tt=it(tt),{ok:Bt,format:rt.format||Rt,r:c(255,h(J.r,0)),g:c(255,h(J.g,0)),b:c(255,h(J.b,0)),a:tt}}(V);this._originalInput=V,this._r=W.r,this._g=W.g,this._b=W.b,this._a=W.a,this._roundA=o(100*this._a)/100,this._format=Z.format||W.format,this._gradientType=Z.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=W.ok,this._tc_id=r++}function m(V,Z,W){V=ht(V,255),Z=ht(Z,255),W=ht(W,255);var rt,J,tt=h(V,Z,W),ft=c(V,Z,W),kt=(tt+ft)/2;if(tt==ft)rt=J=0;else{var jt=tt-ft;switch(J=kt>.5?jt/(2-tt-ft):jt/(tt+ft),tt){case V:rt=(Z-W)/jt+(Z<W?6:0);break;case Z:rt=(W-V)/jt+2;break;case W:rt=(V-Z)/jt+4}rt/=6}return{h:rt,s:J,l:kt}}function b(V,Z,W){V=ht(V,255),Z=ht(Z,255),W=ht(W,255);var rt,J,tt=h(V,Z,W),ft=c(V,Z,W),kt=tt,jt=tt-ft;if(J=tt===0?0:jt/tt,tt==ft)rt=0;else{switch(tt){case V:rt=(Z-W)/jt+(Z<W?6:0);break;case Z:rt=(W-V)/jt+2;break;case W:rt=(V-Z)/jt+4}rt/=6}return{h:rt,s:J,v:kt}}function M(V,Z,W,rt){var J=[bt(o(V).toString(16)),bt(o(Z).toString(16)),bt(o(W).toString(16))];return rt&&J[0].charAt(0)==J[0].charAt(1)&&J[1].charAt(0)==J[1].charAt(1)&&J[2].charAt(0)==J[2].charAt(1)?J[0].charAt(0)+J[1].charAt(0)+J[2].charAt(0):J.join("")}function O(V,Z,W,rt){return[bt(vt(rt)),bt(o(V).toString(16)),bt(o(Z).toString(16)),bt(o(W).toString(16))].join("")}function E(V,Z){Z=Z===0?0:Z||10;var W=f(V).toHsl();return W.s-=Z/100,W.s=St(W.s),f(W)}function C(V,Z){Z=Z===0?0:Z||10;var W=f(V).toHsl();return W.s+=Z/100,W.s=St(W.s),f(W)}function j(V){return f(V).desaturate(100)}function B(V,Z){Z=Z===0?0:Z||10;var W=f(V).toHsl();return W.l+=Z/100,W.l=St(W.l),f(W)}function N(V,Z){Z=Z===0?0:Z||10;var W=f(V).toRgb();return W.r=h(0,c(255,W.r-o(-Z/100*255))),W.g=h(0,c(255,W.g-o(-Z/100*255))),W.b=h(0,c(255,W.b-o(-Z/100*255))),f(W)}function I(V,Z){Z=Z===0?0:Z||10;var W=f(V).toHsl();return W.l-=Z/100,W.l=St(W.l),f(W)}function F(V,Z){var W=f(V).toHsl(),rt=(W.h+Z)%360;return W.h=rt<0?360+rt:rt,f(W)}function G(V){var Z=f(V).toHsl();return Z.h=(Z.h+180)%360,f(Z)}function U(V){var Z=f(V).toHsl(),W=Z.h;return[f(V),f({h:(W+120)%360,s:Z.s,l:Z.l}),f({h:(W+240)%360,s:Z.s,l:Z.l})]}function H(V){var Z=f(V).toHsl(),W=Z.h;return[f(V),f({h:(W+90)%360,s:Z.s,l:Z.l}),f({h:(W+180)%360,s:Z.s,l:Z.l}),f({h:(W+270)%360,s:Z.s,l:Z.l})]}function Q(V){var Z=f(V).toHsl(),W=Z.h;return[f(V),f({h:(W+72)%360,s:Z.s,l:Z.l}),f({h:(W+216)%360,s:Z.s,l:Z.l})]}function at(V,Z,W){Z=Z||6,W=W||30;var rt=f(V).toHsl(),J=360/W,tt=[f(V)];for(rt.h=(rt.h-(J*Z>>1)+720)%360;--Z;)rt.h=(rt.h+J)%360,tt.push(f(rt));return tt}function $(V,Z){Z=Z||6;for(var W=f(V).toHsv(),rt=W.h,J=W.s,tt=W.v,ft=[],kt=1/Z;Z--;)ft.push(f({h:rt,s:J,v:tt})),tt=(tt+kt)%1;return ft}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var V=this.toRgb();return(299*V.r+587*V.g+114*V.b)/1e3},getLuminance:function(){var V,Z,W,rt=this.toRgb();return V=rt.r/255,Z=rt.g/255,W=rt.b/255,.2126*(V<=.03928?V/12.92:a.pow((V+.055)/1.055,2.4))+.7152*(Z<=.03928?Z/12.92:a.pow((Z+.055)/1.055,2.4))+.0722*(W<=.03928?W/12.92:a.pow((W+.055)/1.055,2.4))},setAlpha:function(V){return this._a=it(V),this._roundA=o(100*this._a)/100,this},toHsv:function(){var V=b(this._r,this._g,this._b);return{h:360*V.h,s:V.s,v:V.v,a:this._a}},toHsvString:function(){var V=b(this._r,this._g,this._b),Z=o(360*V.h),W=o(100*V.s),rt=o(100*V.v);return this._a==1?"hsv("+Z+", "+W+"%, "+rt+"%)":"hsva("+Z+", "+W+"%, "+rt+"%, "+this._roundA+")"},toHsl:function(){var V=m(this._r,this._g,this._b);return{h:360*V.h,s:V.s,l:V.l,a:this._a}},toHslString:function(){var V=m(this._r,this._g,this._b),Z=o(360*V.h),W=o(100*V.s),rt=o(100*V.l);return this._a==1?"hsl("+Z+", "+W+"%, "+rt+"%)":"hsla("+Z+", "+W+"%, "+rt+"%, "+this._roundA+")"},toHex:function(V){return M(this._r,this._g,this._b,V)},toHexString:function(V){return"#"+this.toHex(V)},toHex8:function(V){return function(Z,W,rt,J,tt){var ft=[bt(o(Z).toString(16)),bt(o(W).toString(16)),bt(o(rt).toString(16)),bt(vt(J))];return tt&&ft[0].charAt(0)==ft[0].charAt(1)&&ft[1].charAt(0)==ft[1].charAt(1)&&ft[2].charAt(0)==ft[2].charAt(1)&&ft[3].charAt(0)==ft[3].charAt(1)?ft[0].charAt(0)+ft[1].charAt(0)+ft[2].charAt(0)+ft[3].charAt(0):ft.join("")}(this._r,this._g,this._b,this._a,V)},toHex8String:function(V){return"#"+this.toHex8(V)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*ht(this._r,255))+"%",g:o(100*ht(this._g,255))+"%",b:o(100*ht(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(100*ht(this._r,255))+"%, "+o(100*ht(this._g,255))+"%, "+o(100*ht(this._b,255))+"%)":"rgba("+o(100*ht(this._r,255))+"%, "+o(100*ht(this._g,255))+"%, "+o(100*ht(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(ot[M(this._r,this._g,this._b,!0)]||!1)},toFilter:function(V){var Z="#"+O(this._r,this._g,this._b,this._a),W=Z,rt=this._gradientType?"GradientType = 1, ":"";if(V){var J=f(V);W="#"+O(J._r,J._g,J._b,J._a)}return"progid:DXImageTransform.Microsoft.gradient("+rt+"startColorstr="+Z+",endColorstr="+W+")"},toString:function(V){var Z=!!V;V=V||this._format;var W=!1,rt=this._a<1&&this._a>=0;return Z||!rt||V!=="hex"&&V!=="hex6"&&V!=="hex3"&&V!=="hex4"&&V!=="hex8"&&V!=="name"?(V==="rgb"&&(W=this.toRgbString()),V==="prgb"&&(W=this.toPercentageRgbString()),V!=="hex"&&V!=="hex6"||(W=this.toHexString()),V==="hex3"&&(W=this.toHexString(!0)),V==="hex4"&&(W=this.toHex8String(!0)),V==="hex8"&&(W=this.toHex8String()),V==="name"&&(W=this.toName()),V==="hsl"&&(W=this.toHslString()),V==="hsv"&&(W=this.toHsvString()),W||this.toHexString()):V==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(V,Z){var W=V.apply(null,[this].concat([].slice.call(Z)));return this._r=W._r,this._g=W._g,this._b=W._b,this.setAlpha(W._a),this},lighten:function(){return this._applyModification(B,arguments)},brighten:function(){return this._applyModification(N,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(j,arguments)},spin:function(){return this._applyModification(F,arguments)},_applyCombination:function(V,Z){return V.apply(null,[this].concat([].slice.call(Z)))},analogous:function(){return this._applyCombination(at,arguments)},complement:function(){return this._applyCombination(G,arguments)},monochromatic:function(){return this._applyCombination($,arguments)},splitcomplement:function(){return this._applyCombination(Q,arguments)},triad:function(){return this._applyCombination(U,arguments)},tetrad:function(){return this._applyCombination(H,arguments)}},f.fromRatio=function(V,Z){if(typeof V=="object"){var W={};for(var rt in V)V.hasOwnProperty(rt)&&(W[rt]=rt==="a"?V[rt]:mt(V[rt]));V=W}return f(V,Z)},f.equals=function(V,Z){return!(!V||!Z)&&f(V).toRgbString()==f(Z).toRgbString()},f.random=function(){return f.fromRatio({r:v(),g:v(),b:v()})},f.mix=function(V,Z,W){W=W===0?0:W||50;var rt=f(V).toRgb(),J=f(Z).toRgb(),tt=W/100;return f({r:(J.r-rt.r)*tt+rt.r,g:(J.g-rt.g)*tt+rt.g,b:(J.b-rt.b)*tt+rt.b,a:(J.a-rt.a)*tt+rt.a})},f.readability=function(V,Z){var W=f(V),rt=f(Z);return(a.max(W.getLuminance(),rt.getLuminance())+.05)/(a.min(W.getLuminance(),rt.getLuminance())+.05)},f.isReadable=function(V,Z,W){var rt,J,tt=f.readability(V,Z);switch(J=!1,(rt=function(ft){var kt,jt;return kt=((ft=ft||{level:"AA",size:"small"}).level||"AA").toUpperCase(),jt=(ft.size||"small").toLowerCase(),kt!=="AA"&&kt!=="AAA"&&(kt="AA"),jt!=="small"&&jt!=="large"&&(jt="small"),{level:kt,size:jt}}(W)).level+rt.size){case"AAsmall":case"AAAlarge":J=tt>=4.5;break;case"AAlarge":J=tt>=3;break;case"AAAsmall":J=tt>=7}return J},f.mostReadable=function(V,Z,W){var rt,J,tt,ft,kt=null,jt=0;J=(W=W||{}).includeFallbackColors,tt=W.level,ft=W.size;for(var Bt=0;Bt<Z.length;Bt++)(rt=f.readability(V,Z[Bt]))>jt&&(jt=rt,kt=f(Z[Bt]));return f.isReadable(V,kt,{level:tt,size:ft})||!J?kt:(W.includeFallbackColors=!1,f.mostReadable(V,["#fff","#000"],W))};var K=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ot=f.hexNames=function(V){var Z={};for(var W in V)V.hasOwnProperty(W)&&(Z[V[W]]=W);return Z}(K);function it(V){return V=parseFloat(V),(isNaN(V)||V<0||V>1)&&(V=1),V}function ht(V,Z){(function(rt){return typeof rt=="string"&&rt.indexOf(".")!=-1&&parseFloat(rt)===1})(V)&&(V="100%");var W=function(rt){return typeof rt=="string"&&rt.indexOf("%")!=-1}(V);return V=c(Z,h(0,parseFloat(V))),W&&(V=parseInt(V*Z,10)/100),a.abs(V-Z)<1e-6?1:V%Z/parseFloat(Z)}function St(V){return c(1,h(0,V))}function gt(V){return parseInt(V,16)}function bt(V){return V.length==1?"0"+V:""+V}function mt(V){return V<=1&&(V=100*V+"%"),V}function vt(V){return a.round(255*parseFloat(V)).toString(16)}function _t(V){return gt(V)/255}var Nt,At,It,dt=(At="[\\s|\\(]+("+(Nt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Nt+")[,|\\s]+("+Nt+")\\s*\\)?",It="[\\s|\\(]+("+Nt+")[,|\\s]+("+Nt+")[,|\\s]+("+Nt+")[,|\\s]+("+Nt+")\\s*\\)?",{CSS_UNIT:new RegExp(Nt),rgb:new RegExp("rgb"+At),rgba:new RegExp("rgba"+It),hsl:new RegExp("hsl"+At),hsla:new RegExp("hsla"+It),hsv:new RegExp("hsv"+At),hsva:new RegExp("hsva"+It),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function X(V){return!!dt.CSS_UNIT.exec(V)}d.exports?d.exports=f:(n=function(){return f}.call(y,p,y,d))===void 0||(d.exports=n)})(Math)},function(d,y,p){var n=p(18);function a(i){var r=i.getCurrentPage();this.matrixCache=r.getMatrix().slice(0),this._zoom(i),r.updateStatus()}function u(i){i.getCurrentPage().updateMatrix(this.matrixCache)}n.registerCommand("zoomTo",{_zoom:function(i){i.getCurrentPage().zoom(Number(this.zoom))},queue:!1,execute:a,back:u}),n.registerCommand("zoomIn",{enable:function(i){var r=i.getCurrentPage(),o=r.getMaxZoom(),c=r.getMinZoom(),h=r.getZoom();return h<o||h===c},_zoom:function(i){var r=i.getCurrentPage(),o=i.get("_command"),c=r.getZoom(),h=r.getMaxZoom(),v=c+o.zoomDelta;v>=h&&(v=h),r.zoom(v)},queue:!1,execute:a,back:u,shortcutCodes:[["metaKey","="],["ctrlKey","="]]}),n.registerCommand("zoomOut",{enable:function(i){var r=i.getCurrentPage(),o=r.getMaxZoom(),c=r.getMinZoom(),h=r.getZoom();return h>c||h===o},_zoom:function(i){var r=i.getCurrentPage(),o=r.getZoom(),c=r.getMinZoom(),h=o-i.get("_command").zoomDelta;h<=c&&(h=c),r.zoom(h)},queue:!1,execute:a,back:u,shortcutCodes:[["metaKey","-"],["ctrlKey","-"]]}),n.registerCommand("autoZoom",{enable:function(){return!0},_zoom:function(i){i.getCurrentPage().autoZoom()},queue:!1,execute:a,back:u}),n.registerCommand("resetZoom",{enable:function(){return!0},_zoom:function(i){i.getCurrentPage().resetZoom()},queue:!1,execute:a,back:u,shortcutCodes:[["metaKey","0"],["ctrlKey","0"]]})},function(d,y,p){var n=p(18);n.registerCommand("collapseExpand",{getItem:function(a){var u=a.getCurrentPage(),i=u.getGraph();return this.itemId?i.find(this.itemId):u.getSelected()[0]},enable:function(a){var u=this.getItem(a);return u&&u.collapseExpand!==!1&&u.getChildren().length>0},execute:function(a){var u=a.getCurrentPage(),i=u.getGraph(),r=this.getItem(a);r.getModel().collapsed?(i.update(r,{collapsed:!1}),r.getInnerEdges&&r.getInnerEdges().forEach(function(o){o.update()}),this.toCollapsed=!1):(i.update(r,{collapsed:!0}),this.toCollapsed=!0),u.clearSelected(),u.setSelected(r,!0),this.executeTimes===1&&(this.itemId=r.id)},back:function(a){var u=a.getCurrentPage(),i=u.getGraph(),r=this.getItem(a);this.toCollapsed?i.update(r,{collapsed:!1}):i.update(r,{collapsed:!0}),u.clearSelected(),u.setSelected(r,!0)},shortcutCodes:[["metaKey","/"],["ctrlKey","/"]]}),n.registerCommand("collapse",{enable:function(a){var u=this.getItem(a);return u&&u.collapseExpand!==!1&&u.getChildren().length>0&&!u.getModel().collapsed}},"collapseExpand"),n.registerCommand("expand",{enable:function(a){var u=this.getItem(a);return u&&u.collapseExpand!==!1&&u.getChildren().length>0&&u.getModel().collapsed}},"collapseExpand")},function(d,y,p){function n(i,r,o){return r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i}var a=p(4),u={INIT:"_initGraph"};u.AUGMENT={_initGraph:function(){var i=this.get("graph"),r=new(this.get("graphConstructor"))(function(o){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){n(o,f,h[f])})}return o}({page:this},i));r.draw(),this.set("_graph",r)},changeMode:function(i){this.get("_graph").changeMode(i)},updateMatrix:function(i){this.get("_graph").updateMatrix(i)},getMode:function(){return this.get("_graph").get("mode")},getMatrix:function(){return this.get("_graph").getMatrix()},getZoom:function(){return this.get("_graph").getMatrix()[0]},getMaxZoom:function(){return this.get("_graph").get("maxZoom")},getMinZoom:function(){return this.get("_graph").get("minZoom")},getGraph:function(){return this.get("_graph")},getItems:function(){return this.get("_graph").getItems()},getNodes:function(){return this.get("_graph").getNodes()},translate:function(i,r){return this.get("_graph").translate(i,r)},getEdges:function(){return this.get("_graph").getEdges()},getGroups:function(){return this.get("_graph").getGroups()},render:function(){return this.get("_graph").render(),this},add:function(i,r){return this.get("_graph").add(i,r),this},focusPointByDom:function(i){return this.get("_graph").focusPointByDom(i),this},focusPoint:function(i){return this.get("_graph").focusPoint(i),this},find:function(i){return this.get("_graph").find(i)},focus:function(i){var r=this.get("_graph"),o=r.find(i);if(o){var c=o.getCenter();r.focusPoint(c)}return this},save:function(){return this.get("_graph").save()},read:function(i){this.get("_graph").read(i)},clear:function(){this.get("_graph").clear()},remove:function(i){return this.get("_graph").remove(i),this},update:function(i,r){return this.get("_graph").update(i,r),this},zoom:function(i,r){return this.get("_graph").zoom(i,r),this},getDomPoint:function(i){return this.get("_graph").getDomPoint(i)},getPoint:function(i){return this.get("_graph").getPoint(i)},zoomByDom:function(i,r){var o=this.get("_graph"),c=o.getPoint(i);return o.zoom(c,r),this},autoZoom:function(){return this.get("_graph").autoZoom(),this},resetZoom:function(){var i=this.get("_graph"),r=i.getWidth(),o=i.getHeight();return i.zoomByDom({x:r/2,y:o/2},1),this},css:function(i){var r=this.get("_graph").getMouseEventWrapper();a.modifyCSS(r,i)},setCapture:function(i){this.get("_graph").getRootGroup().set("capture",i)},destroy:function(){this.get("_graph").destroy()},delete:function(){var i=this.getSelected(),r=this.get("_graph");a.each(i,function(o){r.remove(o)})}},d.exports=u},function(d,y,p){function n(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}var a=p(36),u=p(4),i={CFG:{grid:void 0},INIT:"_initGrid"};i.AUGMENT={_initGrid:function(){var r=this.get("grid"),o=this.get("_graph");if(r){var c=new a(function(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){n(h,b,f[b])})}return h}({page:this,graph:o},r));this.setController("grid",c)}},showGrid:function(r){var o=this.get("_graph"),c=this.getController("grid");c||(r?u.isObject(r)&&this.set("grid",r):this.set("grid",!0),this._initGrid()),(c=this.getController("grid")).show(),o.draw()},hideGrid:function(){var r=this.get("_graph"),o=this.getController("grid");o&&o.hide(),r.draw()},getGridCell:function(){return this.getController("grid").getCell()}},d.exports=i},function(d,y,p){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function a(f,m){for(var b=0;b<m.length;b++){var M=m[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function u(f,m){return!m||n(m)!=="object"&&typeof m!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(f):m}function i(f){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(f)}function r(f,m){return(r=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(f,m)}var o=p(9),c=p(14),h=p(4),v=function(f){function m(){return function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,m),u(this,i(m).apply(this,arguments))}var b,M,O;return function(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),C&&r(E,C)}(m,o),b=m,(M=[{key:"getDefaultCfg",value:function(){return{cell:16,line:c.gridStyle,type:"point",visible:!0}}},{key:"init",value:function(){this._draw(),this._onViewPortChange(),!this.visible&&this.hide()}},{key:"_onViewPortChange",value:function(){var E=this,C=this.graph;C.on("afterviewportchange",function(){E.update()}),C.on("beforechangesize",function(){E.update()})}},{key:"_draw",value:function(){var E=this.graph,C=this._getPath(),j=E.getRootGroup(),B=h.mix({},this.line),N=E.getMatrix(),I=this.type,F=I==="line"?1/N[0]:2/N[0];I==="point"&&(B.lineDash=null),B.lineWidth=F,B.path=C;var G=j.addShape("path",{attrs:B,capture:!1,zIndex:0});h.toBack(G,j),this.gridEl=G}},{key:"show",value:function(){this.gridEl.show(),this.visible=!0}},{key:"hide",value:function(){this.gridEl.hide(),this.visible=!1}},{key:"_getLinePath",value:function(){for(var E=this.graph,C=E.get("width"),j=E.get("height"),B=E.getPoint({x:0,y:0}),N=E.getPoint({x:C,y:j}),I=this.cell,F=Math.ceil(B.x/I)*I,G=Math.ceil(B.y/I)*I,U=[],H=0;H<=N.x-B.x;H+=I){var Q=F+H;U.push(["M",Q,B.y]),U.push(["L",Q,N.y])}for(var at=0;at<=N.y-B.y;at+=I){var $=G+at;U.push(["M",B.x,$]),U.push(["L",N.x,$])}return U}},{key:"_getPointPath",value:function(){for(var E=this.graph,C=E.get("width"),j=E.get("height"),B=E.getPoint({x:0,y:0}),N=2/E.getMatrix()[0],I=E.getPoint({x:C,y:j}),F=this.getCell(),G=Math.ceil(B.x/F)*F,U=Math.ceil(B.y/F)*F,H=[],Q=0;Q<=I.x-B.x;Q+=F)for(var at=G+Q,$=0;$<=I.y-B.y;$+=F){var K=U+$;H.push(["M",at,K]),H.push(["L",at+N,K])}return H}},{key:"getCell",value:function(){var E=this.cell,C=this.graph.getMatrix()[0];return E*C<9.6?9.6/C:E}},{key:"_getPath",value:function(){var E=this.type;return this["_get"+h.upperFirst(E)+"Path"]()}},{key:"update",value:function(E){h.mix(this,E);var C=this._getPath(),j=this.gridEl,B=this.graph.getMatrix(),N=this.type==="line"?1/B[0]:2/B[0];j.attr("lineWidth",N),j.attr("path",C)}},{key:"destroy",value:function(){var E=this.gridEl;E&&E.remove()}}])&&a(b.prototype,M),O&&a(b,O),m}();d.exports=v},function(d,y){var p={};function n(a,u,i){a.on(i,function(r){u.emit(i,r)}),a.on("node:"+i,function(r){u.emit("node:"+i,r)}),a.on("edge:"+i,function(r){u.emit("edge:"+i,r)}),a.on("group:"+i,function(r){u.emit("group:"+i,r)}),a.on("anchor:"+i,function(r){u.emit("anchor:"+i,r)})}p.INIT="_initEvent",p.AUGMENT={_initEvent:function(){var a=this,u=this.get("_graph");n(u,this,"click"),n(u,this,"dblclick"),n(u,this,"mouseenter"),n(u,this,"mouseleave"),n(u,this,"mousedown"),n(u,this,"mouseup"),n(u,this,"contextmenu"),u.on("keydown",function(i){a.emit("keydown",i)}),u.on("keyup",function(i){a.emit("keyup",i)}),u.on("beforechange",function(i){a.emit("beforechange",i)}),u.on("afterchange",function(i){a.emit("afterchange",i)}),u.on("afterviewportchange",function(i){a.emit("afterviewportchange",i),i.updateMatrix[0]!==i.originMatrix[0]&&a.emit("afterzoom",i)}),u.on("beforeviewportchange",function(i){a.emit("beforeviewportchange",i),i.updateMatrix[0]!==i.originMatrix[0]&&a.emit("beforezoom",i)})}},d.exports=p},function(d,y,p){var n=p(4),a={CFG:{selectable:!0,multiSelectable:!0,_selectedCache:{}},INIT:"_initSelected"};a.AUGMENT={_initSelected:function(){var u=this,i=this.get("_graph");i.on("afteritemdraw",function(r){var o=r.item;o.isSelected&&u.setItemSelected(o)}),i.on("beforeitemdestroy",function(r){u.clearItemSelected(r.item)})},setItemSelected:function(u){var i=this.get("_graph").getShapeObj(u).getSelectedStyle(u),r=u.getKeyShape();this.get("_selectedCache")[u.id]=u,i&&r.attr(i),u.isEdge&&(u.startArrow&&u.startArrow.attr({fill:i.stroke}),u.endArrow&&u.endArrow.attr({fill:i.stroke}))},clearItemSelected:function(u){var i=this.get("_graph"),r=u.getKeyShape(),o=i.getShapeObj(u),c=o.getStyle(u),h=o.getSelectedStyle(u),v=this.get("_selectedCache"),f=n.getContrast(c,h);r.attr(f),u.isEdge&&(u.startArrow&&u.startArrow.attr({fill:f.stroke}),u.endArrow&&u.endArrow.attr({fill:f.stroke})),delete v[u.id]},setSelected:function(u,i){var r,o=this,c=this.get("selectable"),h=this.get("_graph");c&&(r=n.isArray(u)?u:[u],n.each(r,function(v){n.isString(v)&&(v=h.find(v)),v&&!v.destroyed&&(i?(o.emit("beforeitemselected",{item:v}),o.setItemSelected(v),o.emit("afteritemselected",{item:v})):(o.emit("beforeitemunselected",{item:v}),o.clearItemSelected(v),o.emit("afteritemunselected",{item:v})),v.isSelected=i,o.updateStatus(),h.draw())}))},getSelected:function(){var u=this.get("_selectedCache");return n.objectToValues(u)},clearSelected:function(){var u=this,i=this.get("_graph"),r=this.get("_selectedCache");n.each(r,function(o){o.isSelected&&u.setSelected(o,!1)}),i.draw()}},d.exports=a},function(d,y,p){var n=p(4),a={CFG:{activeable:!0,_activedCache:{}},INIT:"_initActived"};a.AUGMENT={_initActived:function(){var u=this,i=this.get("_graph");i.on("afteritemdraw",function(r){var o=r.item;o.isActived&&u.setItemActived(o)}),i.on("beforeitemdestroy",function(r){u.clearItemActived(r.item)})},setItemActived:function(u){var i=this.get("_graph").getShapeObj(u),r=this.get("_activedCache"),o=i.getActivedStyle(u),c=u.getKeyShape();r[u.id]=u,o&&c.attr(o),u.isEdge&&(u.startArrow&&u.startArrow.attr({fill:o.stroke}),u.endArrow&&u.endArrow.attr({fill:o.stroke}))},clearItemActived:function(u){var i=this.get("_graph"),r=u.getKeyShape(),o=i.getShapeObj(u),c=o.getStyle(u),h=this.get("_activedCache"),v=o.getActivedStyle(u),f=n.getContrast(c,v);r.attr(f),u.isEdge&&(u.startArrow&&u.startArrow.attr({fill:f.stroke}),u.endArrow&&u.endArrow.attr({fill:f.stroke})),delete h[u.id]},setActived:function(u,i){var r,o=this,c=this.get("activeable"),h=this.get("_graph");c&&(r=n.isArray(u)?u:[u],n.each(r,function(v){n.isString(v)&&(v=h.find(v)),v&&!v.destroyed&&(i?(o.emit("beforeitemactived",{item:v}),o.setItemActived(v),o.emit("afteritemactived",{item:v})):(o.emit("beforeitemunactived",{item:v}),o.clearItemActived(v),o.emit("afteritemunactived",{item:v})),v.isActived=i)}),h.draw())},getActived:function(){var u=this.get("_activedCache");return n.objectToValues(u)},clearActived:function(){var u=this,i=this.get("_graph"),r=this.get("_activedCache");n.each(r,function(o){o.isActived&&u.setActived(o,!1)}),i.draw()}},d.exports=a},function(d,y,p){function n(i,r,o){return r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i}var a=p(41),u={CFG:{align:{}},INIT:"_initAlign"};u.AUGMENT={_initAlign:function(){var i=this.get("align"),r=this.get("_graph"),o=new a(function(c){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{},f=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(v).filter(function(m){return Object.getOwnPropertyDescriptor(v,m).enumerable}))),f.forEach(function(m){n(c,m,v[m])})}return c}({flow:this,graph:r},i));this.setController("align",o)},align:function(i,r,o){return this.getController("align").align(i,r,o)},clearAlignLine:function(){return this.getController("align").clearAlignLine()}},d.exports=u},function(d,y,p){function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}function a(m,b){for(var M=0;M<b.length;M++){var O=b[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function u(m,b){return!b||n(b)!=="object"&&typeof b!="function"?function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(m):b}function i(m){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(m)}function r(m,b){return(r=Object.setPrototypeOf||function(M,O){return M.__proto__=O,M})(m,b)}var o=p(9),c=p(14),h=p(4);function v(m,b){return{line:m,point:b,dis:h.pointLineDistance(m[0],m[1],m[2],m[3],b.x,b.y)}}var f=function(m){function b(){return function(C,j){if(!(C instanceof j))throw new TypeError("Cannot call a class as a function")}(this,b),u(this,i(b).apply(this,arguments))}var M,O,E;return function(C,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(j&&j.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),j&&r(C,j)}(b,o),M=b,(O=[{key:"getDefaultCfg",value:function(){return{line:c.alignLineStyle,item:!0,grid:!1,tolerance:5,_horizontalLines:{},_verticalLines:{},_alignLines:[]}}},{key:"init",value:function(){this.item&&this._cacheBoxLine()}},{key:"_cacheBoxLine",value:function(){var C=this.graph,j=this._horizontalLines,B=this._verticalLines,N=this.item;C.on("afteritemdraw",function(I){var F=I.item;if(!h.isEdge(F)){var G=F.getBBox();N===!0||N==="horizontal"?(j[F.id+"tltr"]=[G.minX,G.minY,G.maxX,G.minY,F],j[F.id+"lcrc"]=[G.minX,G.centerY,G.maxX,G.centerY,F],j[F.id+"blbr"]=[G.minX,G.maxY,G.maxX,G.maxY,F]):N==="center"&&(j[F.id+"lcrc"]=[G.minX,G.centerY,G.maxX,G.centerY,F]),N===!0||N==="vertical"?(B[F.id+"tlbl"]=[G.minX,G.minY,G.minX,G.maxY,F],B[F.id+"tcbc"]=[G.centerX,G.minY,G.centerX,G.maxY,F],B[F.id+"trbr"]=[G.maxX,G.minY,G.maxX,G.maxY,F]):N==="center"&&(B[F.id+"tcbc"]=[G.centerX,G.minY,G.centerX,G.maxY,F])}}),C.on("beforeitemdestroy",function(I){var F=I.item;delete j[F.id+"tltr"],delete j[F.id+"lcrc"],delete j[F.id+"blbr"],delete B[F.id+"tlbl"],delete B[F.id+"tcbc"],delete B[F.id+"trbr"]})}},{key:"align",value:function(C,j){var B=h.mix({},C),N=this.flow.getController("grid");return this.grid&&N&&N.visible&&this._gridAlign(C,j),this.item&&this._itemAlign(C,j,B),C}},{key:"_gridAlign",value:function(C,j){var B=this.flow,N=this.grid,I=B.getGridCell();if(N==="cc"){var F=Math.round((C.x+j.width/2)/I)*I,G=Math.round((C.y+j.height/2)/I)*I;C.x=F-j.width/2,C.y=G-j.height/2}else C.x=Math.round(C.x/I)*I,C.y=Math.round(C.y/I)*I}},{key:"_itemAlign",value:function(C,j,B){var N=this._horizontalLines,I=this._verticalLines,F=this.tolerance,G={x:B.x+j.width/2,y:B.y},U={x:B.x+j.width/2,y:B.y+j.height/2},H={x:B.x+j.width/2,y:B.y+j.height},Q={x:B.x,y:B.y+j.height/2},at={x:B.x+j.width,y:B.y+j.height/2},$=[],K=[],ot=null;if(this.clearAlignLine(),h.each(N,function(St){St[4].isVisible()&&($.push(v(St,G)),$.push(v(St,U)),$.push(v(St,H)))}),h.each(I,function(St){St[4].isVisible()&&(K.push(v(St,Q)),K.push(v(St,U)),K.push(v(St,at)))}),$.sort(function(St,gt){return St.dis-gt.dis}),K.sort(function(St,gt){return St.dis-gt.dis}),$.length!==0&&$[0].dis<F){C.y=$[0].line[1]-$[0].point.y+B.y,ot={type:"item",horizontals:[$[0]]};for(var it=1;it<3;it++)$[0].dis===$[it].dis&&ot.horizontals.push($[it])}if(K.length!==0&&K[0].dis<F){C.x=K[0].line[0]-K[0].point.x+B.x,ot?ot.verticals=[K[0]]:ot={type:"item",verticals:[K[0]]};for(var ht=1;ht<3;ht++)K[0].dis===K[ht].dis&&ot.verticals.push(K[ht])}ot&&(ot.bbox=j,this._addAlignLine(ot))}},{key:"clearAlignLine",value:function(){var C=this._alignLines;h.each(C,function(j){j.remove()}),this._alignLines=[]}},{key:"_addAlignLine",value:function(C){var j=C.bbox,B=this.graph.getRootGroup(),N=this.line,I=this._alignLines;C.type==="item"&&(C.horizontals&&h.each(C.horizontals,function(F){var G,U,H=F.line,Q=F.point,at=(H[0]+H[2])/2;Q.x<at?(G=Q.x-j.width/2,U=Math.max(H[0],H[2])):(G=Q.x+j.width/2,U=Math.min(H[0],H[2]));var $=B.addShape("line",{attrs:h.mix({x1:G,y1:H[1],x2:U,y2:H[1]},N),capture:!1});I.push($)}),C.verticals&&h.each(C.verticals,function(F){var G,U,H=F.line,Q=F.point,at=(H[1]+H[3])/2;Q.y<at?(G=Q.y-j.height/2,U=Math.max(H[1],H[3])):(G=Q.y+j.height/2,U=Math.min(H[1],H[3]));var $=B.addShape("line",{attrs:h.mix({x1:H[0],y1:G,x2:H[0],y2:U},N),capture:!1});I.push($)}))}}])&&a(M.prototype,O),E&&a(M,E),b}();d.exports=f},function(d,y,p){var n=p(4),a={CFG:{labelEditable:!1},INIT:"_initLabelEditor"};a.AUGMENT={_initLabelEditor:function(){var u=this;if(this.get("labelEditable")){var i=this.getGraph(),r=n.createDOM('<div contenteditable="true" role="textbox" tabindex="1" class="g6-label-editor"></div>',{position:"absolute",visibility:"hidden","z-index":"2",padding:"0px 2px 0px 0px",resize:"none",width:"auto",height:"auto",outline:"none",border:"1px solid #1890FF","transform-origin":"left top","max-width":"320px",background:"white","box-sizing":"content-box"});i.getGraphContainer().appendChild(r),r.on("blur",function(o){o.stopPropagation(),!i.destroyed&&u.endEditLabel()}),r.on("keydown",function(o){o.stopPropagation();var c=n.getKeyboradKey(o);(o.metaKey&&c==="s"||o.ctrlKey&&c==="s")&&o.preventDefault(),c!=="Enter"&&c!=="Escape"||u.endEditLabel()}),this.set("labelTextArea",r),i.on("beforeviewportchange",function(){r.focusItem&&u.setLabelEditorBeginPosition(r.focusItem)})}},_getLabelTextAreaBox:function(u,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0,0];i&&u.attr("text",i);var o=this.getGraph().getRootGroup(),c=n.getBBox(u,o);return{minX:c.minX-r[1],minY:c.minY-r[0],maxX:c.maxX+r[1],maxY:c.maxY+r[0]}},setLabelEditorBeginPosition:function(u){var i=this.get("labelTextArea"),r=u.getLabel();if(r){var o=this._getLabelTextAreaBox(r),c=r.attr("lineHeight"),h=r.attr("fontSize"),v={x:o.minX,y:o.minY-c/4+h/4-1,width:o.maxX-o.minX,height:o.maxY-o.minY};i.css({top:v.y+"px",left:v.x+"px"}),i.labelPoint=v}else{var f=this.getGraph().getRootGroup(),m=u.getKeyShape(),b=n.getBBox(m,f),M={x:b.minY+(b.maxY-b.minY-i.height())/2,y:(b.minX+b.maxX)/2};i.css({top:M.x+"px",left:M.y+"px"}),i.labelPoint=M}},beginEditLabel:function(u){var i=this.get("labelTextArea"),r=this.getGraph();if(n.isString(u)&&(u=r.find(u)),u&&!u.destroyed&&i){this.setSignal("preventWheelPan",!0);var o=u.getModel(),c=u.getLabel(),h=r.getZoom();if(i.focusItem=u,c){var v=c.attr("lineHeight"),f=this._getLabelTextAreaBox(c),m=(f.maxX-f.minX)/h,b=(f.maxY-f.minY+v/4)/h;i.innerHTML=o.label,i.innerHTML=o.label,i.css({"min-width":m+"px","min-height":b+"px",visibility:"visible","font-family":c.attr("fontFamily"),"line-height":v+"px","font-size":c.attr("fontSize")+"px",transform:"scale("+h+")"})}else i.innerHTML="",i.css({"min-width":"auto","min-height":"auto"});this.setLabelEditorBeginPosition(u),i.css({visibility:"visible"}),i.focus(),document.execCommand("selectAll",!1,null)}},endEditLabel:function(){var u=this.get("labelTextArea");if(this.setSignal("preventWheelPan",!1),u){var i=u.focusItem;if(i){var r=i.getModel(),o=this.editor;r.label!==u.textContent&&o.executeCommand("update",{action:"updateLabel",itemId:i.id,updateModel:{label:u.textContent}}),u.hide(),u.focusItem=void 0,this.focusGraphWrapper()}}}},d.exports=a},function(d,y){var p={AUGMENT:{updateStatus:function(){var n,a=this.getSelected();a.length===0?n="canvas-selected":a.length===1?a[0].isNode?n="node-selected":a[0].isEdge?n="edge-selected":a[0].isGroup&&(n="group-selected"):n="multi-selected",this.emit("statuschange",{status:n})}}};d.exports=p},function(d,y,p){p(45),p(46),p(47),p(48),p(49),p(50),p(51),p(52),p(53),p(54),p(55),p(56),p(57),p(58),p(59),p(60),p(61),p(62)},function(d,y,p){var n=p(3),a=p(4);n.registerBehaviour("panBlank",a.getPanCanvasBehaviour(!0))},function(d,y,p){p(3).registerBehaviour("hoverButton",function(n){n.getGraph().behaviourOn("mouseenter",function(a){n.getSignal("panningItem")||a.shape&&a.shape.isButton&&n.css({cursor:"pointer"})})})},function(d,y,p){var n=p(3),a=p(4);n.registerBehaviour("panCanvas",a.getPanCanvasBehaviour())},function(d,y,p){var n=p(3),a=p(14),u=p(4);n.registerBehaviour("wheelChangeViewport",function(i){var r,o=i.getGraph();o.behaviourOn("wheel",function(c){c.domEvent.preventDefault()}),o.behaviourOn("wheel",u.throttle(function(c){if(!i.getSignal("preventWheelPan")){var h=c.domEvent,v=i.getSignal("wheelZoom");if(r||i.setCapture(!1),v){var f=h.wheelDelta;if(Math.abs(f)>10){var m=o.getMatrix()[0];f>0?o.zoom({x:c.x,y:c.y},1.05*m):o.zoom({x:c.x,y:c.y},m*(1/1.05))}}else{var b=[],M=o.getMatrix();u.mat3.translate(b,M,[h.wheelDeltaX*a.wheelPanRatio,h.wheelDeltaY*a.wheelPanRatio]),i.translateLimt(b)&&o.updateMatrix(b)}r&&clearTimeout(r),r=setTimeout(function(){i.setCapture(!0),r=void 0},50)}},16))})},function(d,y,p){p(3).registerBehaviour("processPanItem",function(n){var a=n.getGraph();a.behaviourOn("mousemove",function(u){var i=n.get("panItemDelegation");if(i){var r=n.get("panItemStartPoint"),o=n.get("panItemStartBox"),c=u.x-r.x,h=u.y-r.y,v=n.align({x:o.minX+c,y:o.minY+h},{width:o.width,height:o.height});i.attr({x:v.x,y:v.y}),a.emit("itempanning",u),a.draw()}})})},function(d,y,p){p(3).registerBehaviour("startPanItem",function(n){var a=n.getGraph(),u=a.getRootGroup();a.behaviourOn("dragstart",function(i){if(i.button!==2&&i.item&&(i.item.isNode||i.item.isGroup)){var r,o=i.item;if((r=(r=o.isSelected?n.getSelected():[o]).filter(function(v){return v.isNode||v.isGroup}))[0]&&r[0].dragable!==!1){a.emit("beforepanitem",{items:r}),a.emit("beforeshowdelegation",{items:r});var c=n.getDelegation(r,u),h=c.getBBox();n.setSignal("panningItem",!0),n.set("panItems",r),n.set("panItemDelegation",c),n.set("panItemStartBox",h),n.set("panItemStartPoint",{x:i.x,y:i.y}),a.draw()}}})})},function(d,y,p){p(3).registerBehaviour("endPanItem",function(n){var a=n.getGraph();a.behaviourOn("panitemend",function(){var u=n.get("panItemDelegation");u&&(u.remove(),a.draw()),n.setSignal("panningItem",!1),n.set("panItemDelegation",void 0),n.set("panItemStartPoint",void 0),n.set("panItemStartBox",void 0),n.set("panItems",void 0)}),a.behaviourOn("canvas:mouseleave",function(){n.get("panItems")&&(n.clearAlignLine(),a.emit("panitemend"))})})},function(d,y,p){p(3).registerBehaviour("dblclickItemEditLabel",function(n){n.getGraph().behaviourOn("node:dblclick",function(a){a.shape&&!a.shape.isButton&&n.beginEditLabel(a.item)})})},function(d,y,p){p(3).registerBehaviour("clickCanvasSelected",function(n){var a=n.getGraph();a.behaviourOn("click",function(u){u.shape||(n.clearSelected(),n.clearActived(),n.updateStatus())}),a.behaviourOn("contextmenu",function(u){u.shape||(n.clearSelected(),n.clearActived(),n.updateStatus())})})},function(d,y,p){p(3).registerBehaviour("clickCollapsedButton",function(n){var a=n.getGraph();a.behaviourOn("click",function(u){var i=u.item,r=u.shape;if(i&&r&&r.isCollapsedButton){var o=n.editor;o?o.executeCommand("collapseExpand",{itemId:i.id}):a.update(i,{collapsed:!0})}})})},function(d,y,p){p(3).registerBehaviour("clickEdgeSelected",function(n){n.getGraph().behaviourOn("edge:click",function(a){n.get("multiSelectable")&&n.getSignal("shiftKeyDown")===!0||(n.clearActived(),n.clearSelected()),n.setSelected(a.item.id,!0)})})},function(d,y,p){p(3).registerBehaviour("clickExpandedButton",function(n){var a=n.getGraph();a.behaviourOn("click",function(u){var i=u.item,r=u.shape;if(i&&r&&r.isExpandedButton){var o=n.editor;o?o.executeCommand("collapseExpand",{itemId:i.id}):a.update(i,{collapsed:!1})}})})},function(d,y,p){p(3).registerBehaviour("clickGroupSelected",function(n){n.getGraph().behaviourOn("group:click",function(a){n.get("multiSelectable")&&n.getSignal("shiftKeyDown")===!0||(n.clearActived(),n.clearSelected()),n.setSelected(a.item.id,!0)})})},function(d,y,p){p(3).registerBehaviour("clickNodeSelected",function(n){n.getGraph().behaviourOn("node:click",function(a){n.get("multiSelectable")&&n.getSignal("shiftKeyDown")===!0||(n.clearActived(),n.clearSelected()),n.setSelected(a.item.id,!0)})})},function(d,y,p){p(3).registerBehaviour("hoverNodeActived",function(n){var a,u=n.getGraph();u.behaviourOn("node:mouseenter",function(i){i.item.getShapeObj().panAble!==!1&&n.css({cursor:"move"}),n.getSignal("panningItem")||n.getSignal("dragEdge")||i.item&&i.item.isSelected||(a=i.item,n.setActived(a,!0))}),u.behaviourOn("node:mouseleave",function(i){var r=i.toShape;a&&(r&&r.isAnchor&&r.getItem()===a||n.getSignal("dragEdge")||(a.isSelected||n.setActived(a,!1),a=void 0))})})},function(d,y,p){p(3).registerBehaviour("hoverGroupActived",function(n){var a=n.getGraph();a.behaviourOn("mouseenter",function(u){n.getSignal("panningItem")||u.item&&u.item.isSelected||n.getSignal("dragEdge")||u.shape&&u.shape.isGroupKeyShape&&(n.css({cursor:"move"}),n.setActived(u.item,!0))}),a.behaviourOn("group:mouseleave",function(u){u.item.isActived&&!u.item.isSelected&&n.setActived(u.item,!1)})})},function(d,y,p){p(3).registerBehaviour("hoverEdgeActived",function(n){var a=n.getGraph();a.behaviourOn("edge:mouseenter",function(u){n.getSignal("panningItem")||u.item&&u.item.isSelected||n.getSignal("dragEdge")||n.setActived(u.item,!0)}),a.behaviourOn("edge:mouseleave",function(u){n.setActived(u.item,!1)})})},function(d,y,p){p(3).registerBehaviour("keydownCmdWheelZoom",function(n){var a=n.getGraph();a.behaviourOn("keydown",function(u){u.domEvent.keyCode===91&&n.setSignal("wheelZoom",!0)}),a.behaviourOn("keyup",function(u){u.domEvent.keyCode===91&&n.setSignal("wheelZoom",!1)})})},function(d,y,p){var n=p(22);d.exports={dragingEdgeEndPoint:function(a){var u=a.endPointType,i=a.edgeModel,r=a.graph,o=a.delegation,c=a.startPoint,h=a.ev,v=a.source,f=a.target,m=h.item,b=u==="source"?[h,c]:[c,h];m&&(u==="source"?f=m:v=m);var M=r.getShapeObj("edge",i).getPathByPoints({points:b,source:v,target:f});o.attr("path",M),r.draw()},panGroup:function(a,u,i,r){var o=a.getModel();n.traverseTree(a,function(c){if(c.type==="node"){var h=c.getModel();r.update(c,{x:h.x+u,y:h.y+i})}a.getCrossEdges&&a.getCrossEdges().forEach(function(v){v.update()})},function(c){return c.type==="group"?c.getChildren():[]}),r.update(a,{x:o.x+u,y:o.y+i})},dropUpdateEdge:function(a){var u=a.ev,i=a.endPointType,r=a.model,o=a.diagram,c=o.get("noEndEdge"),h=o.get("linkAnchor"),v=o.get("linkNode"),f=u.item,m=u.shape,b=u.x,M=u.y;if(o.getGraph().emit("beforedropedge"),m){if(h&&m.isAnchor&&m.hasHotspot){var O=m,E=O.getItem();return i==="target"?(r.target=E.id,r.targetAnchor=O.getIndex(),!0):(r.source=E.id,r.sourceAnchor=O.getIndex(),!0)}if(v&&f&&f.isNode)return i==="target"?(r.target=f.id,!0):(r.source=f.id,!0)}else if(c)return i==="target"?(r.target={x:b,y:M},!0):(r.source={x:b,y:M},!0);return!1}}},function(d,y){d.exports={rectRectCrossAlgorithm:function(p,n){var a=Math.max(p.minX,n.minX),u=Math.max(p.minY,n.minY),i=Math.min(p.maxX,n.maxX),r=Math.min(p.maxY,n.maxY);return a>i||u>r},euclideanDistance:{pointPoint:function(p,n){var a=Math.pow(p.x-n.x,2)+Math.pow(p.y-n.y,2);return Math.sqrt(a)}}}},function(d,y,p){var n={},a=p(2);n.AUGMENT={changeAddEdgeModel:function(u){this.set("addEdgeModel",u)},cancelAdd:function(){this.set("addType",void 0),this.set("addModel",void 0),this.changeMode("default")},beginAdd:function(u,i){this.set("addType",u),this.set("addModel",i),this.changeMode("add")},endAdd:function(){this.set("addType",void 0),this.set("addModel",void 0),this.changeMode("default")},delete:function(){var u=this.getSelected(),i=this.get("_graph");a.each(u,function(r){i.remove(r)})},toBack:function(){var u=this.getSelected(),i=this.get("_graph");u.sort(function(r,o){var c=r.getGraphicGroup(),h=o.getGraphicGroup();return a.getIndex(h)-a.getIndex(c)}),u.forEach(function(r){i.toBack(r)})},toFront:function(){var u=this.getSelected(),i=this.get("_graph");u.sort(function(r,o){var c=r.getGraphicGroup(),h=o.getGraphicGroup();return a.getIndex(c)-a.getIndex(h)}),u.forEach(function(r){i.toFront(r)})},addGroup:function(u){var i,r=this.get("_graph"),o=this.getSelected(),c=!0;if(o.length!==0){u||(u={label:"\u65B0\u5EFA\u5206\u7EC4"}),a.setId(u),r.add("group",u),r.toFront(u.id);var h=r.find(u.id);if(o.forEach(function(f){var m=f.getParent();m&&(i?i!==m&&(c=!1):i=m)}),c){i&&(u.parent=i.getModel().id),o.forEach(function(f){r.update(f,{parent:u.id})});var v=h.getInnerEdges();h.deepEach(function(f){r.toFront(f)}),v.forEach(function(f){r.toFront(f)})}else console.warn("add group elements must have the same parent")}},unGroup:function(){var u=this.get("_graph"),i=this.getSelected(),r=i[0];i.length===1&&a.isGroup(r)&&(r.getChildren().forEach(function(o){u.update(o,{parent:void 0}),o.collapsedParent||o.show(),o.isGroup&&o.deepEach(function(c){c.collapsedParent||c.show()})}),u.remove(r))},newGroup:function(u){this.addGroup(u)}},d.exports=n},function(d,y,p){function n(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}var a=p(67),u=p(2),i={CFG:{anchor:{}},INIT:"_initAnchor"};i.AUGMENT={_initAnchor:function(){var r=this.get("anchor"),o=this.get("_graph");if(r){var c=new a(function(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){n(h,b,f[b])})}return h}({diagram:this,graph:o},r));this.setController("anchor",c)}},showAnchor:function(r,o,c){this.getController("anchor").showAnchor(r,o,c)},clearAnchor:function(r){this.getController("anchor").clearAnchor(r)},setHotspotActived:function(r,o){this.getController("anchor").setHotspotActived(r,o)},hoverShowAnchor:function(r){var o=this,c=r.getAnchorPoints(),h=[];c.forEach(function(v,f){var m={anchor:v,item:r};o.emit("hovernode:beforeshowanchor",m),m.cancel||h.push(f)}),this.showAnchor(r,h)},anchorHasBeenLinked:function(r,o){var c=r.getEdges(),h=[];return c.forEach(function(v){var f=v.getModel();f.source!==r.id||u.isNil(f.sourceAnchor)||h.push(f.sourceAnchor),f.target!==r.id||u.isNil(f.targetAnchor)||h.push(f.targetAnchor)}),u.isObject(o)?h.indexOf(o.index)!==-1:h.indexOf(o)!==-1},dragEdgeBeforeShowAnchor:function(r,o,c){var h=this;this.getGraph().getNodes().forEach(function(v){var f,m=[],b=v.getAnchorPoints();if(r.isNode){var M=r.getAnchorPoints();b.forEach(function(O,E){f=c==="target"?{source:r,sourceAnchor:M[o],target:v,targetAnchor:O,dragEndPointType:c}:{target:r,targetAnchor:M[o],source:v,sourceAnchor:O,dragEndPointType:c},h.emit("dragedge:beforeshowanchor",f),f.cancel||m.push(E)})}else b.forEach(function(O,E){m.push(E)});v===r&&v.isAnchorShow?m.forEach(function(O){var E=v.getAnchor(O);o!==O&&E&&E.showHotspot()}):h.showAnchor(v,m,!0)})}},d.exports=i},function(d,y,p){function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(b)}function a(b){for(var M=1;M<arguments.length;M++){var O=arguments[M]!=null?arguments[M]:{},E=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(O).filter(function(C){return Object.getOwnPropertyDescriptor(O,C).enumerable}))),E.forEach(function(C){u(b,C,O[C])})}return b}function u(b,M,O){return M in b?Object.defineProperty(b,M,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[M]=O,b}function i(b,M){for(var O=0;O<M.length;O++){var E=M[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}function r(b,M){return!M||n(M)!=="object"&&typeof M!="function"?function(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(b):M}function o(b){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(b)}function c(b,M){return(c=Object.setPrototypeOf||function(O,E){return O.__proto__=E,O})(b,M)}var h=p(9),v=p(5),f=p(2),m=function(b){function M(){return function(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}(this,M),r(this,o(M).apply(this,arguments))}var O,E,C;return function(j,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(B&&B.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),B&&c(j,B)}(M,h),O=M,(E=[{key:"getDefaultCfg",value:function(){return{_anchorItemCache:{}}}},{key:"init",value:function(){var j=this,B=this.graph;B.on("afteritemdraw",function(N){N.item.isAnchorShow&&j.showAnchor(N.item)}),B.on("beforeitemdestroy",function(N){j._clearAnchor(N.item)}),B.on("afteritemhide",function(N){N.item.isNode&&j._clearAnchor(N.item)})}},{key:"_updateAnchor",value:function(j){var B=this.graph;j.anchorShapes.forEach(function(N){N.updatePosition()}),B.draw()}},{key:"_drawAnchor",value:function(j,B,N,I){var F=j.getAnchorPoints();this._clearAnchor(j),f.each(F,function(G,U){if(!N||N.indexOf(U)!==-1){var H,Q=B.addShape("marker",{attrs:a({symbol:"circle"},v.anchorPointStyle,{x:G.x,y:G.y}),freezePoint:G,item:j,index:U,eventPreFix:"anchor",isItemChange:function(){},zIndex:v.zIndex.anchorPoint});Q.toFront(),Q.eventPreFix="anchor",Q.showHotspot=function(){H=B.addShape("marker",{attrs:a({symbol:"circle"},v.anchorHotsoptStyle,{x:G.x,y:G.y}),freezePoint:G,capture:!1,zIndex:v.zIndex.anchorHotsopt}),j.anchorShapes.push(H),Q.hasHotspot=!0,H.toFront(),Q.toFront()},Q.getIndex=function(){return U},Q.getItem=function(){return j},Q.getPoint=function(){return G},Q.updatePosition=function(){var at=j.getAnchorPoints()[U];Q.attr(at)},Q.setActived=function(){Q.attr(v.anchorPointHoverStyle)},Q.clearActived=function(){Q.attr(v.anchorPointStyle)},Q.isAnchor=!0,Q.setHotspotActived=function(at){H&&(at?H.attr(v.anchorHotsoptActivedStyle):H.attr(v.anchorHotsoptStyle))},I&&Q.showHotspot(),j.anchorShapes.push(Q),j.getAllAnchors=function(){return j.anchorShapes.filter(function(at){return at.isAnchor})},j.getAnchor=function(at){return j.anchorShapes.find(function($){return $.get("index")===at})}}})}},{key:"_clearAnchor",value:function(j){j.anchorShapes&&j.anchorShapes.forEach(function(B){B.remove()}),j.anchorShapes=[]}},{key:"setHotspotActived",value:function(j,B){var N=this.diagram.getGraph();j.setHotspotActived(B),N.draw()}},{key:"showAnchor",value:function(j,B,N){if(j.isVisible()){var I=this.graph,F=this._anchorItemCache,G=I.getRootGroup();this._drawAnchor(j,G,B,N),j.isAnchorShow=!0,F[j.id]=j}}},{key:"clearAnchor",value:function(j){var B=this,N=this.graph,I=N.get("itemCache"),F=this._anchorItemCache,G=j;G=f.isObject(j)?[j]:f.isString(j)?[I[j]]:F,f.each(G,function(U){B._clearAnchor(U),U.isAnchorShow=!1,delete F[U.id]}),N.draw()}}])&&i(O.prototype,E),C&&i(O,C),M}();d.exports=m},function(d,y,p){function n(i,r,o){return r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i}var a=p(69),u={CFG:{orbit:null},INIT:"_initOrbit"};u.AUGMENT={_initOrbit:function(){var i=this.get("orbit");if(i){var r=new a(function(o){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){n(o,f,h[f])})}return o}({diagram:this},i));this.setController("orbit",r)}},showOrbit:function(i){this.getController("orbit").show(i)},hideOrbit:function(){this.getController("orbit").hide()},layoutOrbit:function(i,r){this.getController("orbit").layout(i,r)}},d.exports=u},function(d,y,p){function n(O){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function a(O,E,C){return E in O?Object.defineProperty(O,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[E]=C,O}function u(O,E){for(var C=0;C<E.length;C++){var j=E[C];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}function i(O,E){return!E||n(E)!=="object"&&typeof E!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(O):E}function r(O){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function o(O,E){return(o=Object.setPrototypeOf||function(C,j){return C.__proto__=j,C})(O,E)}var c=p(9),h=p(5),v=p(70),f=p(2),m=f.vec2,b=f.isString,M=function(O){function E(){return function(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}(this,E),i(this,r(E).apply(this,arguments))}var C,j,B;return function(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),I&&o(N,I)}(E,c),C=E,(j=[{key:"getDefaultCfg",value:function(){return{satellite:[],satelliteCache:[]}}},{key:"init",value:function(){var N=this,I=this.satellite,F=this.diagram,G={diagram:F};F.getGraph().addBehaviour("orbit"),I.forEach(function(U){b(U)?N.satelliteCache.push(new v[U](G)):N.satelliteCache.push(new v(function(H){for(var Q=1;Q<arguments.length;Q++){var at=arguments[Q]!=null?arguments[Q]:{},$=Object.keys(at);typeof Object.getOwnPropertySymbols=="function"&&($=$.concat(Object.getOwnPropertySymbols(at).filter(function(K){return Object.getOwnPropertyDescriptor(at,K).enumerable}))),$.forEach(function(K){a(H,K,at[K])})}return H}({},G,U)))})}},{key:"layout",value:function(N,I){var F=this.diagram,G=F.getGraph(),U=this.satelliteCache,H=N.getBBox(),Q=H.centerX,at=H.centerY,$=F.getZoom(),K=h.orbitGap/$,ot=U.filter(function(bt){return bt.isVisible()}),it=[I.x-Q,I.y-at],ht=m.length(it),St=H.width/2+K,gt=m.scale([],it,St/ht);ot.forEach(function(bt){var mt=bt.getDOM(),vt=mt.width()/2,_t=G.getDomPoint({x:gt[0]+Q,y:gt[1]+at});mt.css({top:_t.y-vt+"px",left:_t.x-vt+"px"})})}},{key:"show",value:function(N){this.satelliteCache.forEach(function(I){I.enable()&&(I.item=N,I.show())})}},{key:"hide",value:function(){this.satelliteCache.forEach(function(N){N.hide()})}}])&&u(C.prototype,j),B&&u(C,B),E}();d.exports=M},function(d,y,p){var n=p(23);n.forkAndLink=p(71),d.exports=n},function(d,y,p){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function a(f,m,b){return m in f?Object.defineProperty(f,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):f[m]=b,f}function u(f,m){for(var b=0;b<m.length;b++){var M=m[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function i(f,m){return!m||n(m)!=="object"&&typeof m!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(f):m}function r(f){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(f)}function o(f,m){return(o=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(f,m)}var c=p(23),h=p(2),v=function(f){function m(){return function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,m),i(this,r(m).apply(this,arguments))}var b,M,O;return function(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),C&&o(E,C)}(m,c),b=m,(M=[{key:"getDefaultCfg",value:function(){return{name:"forkAndLink",render:function(){return`
          <div style="
            width: 11px;
            height: 11px;
            cursor: copy;
            background-image: url(https://gw.alipayobjects.com/zos/rmsportal/yWAiQOmucbYMCpwkvTBP.svg)
          "></div>
        `},bindEvent:function(E,C){var j=this,B=C.getGraph(),N=B.getRootGroup();return E.setAttribute("draggable","true"),[h.addEventListener(E,"dragstart",function(){var I=j.item,F=function(H){for(var Q=1;Q<arguments.length;Q++){var at=arguments[Q]!=null?arguments[Q]:{},$=Object.keys(at);typeof Object.getOwnPropertySymbols=="function"&&($=$.concat(Object.getOwnPropertySymbols(at).filter(function(K){return Object.getOwnPropertyDescriptor(at,K).enumerable}))),$.forEach(function(K){a(H,K,at[K])})}return H}({},C.get("addEdgeModel"),{source:I.id}),G=I.getBBox(),U=C.getDelegation([{isEdge:!0}],N);C.setSignal("dragEdge",!0),C.beginAdd("edge",F),C.set("addEdgeConfig",{addModel:F,delegation:U,startPoint:{x:G.centerX,y:G.centerY},sourceItem:I}),E.hide()}),h.addEventListener(E,"click",function(I){var F=I.clientX,G=I.clientY,U=C.editor,H=j.item,Q=B.getPointByClient({x:F,y:G}),at=H.getBBox(),$=H.getModel(),K=[Q.x-at.centerX,Q.y-at.centerY],ot=h.vec2.length(K);if(h.vec2.scale(K,K,160/ot),U)U.executeCommand("copyAdjacent",{copyNode:H,x:Q.x+K[0],y:Q.y+K[1]});else{var it=h.clone($);it.x=Q.x+K[0],it.y=Q.y+K[1],B.add(H.type,it)}})]}}}}])&&u(b.prototype,M),O&&u(b,O),m}();d.exports=v},function(d,y,p){var n=p(2),a=p(5),u={};function i(r){r.controlPointShapes&&n.each(r.controlPointShapes,function(o){o.remove()}),r.controlPointShapes=[],r.isControlPointShow=!1}u.INIT="_initResize",u.CFG={nodeResizeable:!1,edgeResizeable:!0},u.AUGMENT={_initResize:function(){var r=this,o=this.get("_graph"),c=this.get("nodeResizeable"),h=this.get("edgeResizeable");c&&o.on("afteritemdraw",function(v){v.item.type==="node"&&v.item.isVisible()&&r.drawControlPoints(v.item)}),h&&o.on("afteritemdraw",function(v){v.item.type==="edge"&&v.item.isVisible()&&r.drawControlPoints(v.item)}),o.on("afteritemhide",function(v){var f;v.item.isControlPointShow&&((f=v.item).controlPointShapes&&n.each(f.controlPointShapes,function(m){m.hide()}),f.isControlPointShow=!1)}),o.on("afteritemshow",function(v){var f;!v.item.isControlPointShow&&((f=v.item).controlPointShapes&&n.each(f.controlPointShapes,function(m){m.show()}),f.isControlPointShow=!0)}),o.on("beforeitemdestroy",function(v){v.item.isControlPointShow&&i(v.item)})},drawControlPoints:function(r){var o,c,h,v,f,m,b,M,O,E=this.get("_graph").getRootGroup(),C=this.get("nodeResizeable"),j=this.get("edgeResizeable");r.type==="node"?C&&function(B,N){var I=B.getBBox(),F=[{x:I.minX,y:I.minY},{x:I.maxX,y:I.minY},{x:I.minX,y:I.maxY},{x:I.maxX,y:I.maxY}];i(B);var G=N.addShape("rect",{attrs:n.mix({},a.nodeSelectedBoxStyle,{symbol:"square",x:I.minX,y:I.minY,width:I.maxX-I.minX,height:I.maxY-I.minY})});B.controlPointShapes.push(G),n.each(F,function(U){var H=N.addShape("marker",{attrs:n.mix({},a.nodeControlPointStyle,{symbol:"square",x:U.x,y:U.y}),freezePoint:{x:U.x,y:U.y},item:B});B.controlPointShapes.push(H)})}(r,E):r.type==="edge"&&j&&(c=E,h=(o=r).getKeyShape().attr("path"),v=h[0],f=v.length,m=h[h.length-1],b=m.length,M=[{x:v[f-2],y:v[f-1]},{x:m[b-2],y:m[b-1]}],O=o.getModel(),i(o),n.each(M,function(B,N){var I=c.addShape("marker",{attrs:n.mix({},a.edgeControlPointStyle,{x:B.x,y:B.y}),freezePoint:{x:B.x,y:B.y},item:o});I.eventPreFix="edgeControlPoint",I.getSourcePoint=function(){return M[0]},I.getTargetPoint=function(){return M[M.length-1]},I.getItem=function(){return o},I.isSourceEndPoint=function(){return O.source&&N===0},I.isTargetEndPoint=function(){return O.target&&N===M.length-1},o.controlPointShapes.push(I)})),r.isControlPointShow=!0}},d.exports=u},function(d,y,p){function n(r){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{},h=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(c).filter(function(v){return Object.getOwnPropertyDescriptor(c,v).enumerable}))),h.forEach(function(v){a(r,v,c[v])})}return r}function a(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}var u=p(2),i={};i.AUGMENT={addOutterShape:function(r,o){this.clearOutterShape(r);var c=o.lineWidth,h=r.getKeyShape(),v=r.getGraphicGroup(),f=h.attr(),m=h.get("type"),b=h.attr("lineWidth"),M=u.clone(f);delete M.fillStyle,delete M.strokeStyle,delete M.matrix;var O=v.addShape(m,{attrs:n({},M,{fill:null},o)});u.toBack(O,v);var E=O.getBBox(),C=E.maxX-E.minX,j=E.maxY-E.minY,B=(E.minX+E.maxX)/2,N=(E.minY+E.maxY)/2;O.transform([["t",-B,-N],["s",(c+C+b)/C,(c+j+b)/j],["t",B,N]]),O.isOutter=!0,r.outterShape=O},clearOutterShape:function(r){r.outterShape&&r.outterShape.remove()}},d.exports=i},function(d,y){var p={CFG:{linkNode:!0,linkAnchor:!0},INIT:"_initLink",AUGMENT:{_initLink:function(){var n=this,a=this.getGraph(),u=this.get("linkAnchor"),i=this.get("linkNode"),r=a.get("mode");u&&(this.on("beforeitemactived",function(o){var c=o.item;c.isNode&&n.hoverShowAnchor(c)}),this.on("beforeitemunactived",function(o){var c=o.item;(c.isNode||c.isGroup)&&n.clearAnchor(c)}),this.on("beforeitemselected",function(o){var c=o.item;(c.isNode||c.isGroup)&&n.hoverShowAnchor(c)}),this.on("beforeitemunselected",function(o){var c=o.item;(c.isNode||c.isGroup)&&n.clearAnchor(c)}),a.addBehaviour("dragAnchorAddEdge","add"),a.addBehaviour("hoverAnchorActived","default"),a.changeMode(r)),i&&(a.addBehaviour("hoverNodeAddOutter","add"),a.addBehaviour("hoverNodeAddOutter","default"),a.changeMode(r))}}};d.exports=p},function(d,y,p){p(76),p(77),p(78),p(79)},function(d,y,p){function n(o){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){a(o,f,h[f])})}return o}function a(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}var u=p(13),i=p(2),r=p(5);u.registerNode("diagram-base",{getSize:function(o){var c=o.getModel();return i.getNodeSize(c.size)},defaultFillPalette:0,defaultStrokePalette:3,activedFillPalette:0,activedStrokePalette:5,selectedFillPalette:2,selectedStrokePalette:5,getDefaulStyle:function(){return r.nodeStyle},getDefaulActivedStyle:function(){return r.nodeActivedStyle},getDefaulSelectedtyle:function(){return r.nodeSelectedStyle},getStyle:function(o){var c,h,v=o.getModel(),f=v.color;if(f){var m=i.Palettes.generate(f);c=m[this.defaultFillPalette],h=m[this.defaultStrokePalette]}return i.mix(!0,{},this.getDefaulStyle(),{fill:c,stroke:h},v.style)},getPath:function(o){var c=this.getSize(o),h=this.getStyle(o);return i.getRectPath(-c[0]/2,-c[1]/2,c[0],c[1],h.radius)},getActivedOutterStyle:function(){return r.nodeActivedOutterStyle},getActivedStyle:function(o){var c=o.getModel(),h=this.getDefaulActivedStyle(o),v=c.color;if(v){var f=i.Palettes.generate(v);return n({},h,{fill:f[this.activedFillPalette],stroke:f[this.activedStrokePalette]})}return h},getSelectedStyle:function(o){var c=o.getModel(),h=this.getDefaulSelectedtyle(o),v=c.color;if(v){var f=i.Palettes.generate(v);return n({},h,{fill:f[this.selectedFillPalette],stroke:f[this.selectedStrokePalette]})}return h},getSelectedOutterStyle:function(o){var c=o.getModel().color;if(c){var h=i.Palettes.generate(c);return n({},r.nodeSelectedOutterStyle,{stroke:h[1],fill:h[1]})}return r.nodeSelectedOutterStyle},anchor:[[.5,0],[1,.5],[.5,1],[0,.5]]}),u.registerNode("capsule",{getPath:function(o){var c=this.getSize(o);return i.getRectPath(-c[0]/2,-c[1]/2,c[0],c[1],c[1]/2)}}),u.registerNode("circle",{getPath:function(o){var c=this.getSize(o),h=c[0],v=c[1];return i.getEllipsePath(0,0,h/2,v/2)}}),u.registerNode("rhombus",{getPath:function(o){var c=this.getSize(o),h=c[0],v=c[1],f=[{x:0,y:0-v/2},{x:0+h/2,y:0},{x:0,y:0+v/2},{x:0-h/2,y:0},{x:0,y:0-v/2}];return i.pointsToPolygon(f)}})},function(d,y,p){var n=p(13),a=p(2),u=p(5);n.registerEdge("diagram-base",{getPath:function(i){var r=i.getPoints(),o=i.getSource(),c=i.getTarget();return this.getPathByPoints({points:r,source:o,target:c,item:i})},getPathByPoints:function(i){var r=i.points;return a.pointsToPolygon(r)},getStyle:function(i){var r=i.getModel();return a.mix(!0,{},u.edgeStyle,{stroke:r.color},r.style)},getActivedStyle:function(){return u.edgeActivedStyle},getSelectedStyle:function(){return u.edgeSelectedStyle},getActivedOutterStyle:function(){},getSelectedOutterStyle:function(){}})},function(d,y,p){function n(U){for(var H=1;H<arguments.length;H++){var Q=arguments[H]!=null?arguments[H]:{},at=Object.keys(Q);typeof Object.getOwnPropertySymbols=="function"&&(at=at.concat(Object.getOwnPropertySymbols(Q).filter(function($){return Object.getOwnPropertyDescriptor(Q,$).enumerable}))),at.forEach(function($){a(U,$,Q[$])})}return U}function a(U,H,Q){return H in U?Object.defineProperty(U,H,{value:Q,enumerable:!0,configurable:!0,writable:!0}):U[H]=Q,U}var u=p(13),i=p(5),r=p(2),o=r.getGroupIconPath(),c=r.getCollapsedButtonPath(),h=r.getExpandedButtonPath(),v={fill:"#CED4D9"},f={stroke:"#697B8C",fill:"#fff",fillOpacity:0},m={stroke:"#697B8C",fill:"#fff",fillOpacity:0},b={fill:"#000000",textBaseline:"top",textAlign:"left"},M={stroke:"#CED4D9",fill:"#F2F4F5",radius:4},O=i.groupBackgroundPadding,E=40,C=13,j=12,B=12,N=8,I=12,F=184-O[1]-O[3],G=40-O[0]-O[2];u.registerGroup("diagram-base",{draw:function(U){var H=U.getModel(),Q=U.getGraphicGroup(),at=U.getChildrenBBox(),$=this.getStyle(U),K=H.collapsed,ot=H.padding?H.padding:O;if(at.minX===1/0&&(at.minX=H.x,at.maxX=H.x+F,at.minY=H.y,at.maxY=H.y+G),K&&(at.minX=at.maxX-F,at.maxY=at.minY+G),at.maxX-at.minX<F){var it=F-at.maxX+at.minX;at.minX-=it/2,at.maxX+=it/2}var ht=function(vt,_t){return vt.minX-_t[3]}(at,ot),St=function(vt,_t){return vt.minY-_t[0]}(at,ot),gt=function(vt,_t){return vt.maxX-vt.minX+_t[3]+_t[1]}(at,ot),bt=function(vt,_t){return vt.maxY-vt.minY+_t[0]+_t[2]}(at,ot),mt=function(vt,_t,Nt,At){var It=_t.addShape("path",{attrs:n({},At,{path:Nt})});return It.isGroupKeyShape=!0,It}(0,Q,r.getRectPath(ht,St,gt,bt,$.radius),$);return function(vt,_t,Nt,At){var It=r.mix(!0,{},b,{x:Nt+E,y:At+C});r.isString(vt)?It.text=vt:r.mix(It,vt),_t.addShape("text",{attrs:It})}(r.isNil(H.label)?"\u65B0\u5EFA\u5206\u7EC4":H.label,Q,ht,St),function(vt,_t,Nt,At){var It=_t.addShape("path",{attrs:n({path:vt},v)}),dt=It.getBBox();It.translate(Nt-dt.minX+N,At-dt.minY+I)}(r.isNil(H.icon)?o:H.icon,Q,ht,St),function(vt,_t,Nt,At,It){var dt;if(vt){var X=(dt=_t.addShape("path",{attrs:n({path:h},m)})).getBBox(),V=X.maxX-X.minX;dt.isExpandedButton=!0,dt.translate(Nt+It-X.minX-V-B,At-X.minY+j)}else{var Z=(dt=_t.addShape("path",{attrs:n({path:c},f)})).getBBox(),W=Z.maxX-Z.minX;dt.isCollapsedButton=!0,dt.translate(Nt+It-Z.minX-W-B,At-Z.minY+j)}return dt.isButton=!0,dt}(K,Q,ht,St,gt).item=U,H.x=at.minX,H.y=at.minY,mt},getStyle:function(U){var H=U.getModel();return r.mix(!0,{},M,{fill:H.color,stroke:H.color},H.style)},getActivedStyle:function(){return i.groupActivedStyle},getSelectedStyle:function(){return i.groupSelectedStyle},getSelectedOutterStyle:function(){return i.groupSelectedOutterStyle},getActivedOutterStyle:function(){},intersectBox:"rect"})},function(d,y,p){p(13).registerGuide("diagram-base")},function(d,y,p){p(81),p(82),p(83),p(84),p(85),p(86),p(87),p(88),p(89),p(90),p(91),p(92),p(93),p(94)},function(d,y,p){var n=p(1),a=p(2);n.registerBehaviour("panItem",function(u){var i=u.getGraph();i.behaviourOn("drop",function(){var r=u.get("panItems");if(r){var o=r[0],c=r.map(function(E){return E.id}),h=u.get("panItemDelegation"),v=u.get("panItemStartBox"),f=o.id,m=h.attr("x")-v.minX,b=h.attr("y")-v.minY;i.emit("afterpanitemdrop",{panItems:r}),u.clearAlignLine();var M=u.editor;i.emit("panitemend"),!M||u.getSignal("dragaddnodetogroup")?O():M.executeCommand(O)}function O(){c.forEach(function(E){var C=i.find(E),j=C.getModel();C.isGroup?a.panGroup(C,m,b,i):(i.update(C,{x:j.x+m,y:j.y+b}),i.toFront(C))}),c.length===1&&(u.clearSelected(),u.setSelected(f,!0))}})},["startPanItem","processPanItem","endPanItem"])},function(d,y,p){function n(i,r,o){return r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i}var a=p(1),u=p(5);a.registerBehaviour("hoverAnchorActived",function(i){var r=i.getGraph();r.behaviourOn("anchor:mouseenter",function(o){if(!i.getSignal("panningItem")&&!i.getSignal("dragEdge")){var c=o.shape,h=c.getItem(),v=h.getModel(),f=function(b){for(var M=1;M<arguments.length;M++){var O=arguments[M]!=null?arguments[M]:{},E=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(O).filter(function(C){return Object.getOwnPropertyDescriptor(O,C).enumerable}))),E.forEach(function(C){n(b,C,O[C])})}return b}({},i.get("addEdgeModel"),{source:v.id}),m={anchor:c.getPoint(),item:h};i.emit("hoveranchor:beforeaddedge",m),m.cancel?i.css({cursor:u.cursor.hoverUnEffectiveAnchor}):(i.css({cursor:u.cursor.hoverEffectiveAnchor}),!c.get("destroyed")&&c.setActived(),i.beginAdd("edge",f),r.draw())}}),r.behaviourOn("anchor:mouseleave",function(o){if(!i.getSignal("dragEdge")&&!i.getSignal("panningItem")){var c=o.shape,h=c.getItem();i.css({cursor:u.cursor.beforePanCanvas}),h.isSelected||(i.clearAnchor(h),i.setActived(h,!1)),!c.get("destroyed")&&c.clearActived(),i.cancelAdd(),r.draw()}})})},function(d,y,p){var n=p(1),a=p(5);n.registerBehaviour("hoverEdgeControlPoint",function(u){u.getGraph().behaviourOn("edgeControlPoint:mouseenter",function(i){if(!u.getSignal("dragEdge")&&!u.getSignal("panningItem")){var r=i.shape;(r.isTargetEndPoint()||r.isSourceEndPoint())&&u.css({cursor:a.cursor.hoverEdgeControllPoint})}})})},function(d,y,p){var n=p(1),a=p(5),u=p(2);n.registerBehaviour("dragEdgeControlPoint",function(i){var r,o,c,h,v,f,m,b,M,O,E=i.getGraph(),C=E.getRootGroup();function j(B){if(c){var N={};E.getNodes().forEach(function(U){i.clearAnchor(U)}),i.css({cursor:a.cursor.beforePanCanvas}),c.remove();var I=u.dropUpdateEdge({ev:B,endPointType:r?"target":"source",model:N,diagram:i});E.show(M);var F=M.id;if(I){var G=i.editor;G?G.executeCommand("update",{itemId:F,updateModel:N}):E.update(F,N)}i.setSignal("dragEdge",!1),r=void 0,o=void 0,c=void 0,h=void 0,v=void 0,f=void 0,m=void 0,b=void 0,M=void 0,O=void 0}}E.behaviourOn("edgeControlPoint:mousedown",function(B){if(B.button!==2){var N=B.shape;N.isTargetEndPoint()?(M=N.getItem(),O=M.getModel(),r=N,h=N.getSourcePoint(),v=M.getSource(),m=O.sourceAnchor):N.isSourceEndPoint()&&(M=N.getItem(),O=M.getModel(),o=N,h=N.getTargetPoint(),f=M.getTarget(),b=O.targetAnchor),M&&(c=i.getDelegation([M],C),v?i.dragEdgeBeforeShowAnchor(v,m,"target"):f&&i.dragEdgeBeforeShowAnchor(f,b,"source"),E.hide(M),i.setSignal("dragEdge",!0))}}),E.behaviourOn("mousemove",function(B){c&&u.dragingEdgeEndPoint({endPointType:v?"target":"source",edgeModel:O,graph:E,delegation:c,startPoint:h,ev:B,originSource:v,originTarget:f})}),E.behaviourOn("edgeControlPoint:mouseleave",function(B){r||o||B.toShape||i.css({cursor:a.cursor.beforePanCanvas})}),E.behaviourOn("mouseup",j),E.behaviourOn("canvas:mouseleave",j)},["dragHoverAnchorHotspot"])},function(d,y,p){var n=p(1),a=p(2);n.registerBehaviour("dragPanelItemAddNode",function(u){var i,r,o,c,h,v=u.getGraph(),f=v.getRootGroup();function m(){u.setSignal("panningItem",!1),u.set("panItemDelegation",void 0),u.set("panItemStartBox",void 0),u.set("panItemStartPoint",void 0),r=void 0,o=void 0,c=void 0,h=void 0}v.behaviourOn("canvas:mouseenter",function(b){if(!r&&(c=u.get("addType"),h=u.get("addModel"),h=a.clone(h),c==="node")){var M=(o=a.getNodeSize(h.size))[0]/2,O=o[1]/2;i={minX:b.x-M,minY:b.y-O,maxX:b.x+M,maxY:b.y+O,width:o[0],height:o[1]},r=u.getDelegation([i],f),u.setSignal("panningItem",!0),u.set("panItemDelegation",r),u.set("panItemStartBox",i),u.set("panItemStartPoint",{x:b.x,y:b.y})}}),v.behaviourOn("mouseup",function(b){if(r){h.x=b.x,h.y=b.y;var M=c;a.setId(h);var O=u.editor;r.remove(),u.endAdd(),u.clearAlignLine(),u.clearSelected(),u.focusGraphWrapper(),O?O.executeCommand("add",{type:"node",addModel:h}):v.add(M,h),u.setSelected(v.find(h.id),!0),m()}}),v.behaviourOn("canvas:mouseleave",function(){r&&(u.clearAlignLine(),r.remove(),v.draw(),u.cancelAdd(),m())})},["processPanItem"])},function(d,y,p){p(1).registerBehaviour("dragHoverAnchorHotspot",function(n){var a=n.getGraph();a.behaviourOn("anchor:dragenter",function(u){if(n.getSignal("dragEdge")){var i=u.shape;n.setHotspotActived(i,!0)}}),a.behaviourOn("anchor:dragleave",function(u){if(n.getSignal("dragEdge")){var i=u.shape;n.setHotspotActived(i,!1)}})})},function(d,y,p){var n=p(1),a=p(2);n.registerBehaviour("dragAnchorAddEdge",function(u){var i=u.getGraph(),r=i.getRootGroup();i.behaviourOn("anchor:dragstart",function(o){if(o.button!==2){var c=o.shape,h=c.get("freezePoint"),v=c.getItem(),f=a.clone(u.get("addModel")),m=c.getIndex();f.source=v.id,f.sourceAnchor=m;var b={x:h.x,y:h.y},M=u.getDelegation([{isEdge:!0}],r);u.setSignal("dragEdge",!0),u.dragEdgeBeforeShowAnchor(v,m,"target"),u.set("addEdgeConfig",{addModel:f,delegation:M,startPoint:b,sourceItem:v})}})},["processAddEdge","dragHoverAnchorHotspot","hoverAnchorActived"])},function(d,y,p){var n=p(1),a=p(5);n.registerBehaviour("dragMultiSelect",function(u){var i,r,o=u.getGraph(),c=o.getRootGroup();function h(){u.css({cursor:a.cursor.beforePanCanvas}),i=void 0,r=void 0}u.css({cursor:a.cursor.multiSelect}),o.behaviourOn("dragstart",function(v){v.button!==2&&(i={x:v.x,y:v.y},r=c.addShape("rect",{attrs:a.multiSelectRectStyle}))}),o.behaviourOn("drag",function(v){r&&(r.attr({x:Math.min(i.x,v.x),y:Math.min(i.y,v.y),width:Math.abs(v.x-i.x),height:Math.abs(v.y-i.y)}),o.draw())}),o.behaviourOn("dragend",function(){if(r){var v=o.getNodes().map(function(M){return M.id}),f=r.getBBox(),m=u.editor;m?m.executeCommand(b):b(),r.remove(),u.changeMode("default"),u.updateStatus(),o.draw(),h()}function b(){u.clearSelected(),v.forEach(function(M){var O=o.find(M),E=O.getBBox();E.minX>f.minX&&E.minY>f.minY&&E.maxX<f.maxX&&E.maxY<f.maxY&&u.setSelected(O,!0)})}}),o.behaviourOn("canvas:mouseleave",function(){r&&(r.remove(),o.draw(),h())})})},function(d,y,p){p(1).registerBehaviour("keydownShiftMultiSelected",function(n){var a=n.getGraph();a.behaviourOn("keydown",function(u){u.domEvent.shiftKey&&n.setSignal("shiftKeyDown",!0)}),a.behaviourOn("keyup",function(u){u.domEvent.shiftKey||n.setSignal("shiftKeyDown",!1)})})},function(d,y,p){var n=p(1),a=p(5);n.registerBehaviour("dragNodeAddToGroup",function(u){var i,r,o=u.getGraph();function c(){u.setSignal("dragaddnodetogroup",!1),i=void 0,r=void 0}o.behaviourOn("dragenter",function(h){if(u.getSignal("panningItem")){var v=u.get("panItems");v[0]&&v[0].isNode&&v.length===1&&h.item&&h.item.isGroup&&v[0].getParent()!==h.item&&(i=v[0],r=h.item,o.update(r,{padding:a.groupBackgroundPadding.map(function(f){return f+4}),style:a.dragNodeHoverToGroupStyle}))}}),o.behaviourOn("dragleave",function(){r&&i&&o.update(r,{padding:void 0,style:void 0})}),o.behaviourOn("drop",function(h){if(r&&i&&r===h.item){u.setSignal("dragaddnodetogroup",!0);var v=i.id,f=r.id;o.update(f,{padding:void 0,style:void 0,collapsed:!1});var m=u.editor;m?m.executeCommand(b):b()}function b(){o.update(v,{parent:f})}}),o.behaviourOn("dragend",function(){c()}),o.behaviourOn("canvas:mouseleave",function(){r&&(o.update(r,{padding:void 0,style:void 0}),c())})})},function(d,y,p){var n=p(1),a=p(5),u=p(2);n.registerBehaviour("dragOutFromGroup",function(i){var r,o,c,h=i.getGraph(),v=!1;function f(){clearTimeout(c),o&&h.update(o,{padding:void 0,style:void 0}),v=!1,r=void 0,o=void 0}h.behaviourOn("drag",function(m){i.getSignal("panningItem")&&!v&&(clearTimeout(c),c=setTimeout(function(){var b=i.get("panItems");if(b){if(r=b[0],o=b[0].getParent(),r&&b.length===1&&o&&!m.shape){var M=i.get("panItemDelegation").getBBox(),O=o.getBBox();u.rectRectCrossAlgorithm(M,O)&&(h.update(o,{padding:a.groupBackgroundPadding.map(function(E){return E-8}),style:a.dragNodeLeaveFromGroupStyle}),v=!0)}v||(r=void 0,o=void 0)}},a.outFromGroupDelayTime))}),h.behaviourOn("dragenter",function(m){r&&o&&(o===m.item&&h.update(o,{padding:a.groupBackgroundPadding.map(function(b){return b+4}),style:a.dragNodeHoverToGroupStyle}),v=!1)}),h.on("drop",function(m){o&&r&&!m.shape&&(h.update(r,{parent:void 0}),h.update(o,{style:void 0}),f())}),h.on("dragend",function(){f()}),h.behaviourOn("canvas:mouseleave",function(){f()})})},function(d,y,p){var n=p(1),a=p(2),u=p(5);n.registerBehaviour("processAddEdge",function(i){var r=i.getGraph();function o(){i.setSignal("dragEdge",!1),i.set("addEdgeConfig",{addModel:void 0,delegation:void 0,startPoint:void 0,sourceItem:void 0})}r.behaviourOn("mousemove",function(c){var h=i.get("addEdgeConfig");if(h){var v=h.addModel,f=h.delegation,m=h.startPoint,b=h.sourceItem;f&&a.dragingEdgeEndPoint({endPointType:"target",edgeModel:v,graph:r,delegation:f,startPoint:m,ev:c,sourceItem:b})}}),r.behaviourOn("mouseup",function(c){var h=i.get("addEdgeConfig");if(h){var v=h.addModel,f=h.delegation,m=h.sourceItem,b=i.editor;f&&(r.getNodes().forEach(function(M){i.clearAnchor(M)}),i.clearAnchor(m),i.setActived(m,!1),i.setSelected(m,!1),i.css({cursor:u.cursor.beforePanCanvas}),f.remove(),a.dropUpdateEdge({ev:c,endPointType:"target",model:v,diagram:i})&&(b?b.executeCommand("add",{type:"edge",addModel:v}):r.add("edge",v)),r.draw(),i.endAdd()),o()}}),r.behaviourOn("canvas:mouseleave",function(){var c=i.get("addEdgeConfig");if(c){var h=c.delegation,v=c.sourceItem;h&&(r.getNodes().forEach(function(f){i.clearAnchor(f)}),i.setActived(v,!1),i.clearAnchor(v),h.remove(),i.cancelAdd(),r.draw()),o()}})})},function(d,y,p){p(1).registerBehaviour("hoverNodeAddOutter",function(n){var a,u=n.getGraph();u.behaviourOn("node:mouseenter",function(i){var r=i.item;n.getSignal("dragEdge")&&(a=r,n.addOutterShape(r,{stroke:"#52C41A",strokeOpacity:.45,lineWidth:4}))}),u.behaviourOn("node:mouseleave",function(){a&&n.clearOutterShape(a)}),u.behaviourOn("beforedropedge",function(){a&&n.clearOutterShape(a)})})},function(d,y,p){var n=p(1),a=p(5),u=p(2);n.registerBehaviour("orbit",function(i){var r,o=i.getGraph();o.behaviourOn("beforepanitem",function(){i.hideOrbit()}),o.behaviourOn("node:mouseenter",function(c){var h=c.item;i.getSignal("panningItem")||i.getSignal("dragEdge")||(r=h,i.showOrbit(h))}),o.on("beforeviewportchange",function(){i.hideOrbit()}),o.behaviourOn("mousemove",function(c){var h=c.item,v=c.x,f=c.y;if(r){var m=r.getBBox(),b=u.euclideanDistance.pointPoint({x:m.centerX,y:m.centerY},{x:v,y:f}),M=o.getMatrix()[0];h!==r&&b>m.width/2+a.orbitGap/M&&(i.hideOrbit(),r=void 0),r&&i.layoutOrbit(r,{x:v,y:f})}})})},function(d,y,p){var n=p(11);p(96),d.exports=n},function(d,y,p){p(97),p(98),p(99),p(100),p(101)},function(d,y,p){var n=p(11);n.registerNode("flow-base",{}),n.registerNode("flow-html",{},["html"]),n.registerNode("flow-rect",{},"flow-base"),n.registerNode("flow-capsule",{},"capsule"),n.registerNode("flow-circle",{},"circle"),n.registerNode("flow-rhombus",{},"rhombus")},function(d,y,p){p(11).registerEdge("flow-base",{})},function(d,y,p){var n=p(19),a=p(11);function u(h,v,f,m){var b=m?m/2:30,M=m;if(h<=v&&v<=f||h>=v&&v>=f){var O=(f-v)/2,E=Math.abs(O);if(O===0)return h===v?0:(v-h)/Math.abs(v-h)*b;if(E>M){var C=O/E*M;return Math.abs(C)<b?O/E*b:C}return E<b?O/E*b:O}var j=b;return(j=Math.abs(v-f)<2*Math.abs(v-h)?m*Math.abs(v-f)/(2*Math.abs(v-h)):m)>M&&(j=M),j<b&&(j=b),v>h?j:-j}function i(h,v,f,m){var b,M,O=h.bbox,E=function(j,B){var N=Math.abs(j.x-B.centerX),I=Math.abs(j.y-B.centerY);return N/B.width>I/B.height}(v,O);b=M=0;var C=Math.min(O.height,O.width);return m&&m.bbox&&(C=Math.min(C,m.bbox.height,m.bbox.width)),E?b=u(O.centerX,v.x,f.x,C):M=u(O.centerY,v.y,f.y,C),{x:v.x+b,y:v.y+M}}var r=.1;function o(h,v){var f=h.x,m=h.y,b=v.x,M=v.y;return{x:f+(b-f)*r,y:m+(M-m)*r}}function c(h,v,f){var m=h[0],b=h[h.length-1],M=["M",m.x,m.y],O=function(j,B,N,I){return[N&&N.bbox?i(N,j,B,I):o(j,B),I&&I.bbox?i(I,B,j,N):o(B,j)]}(m,b,v,f),E=["C"],C=[M];return n.each(O,function(j){E.push(j.x,j.y)}),E.push(b.x,b.y),C.push(E),C}a.registerEdge("flow-smooth",{getPathByPoints:function(h){return c(h.points,h.source,h.target)}},"flow-edge")},function(d,y,p){function n(H){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(H)}function a(H,Q){return function(at){if(Array.isArray(at))return at}(H)||function(at,$){var K=[],ot=!0,it=!1,ht=void 0;try{for(var St,gt=at[Symbol.iterator]();!(ot=(St=gt.next()).done)&&(K.push(St.value),!$||K.length!==$);ot=!0);}catch(bt){it=!0,ht=bt}finally{try{ot||gt.return==null||gt.return()}finally{if(it)throw ht}}return K}(H,Q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=p(19),i=p(11),r=16,o=5;function c(H,Q){var at=Math.min(H.minX,Q.minX),$=Math.min(H.minY,Q.minY),K=Math.max(H.maxX,Q.maxX),ot=Math.max(H.maxY,Q.maxY);return{centerX:(at+K)/2,centerY:($+ot)/2,minX:at,minY:$,maxX:K,maxY:ot,height:ot-$,width:K-at}}function h(H,Q){return 2*Math.abs(H.centerX-Q.centerX)<H.width+Q.width&&2*Math.abs(H.centerY-Q.centerY)<H.height+Q.height}function v(H){var Q=H.x,at=H.y;return{centerX:Q,centerY:at,minX:Q,minY:at,maxX:Q,maxY:at,height:0,width:0}}function f(H,Q){return H.width===0&&H.height===0?H:{centerX:H.centerX,centerY:H.centerY,minX:H.minX-Q,minY:H.minY-Q,maxX:H.maxX+Q,maxY:H.maxY+Q,height:H.height+2*Q,width:H.width+2*Q}}function m(H,Q){return function(at,$){var K=Math.abs(at.x-$.centerX),ot=Math.abs(at.y-$.centerY);return K/$.width>ot/$.height}(Q,H)?{x:Q.x>H.centerX?H.maxX:H.minX,y:Q.y}:{x:Q.x,y:Q.y>H.centerY?H.maxY:H.minY}}function b(H){var Q=H.minX,at=H.minY,$=H.maxX,K=H.maxY;return[{x:Q,y:at},{x:$,y:at},{x:$,y:K},{x:Q,y:K}]}function M(H,Q){var at=H.x,$=H.y;return at<Q.minX||at>Q.maxX||$<Q.minY||$>Q.maxY}function O(H,Q,at,$){var K=Q.x-H.x,ot=Q.y-H.y,it=$.x-at.x,ht=$.y-at.y,St=(-ot*(H.x-at.x)+K*(H.y-at.y))/(-it*ot+K*ht),gt=(it*(H.y-at.y)-ht*(H.x-at.x))/(-it*ot+K*ht);return St>=0&&St<=1&&gt>=0&&gt<=1}function E(H,Q,at){if(at.width===at.height===0)return!1;var $=a(b(at),4),K=$[0],ot=$[1],it=$[2],ht=$[3];return O(H,Q,K,ot)||O(H,Q,K,ht)||O(H,Q,ot,it)||O(H,Q,it,ht)}function C(H){return H=B(H)}function j(H,Q){return[H,{x:H.x,y:Q.y},Q]}function B(H){var Q=[],at={};return H.forEach(function($){var K=$.id="".concat($.x,"-").concat($.y);at[K]=$}),u.each(at,function($){Q.push($)}),Q}function N(H,Q){return Math.abs(H.x-Q.x)+Math.abs(H.y-Q.y)}function I(H,Q,at,$,K){return N(H,Q)+N(H,at)+function(ot,it){var ht=0;return it.forEach(function(St){St&&(ot.x===St.x&&(ht+=-2),ot.y===St.y&&(ht+=-2))}),ht}(H,[Q,at,$,K])}function F(H,Q,at,$,K,ot,it){var ht=[],St=[Q],gt={},bt={},mt={};bt[Q.id]=0,mt[Q.id]=I(Q,at,Q);var vt={};H.forEach(function(At){vt[At.id]=At});for(var _t=function(){var At,It,dt,X=void 0,V=1/0;if(St.forEach(function(W){mt[W.id]<V&&(V=mt[W.id],X=W)}),X===at){var Z=[];return function W(rt,J,tt,ft){var kt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;rt.unshift(J[ft]),tt[ft]&&tt[ft]!==ft&&kt<=100&&W(rt,J,tt,tt[ft],kt+1)}(Z,vt,gt,at.id),{v:Z}}It=X,(dt=(At=St).indexOf(It))>-1&&At.splice(dt,1),ht.push(X),function(W,rt,J,tt){var ft=[];return W.forEach(function(kt){kt!==rt&&(kt.x!==rt.x&&kt.y!==rt.y||E(kt,rt,J)||E(kt,rt,tt)||ft.push(kt))}),B(ft)}(H,X,$,K).forEach(function(W){if(ht.indexOf(W)===-1){St.indexOf(W)===-1&&St.push(W);var rt=mt[X.id]+N(X,W);bt[W.id]&&rt>=bt[W.id]||(gt[W.id]=X.id,bt[W.id]=rt,mt[W.id]=bt[W.id]+I(W,at,Q,ot,it))}})};St.length;){var Nt=_t();if(n(Nt)==="object")return Nt.v}return console.error("cannot find path: ",H,Q,at),[Q,at]}function G(H,Q,at,$,K){var ot=at&&at.bbox?at.bbox:v(H),it=$&&$.bbox?$.bbox:v(Q);if(h(ot,it))return C(j(H,Q));var ht=f(ot,K),St=f(it,K);if(h(ht,St))return C(j(H,Q));var gt=m(ht,H),bt=m(St,Q),mt=function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],X=[],V=[];dt.forEach(function(tt){X.push(tt.x),V.push(tt.y)});var Z=Math.min.apply(Math,X),W=Math.max.apply(Math,X),rt=Math.min.apply(Math,V),J=Math.max.apply(Math,V);return{centerX:(Z+W)/2,centerY:(rt+J)/2,maxX:W,maxY:J,minX:Z,minY:rt,height:J-rt,width:W-Z}}([gt,bt]),vt=(c(ht,St),c(ht,mt)),_t=c(St,mt),Nt=[];Nt=(Nt=Nt.concat(b(vt))).concat(b(_t));var At={x:(H.x+Q.x)/2,y:(H.y+Q.y)/2};[mt,vt,_t].forEach(function(dt){Nt=Nt.concat(function(X,V){return function(Z,W){return W<Z.minX||W>Z.maxX?[]:[{x:W,y:Z.minY},{x:W,y:Z.maxY}]}(X,V.x).concat(function(Z,W){return W<Z.minY||W>Z.maxY?[]:[{x:Z.minX,y:W},{x:Z.maxX,y:W}]}(X,V.y))}(dt,At).filter(function(X){return M(X,ht)&&M(X,St)}))}),[{x:gt.x,y:bt.y},{x:bt.x,y:gt.y}].forEach(function(dt){M(dt,ht)&&M(dt,St)&&Nt.push(dt)}),Nt.unshift(gt),Nt.push(bt);var It=F(Nt=B(Nt),gt,bt,ot,it,H,Q);return It.unshift(H),It.push(Q),C(It)}function U(H,Q){var at=[],$=H[0];return at.push("M".concat($.x," ").concat($.y)),H.forEach(function(K,ot){var it=H[ot+1],ht=H[ot+2];if(it&&ht)if(function(mt,vt,_t){return!(mt.x===vt.x===_t.x||mt.y===vt.y===_t.y)}(K,it,ht)){var St=a(function(mt,vt,_t,Nt){var At=N(mt,vt),It=N(_t,vt);return At<Nt&&(Nt=At),It<Nt&&(Nt=It),[{x:vt.x-Nt/At*(vt.x-mt.x),y:vt.y-Nt/At*(vt.y-mt.y)},{x:vt.x-Nt/It*(vt.x-_t.x),y:vt.y-Nt/It*(vt.y-_t.y)}]}(K,it,ht,Q),2),gt=St[0],bt=St[1];at.push("L".concat(gt.x," ").concat(gt.y)),at.push("Q".concat(it.x," ").concat(it.y," ").concat(bt.x," ").concat(bt.y)),at.push("L".concat(bt.x," ").concat(bt.y))}else at.push("L".concat(it.x," ").concat(it.y));else it&&at.push("L".concat(it.x," ").concat(it.y))}),at.join("")}i.registerEdge("flow-polyline",{getPathByPoints:function(H){var Q=H.points,at=H.source,$=H.target,K=r,ot=G(Q[0],Q[Q.length-1],at,$,K);return u.pointsToPolygon(ot)}}),i.registerEdge("flow-polyline-round",{getPathByPoints:function(H){var Q=H.points,at=H.source,$=H.target,K=r,ot=o;return U(C(G(Q[0],Q[Q.length-1],at,$,K)),ot)}})},function(d,y,p){p(11).registerGroup("flow-base",{})},function(d,y,p){var n=p(17);p(103),d.exports=n},function(d,y,p){p(104),p(105),p(106)},function(d,y,p){p(17).registerNode("koni-base",{defaultFillPalette:5,defaultStrokePalette:5,activedFillPalette:4,activedStrokePalette:6,selectedFillPalette:5,selectedStrokePalette:6,anchor:null},"circle")},function(d,y,p){var n=p(17),a=p(24),u=a.vec2;n.registerEdge("koni-base",{getDefaultLabelRectPadding:function(){return a.toAllPadding([0,2])},getPathByPoints:function(i){var r=i.points,o=i.source,c=i.target,h=i.item;if(o&&c){var v=a.getParallelEdges(c,o),f=a.getParallelEdges(o,c),m=f.indexOf(h);return o===c?(m=(f=f.filter(function(b){var M=b.getModel();return M.source===o.id&&M.target===c.id})).indexOf(h),function(b,M){var O=b.getBBox(),E=[O.centerX,O.centerY],C=O.width/2,j=50*(M+1)+50,B=[E[0]-C/2,E[1]-Math.sqrt(3)/2*C],N=[B[0]-E[0],B[1]-E[1]],I=u.scale([],N,(C+j)/C),F=[E[0]+I[0],E[1]+I[1]],G=[E[0]+C/2,E[1]-Math.sqrt(3)/2*C],U=[G[0]-E[0],G[1]-E[1]],H=u.scale([],U,(C+j)/C),Q=[E[0]+H[0],E[1]+H[1]];return[["M",B[0],B[1]],["C",F[0],F[1],Q[0],Q[1],G[0],G[1]]]}(o,m)):(v.length===0&&m--,function(b,M,O){var E=b.getBBox(),C=M.getBBox(),j=E.centerX,B=E.centerY,N=20*(O+1),I=[.5*(C.centerX+j)-j,.5*(C.centerY+B)-B],F=[-I[1],I[0]],G=u.length(F);u.scale(F,F,N/G);var U={x:I[0]+F[0]+j,y:I[1]+F[1]+B},H=b.getLinkPoints(U)[0],Q=M.getLinkPoints(U)[0];return[["M",H.x,H.y],["Q",U.x,U.y,Q.x,Q.y]]}(o,c,m))}return a.pointsToPolygon(r)}})},function(d,y,p){p(17).registerGroup("koni-base",{})},function(d,y,p){var n=p(8);n.Util=p(10),p(108),p(112),p(120),d.exports=n},function(d,y,p){p(109),p(110),p(111)},function(d,y,p){var n=p(1),a=p(10);n.registerBehaviour("panMindNode",function(u){var i,r,o,c=u.getGraph();function h(){i.nth=r;var f=c.add("node",i);u.setSelected(f,!0),o&&c.remove(o.id)}function v(){c.emit("panitemend"),i=void 0,o=void 0,r=void 0}c.behaviourOn("beforeshowdelegation",function(){u.clearSelected(),u.clearActived()}),c.behaviourOn("node:dragstart",function(f){if(f.button!==2){var m=f.item;!(i=m.getModel()).parent||f.shape.isCollapsedButton||f.shape.isExpandedButton?v():(r=c.getNth(m),c.remove(m))}}),c.behaviourOn("itempanning",function(f){if(!f.shape||!f.shape.isPlaceholder){var m=u.getHotArea(f),b=u.getRoot();if(o&&(m?o.id!==m.id&&c.remove(c.find(o.id)):c.remove(c.find(o.id))),o=m,m){var M=m.parent;if(!c.find(m.id)){var O={id:m.id,parent:M.id,isPlaceholder:!0,parentModel:M,baseline:o.parent.id===b.id?"center":void 0,shape:"mind-placeholder",nth:m.nth};m.side&&(O.side=m.side),c.add("node",O)}}}}),c.behaviourOn("drop",function(){if(i)if(o){var f=a.clone(i);c.remove(o.id),u.executeCommand("moveMindNode",{model:f,newParentId:o.parent.id,newNth:o.nth,newSide:o.side,originParentId:i.parent,originNth:r,originSide:i.side})}else h();v()}),c.behaviourOn("canvas:mouseleave",function(){i&&(h(),v())})},["startPanItem","processPanItem","endPanItem"])},function(d,y,p){p(1).registerBehaviour("keydownMoveSelection",function(n){n.getGraph().on("keydown",function(a){n._moveItemSelection(a)})})},function(d,y,p){p(1).registerBehaviour("keydownEditLabel",function(n){n.getGraph().behaviourOn("keydown",function(a){n.showLabelEditor(a)})})},function(d,y,p){p(113),p(114),p(115),p(116),p(117),p(118),p(119)},function(d,y,p){function n(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){a(h,b,f[b])})}return h}function a(h,v,f){return v in h?Object.defineProperty(h,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[v]=f,h}var u=p(8),i=p(10),r={fill:"#000",textAlign:"left",textBaseline:"top"},o={stroke:"#959EA6",strokeOpacity:0,fill:"#959EA6",cursor:"pointer"},c={stroke:"#434B54",fill:"#fff",cursor:"pointer"};u.registerNode("mind-base",{dy:4,afterDraw:function(h){var v=h.getModel();v.children&&v.children.length>0&&v.collapsed&&this.drawExpandedButton(h)},debugDrawLayoutPoint:function(h){var v=h.getModel();h.getGraphicGroup().addShape("circle",{attrs:{x:v.x,y:v.y,r:5,fill:"red"}})},drawExpandedButton:function(h){var v=h.getKeyShape().getBBox(),f=h.getGraphicGroup().addGroup(),m=f.addShape("path",{attrs:n({path:i.getRectPath(0,0,16,7,3)},o)}),b=m.getBBox(),M=i.getMindNodeSide(h),O=this.getButtonPositon(v,b,M),E={fill:"white",r:1};f.addShape("circle",{attrs:n({},E,{x:4,y:3.5}),capture:!1}),f.addShape("circle",{attrs:n({},E,{x:8,y:3.5}),capture:!1}),f.addShape("circle",{attrs:n({},E,{x:12,y:3.5}),capture:!1}),m.attr("lineAppendWidth",20),f.translate(O.x,O.y),m.isExpandedButton=!0,m.isButton=!0},drawCollapsedButton:function(h){var v=h.getKeyShape().getBBox(),f=h.getGraphicGroup().addShape("path",{attrs:n({path:i.getCollapsedButtonPath()},c)}),m=f.getBBox(),b=i.getMindNodeSide(h),M=this.getButtonPositon(v,m,b);f.translate(M.x,M.y),f.isCollapsedButton=!0,f.isButton=!0},getButtonPositon:function(h,v,f){return f==="right"?{x:h.maxX+2,y:h.maxY-(v.maxY-v.minY)/2}:{x:h.minX-(v.maxX-v.minX)-2,y:h.maxY-(v.maxY-v.minY)/2}},getLabel:function(h){return h.getModel().label},getPadding:function(){return[4,8,4,8]},getSize:function(h){var v=h.getModel(),f=h.getGraphicGroup(),m=v.size;if(v.size){if(i.isArray(m))return m;if(i.isNumber(m))return[m,m]}var b=f.findByClass("label")[0],M=this.getPadding(h),O=b.getBBox();return[O.width+M[1]+M[3],O.height+M[0]+M[2]]},getPath:function(h){var v=this.getSize(h),f=this.getStyle(h);return i.getRectPath(-v[0]/2,-v[1]/2+this.dy,v[0],v[1],f.radius)},drawLabel:function(h){var v=h.getGraphicGroup(),f=this.getLabel(h),m=this.getLabelStyle(h);f||(f=" ");var b=i.mix(!0,{},r,m,{x:0,y:0});i.isObject(f)?i.mix(b,f):b.text=f;var M=v.addShape("text",{class:"label",attrs:b});return this.adjustLabelText(M),this.adjustLabelPosition(h,M),M},adjustLabelText:function(h){var v=h.attr("text"),f=h.getBBox();if(f.maxX-f.minX>400){var m=h.attr("font");v=i.getLabelTextByTextLineWidth(v,m),h.attr("text",v)}},adjustLabelPosition:function(h,v){var f=this.getSize(h),m=this.getPadding(),b=f[0],M=v.getBBox();v.attr({x:-b/2+m[3],y:-M.height/2+this.dy})},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",lineHeight:18,fontSize:12}},getStyle:function(){return{fill:"#ccc",fillOpacity:0,radius:4,lineWidth:2}},getActivedStyle:function(){return{stroke:"#44C0FF",lineWidth:2}},getSelectedStyle:function(){return{stroke:"#1AA7EE",lineWidth:2}},anchor:[[0,1],[1,1]]})},function(d,y,p){p(8).registerNode("mind-first-sub",{dy:0,getPadding:function(){return[6,12,8,12]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontWeight:500,fontSize:14,lineHeight:20}}})},function(d,y,p){p(8).registerNode("mind-second-sub",{dy:0,getPadding:function(){return[8,4,8,4]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontSize:12,lineHeight:20}}})},function(d,y,p){var n=p(8),a=p(10);n.registerNode("mind-root",{adjustLabelPosition:function(u,i){var r=i.getBBox();i.attr({x:-r.width/2,y:-r.height/2-1})},getPath:function(u){var i=this.getSize(u),r=this.getStyle(u);return a.getRectPath(-i[0]/2,-i[1]/2,i[0],i[1],r.radius)},getButtonPositon:function(u,i,r){return r==="right"?{x:u.maxX+2,y:(u.maxY+u.minY)/2-(i.maxY-i.minY)/2}:{x:u.minX-(i.maxX-i.minX)-2,y:(u.maxY+u.minY)/2-(i.maxY-i.minY)/2}},getPadding:function(){return a.toAllPadding([12,24])},getStyle:function(){return{fill:"#587EF7",stroke:"#587EF7",fillOpacity:1,radius:4}},getLabelStyle:function(){return{fontSize:20,fill:"white",lineHeight:28}},drawExpandedButton:function(){},drawCollapsedButton:function(){},panAble:!1,anchor:[[.45,.5],[.55,.5]]},"mind-first-sub")},function(d,y,p){var n=p(8),a=p(10);n.registerNode("mind-placeholder",{afterDraw:function(u){u.getKeyShape().isPlaceholder=!0},getPath:function(u){var i,r=u.getModel().parentModel,o=this.getStyle(u),c=0;return r.hierarchy<=2?i=28:(i=20,c=4),a.getRectPath(-27.5,-i/2+c,55,i,o.radius)},getStyle:function(){return{fill:"#91D5FF",radius:4,lineWidth:3}},drawExpandedButton:function(){},drawCollapsedButton:function(){},anchor:function(){return[[0,1],[1,1]]}})},function(d,y,p){p(8).registerEdge("mind-edge",{getEdetal:function(n){return n.children&&n.children.length>0&&!n.collapsed?n.hierarchy===2?24:18:0},getPath:function(n){var a=n.getPoints(),u=n.getSource(),i=n.getTarget(),r=u.getBBox(),o=i.getBBox(),c=i.getModel(),h=14,v=4;if(c.hierarchy===2&&(h=66,v=30),a[0].y===a[1].y){var f=c.hierarchy===3?24:18,m=this.getEdetal(c);return r.centerX<o.centerX?[["M",a[0].x+f,a[0].y],["L",o.maxX+m,o.maxY]]:[["M",a[0].x+2,a[0].y],["L",o.minX-m,o.maxY]]}if(c.hierarchy>=3){var b=c.hierarchy===3?24:18,M=this.getEdetal(c);if(r.centerX<o.centerX){var O=a[0].x+b;return[["M",a[0].x,a[0].y],["M",O,a[0].y],["C",O+v,a[0].y,o.minX-h,o.maxY,o.minX,o.maxY],["L",o.maxX+M,o.maxY]]}var E=a[0].x-b;return[["M",a[0].x,a[0].y],["M",E,a[0].y],["C",E-v,a[0].y,o.maxX+h,o.maxY,o.maxX,o.maxY],["L",o.minX-M,o.maxY]]}var C=this.getEdetal(c);return r.centerX<o.centerX?[["M",a[0].x,a[0].y],["C",a[0].x+v,a[0].y,o.minX-h,o.maxY,o.minX,o.maxY],["L",o.maxX+C,o.maxY]]:[["M",a[0].x,a[0].y],["C",a[0].x-v,a[0].y,o.maxX+h,o.maxY,o.maxX,o.maxY],["L",o.minX-C,o.maxY]]},getStyle:function(n){var a=n.getTarget(),u=1;if(a){var i=a.getModel();u=i.hierarchy<=3?3:i.hierarchy<=5?2:1}return{stroke:"#959EA6",lineWidth:u}}})},function(d,y,p){function n(a,u,i){return u in a?Object.defineProperty(a,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[u]=i,a}p(8).registerEdge("mind-placeholder-edge",{getOriginShapeObject:function(a){return a.getGraph().getShapeObj("edge",{shape:"mind-edge"})},getPath:function(a){return this.getOriginShapeObject(a).getPath(a)},getStyle:function(a){return function(u){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable}))),o.forEach(function(c){n(u,c,r[c])})}return u}({},this.getOriginShapeObject(a).getStyle(a),{stroke:"#91D5FF"})}})},function(d,y,p){var n=p(15),a=p(10);function u(i,r,o){var c=i.getGraph(),h=r.getModel(),v=i.getFirstChildrenBySide("left"),f=v[0]&&c.find(v[0].id);return c.add("node",{id:o,parent:r.id,label:"\u65B0\u5EFA\u8282\u70B9",side:h.children.length>2?"left":"right",nth:f?c.getNth(f):void 0})}n.registerCommand("append",{enable:function(i){var r=i.getCurrentPage(),o=r.getSelected();return r.isMind&&o.length===1},getItem:function(i){var r=i.getCurrentPage(),o=r.getGraph();return this.selectedItemId?o.find(this.selectedItemId):r.getSelected()[0]},execute:function(i){var r,o=i.getCurrentPage(),c=o.getGraph(),h=o.getRoot(),v=this.getItem(i),f=v.getModel(),m=f.hierarchy,b=v.getParent();if(v.isRoot)r=u(o,v,this.addItemId);else{var M=c.getNth(v);r=c.add("node",{id:this.addItemId,parent:b.id,side:m===2&&h.children.length===3?"left":f.side,label:"\u65B0\u5EFA\u8282\u70B9",nth:f.side==="left"&&m===2?M:M+1})}o.clearSelected(),o.clearActived(),o.setSelected(r,!0),this.executeTimes===1&&(this.selectedItemId=v.id,this.addItemId=r.id,o.beginEditLabel(r))},back:function(i){var r=i.getCurrentPage();r.getGraph().remove(this.addItemId),r.clearSelected(),r.clearActived(),r.setSelected(this.selectedItemId,!0)},shortcutCodes:["Enter"]}),n.registerCommand("appendChild",{enable:function(i){var r=i.getCurrentPage(),o=r.getSelected();return r.isMind&&o.length>0},getItem:function(i){var r=i.getCurrentPage(),o=r.getGraph();return this.selectedItemId?o.find(this.selectedItemId):r.getSelected()[0]},execute:function(i){var r,o=i.getCurrentPage(),c=o.getGraph(),h=this.getItem(i);r=h.isRoot?u(o,h,this.addItemId):c.add("node",{id:this.addItemId,parent:h.id,label:"\u65B0\u5EFA\u8282\u70B9"}),o.clearSelected(),o.clearActived(),o.setSelected(r,!0),this.executeTimes===1&&(this.selectedItemId=h.id,this.addItemId=r.id,o.beginEditLabel(r))},back:function(i){var r=i.getCurrentPage();r.getGraph().remove(this.addItemId),r.clearSelected(),r.clearActived(),r.setSelected(this.selectedItemId,!0)},shortcutCodes:["Tab"]}),n.registerCommand("moveMindNode",{enable:function(i){var r=i.getCurrentPage(),o=r.get("panItems");return r.isMind&&o&&o.length>0},execute:function(i){var r=i.getCurrentPage(),o=r.getGraph(),c=this.newParentId,h=this.newNth,v=this.newSide,f=a.clone(this.model);delete f.shape,delete f.side,o.remove(f.id),a.mix(f,{parent:c,nth:h,side:v});var m=o.add("node",f);r.clearSelected(),r.setSelected(m,!0)},back:function(i){var r=i.getCurrentPage(),o=r.getGraph(),c=this.originParentId,h=this.originNth,v=this.originSide,f=a.clone(this.model);delete f.shape,delete f.side,o.remove(f.id),a.mix(f,{parent:c,nth:h,side:v});var m=o.add("node",f);r.clearSelected(),r.setSelected(m,!0)}})},function(d,y,p){function n(v){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function a(v,f){for(var m=0;m<f.length;m++){var b=f[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function u(v,f){return!f||n(f)!=="object"&&typeof f!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(v):f}function i(v){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}function r(v,f){return(r=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m})(v,f)}var o=p(6),c=p(9),h=function(v){function f(){return function(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")}(this,f),u(this,i(f).apply(this,arguments))}var m,b,M;return function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),E&&r(O,E)}(f,c),m=f,(b=[{key:"getDefaultCfg",value:function(){return{type:"toolbar",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var O=this.container;if(!O)throw new Error("please set the container for the toolbar !");o.isString(O)&&(O=document.getElementById(O));var E=O.getElementsByClassName("command");this.commands=E}},{key:"getCommandDoms",value:function(){return this.commands}}])&&a(m.prototype,b),M&&a(m,M),f}();d.exports=h},function(d,y,p){function n(v){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function a(v,f){for(var m=0;m<f.length;m++){var b=f[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function u(v,f){return!f||n(f)!=="object"&&typeof f!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(v):f}function i(v){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}function r(v,f){return(r=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m})(v,f)}var o=p(6),c=p(9),h=function(v){function f(){return function(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")}(this,f),u(this,i(f).apply(this,arguments))}var m,b,M;return function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),E&&r(O,E)}(f,c),m=f,(b=[{key:"getDefaultCfg",value:function(){return{type:"contextmenu",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var O=this.container;if(!O)throw new Error("please set the container for the tontextmenu !");o.isString(O)&&(O=document.getElementById(O));var E=O.getElementsByClassName("command");O.style.position="absolute",O.style["z-index"]=2,O.style.top="0px",O.style.left="0px",this.commands=E,this.containerDom=O}},{key:"bindEvent",value:function(){var O=this,E=this.commands;o.each(E,function(C){o.addEventListener(C,"click",function(){C.className.indexOf("disable")===-1&&O.hide()})})}},{key:"switch",value:function(O){var E=this.containerDom.getElementsByClassName("menu");o.each(E,function(C){C.dataset.status===O?C.style.display="block":C.style.display="none"})}},{key:"getCommandDoms",value:function(){return this.commands}},{key:"show",value:function(){var O=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!0),O.style.display="block"}},{key:"hide",value:function(){var O=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!1),O.style.display="none"}},{key:"move",value:function(O,E){var C=this.containerDom,j=o.getBoundingClientRect(C),B=parseFloat(o.getStyle(C,"top")),N=parseFloat(o.getStyle(C,"left"));C.style.left=N+(O-j.left)+"px",C.style.top=B+(E-j.top)+"px"}}])&&a(m.prototype,b),M&&a(m,M),f}();d.exports=h},function(d,y,p){var n=p(12);p(124),p(127),d.exports=n},function(d,y,p){p(125),p(126)},function(d,y,p){function n(m){for(var b=1;b<arguments.length;b++){var M=arguments[b]!=null?arguments[b]:{},O=Object.keys(M);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(M).filter(function(E){return Object.getOwnPropertyDescriptor(M,E).enumerable}))),O.forEach(function(E){a(m,E,M[E])})}return m}function a(m,b,M){return b in m?Object.defineProperty(m,b,{value:M,enumerable:!0,configurable:!0,writable:!0}):m[b]=M,m}var u,i,r=p(20),o=r.mouseEnterEdge,c=r.startMove,h=r.mouseLeaveEdge,v=r.mouseMoveEdge,f=r.endMove;p(12).registerBehaviour("bpmnMoveEdgeController",function(m){var b,M=m.getGraph(),O=M.getRootGroup();function E(){m.set("panItemDelegation",void 0),m.set("panItemStartBox",void 0),m.set("panItemStartPoint",void 0),b=void 0}M.behaviourOn("edge:mouseenter",function(C){!u&&C.item&&(i=C.item,o({graph:M,bpmn:m,ev:C,backUpCursor:!0}))}),M.behaviourOn("edge:mousedown",function(C){var j=C.item;c(M,C),u=j}),M.behaviourOn("mouseup",function(){u&&(f({graph:M,item:u}),u=void 0)}),M.behaviourOn("mousemove",function(C){u?v(M,u,C):i&&o({graph:M,bpmn:m,ev:n({},C,{item:i}),backUpCursor:!1})}),M.behaviourOn("edge:mouseleave",function(){u||i&&(h({graph:M,bpmn:m,item:i}),i=void 0)}),M.behaviourOn("node:dragstart",function(C){var j=C.item.getBBox();b=m.getDelegation([j],O),m.set("bpmnNodePanDelegation",b),m.set("bpmnNodePanStartBox",j),m.set("bpmnNodePanStartPoint",{x:C.x,y:C.y}),m.set("bpmnNodePanStartItem",C.item)}),M.behaviourOn("node:dragend",function(C){var j=m.get("bpmnNodePanDelegation"),B=m.get("bpmnNodePanStartPoint"),N=m.get("bpmnNodePanStartItem");N&&N.getEdges().forEach(function(I){M.update(I,{nodeMoved:{item:N.id,start:B,delta:{x:C.x-B.x,y:C.y-B.y}}})}),j.remove(),E()})},["startPanItem","processPanItem","endPanItem"])},function(d,y,p){p(12).registerBehaviour("hoverNodeShowArrowController",function(n){var a,u=n.getGraph(),i=n.get("arrowController"),r=i.long,o=i.thickness;u.on("node:mouseenter",function(c){if(!n.getSignal("panningItem")&&!n.getSignal("dragEdge")){var h=i.topArrow,v=i.bottomArrow,f=i.leftArrow,m=i.rightArrow,b=(a=c.item).getBBox(),M=u.getDomPoint({x:b.centerX,y:b.minY}),O=u.getDomPoint({x:b.minX,y:b.centerY}),E=u.getDomPoint({x:b.centerX,y:b.maxY}),C=u.getDomPoint({x:b.maxX,y:b.centerY});h.css({top:M.y-(r+10)+"px",left:M.x-o/2+"px",transform:"rotate(-90deg)"}),v.css({top:E.y+10+"px",left:E.x-o/2+"px",transform:"rotate(90deg)"}),f.css({top:O.y-o/2+"px",left:O.x-(r+10)+"px",transform:"rotate(180deg)"}),m.css({top:C.y-o/2+"px",left:C.x+10+"px"}),h.setAttribute("anchorIndex",0),v.setAttribute("anchorIndex",2),f.setAttribute("anchorIndex",3),m.setAttribute("anchorIndex",1),n.showArrowController(a)}}),u.behaviourOn("mousemove",function(c){var h=c.x,v=c.y;if(a){var f=a.getBBox(),m=r+10,b=f.minX-m,M=f.minY-m,O=f.maxX+m,E=f.maxY+m;(h<b||v<M||h>O||v>E)&&(n.hideArrowController(),a=void 0)}})})},function(d,y,p){p(128),p(12).registerNode("bpmn-base",{anchor:null})},function(d,y,p){"use strict";p.r(y);var n=p(12),a=p.n(n),u=p(0);function i(o){var c=o.bbox,h=o.shape,v=h===void 0?"ROUNDED_RECT":h,f=o.point,m=o.vertical;m=!!m;var b={true:"x",false:"y"},M={true:"minX",false:"minY"},O={true:"maxX",false:"maxY"};switch(v){case"ROUNDED_RECT":if(f[b[m]]>=c[M[m]]+4&&f[b[m]]<=c[O[m]]-4)return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.maxX:c.minX,y:m?f.y>c.centerY?c.maxY:c.minY:f.y}};if(f[b[m]]>=c[M[m]]&&f[b[m]]<c[M[m]]+4)return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.maxX-4+Math.sqrt(16-Math.pow(c.minY+4-f.y,2)):c.minX+4-Math.sqrt(16-Math.pow(c.minY+4-f.y,2)),y:m?f.y>c.centerY?c.maxY-4+Math.sqrt(16-Math.pow(c.minX+4-f.x,2)):c.minY+4-Math.sqrt(16-Math.pow(c.minX+4-f.x,2)):f.y}};if(f[b[m]]>=c[O[m]]-4&&f[b[m]]<=c[O[m]])return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.maxX-4+Math.sqrt(16-Math.pow(f.y-c.maxY+4,2)):c.minX+4-Math.sqrt(16-Math.pow(f.y-c.maxY+4,2)),y:m?f.y>c.centerY?c.maxY-4+Math.sqrt(16-Math.pow(f.x-c.maxX+4,2)):c.minY+4-Math.sqrt(16-Math.pow(f.x-c.maxX+4,2)):f.y}};break;case"CIRCLE":if(f[b[m]]>=c[M[m]]&&f[b[m]]<=c[O[m]])return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.centerX+Math.sqrt(16-Math.pow(c.centerY-f.y)):c.centerX-Math.sqrt(16-Math.pow(c.centerY-f.y)),y:m?f.y>c.centerY?c.centerY+Math.sqrt(16-Math.pow(c.centerX-f.x)):c.centerY-Math.sqrt(16-Math.pow(c.centerX-f.x)):f.y}};break;case"RHOMEBUS":if(f[b[m]]>=c[M[m]]&&f[b[m]]<=c[O[m]])return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?f.y<c.centerY?(f.y-c.minY)*(c.maxX-c.centerX)/(c.centerY-c.minY)+c.centerX:(c.maxY-f.y)*(c.maxX-c.centerX)/(c.maxY-c.centerY)+c.centerX:f.y<c.centerY?c.centerX-(f.y-c.minY)*(c.centerX-c.minX)/(c.centerY-c.minY):c.centerX-(c.maxY-f.y)*(c.centerX-c.minX)/(c.maxY-c.centerY),y:m?f.y>c.centerY?f.x<c.centerX?(f.x-c.minX)*(c.maxY-c.centerY)/(c.centerX-c.minX)+c.centerY:(c.maxX-f.x)*(c.maxY-c.centerY)/(c.maxX-c.centerX)+c.centerY:f.x<c.centerX?c.centerY-(f.x-c.minX)*(c.centerY-c.minY)/(c.centerX-c.minX):c.centerY-(c.maxX-f.x)*(c.centerY-c.minY)/(c.maxX-c.centerX):f.y}};break;case"RECT":default:if(f[b[m]]>=c[M[m]]&&f[b[m]]<=c[O[m]])return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.maxX:c.minX,y:m?f.y>c.centerY?c.maxY:c.minY:f.y}}}return m?f.x<c.centerX?{added:{x:f.x,y:c.centerY},joint:{x:c.minX,y:c.centerY}}:{added:{x:f.x,y:c.centerY},joint:{x:c.maxX,y:c.centerY}}:f.y<c.centerY?{added:{x:c.centerX,y:f.y},joint:{x:c.centerX,y:c.minY}}:{added:{x:c.centerX,y:f.y},joint:{x:c.centerX,y:c.maxY}}}var r=p(20);a.a.registerEdge("bpmn-base",{getPath:function(o){var c,h=o.getSource(),v=o.getTarget(),f=o.model;if(f.edgeMoved&&f.lastMouse){var m,b,M,O,E,C=f.controlPoints,j=f.hold.index,B=[{x:C[j].x+f.edgeMoved.x,y:C[j].y+f.edgeMoved.y},{x:C[j+1].x+f.edgeMoved.x,y:C[j+1].y+f.edgeMoved.y}],N=Object(u.j)(B,0);if(h){var I=i({bbox:h.getBBox(),point:N,vertical:f.hold.vertical,shape:h.model.shape});b=I.added,M=I.joint}if(j===0&&h&&(B[0]=M,b&&(B.splice(1,0,b),o.model.hold.index+=1)),v){var F=i({bbox:v.getBBox(),point:N,vertical:f.hold.vertical,shape:v.model.shape});O=F.added,E=F.joint}j===C.length-2&&v&&(b&&j===0?(B[2]=E,O&&B.splice(2,0,O)):(B[1]=E,O&&B.splice(1,0,O))),(m=f.controlPoints).splice.apply(m,[j,2].concat(B)),h&&Object(u.l)(M,C,f.hold.index)&&(C.splice(0,f.hold.index),f.hold.index=0,C[0]=M),v&&Object(u.l)(E,C,f.hold.index)&&(f.controlPoints.splice(f.hold.index+1),C[f.hold.index+1]=E),c=Object(r.mergeLine)(o,j),function($,K,ot){var it=$.controlPoints;if(K){var ht=Object(u.f)(it[0],K.getBBox()),St=ht.point,gt=ht.index;$.sourceJoint={index:gt,delta:{x:it[0].x-St.x,y:it[0].y-St.y}}}if(ot){var bt=Object(u.f)(it[it.length-1],ot.getBBox()),mt=bt.point,vt=bt.index;$.targetJoint={index:vt,delta:{x:it[it.length-1].x-mt.x,y:it[it.length-1].y-mt.y}}}}(f,h,v),f.lastMouse={x:f.lastMouse.x+f.edgeMoved.x,y:f.lastMouse.y+f.edgeMoved.y}}else if(f.modifiedByMouse&&f.nodeMoved)(function($,K,ot){if($.nodeMoved){var it=$.nodeMoved.item===K.id,ht=$.nodeMoved.item===ot.id,St=it?K.getBBox():ot.getBBox(),gt=$.nodeMoved.delta,bt={minX:St.minX-gt.x,maxX:St.maxX-gt.x,centerX:St.centerX-gt.x,minY:St.minY-gt.y,maxY:St.maxY-gt.y,centerY:St.centerY+gt.y,height:St.height,width:St.width},mt=$.controlPoints;if(mt.length===2){var vt=Object(u.d)(K,ot),_t=vt.sourcePoint,Nt=vt.targetPoint;$.sourceJoint&&_t.index===$.sourceJoint.index&&(_t.point=Object(u.c)(K.getBBox())[_t.index],_t.point.x+=$.sourceJoint.delta.x,_t.point.y+=$.sourceJoint.delta.y),$.targetJoint&&Nt.index===$.targetJoint.index&&(Nt.point=Object(u.c)(ot.getBBox())[Nt.index],Nt.point.x+=$.targetJoint.delta.x,Nt.point.y+=$.targetJoint.delta.y);var At=Object(u.h)(_t,Nt);$.controlPoints=At}else{var It;It=it?1:mt.length-3;var dt=Object(u.i)(mt,It),X=Object(u.a)(bt,mt,It),V=Object(u.a)(St,mt,It),Z=it?$.sourceJoint:$.targetJoint;if(X===V){var W=Object(u.c)(St)[Z.index],rt={x:W.x+Z.delta.x,y:W.y+Z.delta.y},J=Object(u.g)(rt,mt,It);it?$.controlPoints.splice(0,2,rt,J):ht&&$.controlPoints.splice(It+1,2,J,rt)}else if(V===0)if(mt.length===3){var tt=Object(u.d)(K,ot),ft=tt.sourcePoint,kt=tt.targetPoint,jt=Object(u.h)(ft,kt);$.controlPoints=jt}else{var Bt,Rt=Object(u.j)(mt,It);Bt=dt?Rt.y<St.centerY?0:2:Rt.x<St.centerX?3:1;var Lt=Object(u.c)(St)[Bt];if(it){var Pt=Object(u.g)(Lt,mt,It+1);$.controlPoints.splice(0,3,Lt,Pt),$.sourceJoint={index:Bt,delta:{x:0,y:0}}}else if(ht){var Ct=Object(u.g)(Lt,mt,It-1);$.controlPoints.splice(It,3,Ct,Lt),$.targetJoint={index:Bt,delta:{x:0,y:0}}}}else{var Ht=Object(u.k)(Z.index),Xt=Object(u.c)(St)[Ht],ut=Object(u.g)(Xt,mt,It);it?($.controlPoints.splice(0,2,Xt,ut),$.sourceJoint={index:Ht,delta:{x:0,y:0}}):ht&&($.controlPoints.splice(It+1,2,ut,Xt),$.targetJoint={index:Ht,delta:{x:0,y:0}})}}}})(f,h,v);else if(!f.modifiedByMouse){var G=f.anchorIndex,U=Object(u.d)(h,v,!f.initialed&&G),H=U.sourcePoint,Q=U.targetPoint,at=Object(u.h)(H,Q);o.model.controlPoints=at}return f.nodeMoved=void 0,{path:this.getPathByPoints({points:f.controlPoints}),helpLine:c}},draw:function(o){var c=o.getGraphicGroup(),h=o.model,v=this.getPath(o),f=v.path,m=v.helpLine,b=this.getStyle(o),M=Object(u.b)(c,f,b);if(h.hold!=null){var O=Object(u.j)(h.controlPoints,h.hold.index);c.addShape("circle",{attrs:{x:O.x,y:O.y,r:3,fill:"rgb(0,182,239)"}})}return m&&(h.helpLine=m,h.helpLineTime=new Date().getTime()),!m&&new Date().getTime()-h.helpLineTime>=150&&(h.helpLine=void 0,h.helpLineTime=void 0),h.helpLine&&c.addShape("path",{attrs:{path:[["M",h.helpLine[0].x,h.helpLine[0].y],["L",h.helpLine[1].x,h.helpLine[1].y]],lineAppendWidth:8,lineWidth:1,strokeOpacity:.92,stroke:"rgba(255,139,48)"}}),M}})}])})},34161:function(Zt,A,x){"use strict";x.d(A,{Tr:function(){return rn},oP:function(){return Jn},mY:function(){return Be},xV:function(){return qe},JF:function(){return An},ff:function(){return Pn},G8:function(){return Qn},Zw:function(){return re},Cc:function(){return bn},_7:function(){return ln},ck:function(){return Re},qZ:function(){return cn},qU:function(){return ue},CH:function(){return we},N5:function(){return Nn},eA:function(){return xn},Ko:function(){return wn},Fn:function(){return nn},Kk:function(){return Cn},o8:function(){return on},ZP:function(){return lr},Yn:function(){return kr}});var s=x(63839),d=x(33384),y=x(87161),p=x(48071),n=x(78473),a=x(91934),u=x(21433),i=x.n(u),r=x(21333),o="J_FlowContainer",c="J_MindContainer",h="J_KoniContainer",v="J_ToolbarContainer",f="J_MinimapContainer",m="J_ContextMenuContainer",b="Flow",M="Mind",O="Koni",E="beforeAddPage",C="afterAddPage",j="canvas-selected",B="node-selected",N="edge-selected",I="group-selected",F="multi-selected",G={click:"Click",contextmenu:"ContextMenu",dblclick:"DoubleClick",drag:"Drag",dragend:"DragEnd",dragenter:"DragEnter",dragleave:"DragLeave",dragstart:"DragStart",drop:"Drop",mousedown:"MouseDown",mouseenter:"MouseEnter",mouseleave:"MouseLeave",mousemove:"MouseMove",mouseup:"MouseUp"},U={afterchange:"onAfterChange",afterchangesize:"onAfterChangeSize",afterviewportchange:"onAfterViewportChange",beforechange:"onBeforeChange",beforechangesize:"onBeforeChangeSize",beforeviewportchange:"onBeforeViewportChange",keydown:"onKeyDown",keyup:"onKeyUp",mousewheel:"onMouseWheel"},H={afteritemactived:"onAfterItemActived",afteriteminactivated:"onAfterItemInactivated",afteritemselected:"onAfterItemSelected",afteritemunactived:"onAfterItemInactivated",afteritemunselected:"onAfterItemUnselected",beforeitemactived:"onBeforeItemActived",beforeiteminactivated:"onBeforeItemInactivated",beforeitemselected:"onBeforeItemSelected",beforeitemunactived:"onBeforeItemInactivated",beforeitemunselected:"onBeforeItemUnselected",keyUpEditLabel:"onKeyUpEditLabel"},Q={aftercommandexecute:"onAfterCommandExecute",beforecommandexecute:"onBeforeCommandExecute"},at=Object.keys(G),$=Object.keys(U),K=Object.keys(H),ot=Object.keys(Q),it=x(78009),ht=x(32526);function St(be){for(var xt=1;xt<arguments.length;xt++){var lt=arguments[xt]!=null?Object(arguments[xt]):{},ct=Object.keys(lt);typeof Object.getOwnPropertySymbols=="function"&&ct.push.apply(ct,Object.getOwnPropertySymbols(lt).filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),ct.forEach(function(Et){(0,ht.Z)(be,Et,lt[Et])})}return be}var gt={trackable:!0,version:"2.0.4"},bt={get:function(xt){return gt[xt]},set:function(xt,lt){gt[xt]=lt}},mt=x(64158),vt=x(34252),_t=x(28440),Nt=x.n(_t),At=x(89409),It=x.n(At),dt=x(95708),X=x.n(dt),V=x(53592),Z=x.n(V),W=function(xt){return Object.keys(xt).map(function(lt){return"".concat(encodeURIComponent(lt),"=").concat(encodeURIComponent(xt[lt]))}).join("&")},rt="http://gm.mmstat.com/fsp.1.1",J=function(xt){var lt=bt.get("trackable"),ct=bt.get("version");if(!!lt){var Et=window,Yt=Et.location,Jt=Et.navigator,he=new Image,ce=W(St({pid:"ggeditor",code:"11",msg:"syslog",page:"".concat(Yt.protocol,"//").concat(Yt.host).concat(Yt.pathname),hash:Yt.hash,ua:Jt.userAgent,rel:ct},xt));he.src="".concat(rt,"?").concat(ce)}},tt=function(be){setTimeout(function(){J(be)},1e3)},ft=function(be){(0,a.Z)(xt,be);function xt(lt){var ct;return(0,d.Z)(this,xt),ct=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),ct.id=X()(),ct.on(E,function(Et){var Yt=Et.className;tt({c1:Yt})}),ct}return xt}(i()),kt=x(46598),jt=x(61849),Bt=x(29405),Rt=x(59301),Lt=function(be){(0,a.Z)(xt,be);function xt(){var lt,ct;(0,d.Z)(this,xt);for(var Et=arguments.length,Yt=new Array(Et),Jt=0;Jt<Et;Jt++)Yt[Jt]=arguments[Jt];return ct=(0,p.Z)(this,(lt=(0,n.Z)(xt)).call.apply(lt,[this].concat(Yt))),ct.page=void 0,ct.config={},ct.addListener=function(he,ce,Vt){typeof Vt=="function"&&he.on(ce,Vt)},ct}return(0,y.Z)(xt,[{key:"componentDidMount",value:function(){this.init(),this.bindEvent(),this.forceUpdate()}},{key:"shouldComponentUpdate",value:function(ct){var Et=ct.data,Yt=this.props.data,Jt=ct.graph||{},he=Jt.mode,ce=this.props.graph||{},Vt=ce.mode;return he!==Vt&&this.page.changeMode(he),Et!==Yt?(this.page.read(Et),!0):!1}},{key:"initPage",value:function(){}},{key:"readData",value:function(){var ct=this.config.data;ct&&this.page.read(ct)}},{key:"init",value:function(){Nt()(this.config,this.props,{graph:{container:this.pageId}}),this.initPage(),this.readData()}},{key:"bindEvent",value:function(){var ct=this,Et=this.addListener;at.forEach(function(Yt){var Jt=G[Yt];Et(ct.graph,"".concat(Yt),ct.props["on".concat(Jt)]),Et(ct.graph,"node:".concat(Yt),ct.props["onNode".concat(Jt)]),Et(ct.graph,"edge:".concat(Yt),ct.props["onEdge".concat(Jt)]),Et(ct.graph,"group:".concat(Yt),ct.props["onGroup".concat(Jt)]),Et(ct.graph,"guide:".concat(Yt),ct.props["onGuide".concat(Jt)]),Et(ct.graph,"anchor:".concat(Yt),ct.props["onAnchor".concat(Jt)])}),$.forEach(function(Yt){Et(ct.graph,[Yt],ct.props[U[Yt]])}),K.forEach(function(Yt){Et(ct.page,[Yt],ct.props[H[Yt]])})}},{key:"render",value:function(){var ct=this.page,Et=this.pageId,Yt=this.props.children;return Rt.createElement("div",(0,Bt.Z)({id:Et},It()(this.props,["style","className"])),ct?Yt:null)}},{key:"pageId",get:function(){return""}},{key:"graph",get:function(){return this.page.getGraph()}}]),xt}(Rt.Component),Pt=Lt,Ct=x(90452),Ht=Rt.createContext({});function Xt(be){var xt=function(lt){(0,a.Z)(ct,lt);function ct(){return(0,d.Z)(this,ct),(0,p.Z)(this,(0,n.Z)(ct).apply(this,arguments))}return(0,y.Z)(ct,[{key:"render",value:function(){var Yt=this.props,Jt=Yt.forwardRef,he=(0,Ct.Z)(Yt,["forwardRef"]);return Rt.createElement(Ht.Consumer,null,function(ce){return Rt.createElement(be,(0,Bt.Z)({ref:Jt},he,ce))})}}]),ct}(Rt.Component);return Rt.forwardRef(function(lt,ct){return Rt.createElement(xt,(0,Bt.Z)({},lt,{forwardRef:ct}))})}var ut=function(be){(0,a.Z)(xt,be);function xt(){return(0,d.Z)(this,xt),(0,p.Z)(this,(0,n.Z)(xt).apply(this,arguments))}return(0,y.Z)(xt,[{key:"initPage",value:function(){var ct=this.props.editor;ct.emit(E,{className:b}),this.page=new ft.Flow(this.config),ct.add(this.page),ct.emit(C,{page:this.page})}},{key:"pageId",get:function(){var ct=this.props.editor;return"".concat(o,"_").concat(ct.id)}}]),xt}(Pt);ut.defaultProps={data:{nodes:[],edges:[]}};var re=Xt(ut),pe=x(59424),de=function(be){(0,a.Z)(xt,be);function xt(){return(0,d.Z)(this,xt),(0,p.Z)(this,(0,n.Z)(xt).apply(this,arguments))}return(0,y.Z)(xt,[{key:"initPage",value:function(){var ct=this.props.editor;ct.emit(E,{className:M}),this.page=new ft.Mind(this.config),ct.add(this.page),ct.emit(C,{page:this.page})}},{key:"bindEvent",value:function(){(0,pe.Z)((0,n.Z)(xt.prototype),"bindEvent",this).call(this),this.bindKeyUpEditLabel()}},{key:"bindKeyUpEditLabel",value:function(){var ct=this,Et=this.page.get("labelTextArea");Et.on("keyup",function(Yt){Yt.stopPropagation();var Jt=Et.focusItem,he=Et.textContent;ct.page.emit("keyUpEditLabel",{item:Jt,text:he})})}},{key:"pageId",get:function(){var ct=this.props.editor;return"".concat(c,"_").concat(ct.id)}}]),xt}(Pt),we=Xt(de),fe=function(be){(0,a.Z)(xt,be);function xt(){return(0,d.Z)(this,xt),(0,p.Z)(this,(0,n.Z)(xt).apply(this,arguments))}return(0,y.Z)(xt,[{key:"initPage",value:function(){var ct=this.props.editor;ct.emit(E,{className:O}),this.page=new ft.Koni(this.config),ct.add(this.page),ct.emit(C,{page:this.page})}},{key:"pageId",get:function(){var ct=this.props.editor;return"".concat(h,"_").concat(ct.id)}}]),xt}(Pt);fe.defaultProps={data:{nodes:[],edges:[]}};var ue=Xt(fe),ye=x(39459),ve=function(be){(0,a.Z)(xt,be);function xt(lt,ct){var Et;return(0,d.Z)(this,xt),Et=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),Et.type=ct,Et.bindEvent(),Et}return(0,y.Z)(xt,[{key:"bindEvent",value:function(){var ct=this,Et=this.type,Yt=this.props.onBeforeAddPage;Yt(function(Jt){var he,ce=Jt.className,Vt=ft[ce],Mt=["name","config","extend"];Et==="command"&&(Vt=ft),Et==="behaviour"&&(Mt=["name","behaviour","dependences"]);var Ft=Mt.map(function(Ut){return ct.props[Ut]});(he=Vt)["register".concat(Z()(Et))].apply(he,(0,ye.Z)(Ft))})}},{key:"render",value:function(){return null}}]),xt}(Rt.Component);ve.create=function(be){var xt=function(lt){(0,a.Z)(ct,lt);function ct(Et){return(0,d.Z)(this,ct),(0,p.Z)(this,(0,n.Z)(ct).call(this,Et,be))}return ct}(ve);return Xt(xt)};var xe=ve.create("node"),Ge=ve.create("edge"),je=ve.create("group"),Ne=ve.create("guide"),Me=ve.create("command"),De=ve.create("behaviour"),Xe=x(59100),We=function(be){(0,a.Z)(xt,be);function xt(){return(0,d.Z)(this,xt),(0,p.Z)(this,(0,n.Z)(xt).apply(this,arguments))}return(0,y.Z)(xt,[{key:"render",value:function(){var ct=this.props,Et=ct.name,Yt=ct.children;return Rt.createElement("div",{className:"command","data-command":Et},Yt)}}]),xt}(Rt.Component),Be=We,an=x(49346),tn=x.n(an);x(61454);var Ve=tn().Components.Minimap,Tn=function(be){(0,a.Z)(xt,be),(0,y.Z)(xt,[{key:"containerId",get:function(){var ct=this.props.editor;return"".concat(f,"_").concat(ct.id)}},{key:"currentPage",get:function(){var ct=this.props.editor;return ct.getCurrentPage()}}]);function xt(lt){var ct;return(0,d.Z)(this,xt),ct=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),ct.minimap=null,ct.bindEvent(),ct}return(0,y.Z)(xt,[{key:"componentDidMount",value:function(){this.init(),this.bindPage()}},{key:"init",value:function(){var ct=this,Et=this.props,Yt=Et.container,Jt=Yt===void 0?this.containerId:Yt,he=Et.width,ce=Et.height,Vt=Et.viewportWindowStyle,Mt=Et.viewportBackStyle,Ft=document.getElementById(Jt),Ut=Ft.clientWidth,$t=Ft.clientHeight;this.minimap=new Ve({container:Jt,width:he||Ut,height:ce||$t,viewportWindowStyle:Vt,viewportBackStyle:Mt}),this.minimap.getGraph=function(){return ct.currentPage.getGraph()}}},{key:"bindPage",value:function(){if(!(!this.minimap||!this.currentPage)){var ct=this.currentPage.getGraph();this.minimap.bindGraph(ct),this.minimap.debounceRender()}}},{key:"bindEvent",value:function(){var ct=this,Et=this.props.onAfterAddPage;Et(function(){ct.bindPage()})}},{key:"render",value:function(){var ct=this.props.container;return ct?null:Rt.createElement("div",(0,Bt.Z)({id:this.containerId},It()(this.props,["style","className"])))}}]),xt}(Rt.Component),Nn=Xt(Tn),He=function(be){(0,a.Z)(xt,be);function xt(lt,ct){var Et;return(0,d.Z)(this,xt),Et=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),Et.type=ct,Et}return(0,y.Z)(xt,[{key:"render",value:function(){var ct=this.props.children,Et=this.type;return Rt.createElement("div",{className:"menu","data-status":"".concat(Et,"-selected")},ct)}}]),xt}(Rt.Component);He.create=function(be){return function(xt){(0,a.Z)(lt,xt);function lt(ct){return(0,d.Z)(this,lt),(0,p.Z)(this,(0,n.Z)(lt).call(this,ct,be))}return lt}(He)};var en=He,kn=function(be){(0,a.Z)(xt,be);function xt(){var lt,ct;(0,d.Z)(this,xt);for(var Et=arguments.length,Yt=new Array(Et),Jt=0;Jt<Et;Jt++)Yt[Jt]=arguments[Jt];return ct=(0,p.Z)(this,(lt=(0,n.Z)(xt)).call.apply(lt,[this].concat(Yt))),ct.contextMenu=null,ct}return(0,y.Z)(xt,[{key:"componentDidMount",value:function(){var ct=this.props.editor;this.contextMenu=new ft.Contextmenu({container:this.containerId}),ct.add(this.contextMenu)}},{key:"render",value:function(){var ct=this.props.children;return Rt.createElement("div",(0,Bt.Z)({id:this.containerId},It()(this.props,["style","className"])),ct)}},{key:"containerId",get:function(){var ct=this.props.editor;return"".concat(m,"_").concat(ct.id)}}]),xt}(Rt.Component),nn=en.create("node"),Pn=en.create("edge"),bn=en.create("group"),xn=en.create("multi"),rn=en.create("canvas"),qe=Xt(kn),sn=function(be){(0,a.Z)(xt,be),(0,y.Z)(xt,[{key:"containerId",get:function(){var ct=this.props.editor;return"".concat(v,"_").concat(ct.id)}}]);function xt(lt){var ct;(0,d.Z)(this,xt),ct=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),ct.toolbar=null;var Et=lt.editor,Yt=lt.onAfterAddPage;return Yt(function(){ct.toolbar=new ft.Toolbar({container:ct.containerId}),Et.add(ct.toolbar)}),ct}return(0,y.Z)(xt,[{key:"render",value:function(){var ct=this.props.children;return Rt.createElement("div",(0,Bt.Z)({id:this.containerId},It()(this.props,["style","className"])),ct)}}]),xt}(Rt.Component),on=Xt(sn),un=function(be){(0,a.Z)(xt,be);function xt(lt){var ct;return(0,d.Z)(this,xt),ct=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),ct.handleMouseDown=function(){var Et=ct.props,Yt=Et.type,Jt=Et.size,he=Et.shape,ce=Et.model;ct.page&&ct.page.beginAdd(Yt,St({type:Yt,size:Jt,shape:he},ce))},ct.bindEvent(),ct}return(0,y.Z)(xt,[{key:"bindEvent",value:function(){var ct=this,Et=this.props.onAfterAddPage;Et(function(Yt){var Jt=Yt.page;ct.page=Jt})}},{key:"render",value:function(){var ct=this.props,Et=ct.src,Yt=ct.shape,Jt=ct.children;return Rt.createElement("div",{style:{cursor:"pointer"},onMouseDown:this.handleMouseDown},Et?Rt.createElement("img",{src:Et,alt:Yt,draggable:!1}):Jt)}}]),xt}(Rt.Component),Re=Xt(un),pn=function(be){(0,a.Z)(xt,be);function xt(lt){var ct;return(0,d.Z)(this,xt),ct=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),ct.page=null,ct.handleMouseUp=function(){ct.page.cancelAdd()},ct.bindEvent(),ct}return(0,y.Z)(xt,[{key:"bindEvent",value:function(){var ct=this,Et=this.props.onAfterAddPage;Et(function(Yt){var Jt=Yt.page;ct.page=Jt,document.addEventListener("mouseup",ct.handleMouseUp)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var ct=this.props.children;return Rt.createElement("div",(0,Bt.Z)({id:this.containerId},It()(this.props,["style","className"])),ct)}}]),xt}(Rt.Component),cn=Xt(pn),gn=function(be){(0,a.Z)(xt,be);function xt(lt,ct){var Et;return(0,d.Z)(this,xt),Et=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),Et.type=ct,Et}return(0,y.Z)(xt,[{key:"render",value:function(){var ct=this.props,Et=ct.status,Yt=ct.children,Jt=this.type;return"".concat(Jt,"-selected")!==Et?null:Rt.createElement("div",It()(this.props,["style","className"]),Yt)}}]),xt}(Rt.Component);gn.create=function(be){return function(xt){(0,a.Z)(lt,xt);function lt(ct){return(0,d.Z)(this,lt),(0,p.Z)(this,(0,n.Z)(lt).call(this,ct,be))}return lt}(gn)};var Ze=gn,hn=function(be){(0,a.Z)(xt,be);function xt(lt){var ct;return(0,d.Z)(this,xt),ct=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),ct.state={status:""},ct.bindEvent(),ct}return(0,y.Z)(xt,[{key:"bindEvent",value:function(){var ct=this,Et=this.props.onAfterAddPage;Et(function(Yt){var Jt=Yt.page;ct.setState({status:j}),Jt.on("statuschange",function(he){var ce=he.status;ct.setState({status:ce})})})}},{key:"render",value:function(){var ct=this.props.children,Et=this.state.status;return Et?Rt.createElement("div",It()(this.props,["style","className"]),Rt.Children.toArray(ct).map(function(Yt){return Rt.cloneElement(Yt,{status:Et})})):null}}]),xt}(Rt.Component),Cn=Ze.create("node"),Qn=Ze.create("edge"),ln=Ze.create("group"),wn=Ze.create("multi"),Jn=Ze.create("canvas"),An=Xt(hn),Gn=Rt.createContext({});function kr(be){var xt=function(lt){(0,a.Z)(ct,lt);function ct(){return(0,d.Z)(this,ct),(0,p.Z)(this,(0,n.Z)(ct).apply(this,arguments))}return(0,y.Z)(ct,[{key:"render",value:function(){var Yt=this.props,Jt=Yt.forwardRef,he=(0,Ct.Z)(Yt,["forwardRef"]);return Rt.createElement(Gn.Consumer,null,function(ce){return Rt.createElement(be,(0,Bt.Z)({ref:Jt},he,{propsAPI:ce}))})}}]),ct}(Rt.Component);return Rt.forwardRef(function(lt,ct){return Rt.createElement(xt,(0,Bt.Z)({},lt,{forwardRef:ct}))})}var cr=x(13194),tr=function(){function be(xt){var lt=this;(0,d.Z)(this,be),this.editor=null,this.editor=xt,["executeCommand"].forEach(function(ct){lt[ct]=function(){var Et;return(Et=lt.editor)[ct].apply(Et,arguments)}}),["read","save","add","find","update","remove","getSelected"].forEach(function(ct){lt[ct]=function(){var Et;return(Et=lt.currentPage)[ct].apply(Et,arguments)}})}return(0,y.Z)(be,[{key:"currentPage",get:function(){return this.editor.getCurrentPage()}}]),be}(),gr=tr,er=function(be){(0,a.Z)(xt,be),(0,y.Z)(xt,[{key:"currentPage",get:function(){return this.editor.getCurrentPage()}}],[{key:"setTrackable",value:function(ct){bt.set("trackable",Boolean(ct))}}]);function xt(lt){var ct;return(0,d.Z)(this,xt),ct=(0,p.Z)(this,(0,n.Z)(xt).call(this,lt)),ct.editor=null,ct.addListener=function(Et,Yt,Jt){typeof Jt=="function"&&Et.on(Yt,Jt)},ct.handleBeforeAddPage=function(Et){ct.editor.on(E,Et)},ct.handleAfterAddPage=function(Et){var Yt=(0,cr.Z)(ct),Jt=Yt.currentPage;if(Jt){Et({page:Jt});return}ct.editor.on(C,Et)},ct.init(),ct.bindEvent(),ct}return(0,y.Z)(xt,[{key:"init",value:function(){this.editor=new ft,this.ggEditor={editor:this.editor,onBeforeAddPage:this.handleBeforeAddPage,onAfterAddPage:this.handleAfterAddPage},this.propsAPI=new gr(this.editor)}},{key:"bindEvent",value:function(){var ct=this;ot.forEach(function(Et){ct.addListener(ct.editor,[Et],ct.props[Q[Et]])})}},{key:"componentWillUnmount",value:function(){this.editor.destroy()}},{key:"render",value:function(){var ct=this.props.children;return Rt.createElement(Ht.Provider,{value:this.ggEditor},Rt.createElement(Gn.Provider,{value:this.propsAPI},Rt.createElement("div",It()(this.props,["style","className"]),ct)))}}]),xt}(Rt.Component),hr=er,lr=hr},72828:function(Zt){function A(x){return x.split("")}Zt.exports=A},75760:function(Zt){function A(x,s,d){var y=-1,p=x.length;s<0&&(s=-s>p?0:p+s),d=d>p?p:d,d<0&&(d+=p),p=s>d?0:d-s>>>0,s>>>=0;for(var n=Array(p);++y<p;)n[y]=x[y+s];return n}Zt.exports=A},4324:function(Zt,A,x){var s=x(75760);function d(y,p,n){var a=y.length;return n=n===void 0?a:n,!p&&n>=a?y:s(y,p,n)}Zt.exports=d},97815:function(Zt,A,x){var s=x(4324),d=x(55015),y=x(80935),p=x(44140);function n(a){return function(u){u=p(u);var i=d(u)?y(u):void 0,r=i?i[0]:u.charAt(0),o=i?s(i,1).join(""):u.slice(1);return r[a]()+o}}Zt.exports=n},80935:function(Zt,A,x){var s=x(72828),d=x(55015),y=x(17826);function p(n){return d(n)?y(n):s(n)}Zt.exports=p},17826:function(Zt){var A="\\ud800-\\udfff",x="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",y=x+s+d,p="\\ufe0e\\ufe0f",n="["+A+"]",a="["+y+"]",u="\\ud83c[\\udffb-\\udfff]",i="(?:"+a+"|"+u+")",r="[^"+A+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=i+"?",f="["+p+"]?",m="(?:"+h+"(?:"+[r,o,c].join("|")+")"+f+v+")*",b=f+v+m,M="(?:"+[r+a+"?",a,o,c,n].join("|")+")",O=RegExp(u+"(?="+u+")|"+M+b,"g");function E(C){return C.match(O)||[]}Zt.exports=E},53592:function(Zt,A,x){var s=x(97815),d=s("toUpperCase");Zt.exports=d}}]);
